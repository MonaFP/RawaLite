var _h=Object.defineProperty;var Nh=(r,a,o)=>a in r?_h(r,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[a]=o;var kn=(r,a,o)=>Nh(r,typeof a!="symbol"?a+"":a,o);(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))u(d);new MutationObserver(d=>{for(const f of d)if(f.type==="childList")for(const p of f.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&u(p)}).observe(document,{childList:!0,subtree:!0});function o(d){const f={};return d.integrity&&(f.integrity=d.integrity),d.referrerPolicy&&(f.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?f.credentials="include":d.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function u(d){if(d.ep)return;d.ep=!0;const f=o(d);fetch(d.href,f)}})();var Ay=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ff(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var js={exports:{}},oa={},Rs={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rd;function Th(){if(Rd)return Me;Rd=1;var r=Symbol.for("react.element"),a=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),p=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.iterator;function b(P){return P===null||typeof P!="object"?null:(P=x&&P[x]||P["@@iterator"],typeof P=="function"?P:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,C={};function I(P,U,de){this.props=P,this.context=U,this.refs=C,this.updater=de||w}I.prototype.isReactComponent={},I.prototype.setState=function(P,U){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,U,"setState")},I.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function F(){}F.prototype=I.prototype;function T(P,U,de){this.props=P,this.context=U,this.refs=C,this.updater=de||w}var _=T.prototype=new F;_.constructor=T,E(_,I.prototype),_.isPureReactComponent=!0;var K=Array.isArray,ae=Object.prototype.hasOwnProperty,L={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function ee(P,U,de){var xe,Y={},ne=null,be=null;if(U!=null)for(xe in U.ref!==void 0&&(be=U.ref),U.key!==void 0&&(ne=""+U.key),U)ae.call(U,xe)&&!O.hasOwnProperty(xe)&&(Y[xe]=U[xe]);var ke=arguments.length-2;if(ke===1)Y.children=de;else if(1<ke){for(var Be=Array(ke),M=0;M<ke;M++)Be[M]=arguments[M+2];Y.children=Be}if(P&&P.defaultProps)for(xe in ke=P.defaultProps,ke)Y[xe]===void 0&&(Y[xe]=ke[xe]);return{$$typeof:r,type:P,key:ne,ref:be,props:Y,_owner:L.current}}function W(P,U){return{$$typeof:r,type:P.type,key:U,ref:P.ref,props:P.props,_owner:P._owner}}function q(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function Q(P){var U={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(de){return U[de]})}var Re=/\/+/g;function le(P,U){return typeof P=="object"&&P!==null&&P.key!=null?Q(""+P.key):U.toString(36)}function Ie(P,U,de,xe,Y){var ne=typeof P;(ne==="undefined"||ne==="boolean")&&(P=null);var be=!1;if(P===null)be=!0;else switch(ne){case"string":case"number":be=!0;break;case"object":switch(P.$$typeof){case r:case a:be=!0}}if(be)return be=P,Y=Y(be),P=xe===""?"."+le(be,0):xe,K(Y)?(de="",P!=null&&(de=P.replace(Re,"$&/")+"/"),Ie(Y,U,de,"",function(M){return M})):Y!=null&&(q(Y)&&(Y=W(Y,de+(!Y.key||be&&be.key===Y.key?"":(""+Y.key).replace(Re,"$&/")+"/")+P)),U.push(Y)),1;if(be=0,xe=xe===""?".":xe+":",K(P))for(var ke=0;ke<P.length;ke++){ne=P[ke];var Be=xe+le(ne,ke);be+=Ie(ne,U,de,Be,Y)}else if(Be=b(P),typeof Be=="function")for(P=Be.call(P),ke=0;!(ne=P.next()).done;)ne=ne.value,Be=xe+le(ne,ke++),be+=Ie(ne,U,de,Be,Y);else if(ne==="object")throw U=String(P),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return be}function Fe(P,U,de){if(P==null)return P;var xe=[],Y=0;return Ie(P,xe,"","",function(ne){return U.call(de,ne,Y++)}),xe}function Te(P){if(P._status===-1){var U=P._result;U=U(),U.then(function(de){(P._status===0||P._status===-1)&&(P._status=1,P._result=de)},function(de){(P._status===0||P._status===-1)&&(P._status=2,P._result=de)}),P._status===-1&&(P._status=0,P._result=U)}if(P._status===1)return P._result.default;throw P._result}var Se={current:null},te={transition:null},H={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:te,ReactCurrentOwner:L};function V(){throw Error("act(...) is not supported in production builds of React.")}return Me.Children={map:Fe,forEach:function(P,U,de){Fe(P,function(){U.apply(this,arguments)},de)},count:function(P){var U=0;return Fe(P,function(){U++}),U},toArray:function(P){return Fe(P,function(U){return U})||[]},only:function(P){if(!q(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Me.Component=I,Me.Fragment=o,Me.Profiler=d,Me.PureComponent=T,Me.StrictMode=u,Me.Suspense=h,Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,Me.act=V,Me.cloneElement=function(P,U,de){if(P==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+P+".");var xe=E({},P.props),Y=P.key,ne=P.ref,be=P._owner;if(U!=null){if(U.ref!==void 0&&(ne=U.ref,be=L.current),U.key!==void 0&&(Y=""+U.key),P.type&&P.type.defaultProps)var ke=P.type.defaultProps;for(Be in U)ae.call(U,Be)&&!O.hasOwnProperty(Be)&&(xe[Be]=U[Be]===void 0&&ke!==void 0?ke[Be]:U[Be])}var Be=arguments.length-2;if(Be===1)xe.children=de;else if(1<Be){ke=Array(Be);for(var M=0;M<Be;M++)ke[M]=arguments[M+2];xe.children=ke}return{$$typeof:r,type:P.type,key:Y,ref:ne,props:xe,_owner:be}},Me.createContext=function(P){return P={$$typeof:p,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},P.Provider={$$typeof:f,_context:P},P.Consumer=P},Me.createElement=ee,Me.createFactory=function(P){var U=ee.bind(null,P);return U.type=P,U},Me.createRef=function(){return{current:null}},Me.forwardRef=function(P){return{$$typeof:m,render:P}},Me.isValidElement=q,Me.lazy=function(P){return{$$typeof:g,_payload:{_status:-1,_result:P},_init:Te}},Me.memo=function(P,U){return{$$typeof:v,type:P,compare:U===void 0?null:U}},Me.startTransition=function(P){var U=te.transition;te.transition={};try{P()}finally{te.transition=U}},Me.unstable_act=V,Me.useCallback=function(P,U){return Se.current.useCallback(P,U)},Me.useContext=function(P){return Se.current.useContext(P)},Me.useDebugValue=function(){},Me.useDeferredValue=function(P){return Se.current.useDeferredValue(P)},Me.useEffect=function(P,U){return Se.current.useEffect(P,U)},Me.useId=function(){return Se.current.useId()},Me.useImperativeHandle=function(P,U,de){return Se.current.useImperativeHandle(P,U,de)},Me.useInsertionEffect=function(P,U){return Se.current.useInsertionEffect(P,U)},Me.useLayoutEffect=function(P,U){return Se.current.useLayoutEffect(P,U)},Me.useMemo=function(P,U){return Se.current.useMemo(P,U)},Me.useReducer=function(P,U,de){return Se.current.useReducer(P,U,de)},Me.useRef=function(P){return Se.current.useRef(P)},Me.useState=function(P){return Se.current.useState(P)},Me.useSyncExternalStore=function(P,U,de){return Se.current.useSyncExternalStore(P,U,de)},Me.useTransition=function(){return Se.current.useTransition()},Me.version="18.3.1",Me}var Id;function Vs(){return Id||(Id=1,Rs.exports=Th()),Rs.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pd;function Lh(){if(Pd)return oa;Pd=1;var r=Vs(),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),u=Object.prototype.hasOwnProperty,d=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function p(m,h,v){var g,x={},b=null,w=null;v!==void 0&&(b=""+v),h.key!==void 0&&(b=""+h.key),h.ref!==void 0&&(w=h.ref);for(g in h)u.call(h,g)&&!f.hasOwnProperty(g)&&(x[g]=h[g]);if(m&&m.defaultProps)for(g in h=m.defaultProps,h)x[g]===void 0&&(x[g]=h[g]);return{$$typeof:a,type:m,key:b,ref:w,props:x,_owner:d.current}}return oa.Fragment=o,oa.jsx=p,oa.jsxs=p,oa}var Dd;function zh(){return Dd||(Dd=1,js.exports=Lh()),js.exports}var l=zh(),k=Vs();const As=ff(k);var Io={},Is={exports:{}},Gt={},Ps={exports:{}},Ds={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _d;function Fh(){return _d||(_d=1,(function(r){function a(te,H){var V=te.length;te.push(H);e:for(;0<V;){var P=V-1>>>1,U=te[P];if(0<d(U,H))te[P]=H,te[V]=U,V=P;else break e}}function o(te){return te.length===0?null:te[0]}function u(te){if(te.length===0)return null;var H=te[0],V=te.pop();if(V!==H){te[0]=V;e:for(var P=0,U=te.length,de=U>>>1;P<de;){var xe=2*(P+1)-1,Y=te[xe],ne=xe+1,be=te[ne];if(0>d(Y,V))ne<U&&0>d(be,Y)?(te[P]=be,te[ne]=V,P=ne):(te[P]=Y,te[xe]=V,P=xe);else if(ne<U&&0>d(be,V))te[P]=be,te[ne]=V,P=ne;else break e}}return H}function d(te,H){var V=te.sortIndex-H.sortIndex;return V!==0?V:te.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;r.unstable_now=function(){return f.now()}}else{var p=Date,m=p.now();r.unstable_now=function(){return p.now()-m}}var h=[],v=[],g=1,x=null,b=3,w=!1,E=!1,C=!1,I=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(te){for(var H=o(v);H!==null;){if(H.callback===null)u(v);else if(H.startTime<=te)u(v),H.sortIndex=H.expirationTime,a(h,H);else break;H=o(v)}}function K(te){if(C=!1,_(te),!E)if(o(h)!==null)E=!0,Te(ae);else{var H=o(v);H!==null&&Se(K,H.startTime-te)}}function ae(te,H){E=!1,C&&(C=!1,F(ee),ee=-1),w=!0;var V=b;try{for(_(H),x=o(h);x!==null&&(!(x.expirationTime>H)||te&&!Q());){var P=x.callback;if(typeof P=="function"){x.callback=null,b=x.priorityLevel;var U=P(x.expirationTime<=H);H=r.unstable_now(),typeof U=="function"?x.callback=U:x===o(h)&&u(h),_(H)}else u(h);x=o(h)}if(x!==null)var de=!0;else{var xe=o(v);xe!==null&&Se(K,xe.startTime-H),de=!1}return de}finally{x=null,b=V,w=!1}}var L=!1,O=null,ee=-1,W=5,q=-1;function Q(){return!(r.unstable_now()-q<W)}function Re(){if(O!==null){var te=r.unstable_now();q=te;var H=!0;try{H=O(!0,te)}finally{H?le():(L=!1,O=null)}}else L=!1}var le;if(typeof T=="function")le=function(){T(Re)};else if(typeof MessageChannel<"u"){var Ie=new MessageChannel,Fe=Ie.port2;Ie.port1.onmessage=Re,le=function(){Fe.postMessage(null)}}else le=function(){I(Re,0)};function Te(te){O=te,L||(L=!0,le())}function Se(te,H){ee=I(function(){te(r.unstable_now())},H)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(te){te.callback=null},r.unstable_continueExecution=function(){E||w||(E=!0,Te(ae))},r.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<te?Math.floor(1e3/te):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_getFirstCallbackNode=function(){return o(h)},r.unstable_next=function(te){switch(b){case 1:case 2:case 3:var H=3;break;default:H=b}var V=b;b=H;try{return te()}finally{b=V}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(te,H){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var V=b;b=te;try{return H()}finally{b=V}},r.unstable_scheduleCallback=function(te,H,V){var P=r.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?P+V:P):V=P,te){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=V+U,te={id:g++,callback:H,priorityLevel:te,startTime:V,expirationTime:U,sortIndex:-1},V>P?(te.sortIndex=V,a(v,te),o(h)===null&&te===o(v)&&(C?(F(ee),ee=-1):C=!0,Se(K,V-P))):(te.sortIndex=U,a(h,te),E||w||(E=!0,Te(ae))),te},r.unstable_shouldYield=Q,r.unstable_wrapCallback=function(te){var H=b;return function(){var V=b;b=H;try{return te.apply(this,arguments)}finally{b=V}}}})(Ds)),Ds}var Nd;function Ah(){return Nd||(Nd=1,Ps.exports=Fh()),Ps.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Td;function Mh(){if(Td)return Gt;Td=1;var r=Vs(),a=Ah();function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=new Set,d={};function f(e,t){p(e,t),p(e+"Capture",t)}function p(e,t){for(d[e]=t,e=0;e<t.length;e++)u.add(t[e])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},x={};function b(e){return h.call(x,e)?!0:h.call(g,e)?!1:v.test(e)?x[e]=!0:(g[e]=!0,!1)}function w(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function E(e,t,n,i){if(t===null||typeof t>"u"||w(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function C(e,t,n,i,s,c,y){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=c,this.removeEmptyString=y}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){I[e]=new C(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];I[t]=new C(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){I[e]=new C(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){I[e]=new C(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){I[e]=new C(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){I[e]=new C(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){I[e]=new C(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){I[e]=new C(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){I[e]=new C(e,5,!1,e.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function T(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(F,T);I[t]=new C(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(F,T);I[t]=new C(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(F,T);I[t]=new C(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){I[e]=new C(e,1,!1,e.toLowerCase(),null,!1,!1)}),I.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){I[e]=new C(e,1,!1,e.toLowerCase(),null,!0,!0)});function _(e,t,n,i){var s=I.hasOwnProperty(t)?I[t]:null;(s!==null?s.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(E(t,n,s,i)&&(n=null),i||s===null?b(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,i=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var K=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ae=Symbol.for("react.element"),L=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),Q=Symbol.for("react.context"),Re=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),Ie=Symbol.for("react.suspense_list"),Fe=Symbol.for("react.memo"),Te=Symbol.for("react.lazy"),Se=Symbol.for("react.offscreen"),te=Symbol.iterator;function H(e){return e===null||typeof e!="object"?null:(e=te&&e[te]||e["@@iterator"],typeof e=="function"?e:null)}var V=Object.assign,P;function U(e){if(P===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);P=t&&t[1]||""}return`
`+P+e}var de=!1;function xe(e,t){if(!e||de)return"";de=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch($){var i=$}Reflect.construct(e,[],t)}else{try{t.call()}catch($){i=$}e.call(t.prototype)}else{try{throw Error()}catch($){i=$}e()}}catch($){if($&&i&&typeof $.stack=="string"){for(var s=$.stack.split(`
`),c=i.stack.split(`
`),y=s.length-1,S=c.length-1;1<=y&&0<=S&&s[y]!==c[S];)S--;for(;1<=y&&0<=S;y--,S--)if(s[y]!==c[S]){if(y!==1||S!==1)do if(y--,S--,0>S||s[y]!==c[S]){var R=`
`+s[y].replace(" at new "," at ");return e.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",e.displayName)),R}while(1<=y&&0<=S);break}}}finally{de=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function Y(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=xe(e.type,!1),e;case 11:return e=xe(e.type.render,!1),e;case 1:return e=xe(e.type,!0),e;default:return""}}function ne(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case O:return"Fragment";case L:return"Portal";case W:return"Profiler";case ee:return"StrictMode";case le:return"Suspense";case Ie:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Q:return(e.displayName||"Context")+".Consumer";case q:return(e._context.displayName||"Context")+".Provider";case Re:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Fe:return t=e.displayName||null,t!==null?t:ne(e.type)||"Memo";case Te:t=e._payload,e=e._init;try{return ne(e(t))}catch{}}return null}function be(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ne(t);case 8:return t===ee?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ke(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Be(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function M(e){var t=Be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,c=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(y){i=""+y,c.call(this,y)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(y){i=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ie(e){e._valueTracker||(e._valueTracker=M(e))}function Pe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Be(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function He(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Je(e,t){var n=t.checked;return V({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ue(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=ke(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ke(e,t){t=t.checked,t!=null&&_(e,"checked",t,!1)}function ue(e,t){Ke(e,t);var n=ke(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ht(e,t.type,n):t.hasOwnProperty("defaultValue")&&ht(e,t.type,ke(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ee(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ht(e,t,n){(t!=="number"||He(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var mt=Array.isArray;function ze(e,t,n,i){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&i&&(e[n].defaultSelected=!0)}else{for(n=""+ke(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function at(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(o(91));return V({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function lt(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(o(92));if(mt(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ke(n)}}function We(e,t){var n=ke(t.value),i=ke(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function Qe(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function bt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gt(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?bt(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xe,qr=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,s)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Xe=Xe||document.createElement("div"),Xe.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Xe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function st(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Rt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wt=["Webkit","ms","Moz","O"];Object.keys(Rt).forEach(function(e){Wt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Rt[t]=Rt[e]})});function Ln(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Rt.hasOwnProperty(e)&&Rt[e]?(""+t).trim():t+"px"}function zn(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=Ln(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,s):e[n]=s}}var Kr=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jn(e,t){if(t){if(Kr[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(o(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(t.style!=null&&typeof t.style!="object")throw Error(o(62))}}function Qr(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xn=null;function Gr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cr=null,Zn=null,Fn=null;function ba(e){if(e=Hi(e)){if(typeof Cr!="function")throw Error(o(280));var t=e.stateNode;t&&(t=Ua(t),Cr(e.stateNode,e.type,t))}}function Ci(e){Zn?Fn?Fn.push(e):Fn=[e]:Zn=e}function jr(){if(Zn){var e=Zn,t=Fn;if(Fn=Zn=null,ba(e),t)for(e=0;e<t.length;e++)ba(t[e])}}function Rr(e,t){return e(t)}function Sa(){}var ji=!1;function j(e,t,n){if(ji)return e(t,n);ji=!0;try{return Rr(e,t,n)}finally{ji=!1,(Zn!==null||Fn!==null)&&(Sa(),jr())}}function N(e,t){var n=e.stateNode;if(n===null)return null;var i=Ua(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(o(231,t,typeof n));return n}var B=!1;if(m)try{var X={};Object.defineProperty(X,"passive",{get:function(){B=!0}}),window.addEventListener("test",X,X),window.removeEventListener("test",X,X)}catch{B=!1}function oe(e,t,n,i,s,c,y,S,R){var $=Array.prototype.slice.call(arguments,3);try{t.apply(n,$)}catch(J){this.onError(J)}}var he=!1,ge=null,fe=!1,we=null,_e={onError:function(e){he=!0,ge=e}};function De(e,t,n,i,s,c,y,S,R){he=!1,ge=null,oe.apply(_e,arguments)}function ve(e,t,n,i,s,c,y,S,R){if(De.apply(this,arguments),he){if(he){var $=ge;he=!1,ge=null}else throw Error(o(198));fe||(fe=!0,we=$)}}function Ne(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ge(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function yt(e){if(Ne(e)!==e)throw Error(o(188))}function Tt(e){var t=e.alternate;if(!t){if(t=Ne(e),t===null)throw Error(o(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(s===null)break;var c=s.alternate;if(c===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===c.child){for(c=s.child;c;){if(c===n)return yt(s),e;if(c===i)return yt(s),t;c=c.sibling}throw Error(o(188))}if(n.return!==i.return)n=s,i=c;else{for(var y=!1,S=s.child;S;){if(S===n){y=!0,n=s,i=c;break}if(S===i){y=!0,i=s,n=c;break}S=S.sibling}if(!y){for(S=c.child;S;){if(S===n){y=!0,n=c,i=s;break}if(S===i){y=!0,i=c,n=s;break}S=S.sibling}if(!y)throw Error(o(189))}}if(n.alternate!==i)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?e:t}function et(e){return e=Tt(e),e!==null?Ze(e):null}function Ze(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ze(e);if(t!==null)return t;e=e.sibling}return null}var Cn=a.unstable_scheduleCallback,er=a.unstable_cancelCallback,jn=a.unstable_shouldYield,an=a.unstable_requestPaint,nt=a.unstable_now,Ir=a.unstable_getCurrentPriorityLevel,mn=a.unstable_ImmediatePriority,Pr=a.unstable_UserBlockingPriority,An=a.unstable_NormalPriority,$e=a.unstable_LowPriority,Et=a.unstable_IdlePriority,gn=null,It=null;function vt(e){if(It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(gn,e,void 0,(e.current.flags&128)===128)}catch{}}var Ft=Math.clz32?Math.clz32:Gf,ka=Math.log,qo=Math.LN2;function Gf(e){return e>>>=0,e===0?32:31-(ka(e)/qo|0)|0}var Ea=64,Ca=4194304;function Ri(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ja(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,s=e.suspendedLanes,c=e.pingedLanes,y=n&268435455;if(y!==0){var S=y&~s;S!==0?i=Ri(S):(c&=y,c!==0&&(i=Ri(c)))}else y=n&~s,y!==0?i=Ri(y):c!==0&&(i=Ri(c));if(i===0)return 0;if(t!==0&&t!==i&&(t&s)===0&&(s=i&-i,c=t&-t,s>=c||s===16&&(c&4194240)!==0))return t;if((i&4)!==0&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-Ft(t),s=1<<n,i|=e[n],t&=~s;return i}function Yf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jf(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,c=e.pendingLanes;0<c;){var y=31-Ft(c),S=1<<y,R=s[y];R===-1?((S&n)===0||(S&i)!==0)&&(s[y]=Yf(S,t)):R<=t&&(e.expiredLanes|=S),c&=~S}}function Ko(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function iu(){var e=Ea;return Ea<<=1,(Ea&4194240)===0&&(Ea=64),e}function Qo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ii(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ft(t),e[t]=n}function Xf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Ft(n),c=1<<s;t[s]=0,i[s]=-1,e[s]=-1,n&=~c}}function Go(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Ft(n),s=1<<i;s&t|e[i]&t&&(e[i]|=t),n&=~s}}var Ye=0;function au(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var ou,Yo,lu,su,uu,Jo=!1,Ra=[],tr=null,nr=null,rr=null,Pi=new Map,Di=new Map,ir=[],Zf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cu(e,t){switch(e){case"focusin":case"focusout":tr=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":Pi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Di.delete(t.pointerId)}}function _i(e,t,n,i,s,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:c,targetContainers:[s]},t!==null&&(t=Hi(t),t!==null&&Yo(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function ep(e,t,n,i,s){switch(t){case"focusin":return tr=_i(tr,e,t,n,i,s),!0;case"dragenter":return nr=_i(nr,e,t,n,i,s),!0;case"mouseover":return rr=_i(rr,e,t,n,i,s),!0;case"pointerover":var c=s.pointerId;return Pi.set(c,_i(Pi.get(c)||null,e,t,n,i,s)),!0;case"gotpointercapture":return c=s.pointerId,Di.set(c,_i(Di.get(c)||null,e,t,n,i,s)),!0}return!1}function du(e){var t=Dr(e.target);if(t!==null){var n=Ne(t);if(n!==null){if(t=n.tag,t===13){if(t=Ge(n),t!==null){e.blockedOn=t,uu(e.priority,function(){lu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ia(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Xn=i,n.target.dispatchEvent(i),Xn=null}else return t=Hi(n),t!==null&&Yo(t),e.blockedOn=n,!1;t.shift()}return!0}function fu(e,t,n){Ia(e)&&n.delete(t)}function tp(){Jo=!1,tr!==null&&Ia(tr)&&(tr=null),nr!==null&&Ia(nr)&&(nr=null),rr!==null&&Ia(rr)&&(rr=null),Pi.forEach(fu),Di.forEach(fu)}function Ni(e,t){e.blockedOn===t&&(e.blockedOn=null,Jo||(Jo=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,tp)))}function Ti(e){function t(s){return Ni(s,e)}if(0<Ra.length){Ni(Ra[0],e);for(var n=1;n<Ra.length;n++){var i=Ra[n];i.blockedOn===e&&(i.blockedOn=null)}}for(tr!==null&&Ni(tr,e),nr!==null&&Ni(nr,e),rr!==null&&Ni(rr,e),Pi.forEach(t),Di.forEach(t),n=0;n<ir.length;n++)i=ir[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<ir.length&&(n=ir[0],n.blockedOn===null);)du(n),n.blockedOn===null&&ir.shift()}var Yr=K.ReactCurrentBatchConfig,Pa=!0;function np(e,t,n,i){var s=Ye,c=Yr.transition;Yr.transition=null;try{Ye=1,Xo(e,t,n,i)}finally{Ye=s,Yr.transition=c}}function rp(e,t,n,i){var s=Ye,c=Yr.transition;Yr.transition=null;try{Ye=4,Xo(e,t,n,i)}finally{Ye=s,Yr.transition=c}}function Xo(e,t,n,i){if(Pa){var s=Zo(e,t,n,i);if(s===null)gl(e,t,i,Da,n),cu(e,i);else if(ep(s,e,t,n,i))i.stopPropagation();else if(cu(e,i),t&4&&-1<Zf.indexOf(e)){for(;s!==null;){var c=Hi(s);if(c!==null&&ou(c),c=Zo(e,t,n,i),c===null&&gl(e,t,i,Da,n),c===s)break;s=c}s!==null&&i.stopPropagation()}else gl(e,t,i,null,n)}}var Da=null;function Zo(e,t,n,i){if(Da=null,e=Gr(i),e=Dr(e),e!==null)if(t=Ne(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ge(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Da=e,null}function pu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ir()){case mn:return 1;case Pr:return 4;case An:case $e:return 16;case Et:return 536870912;default:return 16}default:return 16}}var ar=null,el=null,_a=null;function hu(){if(_a)return _a;var e,t=el,n=t.length,i,s="value"in ar?ar.value:ar.textContent,c=s.length;for(e=0;e<n&&t[e]===s[e];e++);var y=n-e;for(i=1;i<=y&&t[n-i]===s[c-i];i++);return _a=s.slice(e,1<i?1-i:void 0)}function Na(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ta(){return!0}function mu(){return!1}function Jt(e){function t(n,i,s,c,y){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=c,this.target=y,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(n=e[S],this[S]=n?n(c):c[S]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Ta:mu,this.isPropagationStopped=mu,this}return V(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ta)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ta)},persist:function(){},isPersistent:Ta}),t}var Jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tl=Jt(Jr),Li=V({},Jr,{view:0,detail:0}),ip=Jt(Li),nl,rl,zi,La=V({},Li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:al,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zi&&(zi&&e.type==="mousemove"?(nl=e.screenX-zi.screenX,rl=e.screenY-zi.screenY):rl=nl=0,zi=e),nl)},movementY:function(e){return"movementY"in e?e.movementY:rl}}),gu=Jt(La),ap=V({},La,{dataTransfer:0}),op=Jt(ap),lp=V({},Li,{relatedTarget:0}),il=Jt(lp),sp=V({},Jr,{animationName:0,elapsedTime:0,pseudoElement:0}),up=Jt(sp),cp=V({},Jr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dp=Jt(cp),fp=V({},Jr,{data:0}),yu=Jt(fp),pp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=mp[e])?!!t[e]:!1}function al(){return gp}var yp=V({},Li,{key:function(e){if(e.key){var t=pp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Na(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:al,charCode:function(e){return e.type==="keypress"?Na(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Na(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vp=Jt(yp),xp=V({},La,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vu=Jt(xp),wp=V({},Li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:al}),bp=Jt(wp),Sp=V({},Jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),kp=Jt(Sp),Ep=V({},La,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cp=Jt(Ep),jp=[9,13,27,32],ol=m&&"CompositionEvent"in window,Fi=null;m&&"documentMode"in document&&(Fi=document.documentMode);var Rp=m&&"TextEvent"in window&&!Fi,xu=m&&(!ol||Fi&&8<Fi&&11>=Fi),wu=" ",bu=!1;function Su(e,t){switch(e){case"keyup":return jp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ku(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xr=!1;function Ip(e,t){switch(e){case"compositionend":return ku(t);case"keypress":return t.which!==32?null:(bu=!0,wu);case"textInput":return e=t.data,e===wu&&bu?null:e;default:return null}}function Pp(e,t){if(Xr)return e==="compositionend"||!ol&&Su(e,t)?(e=hu(),_a=el=ar=null,Xr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xu&&t.locale!=="ko"?null:t.data;default:return null}}var Dp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Dp[e.type]:t==="textarea"}function Cu(e,t,n,i){Ci(i),t=Oa(t,"onChange"),0<t.length&&(n=new tl("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Ai=null,Mi=null;function _p(e){Wu(e,0)}function za(e){var t=ri(e);if(Pe(t))return e}function Np(e,t){if(e==="change")return t}var ju=!1;if(m){var ll;if(m){var sl="oninput"in document;if(!sl){var Ru=document.createElement("div");Ru.setAttribute("oninput","return;"),sl=typeof Ru.oninput=="function"}ll=sl}else ll=!1;ju=ll&&(!document.documentMode||9<document.documentMode)}function Iu(){Ai&&(Ai.detachEvent("onpropertychange",Pu),Mi=Ai=null)}function Pu(e){if(e.propertyName==="value"&&za(Mi)){var t=[];Cu(t,Mi,e,Gr(e)),j(_p,t)}}function Tp(e,t,n){e==="focusin"?(Iu(),Ai=t,Mi=n,Ai.attachEvent("onpropertychange",Pu)):e==="focusout"&&Iu()}function Lp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return za(Mi)}function zp(e,t){if(e==="click")return za(t)}function Fp(e,t){if(e==="input"||e==="change")return za(t)}function Ap(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yn=typeof Object.is=="function"?Object.is:Ap;function Oi(e,t){if(yn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!h.call(t,s)||!yn(e[s],t[s]))return!1}return!0}function Du(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _u(e,t){var n=Du(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Du(n)}}function Nu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Nu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Tu(){for(var e=window,t=He();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=He(e.document)}return t}function ul(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Mp(e){var t=Tu(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Nu(n.ownerDocument.documentElement,n)){if(i!==null&&ul(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,c=Math.min(i.start,s);i=i.end===void 0?c:Math.min(i.end,s),!e.extend&&c>i&&(s=i,i=c,c=s),s=_u(n,c);var y=_u(n,i);s&&y&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==y.node||e.focusOffset!==y.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),c>i?(e.addRange(t),e.extend(y.node,y.offset)):(t.setEnd(y.node,y.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Op=m&&"documentMode"in document&&11>=document.documentMode,Zr=null,cl=null,$i=null,dl=!1;function Lu(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dl||Zr==null||Zr!==He(i)||(i=Zr,"selectionStart"in i&&ul(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),$i&&Oi($i,i)||($i=i,i=Oa(cl,"onSelect"),0<i.length&&(t=new tl("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Zr)))}function Fa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ei={animationend:Fa("Animation","AnimationEnd"),animationiteration:Fa("Animation","AnimationIteration"),animationstart:Fa("Animation","AnimationStart"),transitionend:Fa("Transition","TransitionEnd")},fl={},zu={};m&&(zu=document.createElement("div").style,"AnimationEvent"in window||(delete ei.animationend.animation,delete ei.animationiteration.animation,delete ei.animationstart.animation),"TransitionEvent"in window||delete ei.transitionend.transition);function Aa(e){if(fl[e])return fl[e];if(!ei[e])return e;var t=ei[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in zu)return fl[e]=t[n];return e}var Fu=Aa("animationend"),Au=Aa("animationiteration"),Mu=Aa("animationstart"),Ou=Aa("transitionend"),$u=new Map,Bu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function or(e,t){$u.set(e,t),f(t,[e])}for(var pl=0;pl<Bu.length;pl++){var hl=Bu[pl],$p=hl.toLowerCase(),Bp=hl[0].toUpperCase()+hl.slice(1);or($p,"on"+Bp)}or(Fu,"onAnimationEnd"),or(Au,"onAnimationIteration"),or(Mu,"onAnimationStart"),or("dblclick","onDoubleClick"),or("focusin","onFocus"),or("focusout","onBlur"),or(Ou,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),f("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),f("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),f("onBeforeInput",["compositionend","keypress","textInput","paste"]),f("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Up=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bi));function Uu(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,ve(i,t,void 0,e),e.currentTarget=null}function Wu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],s=i.event;i=i.listeners;e:{var c=void 0;if(t)for(var y=i.length-1;0<=y;y--){var S=i[y],R=S.instance,$=S.currentTarget;if(S=S.listener,R!==c&&s.isPropagationStopped())break e;Uu(s,S,$),c=R}else for(y=0;y<i.length;y++){if(S=i[y],R=S.instance,$=S.currentTarget,S=S.listener,R!==c&&s.isPropagationStopped())break e;Uu(s,S,$),c=R}}}if(fe)throw e=we,fe=!1,we=null,e}function rt(e,t){var n=t[Sl];n===void 0&&(n=t[Sl]=new Set);var i=e+"__bubble";n.has(i)||(Vu(t,e,2,!1),n.add(i))}function ml(e,t,n){var i=0;t&&(i|=4),Vu(n,e,i,t)}var Ma="_reactListening"+Math.random().toString(36).slice(2);function Ui(e){if(!e[Ma]){e[Ma]=!0,u.forEach(function(n){n!=="selectionchange"&&(Up.has(n)||ml(n,!1,e),ml(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ma]||(t[Ma]=!0,ml("selectionchange",!1,t))}}function Vu(e,t,n,i){switch(pu(t)){case 1:var s=np;break;case 4:s=rp;break;default:s=Xo}n=s.bind(null,t,n,e),s=void 0,!B||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function gl(e,t,n,i,s){var c=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var y=i.tag;if(y===3||y===4){var S=i.stateNode.containerInfo;if(S===s||S.nodeType===8&&S.parentNode===s)break;if(y===4)for(y=i.return;y!==null;){var R=y.tag;if((R===3||R===4)&&(R=y.stateNode.containerInfo,R===s||R.nodeType===8&&R.parentNode===s))return;y=y.return}for(;S!==null;){if(y=Dr(S),y===null)return;if(R=y.tag,R===5||R===6){i=c=y;continue e}S=S.parentNode}}i=i.return}j(function(){var $=c,J=Gr(n),Z=[];e:{var G=$u.get(e);if(G!==void 0){var se=tl,pe=e;switch(e){case"keypress":if(Na(n)===0)break e;case"keydown":case"keyup":se=vp;break;case"focusin":pe="focus",se=il;break;case"focusout":pe="blur",se=il;break;case"beforeblur":case"afterblur":se=il;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=gu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=op;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=bp;break;case Fu:case Au:case Mu:se=up;break;case Ou:se=kp;break;case"scroll":se=ip;break;case"wheel":se=Cp;break;case"copy":case"cut":case"paste":se=dp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=vu}var me=(t&4)!==0,xt=!me&&e==="scroll",z=me?G!==null?G+"Capture":null:G;me=[];for(var D=$,A;D!==null;){A=D;var re=A.stateNode;if(A.tag===5&&re!==null&&(A=re,z!==null&&(re=N(D,z),re!=null&&me.push(Wi(D,re,A)))),xt)break;D=D.return}0<me.length&&(G=new se(G,pe,null,n,J),Z.push({event:G,listeners:me}))}}if((t&7)===0){e:{if(G=e==="mouseover"||e==="pointerover",se=e==="mouseout"||e==="pointerout",G&&n!==Xn&&(pe=n.relatedTarget||n.fromElement)&&(Dr(pe)||pe[Mn]))break e;if((se||G)&&(G=J.window===J?J:(G=J.ownerDocument)?G.defaultView||G.parentWindow:window,se?(pe=n.relatedTarget||n.toElement,se=$,pe=pe?Dr(pe):null,pe!==null&&(xt=Ne(pe),pe!==xt||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(se=null,pe=$),se!==pe)){if(me=gu,re="onMouseLeave",z="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(me=vu,re="onPointerLeave",z="onPointerEnter",D="pointer"),xt=se==null?G:ri(se),A=pe==null?G:ri(pe),G=new me(re,D+"leave",se,n,J),G.target=xt,G.relatedTarget=A,re=null,Dr(J)===$&&(me=new me(z,D+"enter",pe,n,J),me.target=A,me.relatedTarget=xt,re=me),xt=re,se&&pe)t:{for(me=se,z=pe,D=0,A=me;A;A=ti(A))D++;for(A=0,re=z;re;re=ti(re))A++;for(;0<D-A;)me=ti(me),D--;for(;0<A-D;)z=ti(z),A--;for(;D--;){if(me===z||z!==null&&me===z.alternate)break t;me=ti(me),z=ti(z)}me=null}else me=null;se!==null&&Hu(Z,G,se,me,!1),pe!==null&&xt!==null&&Hu(Z,xt,pe,me,!0)}}e:{if(G=$?ri($):window,se=G.nodeName&&G.nodeName.toLowerCase(),se==="select"||se==="input"&&G.type==="file")var ye=Np;else if(Eu(G))if(ju)ye=Fp;else{ye=Lp;var Ce=Tp}else(se=G.nodeName)&&se.toLowerCase()==="input"&&(G.type==="checkbox"||G.type==="radio")&&(ye=zp);if(ye&&(ye=ye(e,$))){Cu(Z,ye,n,J);break e}Ce&&Ce(e,G,$),e==="focusout"&&(Ce=G._wrapperState)&&Ce.controlled&&G.type==="number"&&ht(G,"number",G.value)}switch(Ce=$?ri($):window,e){case"focusin":(Eu(Ce)||Ce.contentEditable==="true")&&(Zr=Ce,cl=$,$i=null);break;case"focusout":$i=cl=Zr=null;break;case"mousedown":dl=!0;break;case"contextmenu":case"mouseup":case"dragend":dl=!1,Lu(Z,n,J);break;case"selectionchange":if(Op)break;case"keydown":case"keyup":Lu(Z,n,J)}var je;if(ol)e:{switch(e){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Xr?Su(e,n)&&(Le="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Le="onCompositionStart");Le&&(xu&&n.locale!=="ko"&&(Xr||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Xr&&(je=hu()):(ar=J,el="value"in ar?ar.value:ar.textContent,Xr=!0)),Ce=Oa($,Le),0<Ce.length&&(Le=new yu(Le,e,null,n,J),Z.push({event:Le,listeners:Ce}),je?Le.data=je:(je=ku(n),je!==null&&(Le.data=je)))),(je=Rp?Ip(e,n):Pp(e,n))&&($=Oa($,"onBeforeInput"),0<$.length&&(J=new yu("onBeforeInput","beforeinput",null,n,J),Z.push({event:J,listeners:$}),J.data=je))}Wu(Z,t)})}function Wi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Oa(e,t){for(var n=t+"Capture",i=[];e!==null;){var s=e,c=s.stateNode;s.tag===5&&c!==null&&(s=c,c=N(e,n),c!=null&&i.unshift(Wi(e,c,s)),c=N(e,t),c!=null&&i.push(Wi(e,c,s))),e=e.return}return i}function ti(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Hu(e,t,n,i,s){for(var c=t._reactName,y=[];n!==null&&n!==i;){var S=n,R=S.alternate,$=S.stateNode;if(R!==null&&R===i)break;S.tag===5&&$!==null&&(S=$,s?(R=N(n,c),R!=null&&y.unshift(Wi(n,R,S))):s||(R=N(n,c),R!=null&&y.push(Wi(n,R,S)))),n=n.return}y.length!==0&&e.push({event:t,listeners:y})}var Wp=/\r\n?/g,Vp=/\u0000|\uFFFD/g;function qu(e){return(typeof e=="string"?e:""+e).replace(Wp,`
`).replace(Vp,"")}function $a(e,t,n){if(t=qu(t),qu(e)!==t&&n)throw Error(o(425))}function Ba(){}var yl=null,vl=null;function xl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wl=typeof setTimeout=="function"?setTimeout:void 0,Hp=typeof clearTimeout=="function"?clearTimeout:void 0,Ku=typeof Promise=="function"?Promise:void 0,qp=typeof queueMicrotask=="function"?queueMicrotask:typeof Ku<"u"?function(e){return Ku.resolve(null).then(e).catch(Kp)}:wl;function Kp(e){setTimeout(function(){throw e})}function bl(e,t){var n=t,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){e.removeChild(s),Ti(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);Ti(t)}function lr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Qu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ni=Math.random().toString(36).slice(2),Rn="__reactFiber$"+ni,Vi="__reactProps$"+ni,Mn="__reactContainer$"+ni,Sl="__reactEvents$"+ni,Qp="__reactListeners$"+ni,Gp="__reactHandles$"+ni;function Dr(e){var t=e[Rn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Mn]||n[Rn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Qu(e);e!==null;){if(n=e[Rn])return n;e=Qu(e)}return t}e=n,n=e.parentNode}return null}function Hi(e){return e=e[Rn]||e[Mn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ri(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function Ua(e){return e[Vi]||null}var kl=[],ii=-1;function sr(e){return{current:e}}function it(e){0>ii||(e.current=kl[ii],kl[ii]=null,ii--)}function tt(e,t){ii++,kl[ii]=e.current,e.current=t}var ur={},At=sr(ur),Vt=sr(!1),_r=ur;function ai(e,t){var n=e.type.contextTypes;if(!n)return ur;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var s={},c;for(c in n)s[c]=t[c];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ht(e){return e=e.childContextTypes,e!=null}function Wa(){it(Vt),it(At)}function Gu(e,t,n){if(At.current!==ur)throw Error(o(168));tt(At,t),tt(Vt,n)}function Yu(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in t))throw Error(o(108,be(e)||"Unknown",s));return V({},n,i)}function Va(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ur,_r=At.current,tt(At,e),tt(Vt,Vt.current),!0}function Ju(e,t,n){var i=e.stateNode;if(!i)throw Error(o(169));n?(e=Yu(e,t,_r),i.__reactInternalMemoizedMergedChildContext=e,it(Vt),it(At),tt(At,e)):it(Vt),tt(Vt,n)}var On=null,Ha=!1,El=!1;function Xu(e){On===null?On=[e]:On.push(e)}function Yp(e){Ha=!0,Xu(e)}function cr(){if(!El&&On!==null){El=!0;var e=0,t=Ye;try{var n=On;for(Ye=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}On=null,Ha=!1}catch(s){throw On!==null&&(On=On.slice(e+1)),Cn(mn,cr),s}finally{Ye=t,El=!1}}return null}var oi=[],li=0,qa=null,Ka=0,on=[],ln=0,Nr=null,$n=1,Bn="";function Tr(e,t){oi[li++]=Ka,oi[li++]=qa,qa=e,Ka=t}function Zu(e,t,n){on[ln++]=$n,on[ln++]=Bn,on[ln++]=Nr,Nr=e;var i=$n;e=Bn;var s=32-Ft(i)-1;i&=~(1<<s),n+=1;var c=32-Ft(t)+s;if(30<c){var y=s-s%5;c=(i&(1<<y)-1).toString(32),i>>=y,s-=y,$n=1<<32-Ft(t)+s|n<<s|i,Bn=c+e}else $n=1<<c|n<<s|i,Bn=e}function Cl(e){e.return!==null&&(Tr(e,1),Zu(e,1,0))}function jl(e){for(;e===qa;)qa=oi[--li],oi[li]=null,Ka=oi[--li],oi[li]=null;for(;e===Nr;)Nr=on[--ln],on[ln]=null,Bn=on[--ln],on[ln]=null,$n=on[--ln],on[ln]=null}var Xt=null,Zt=null,ot=!1,vn=null;function ec(e,t){var n=dn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function tc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xt=e,Zt=lr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xt=e,Zt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Nr!==null?{id:$n,overflow:Bn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=dn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Xt=e,Zt=null,!0):!1;default:return!1}}function Rl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Il(e){if(ot){var t=Zt;if(t){var n=t;if(!tc(e,t)){if(Rl(e))throw Error(o(418));t=lr(n.nextSibling);var i=Xt;t&&tc(e,t)?ec(i,n):(e.flags=e.flags&-4097|2,ot=!1,Xt=e)}}else{if(Rl(e))throw Error(o(418));e.flags=e.flags&-4097|2,ot=!1,Xt=e}}}function nc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xt=e}function Qa(e){if(e!==Xt)return!1;if(!ot)return nc(e),ot=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xl(e.type,e.memoizedProps)),t&&(t=Zt)){if(Rl(e))throw rc(),Error(o(418));for(;t;)ec(e,t),t=lr(t.nextSibling)}if(nc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Zt=lr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Zt=null}}else Zt=Xt?lr(e.stateNode.nextSibling):null;return!0}function rc(){for(var e=Zt;e;)e=lr(e.nextSibling)}function si(){Zt=Xt=null,ot=!1}function Pl(e){vn===null?vn=[e]:vn.push(e)}var Jp=K.ReactCurrentBatchConfig;function qi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(o(309));var i=n.stateNode}if(!i)throw Error(o(147,e));var s=i,c=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===c?t.ref:(t=function(y){var S=s.refs;y===null?delete S[c]:S[c]=y},t._stringRef=c,t)}if(typeof e!="string")throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ic(e){var t=e._init;return t(e._payload)}function ac(e){function t(z,D){if(e){var A=z.deletions;A===null?(z.deletions=[D],z.flags|=16):A.push(D)}}function n(z,D){if(!e)return null;for(;D!==null;)t(z,D),D=D.sibling;return null}function i(z,D){for(z=new Map;D!==null;)D.key!==null?z.set(D.key,D):z.set(D.index,D),D=D.sibling;return z}function s(z,D){return z=vr(z,D),z.index=0,z.sibling=null,z}function c(z,D,A){return z.index=A,e?(A=z.alternate,A!==null?(A=A.index,A<D?(z.flags|=2,D):A):(z.flags|=2,D)):(z.flags|=1048576,D)}function y(z){return e&&z.alternate===null&&(z.flags|=2),z}function S(z,D,A,re){return D===null||D.tag!==6?(D=ws(A,z.mode,re),D.return=z,D):(D=s(D,A),D.return=z,D)}function R(z,D,A,re){var ye=A.type;return ye===O?J(z,D,A.props.children,re,A.key):D!==null&&(D.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Te&&ic(ye)===D.type)?(re=s(D,A.props),re.ref=qi(z,D,A),re.return=z,re):(re=wo(A.type,A.key,A.props,null,z.mode,re),re.ref=qi(z,D,A),re.return=z,re)}function $(z,D,A,re){return D===null||D.tag!==4||D.stateNode.containerInfo!==A.containerInfo||D.stateNode.implementation!==A.implementation?(D=bs(A,z.mode,re),D.return=z,D):(D=s(D,A.children||[]),D.return=z,D)}function J(z,D,A,re,ye){return D===null||D.tag!==7?(D=Br(A,z.mode,re,ye),D.return=z,D):(D=s(D,A),D.return=z,D)}function Z(z,D,A){if(typeof D=="string"&&D!==""||typeof D=="number")return D=ws(""+D,z.mode,A),D.return=z,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case ae:return A=wo(D.type,D.key,D.props,null,z.mode,A),A.ref=qi(z,null,D),A.return=z,A;case L:return D=bs(D,z.mode,A),D.return=z,D;case Te:var re=D._init;return Z(z,re(D._payload),A)}if(mt(D)||H(D))return D=Br(D,z.mode,A,null),D.return=z,D;Ga(z,D)}return null}function G(z,D,A,re){var ye=D!==null?D.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return ye!==null?null:S(z,D,""+A,re);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case ae:return A.key===ye?R(z,D,A,re):null;case L:return A.key===ye?$(z,D,A,re):null;case Te:return ye=A._init,G(z,D,ye(A._payload),re)}if(mt(A)||H(A))return ye!==null?null:J(z,D,A,re,null);Ga(z,A)}return null}function se(z,D,A,re,ye){if(typeof re=="string"&&re!==""||typeof re=="number")return z=z.get(A)||null,S(D,z,""+re,ye);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case ae:return z=z.get(re.key===null?A:re.key)||null,R(D,z,re,ye);case L:return z=z.get(re.key===null?A:re.key)||null,$(D,z,re,ye);case Te:var Ce=re._init;return se(z,D,A,Ce(re._payload),ye)}if(mt(re)||H(re))return z=z.get(A)||null,J(D,z,re,ye,null);Ga(D,re)}return null}function pe(z,D,A,re){for(var ye=null,Ce=null,je=D,Le=D=0,_t=null;je!==null&&Le<A.length;Le++){je.index>Le?(_t=je,je=null):_t=je.sibling;var qe=G(z,je,A[Le],re);if(qe===null){je===null&&(je=_t);break}e&&je&&qe.alternate===null&&t(z,je),D=c(qe,D,Le),Ce===null?ye=qe:Ce.sibling=qe,Ce=qe,je=_t}if(Le===A.length)return n(z,je),ot&&Tr(z,Le),ye;if(je===null){for(;Le<A.length;Le++)je=Z(z,A[Le],re),je!==null&&(D=c(je,D,Le),Ce===null?ye=je:Ce.sibling=je,Ce=je);return ot&&Tr(z,Le),ye}for(je=i(z,je);Le<A.length;Le++)_t=se(je,z,Le,A[Le],re),_t!==null&&(e&&_t.alternate!==null&&je.delete(_t.key===null?Le:_t.key),D=c(_t,D,Le),Ce===null?ye=_t:Ce.sibling=_t,Ce=_t);return e&&je.forEach(function(xr){return t(z,xr)}),ot&&Tr(z,Le),ye}function me(z,D,A,re){var ye=H(A);if(typeof ye!="function")throw Error(o(150));if(A=ye.call(A),A==null)throw Error(o(151));for(var Ce=ye=null,je=D,Le=D=0,_t=null,qe=A.next();je!==null&&!qe.done;Le++,qe=A.next()){je.index>Le?(_t=je,je=null):_t=je.sibling;var xr=G(z,je,qe.value,re);if(xr===null){je===null&&(je=_t);break}e&&je&&xr.alternate===null&&t(z,je),D=c(xr,D,Le),Ce===null?ye=xr:Ce.sibling=xr,Ce=xr,je=_t}if(qe.done)return n(z,je),ot&&Tr(z,Le),ye;if(je===null){for(;!qe.done;Le++,qe=A.next())qe=Z(z,qe.value,re),qe!==null&&(D=c(qe,D,Le),Ce===null?ye=qe:Ce.sibling=qe,Ce=qe);return ot&&Tr(z,Le),ye}for(je=i(z,je);!qe.done;Le++,qe=A.next())qe=se(je,z,Le,qe.value,re),qe!==null&&(e&&qe.alternate!==null&&je.delete(qe.key===null?Le:qe.key),D=c(qe,D,Le),Ce===null?ye=qe:Ce.sibling=qe,Ce=qe);return e&&je.forEach(function(Dh){return t(z,Dh)}),ot&&Tr(z,Le),ye}function xt(z,D,A,re){if(typeof A=="object"&&A!==null&&A.type===O&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case ae:e:{for(var ye=A.key,Ce=D;Ce!==null;){if(Ce.key===ye){if(ye=A.type,ye===O){if(Ce.tag===7){n(z,Ce.sibling),D=s(Ce,A.props.children),D.return=z,z=D;break e}}else if(Ce.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Te&&ic(ye)===Ce.type){n(z,Ce.sibling),D=s(Ce,A.props),D.ref=qi(z,Ce,A),D.return=z,z=D;break e}n(z,Ce);break}else t(z,Ce);Ce=Ce.sibling}A.type===O?(D=Br(A.props.children,z.mode,re,A.key),D.return=z,z=D):(re=wo(A.type,A.key,A.props,null,z.mode,re),re.ref=qi(z,D,A),re.return=z,z=re)}return y(z);case L:e:{for(Ce=A.key;D!==null;){if(D.key===Ce)if(D.tag===4&&D.stateNode.containerInfo===A.containerInfo&&D.stateNode.implementation===A.implementation){n(z,D.sibling),D=s(D,A.children||[]),D.return=z,z=D;break e}else{n(z,D);break}else t(z,D);D=D.sibling}D=bs(A,z.mode,re),D.return=z,z=D}return y(z);case Te:return Ce=A._init,xt(z,D,Ce(A._payload),re)}if(mt(A))return pe(z,D,A,re);if(H(A))return me(z,D,A,re);Ga(z,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,D!==null&&D.tag===6?(n(z,D.sibling),D=s(D,A),D.return=z,z=D):(n(z,D),D=ws(A,z.mode,re),D.return=z,z=D),y(z)):n(z,D)}return xt}var ui=ac(!0),oc=ac(!1),Ya=sr(null),Ja=null,ci=null,Dl=null;function _l(){Dl=ci=Ja=null}function Nl(e){var t=Ya.current;it(Ya),e._currentValue=t}function Tl(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function di(e,t){Ja=e,Dl=ci=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(qt=!0),e.firstContext=null)}function sn(e){var t=e._currentValue;if(Dl!==e)if(e={context:e,memoizedValue:t,next:null},ci===null){if(Ja===null)throw Error(o(308));ci=e,Ja.dependencies={lanes:0,firstContext:e}}else ci=ci.next=e;return t}var Lr=null;function Ll(e){Lr===null?Lr=[e]:Lr.push(e)}function lc(e,t,n,i){var s=t.interleaved;return s===null?(n.next=n,Ll(t)):(n.next=s.next,s.next=n),t.interleaved=n,Un(e,i)}function Un(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var dr=!1;function zl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Wn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fr(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(Ve&2)!==0){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,Un(e,n)}return s=i.interleaved,s===null?(t.next=t,Ll(i)):(t.next=s.next,s.next=t),i.interleaved=t,Un(e,n)}function Xa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Go(e,n)}}function uc(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var y={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};c===null?s=c=y:c=c.next=y,n=n.next}while(n!==null);c===null?s=c=t:c=c.next=t}else s=c=t;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:c,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Za(e,t,n,i){var s=e.updateQueue;dr=!1;var c=s.firstBaseUpdate,y=s.lastBaseUpdate,S=s.shared.pending;if(S!==null){s.shared.pending=null;var R=S,$=R.next;R.next=null,y===null?c=$:y.next=$,y=R;var J=e.alternate;J!==null&&(J=J.updateQueue,S=J.lastBaseUpdate,S!==y&&(S===null?J.firstBaseUpdate=$:S.next=$,J.lastBaseUpdate=R))}if(c!==null){var Z=s.baseState;y=0,J=$=R=null,S=c;do{var G=S.lane,se=S.eventTime;if((i&G)===G){J!==null&&(J=J.next={eventTime:se,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var pe=e,me=S;switch(G=t,se=n,me.tag){case 1:if(pe=me.payload,typeof pe=="function"){Z=pe.call(se,Z,G);break e}Z=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=me.payload,G=typeof pe=="function"?pe.call(se,Z,G):pe,G==null)break e;Z=V({},Z,G);break e;case 2:dr=!0}}S.callback!==null&&S.lane!==0&&(e.flags|=64,G=s.effects,G===null?s.effects=[S]:G.push(S))}else se={eventTime:se,lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},J===null?($=J=se,R=Z):J=J.next=se,y|=G;if(S=S.next,S===null){if(S=s.shared.pending,S===null)break;G=S,S=G.next,G.next=null,s.lastBaseUpdate=G,s.shared.pending=null}}while(!0);if(J===null&&(R=Z),s.baseState=R,s.firstBaseUpdate=$,s.lastBaseUpdate=J,t=s.shared.interleaved,t!==null){s=t;do y|=s.lane,s=s.next;while(s!==t)}else c===null&&(s.shared.lanes=0);Ar|=y,e.lanes=y,e.memoizedState=Z}}function cc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(o(191,s));s.call(i)}}}var Ki={},In=sr(Ki),Qi=sr(Ki),Gi=sr(Ki);function zr(e){if(e===Ki)throw Error(o(174));return e}function Fl(e,t){switch(tt(Gi,t),tt(Qi,e),tt(In,Ki),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:gt(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=gt(t,e)}it(In),tt(In,t)}function fi(){it(In),it(Qi),it(Gi)}function dc(e){zr(Gi.current);var t=zr(In.current),n=gt(t,e.type);t!==n&&(tt(Qi,e),tt(In,n))}function Al(e){Qi.current===e&&(it(In),it(Qi))}var ut=sr(0);function eo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ml=[];function Ol(){for(var e=0;e<Ml.length;e++)Ml[e]._workInProgressVersionPrimary=null;Ml.length=0}var to=K.ReactCurrentDispatcher,$l=K.ReactCurrentBatchConfig,Fr=0,ct=null,Ct=null,Pt=null,no=!1,Yi=!1,Ji=0,Xp=0;function Mt(){throw Error(o(321))}function Bl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!yn(e[n],t[n]))return!1;return!0}function Ul(e,t,n,i,s,c){if(Fr=c,ct=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,to.current=e===null||e.memoizedState===null?nh:rh,e=n(i,s),Yi){c=0;do{if(Yi=!1,Ji=0,25<=c)throw Error(o(301));c+=1,Pt=Ct=null,t.updateQueue=null,to.current=ih,e=n(i,s)}while(Yi)}if(to.current=ao,t=Ct!==null&&Ct.next!==null,Fr=0,Pt=Ct=ct=null,no=!1,t)throw Error(o(300));return e}function Wl(){var e=Ji!==0;return Ji=0,e}function Pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?ct.memoizedState=Pt=e:Pt=Pt.next=e,Pt}function un(){if(Ct===null){var e=ct.alternate;e=e!==null?e.memoizedState:null}else e=Ct.next;var t=Pt===null?ct.memoizedState:Pt.next;if(t!==null)Pt=t,Ct=e;else{if(e===null)throw Error(o(310));Ct=e,e={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Pt===null?ct.memoizedState=Pt=e:Pt=Pt.next=e}return Pt}function Xi(e,t){return typeof t=="function"?t(e):t}function Vl(e){var t=un(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var i=Ct,s=i.baseQueue,c=n.pending;if(c!==null){if(s!==null){var y=s.next;s.next=c.next,c.next=y}i.baseQueue=s=c,n.pending=null}if(s!==null){c=s.next,i=i.baseState;var S=y=null,R=null,$=c;do{var J=$.lane;if((Fr&J)===J)R!==null&&(R=R.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),i=$.hasEagerState?$.eagerState:e(i,$.action);else{var Z={lane:J,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};R===null?(S=R=Z,y=i):R=R.next=Z,ct.lanes|=J,Ar|=J}$=$.next}while($!==null&&$!==c);R===null?y=i:R.next=S,yn(i,t.memoizedState)||(qt=!0),t.memoizedState=i,t.baseState=y,t.baseQueue=R,n.lastRenderedState=i}if(e=n.interleaved,e!==null){s=e;do c=s.lane,ct.lanes|=c,Ar|=c,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Hl(e){var t=un(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,c=t.memoizedState;if(s!==null){n.pending=null;var y=s=s.next;do c=e(c,y.action),y=y.next;while(y!==s);yn(c,t.memoizedState)||(qt=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),n.lastRenderedState=c}return[c,i]}function fc(){}function pc(e,t){var n=ct,i=un(),s=t(),c=!yn(i.memoizedState,s);if(c&&(i.memoizedState=s,qt=!0),i=i.queue,ql(gc.bind(null,n,i,e),[e]),i.getSnapshot!==t||c||Pt!==null&&Pt.memoizedState.tag&1){if(n.flags|=2048,Zi(9,mc.bind(null,n,i,s,t),void 0,null),Dt===null)throw Error(o(349));(Fr&30)!==0||hc(n,t,s)}return s}function hc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ct.updateQueue,t===null?(t={lastEffect:null,stores:null},ct.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function mc(e,t,n,i){t.value=n,t.getSnapshot=i,yc(t)&&vc(e)}function gc(e,t,n){return n(function(){yc(t)&&vc(e)})}function yc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yn(e,n)}catch{return!0}}function vc(e){var t=Un(e,1);t!==null&&Sn(t,e,1,-1)}function xc(e){var t=Pn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:e},t.queue=e,e=e.dispatch=th.bind(null,ct,e),[t.memoizedState,e]}function Zi(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=ct.updateQueue,t===null?(t={lastEffect:null,stores:null},ct.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function wc(){return un().memoizedState}function ro(e,t,n,i){var s=Pn();ct.flags|=e,s.memoizedState=Zi(1|t,n,void 0,i===void 0?null:i)}function io(e,t,n,i){var s=un();i=i===void 0?null:i;var c=void 0;if(Ct!==null){var y=Ct.memoizedState;if(c=y.destroy,i!==null&&Bl(i,y.deps)){s.memoizedState=Zi(t,n,c,i);return}}ct.flags|=e,s.memoizedState=Zi(1|t,n,c,i)}function bc(e,t){return ro(8390656,8,e,t)}function ql(e,t){return io(2048,8,e,t)}function Sc(e,t){return io(4,2,e,t)}function kc(e,t){return io(4,4,e,t)}function Ec(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Cc(e,t,n){return n=n!=null?n.concat([e]):null,io(4,4,Ec.bind(null,t,e),n)}function Kl(){}function jc(e,t){var n=un();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Bl(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Rc(e,t){var n=un();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Bl(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Ic(e,t,n){return(Fr&21)===0?(e.baseState&&(e.baseState=!1,qt=!0),e.memoizedState=n):(yn(n,t)||(n=iu(),ct.lanes|=n,Ar|=n,e.baseState=!0),t)}function Zp(e,t){var n=Ye;Ye=n!==0&&4>n?n:4,e(!0);var i=$l.transition;$l.transition={};try{e(!1),t()}finally{Ye=n,$l.transition=i}}function Pc(){return un().memoizedState}function eh(e,t,n){var i=gr(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Dc(e))_c(t,n);else if(n=lc(e,t,n,i),n!==null){var s=Ut();Sn(n,e,i,s),Nc(n,t,i)}}function th(e,t,n){var i=gr(e),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Dc(e))_c(t,s);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var y=t.lastRenderedState,S=c(y,n);if(s.hasEagerState=!0,s.eagerState=S,yn(S,y)){var R=t.interleaved;R===null?(s.next=s,Ll(t)):(s.next=R.next,R.next=s),t.interleaved=s;return}}catch{}finally{}n=lc(e,t,s,i),n!==null&&(s=Ut(),Sn(n,e,i,s),Nc(n,t,i))}}function Dc(e){var t=e.alternate;return e===ct||t!==null&&t===ct}function _c(e,t){Yi=no=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Nc(e,t,n){if((n&4194240)!==0){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Go(e,n)}}var ao={readContext:sn,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},nh={readContext:sn,useCallback:function(e,t){return Pn().memoizedState=[e,t===void 0?null:t],e},useContext:sn,useEffect:bc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ro(4194308,4,Ec.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ro(4194308,4,e,t)},useInsertionEffect:function(e,t){return ro(4,2,e,t)},useMemo:function(e,t){var n=Pn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Pn();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=eh.bind(null,ct,e),[i.memoizedState,e]},useRef:function(e){var t=Pn();return e={current:e},t.memoizedState=e},useState:xc,useDebugValue:Kl,useDeferredValue:function(e){return Pn().memoizedState=e},useTransition:function(){var e=xc(!1),t=e[0];return e=Zp.bind(null,e[1]),Pn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=ct,s=Pn();if(ot){if(n===void 0)throw Error(o(407));n=n()}else{if(n=t(),Dt===null)throw Error(o(349));(Fr&30)!==0||hc(i,t,n)}s.memoizedState=n;var c={value:n,getSnapshot:t};return s.queue=c,bc(gc.bind(null,i,c,e),[e]),i.flags|=2048,Zi(9,mc.bind(null,i,c,n,t),void 0,null),n},useId:function(){var e=Pn(),t=Dt.identifierPrefix;if(ot){var n=Bn,i=$n;n=(i&~(1<<32-Ft(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ji++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Xp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rh={readContext:sn,useCallback:jc,useContext:sn,useEffect:ql,useImperativeHandle:Cc,useInsertionEffect:Sc,useLayoutEffect:kc,useMemo:Rc,useReducer:Vl,useRef:wc,useState:function(){return Vl(Xi)},useDebugValue:Kl,useDeferredValue:function(e){var t=un();return Ic(t,Ct.memoizedState,e)},useTransition:function(){var e=Vl(Xi)[0],t=un().memoizedState;return[e,t]},useMutableSource:fc,useSyncExternalStore:pc,useId:Pc,unstable_isNewReconciler:!1},ih={readContext:sn,useCallback:jc,useContext:sn,useEffect:ql,useImperativeHandle:Cc,useInsertionEffect:Sc,useLayoutEffect:kc,useMemo:Rc,useReducer:Hl,useRef:wc,useState:function(){return Hl(Xi)},useDebugValue:Kl,useDeferredValue:function(e){var t=un();return Ct===null?t.memoizedState=e:Ic(t,Ct.memoizedState,e)},useTransition:function(){var e=Hl(Xi)[0],t=un().memoizedState;return[e,t]},useMutableSource:fc,useSyncExternalStore:pc,useId:Pc,unstable_isNewReconciler:!1};function xn(e,t){if(e&&e.defaultProps){t=V({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ql(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:V({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var oo={isMounted:function(e){return(e=e._reactInternals)?Ne(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Ut(),s=gr(e),c=Wn(i,s);c.payload=t,n!=null&&(c.callback=n),t=fr(e,c,s),t!==null&&(Sn(t,e,s,i),Xa(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Ut(),s=gr(e),c=Wn(i,s);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=fr(e,c,s),t!==null&&(Sn(t,e,s,i),Xa(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ut(),i=gr(e),s=Wn(n,i);s.tag=2,t!=null&&(s.callback=t),t=fr(e,s,i),t!==null&&(Sn(t,e,i,n),Xa(t,e,i))}};function Tc(e,t,n,i,s,c,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,c,y):t.prototype&&t.prototype.isPureReactComponent?!Oi(n,i)||!Oi(s,c):!0}function Lc(e,t,n){var i=!1,s=ur,c=t.contextType;return typeof c=="object"&&c!==null?c=sn(c):(s=Ht(t)?_r:At.current,i=t.contextTypes,c=(i=i!=null)?ai(e,s):ur),t=new t(n,c),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=oo,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=c),t}function zc(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&oo.enqueueReplaceState(t,t.state,null)}function Gl(e,t,n,i){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},zl(e);var c=t.contextType;typeof c=="object"&&c!==null?s.context=sn(c):(c=Ht(t)?_r:At.current,s.context=ai(e,c)),s.state=e.memoizedState,c=t.getDerivedStateFromProps,typeof c=="function"&&(Ql(e,t,c,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&oo.enqueueReplaceState(s,s.state,null),Za(e,n,s,i),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function pi(e,t){try{var n="",i=t;do n+=Y(i),i=i.return;while(i);var s=n}catch(c){s=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:t,stack:s,digest:null}}function Yl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Jl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ah=typeof WeakMap=="function"?WeakMap:Map;function Fc(e,t,n){n=Wn(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){ho||(ho=!0,fs=i),Jl(e,t)},n}function Ac(e,t,n){n=Wn(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var s=t.value;n.payload=function(){return i(s)},n.callback=function(){Jl(e,t)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(n.callback=function(){Jl(e,t),typeof i!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var y=t.stack;this.componentDidCatch(t.value,{componentStack:y!==null?y:""})}),n}function Mc(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new ah;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(n)||(s.add(n),e=xh.bind(null,e,t,n),t.then(e,e))}function Oc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $c(e,t,n,i,s){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Wn(-1,1),t.tag=2,fr(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var oh=K.ReactCurrentOwner,qt=!1;function Bt(e,t,n,i){t.child=e===null?oc(t,null,n,i):ui(t,e.child,n,i)}function Bc(e,t,n,i,s){n=n.render;var c=t.ref;return di(t,s),i=Ul(e,t,n,i,c,s),n=Wl(),e!==null&&!qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Vn(e,t,s)):(ot&&n&&Cl(t),t.flags|=1,Bt(e,t,i,s),t.child)}function Uc(e,t,n,i,s){if(e===null){var c=n.type;return typeof c=="function"&&!xs(c)&&c.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=c,Wc(e,t,c,i,s)):(e=wo(n.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,(e.lanes&s)===0){var y=c.memoizedProps;if(n=n.compare,n=n!==null?n:Oi,n(y,i)&&e.ref===t.ref)return Vn(e,t,s)}return t.flags|=1,e=vr(c,i),e.ref=t.ref,e.return=t,t.child=e}function Wc(e,t,n,i,s){if(e!==null){var c=e.memoizedProps;if(Oi(c,i)&&e.ref===t.ref)if(qt=!1,t.pendingProps=i=c,(e.lanes&s)!==0)(e.flags&131072)!==0&&(qt=!0);else return t.lanes=e.lanes,Vn(e,t,s)}return Xl(e,t,n,i,s)}function Vc(e,t,n){var i=t.pendingProps,s=i.children,c=e!==null?e.memoizedState:null;if(i.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(mi,en),en|=n;else{if((n&1073741824)===0)return e=c!==null?c.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,tt(mi,en),en|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=c!==null?c.baseLanes:n,tt(mi,en),en|=i}else c!==null?(i=c.baseLanes|n,t.memoizedState=null):i=n,tt(mi,en),en|=i;return Bt(e,t,s,n),t.child}function Hc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Xl(e,t,n,i,s){var c=Ht(n)?_r:At.current;return c=ai(t,c),di(t,s),n=Ul(e,t,n,i,c,s),i=Wl(),e!==null&&!qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Vn(e,t,s)):(ot&&i&&Cl(t),t.flags|=1,Bt(e,t,n,s),t.child)}function qc(e,t,n,i,s){if(Ht(n)){var c=!0;Va(t)}else c=!1;if(di(t,s),t.stateNode===null)so(e,t),Lc(t,n,i),Gl(t,n,i,s),i=!0;else if(e===null){var y=t.stateNode,S=t.memoizedProps;y.props=S;var R=y.context,$=n.contextType;typeof $=="object"&&$!==null?$=sn($):($=Ht(n)?_r:At.current,$=ai(t,$));var J=n.getDerivedStateFromProps,Z=typeof J=="function"||typeof y.getSnapshotBeforeUpdate=="function";Z||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==i||R!==$)&&zc(t,y,i,$),dr=!1;var G=t.memoizedState;y.state=G,Za(t,i,y,s),R=t.memoizedState,S!==i||G!==R||Vt.current||dr?(typeof J=="function"&&(Ql(t,n,J,i),R=t.memoizedState),(S=dr||Tc(t,n,S,i,G,R,$))?(Z||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(t.flags|=4194308)):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=R),y.props=i,y.state=R,y.context=$,i=S):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{y=t.stateNode,sc(e,t),S=t.memoizedProps,$=t.type===t.elementType?S:xn(t.type,S),y.props=$,Z=t.pendingProps,G=y.context,R=n.contextType,typeof R=="object"&&R!==null?R=sn(R):(R=Ht(n)?_r:At.current,R=ai(t,R));var se=n.getDerivedStateFromProps;(J=typeof se=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==Z||G!==R)&&zc(t,y,i,R),dr=!1,G=t.memoizedState,y.state=G,Za(t,i,y,s);var pe=t.memoizedState;S!==Z||G!==pe||Vt.current||dr?(typeof se=="function"&&(Ql(t,n,se,i),pe=t.memoizedState),($=dr||Tc(t,n,$,i,G,pe,R)||!1)?(J||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(i,pe,R),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(i,pe,R)),typeof y.componentDidUpdate=="function"&&(t.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===e.memoizedProps&&G===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&G===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=pe),y.props=i,y.state=pe,y.context=R,i=$):(typeof y.componentDidUpdate!="function"||S===e.memoizedProps&&G===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&G===e.memoizedState||(t.flags|=1024),i=!1)}return Zl(e,t,n,i,c,s)}function Zl(e,t,n,i,s,c){Hc(e,t);var y=(t.flags&128)!==0;if(!i&&!y)return s&&Ju(t,n,!1),Vn(e,t,c);i=t.stateNode,oh.current=t;var S=y&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&y?(t.child=ui(t,e.child,null,c),t.child=ui(t,null,S,c)):Bt(e,t,S,c),t.memoizedState=i.state,s&&Ju(t,n,!0),t.child}function Kc(e){var t=e.stateNode;t.pendingContext?Gu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Gu(e,t.context,!1),Fl(e,t.containerInfo)}function Qc(e,t,n,i,s){return si(),Pl(s),t.flags|=256,Bt(e,t,n,i),t.child}var es={dehydrated:null,treeContext:null,retryLane:0};function ts(e){return{baseLanes:e,cachePool:null,transitions:null}}function Gc(e,t,n){var i=t.pendingProps,s=ut.current,c=!1,y=(t.flags&128)!==0,S;if((S=y)||(S=e!==null&&e.memoizedState===null?!1:(s&2)!==0),S?(c=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),tt(ut,s&1),e===null)return Il(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(y=i.children,e=i.fallback,c?(i=t.mode,c=t.child,y={mode:"hidden",children:y},(i&1)===0&&c!==null?(c.childLanes=0,c.pendingProps=y):c=bo(y,i,0,null),e=Br(e,i,n,null),c.return=t,e.return=t,c.sibling=e,t.child=c,t.child.memoizedState=ts(n),t.memoizedState=es,e):ns(t,y));if(s=e.memoizedState,s!==null&&(S=s.dehydrated,S!==null))return lh(e,t,y,i,S,s,n);if(c){c=i.fallback,y=t.mode,s=e.child,S=s.sibling;var R={mode:"hidden",children:i.children};return(y&1)===0&&t.child!==s?(i=t.child,i.childLanes=0,i.pendingProps=R,t.deletions=null):(i=vr(s,R),i.subtreeFlags=s.subtreeFlags&14680064),S!==null?c=vr(S,c):(c=Br(c,y,n,null),c.flags|=2),c.return=t,i.return=t,i.sibling=c,t.child=i,i=c,c=t.child,y=e.child.memoizedState,y=y===null?ts(n):{baseLanes:y.baseLanes|n,cachePool:null,transitions:y.transitions},c.memoizedState=y,c.childLanes=e.childLanes&~n,t.memoizedState=es,i}return c=e.child,e=c.sibling,i=vr(c,{mode:"visible",children:i.children}),(t.mode&1)===0&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ns(e,t){return t=bo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function lo(e,t,n,i){return i!==null&&Pl(i),ui(t,e.child,null,n),e=ns(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function lh(e,t,n,i,s,c,y){if(n)return t.flags&256?(t.flags&=-257,i=Yl(Error(o(422))),lo(e,t,y,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(c=i.fallback,s=t.mode,i=bo({mode:"visible",children:i.children},s,0,null),c=Br(c,s,y,null),c.flags|=2,i.return=t,c.return=t,i.sibling=c,t.child=i,(t.mode&1)!==0&&ui(t,e.child,null,y),t.child.memoizedState=ts(y),t.memoizedState=es,c);if((t.mode&1)===0)return lo(e,t,y,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var S=i.dgst;return i=S,c=Error(o(419)),i=Yl(c,i,void 0),lo(e,t,y,i)}if(S=(y&e.childLanes)!==0,qt||S){if(i=Dt,i!==null){switch(y&-y){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=(s&(i.suspendedLanes|y))!==0?0:s,s!==0&&s!==c.retryLane&&(c.retryLane=s,Un(e,s),Sn(i,e,s,-1))}return vs(),i=Yl(Error(o(421))),lo(e,t,y,i)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=wh.bind(null,e),s._reactRetry=t,null):(e=c.treeContext,Zt=lr(s.nextSibling),Xt=t,ot=!0,vn=null,e!==null&&(on[ln++]=$n,on[ln++]=Bn,on[ln++]=Nr,$n=e.id,Bn=e.overflow,Nr=t),t=ns(t,i.children),t.flags|=4096,t)}function Yc(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Tl(e.return,t,n)}function rs(e,t,n,i,s){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=i,c.tail=n,c.tailMode=s)}function Jc(e,t,n){var i=t.pendingProps,s=i.revealOrder,c=i.tail;if(Bt(e,t,i.children,n),i=ut.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yc(e,n,t);else if(e.tag===19)Yc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(tt(ut,i),(t.mode&1)===0)t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&eo(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),rs(t,!1,s,n,c);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&eo(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}rs(t,!0,n,null,c);break;case"together":rs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function so(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ar|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,n=vr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=vr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function sh(e,t,n){switch(t.tag){case 3:Kc(t),si();break;case 5:dc(t);break;case 1:Ht(t.type)&&Va(t);break;case 4:Fl(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,s=t.memoizedProps.value;tt(Ya,i._currentValue),i._currentValue=s;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(tt(ut,ut.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?Gc(e,t,n):(tt(ut,ut.current&1),e=Vn(e,t,n),e!==null?e.sibling:null);tt(ut,ut.current&1);break;case 19:if(i=(n&t.childLanes)!==0,(e.flags&128)!==0){if(i)return Jc(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),tt(ut,ut.current),i)break;return null;case 22:case 23:return t.lanes=0,Vc(e,t,n)}return Vn(e,t,n)}var Xc,is,Zc,ed;Xc=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},is=function(){},Zc=function(e,t,n,i){var s=e.memoizedProps;if(s!==i){e=t.stateNode,zr(In.current);var c=null;switch(n){case"input":s=Je(e,s),i=Je(e,i),c=[];break;case"select":s=V({},s,{value:void 0}),i=V({},i,{value:void 0}),c=[];break;case"textarea":s=at(e,s),i=at(e,i),c=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Ba)}Jn(n,i);var y;n=null;for($ in s)if(!i.hasOwnProperty($)&&s.hasOwnProperty($)&&s[$]!=null)if($==="style"){var S=s[$];for(y in S)S.hasOwnProperty(y)&&(n||(n={}),n[y]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(d.hasOwnProperty($)?c||(c=[]):(c=c||[]).push($,null));for($ in i){var R=i[$];if(S=s!=null?s[$]:void 0,i.hasOwnProperty($)&&R!==S&&(R!=null||S!=null))if($==="style")if(S){for(y in S)!S.hasOwnProperty(y)||R&&R.hasOwnProperty(y)||(n||(n={}),n[y]="");for(y in R)R.hasOwnProperty(y)&&S[y]!==R[y]&&(n||(n={}),n[y]=R[y])}else n||(c||(c=[]),c.push($,n)),n=R;else $==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,S=S?S.__html:void 0,R!=null&&S!==R&&(c=c||[]).push($,R)):$==="children"?typeof R!="string"&&typeof R!="number"||(c=c||[]).push($,""+R):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(d.hasOwnProperty($)?(R!=null&&$==="onScroll"&&rt("scroll",e),c||S===R||(c=[])):(c=c||[]).push($,R))}n&&(c=c||[]).push("style",n);var $=c;(t.updateQueue=$)&&(t.flags|=4)}},ed=function(e,t,n,i){n!==i&&(t.flags|=4)};function ea(e,t){if(!ot)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function uh(e,t,n){var i=t.pendingProps;switch(jl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(t),null;case 1:return Ht(t.type)&&Wa(),Ot(t),null;case 3:return i=t.stateNode,fi(),it(Vt),it(At),Ol(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Qa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,vn!==null&&(ms(vn),vn=null))),is(e,t),Ot(t),null;case 5:Al(t);var s=zr(Gi.current);if(n=t.type,e!==null&&t.stateNode!=null)Zc(e,t,n,i,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(o(166));return Ot(t),null}if(e=zr(In.current),Qa(t)){i=t.stateNode,n=t.type;var c=t.memoizedProps;switch(i[Rn]=t,i[Vi]=c,e=(t.mode&1)!==0,n){case"dialog":rt("cancel",i),rt("close",i);break;case"iframe":case"object":case"embed":rt("load",i);break;case"video":case"audio":for(s=0;s<Bi.length;s++)rt(Bi[s],i);break;case"source":rt("error",i);break;case"img":case"image":case"link":rt("error",i),rt("load",i);break;case"details":rt("toggle",i);break;case"input":Ue(i,c),rt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!c.multiple},rt("invalid",i);break;case"textarea":lt(i,c),rt("invalid",i)}Jn(n,c),s=null;for(var y in c)if(c.hasOwnProperty(y)){var S=c[y];y==="children"?typeof S=="string"?i.textContent!==S&&(c.suppressHydrationWarning!==!0&&$a(i.textContent,S,e),s=["children",S]):typeof S=="number"&&i.textContent!==""+S&&(c.suppressHydrationWarning!==!0&&$a(i.textContent,S,e),s=["children",""+S]):d.hasOwnProperty(y)&&S!=null&&y==="onScroll"&&rt("scroll",i)}switch(n){case"input":ie(i),Ee(i,c,!0);break;case"textarea":ie(i),Qe(i);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(i.onclick=Ba)}i=s,t.updateQueue=i,i!==null&&(t.flags|=4)}else{y=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=bt(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=y.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=y.createElement(n,{is:i.is}):(e=y.createElement(n),n==="select"&&(y=e,i.multiple?y.multiple=!0:i.size&&(y.size=i.size))):e=y.createElementNS(e,n),e[Rn]=t,e[Vi]=i,Xc(e,t,!1,!1),t.stateNode=e;e:{switch(y=Qr(n,i),n){case"dialog":rt("cancel",e),rt("close",e),s=i;break;case"iframe":case"object":case"embed":rt("load",e),s=i;break;case"video":case"audio":for(s=0;s<Bi.length;s++)rt(Bi[s],e);s=i;break;case"source":rt("error",e),s=i;break;case"img":case"image":case"link":rt("error",e),rt("load",e),s=i;break;case"details":rt("toggle",e),s=i;break;case"input":Ue(e,i),s=Je(e,i),rt("invalid",e);break;case"option":s=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},s=V({},i,{value:void 0}),rt("invalid",e);break;case"textarea":lt(e,i),s=at(e,i),rt("invalid",e);break;default:s=i}Jn(n,s),S=s;for(c in S)if(S.hasOwnProperty(c)){var R=S[c];c==="style"?zn(e,R):c==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&qr(e,R)):c==="children"?typeof R=="string"?(n!=="textarea"||R!=="")&&st(e,R):typeof R=="number"&&st(e,""+R):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(d.hasOwnProperty(c)?R!=null&&c==="onScroll"&&rt("scroll",e):R!=null&&_(e,c,R,y))}switch(n){case"input":ie(e),Ee(e,i,!1);break;case"textarea":ie(e),Qe(e);break;case"option":i.value!=null&&e.setAttribute("value",""+ke(i.value));break;case"select":e.multiple=!!i.multiple,c=i.value,c!=null?ze(e,!!i.multiple,c,!1):i.defaultValue!=null&&ze(e,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ba)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ot(t),null;case 6:if(e&&t.stateNode!=null)ed(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(o(166));if(n=zr(Gi.current),zr(In.current),Qa(t)){if(i=t.stateNode,n=t.memoizedProps,i[Rn]=t,(c=i.nodeValue!==n)&&(e=Xt,e!==null))switch(e.tag){case 3:$a(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$a(i.nodeValue,n,(e.mode&1)!==0)}c&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Rn]=t,t.stateNode=i}return Ot(t),null;case 13:if(it(ut),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ot&&Zt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)rc(),si(),t.flags|=98560,c=!1;else if(c=Qa(t),i!==null&&i.dehydrated!==null){if(e===null){if(!c)throw Error(o(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));c[Rn]=t}else si(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ot(t),c=!1}else vn!==null&&(ms(vn),vn=null),c=!0;if(!c)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(ut.current&1)!==0?jt===0&&(jt=3):vs())),t.updateQueue!==null&&(t.flags|=4),Ot(t),null);case 4:return fi(),is(e,t),e===null&&Ui(t.stateNode.containerInfo),Ot(t),null;case 10:return Nl(t.type._context),Ot(t),null;case 17:return Ht(t.type)&&Wa(),Ot(t),null;case 19:if(it(ut),c=t.memoizedState,c===null)return Ot(t),null;if(i=(t.flags&128)!==0,y=c.rendering,y===null)if(i)ea(c,!1);else{if(jt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(y=eo(e),y!==null){for(t.flags|=128,ea(c,!1),i=y.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)c=n,e=i,c.flags&=14680066,y=c.alternate,y===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=y.childLanes,c.lanes=y.lanes,c.child=y.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=y.memoizedProps,c.memoizedState=y.memoizedState,c.updateQueue=y.updateQueue,c.type=y.type,e=y.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return tt(ut,ut.current&1|2),t.child}e=e.sibling}c.tail!==null&&nt()>gi&&(t.flags|=128,i=!0,ea(c,!1),t.lanes=4194304)}else{if(!i)if(e=eo(y),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ea(c,!0),c.tail===null&&c.tailMode==="hidden"&&!y.alternate&&!ot)return Ot(t),null}else 2*nt()-c.renderingStartTime>gi&&n!==1073741824&&(t.flags|=128,i=!0,ea(c,!1),t.lanes=4194304);c.isBackwards?(y.sibling=t.child,t.child=y):(n=c.last,n!==null?n.sibling=y:t.child=y,c.last=y)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=nt(),t.sibling=null,n=ut.current,tt(ut,i?n&1|2:n&1),t):(Ot(t),null);case 22:case 23:return ys(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&(t.mode&1)!==0?(en&1073741824)!==0&&(Ot(t),t.subtreeFlags&6&&(t.flags|=8192)):Ot(t),null;case 24:return null;case 25:return null}throw Error(o(156,t.tag))}function ch(e,t){switch(jl(t),t.tag){case 1:return Ht(t.type)&&Wa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fi(),it(Vt),it(At),Ol(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Al(t),null;case 13:if(it(ut),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));si()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return it(ut),null;case 4:return fi(),null;case 10:return Nl(t.type._context),null;case 22:case 23:return ys(),null;case 24:return null;default:return null}}var uo=!1,$t=!1,dh=typeof WeakSet=="function"?WeakSet:Set,ce=null;function hi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){ft(e,t,i)}else n.current=null}function as(e,t,n){try{n()}catch(i){ft(e,t,i)}}var td=!1;function fh(e,t){if(yl=Pa,e=Tu(),ul(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,c=i.focusNode;i=i.focusOffset;try{n.nodeType,c.nodeType}catch{n=null;break e}var y=0,S=-1,R=-1,$=0,J=0,Z=e,G=null;t:for(;;){for(var se;Z!==n||s!==0&&Z.nodeType!==3||(S=y+s),Z!==c||i!==0&&Z.nodeType!==3||(R=y+i),Z.nodeType===3&&(y+=Z.nodeValue.length),(se=Z.firstChild)!==null;)G=Z,Z=se;for(;;){if(Z===e)break t;if(G===n&&++$===s&&(S=y),G===c&&++J===i&&(R=y),(se=Z.nextSibling)!==null)break;Z=G,G=Z.parentNode}Z=se}n=S===-1||R===-1?null:{start:S,end:R}}else n=null}n=n||{start:0,end:0}}else n=null;for(vl={focusedElem:e,selectionRange:n},Pa=!1,ce=t;ce!==null;)if(t=ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ce=e;else for(;ce!==null;){t=ce;try{var pe=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var me=pe.memoizedProps,xt=pe.memoizedState,z=t.stateNode,D=z.getSnapshotBeforeUpdate(t.elementType===t.type?me:xn(t.type,me),xt);z.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var A=t.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(re){ft(t,t.return,re)}if(e=t.sibling,e!==null){e.return=t.return,ce=e;break}ce=t.return}return pe=td,td=!1,pe}function ta(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&e)===e){var c=s.destroy;s.destroy=void 0,c!==void 0&&as(t,n,c)}s=s.next}while(s!==i)}}function co(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function os(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function nd(e){var t=e.alternate;t!==null&&(e.alternate=null,nd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rn],delete t[Vi],delete t[Sl],delete t[Qp],delete t[Gp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rd(e){return e.tag===5||e.tag===3||e.tag===4}function id(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ls(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ba));else if(i!==4&&(e=e.child,e!==null))for(ls(e,t,n),e=e.sibling;e!==null;)ls(e,t,n),e=e.sibling}function ss(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(ss(e,t,n),e=e.sibling;e!==null;)ss(e,t,n),e=e.sibling}var Lt=null,wn=!1;function pr(e,t,n){for(n=n.child;n!==null;)ad(e,t,n),n=n.sibling}function ad(e,t,n){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(gn,n)}catch{}switch(n.tag){case 5:$t||hi(n,t);case 6:var i=Lt,s=wn;Lt=null,pr(e,t,n),Lt=i,wn=s,Lt!==null&&(wn?(e=Lt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Lt.removeChild(n.stateNode));break;case 18:Lt!==null&&(wn?(e=Lt,n=n.stateNode,e.nodeType===8?bl(e.parentNode,n):e.nodeType===1&&bl(e,n),Ti(e)):bl(Lt,n.stateNode));break;case 4:i=Lt,s=wn,Lt=n.stateNode.containerInfo,wn=!0,pr(e,t,n),Lt=i,wn=s;break;case 0:case 11:case 14:case 15:if(!$t&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var c=s,y=c.destroy;c=c.tag,y!==void 0&&((c&2)!==0||(c&4)!==0)&&as(n,t,y),s=s.next}while(s!==i)}pr(e,t,n);break;case 1:if(!$t&&(hi(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(S){ft(n,t,S)}pr(e,t,n);break;case 21:pr(e,t,n);break;case 22:n.mode&1?($t=(i=$t)||n.memoizedState!==null,pr(e,t,n),$t=i):pr(e,t,n);break;default:pr(e,t,n)}}function od(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new dh),t.forEach(function(i){var s=bh.bind(null,e,i);n.has(i)||(n.add(i),i.then(s,s))})}}function bn(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var c=e,y=t,S=y;e:for(;S!==null;){switch(S.tag){case 5:Lt=S.stateNode,wn=!1;break e;case 3:Lt=S.stateNode.containerInfo,wn=!0;break e;case 4:Lt=S.stateNode.containerInfo,wn=!0;break e}S=S.return}if(Lt===null)throw Error(o(160));ad(c,y,s),Lt=null,wn=!1;var R=s.alternate;R!==null&&(R.return=null),s.return=null}catch($){ft(s,t,$)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ld(t,e),t=t.sibling}function ld(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bn(t,e),Dn(e),i&4){try{ta(3,e,e.return),co(3,e)}catch(me){ft(e,e.return,me)}try{ta(5,e,e.return)}catch(me){ft(e,e.return,me)}}break;case 1:bn(t,e),Dn(e),i&512&&n!==null&&hi(n,n.return);break;case 5:if(bn(t,e),Dn(e),i&512&&n!==null&&hi(n,n.return),e.flags&32){var s=e.stateNode;try{st(s,"")}catch(me){ft(e,e.return,me)}}if(i&4&&(s=e.stateNode,s!=null)){var c=e.memoizedProps,y=n!==null?n.memoizedProps:c,S=e.type,R=e.updateQueue;if(e.updateQueue=null,R!==null)try{S==="input"&&c.type==="radio"&&c.name!=null&&Ke(s,c),Qr(S,y);var $=Qr(S,c);for(y=0;y<R.length;y+=2){var J=R[y],Z=R[y+1];J==="style"?zn(s,Z):J==="dangerouslySetInnerHTML"?qr(s,Z):J==="children"?st(s,Z):_(s,J,Z,$)}switch(S){case"input":ue(s,c);break;case"textarea":We(s,c);break;case"select":var G=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!c.multiple;var se=c.value;se!=null?ze(s,!!c.multiple,se,!1):G!==!!c.multiple&&(c.defaultValue!=null?ze(s,!!c.multiple,c.defaultValue,!0):ze(s,!!c.multiple,c.multiple?[]:"",!1))}s[Vi]=c}catch(me){ft(e,e.return,me)}}break;case 6:if(bn(t,e),Dn(e),i&4){if(e.stateNode===null)throw Error(o(162));s=e.stateNode,c=e.memoizedProps;try{s.nodeValue=c}catch(me){ft(e,e.return,me)}}break;case 3:if(bn(t,e),Dn(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Ti(t.containerInfo)}catch(me){ft(e,e.return,me)}break;case 4:bn(t,e),Dn(e);break;case 13:bn(t,e),Dn(e),s=e.child,s.flags&8192&&(c=s.memoizedState!==null,s.stateNode.isHidden=c,!c||s.alternate!==null&&s.alternate.memoizedState!==null||(ds=nt())),i&4&&od(e);break;case 22:if(J=n!==null&&n.memoizedState!==null,e.mode&1?($t=($=$t)||J,bn(t,e),$t=$):bn(t,e),Dn(e),i&8192){if($=e.memoizedState!==null,(e.stateNode.isHidden=$)&&!J&&(e.mode&1)!==0)for(ce=e,J=e.child;J!==null;){for(Z=ce=J;ce!==null;){switch(G=ce,se=G.child,G.tag){case 0:case 11:case 14:case 15:ta(4,G,G.return);break;case 1:hi(G,G.return);var pe=G.stateNode;if(typeof pe.componentWillUnmount=="function"){i=G,n=G.return;try{t=i,pe.props=t.memoizedProps,pe.state=t.memoizedState,pe.componentWillUnmount()}catch(me){ft(i,n,me)}}break;case 5:hi(G,G.return);break;case 22:if(G.memoizedState!==null){cd(Z);continue}}se!==null?(se.return=G,ce=se):cd(Z)}J=J.sibling}e:for(J=null,Z=e;;){if(Z.tag===5){if(J===null){J=Z;try{s=Z.stateNode,$?(c=s.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(S=Z.stateNode,R=Z.memoizedProps.style,y=R!=null&&R.hasOwnProperty("display")?R.display:null,S.style.display=Ln("display",y))}catch(me){ft(e,e.return,me)}}}else if(Z.tag===6){if(J===null)try{Z.stateNode.nodeValue=$?"":Z.memoizedProps}catch(me){ft(e,e.return,me)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===e)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===e)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===e)break e;J===Z&&(J=null),Z=Z.return}J===Z&&(J=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:bn(t,e),Dn(e),i&4&&od(e);break;case 21:break;default:bn(t,e),Dn(e)}}function Dn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(rd(n)){var i=n;break e}n=n.return}throw Error(o(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(st(s,""),i.flags&=-33);var c=id(e);ss(e,c,s);break;case 3:case 4:var y=i.stateNode.containerInfo,S=id(e);ls(e,S,y);break;default:throw Error(o(161))}}catch(R){ft(e,e.return,R)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ph(e,t,n){ce=e,sd(e)}function sd(e,t,n){for(var i=(e.mode&1)!==0;ce!==null;){var s=ce,c=s.child;if(s.tag===22&&i){var y=s.memoizedState!==null||uo;if(!y){var S=s.alternate,R=S!==null&&S.memoizedState!==null||$t;S=uo;var $=$t;if(uo=y,($t=R)&&!$)for(ce=s;ce!==null;)y=ce,R=y.child,y.tag===22&&y.memoizedState!==null?dd(s):R!==null?(R.return=y,ce=R):dd(s);for(;c!==null;)ce=c,sd(c),c=c.sibling;ce=s,uo=S,$t=$}ud(e)}else(s.subtreeFlags&8772)!==0&&c!==null?(c.return=s,ce=c):ud(e)}}function ud(e){for(;ce!==null;){var t=ce;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:$t||co(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!$t)if(n===null)i.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:xn(t.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var c=t.updateQueue;c!==null&&cc(t,c,i);break;case 3:var y=t.updateQueue;if(y!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}cc(t,y,n)}break;case 5:var S=t.stateNode;if(n===null&&t.flags&4){n=S;var R=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&n.focus();break;case"img":R.src&&(n.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var $=t.alternate;if($!==null){var J=$.memoizedState;if(J!==null){var Z=J.dehydrated;Z!==null&&Ti(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}$t||t.flags&512&&os(t)}catch(G){ft(t,t.return,G)}}if(t===e){ce=null;break}if(n=t.sibling,n!==null){n.return=t.return,ce=n;break}ce=t.return}}function cd(e){for(;ce!==null;){var t=ce;if(t===e){ce=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ce=n;break}ce=t.return}}function dd(e){for(;ce!==null;){var t=ce;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{co(4,t)}catch(R){ft(t,n,R)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var s=t.return;try{i.componentDidMount()}catch(R){ft(t,s,R)}}var c=t.return;try{os(t)}catch(R){ft(t,c,R)}break;case 5:var y=t.return;try{os(t)}catch(R){ft(t,y,R)}}}catch(R){ft(t,t.return,R)}if(t===e){ce=null;break}var S=t.sibling;if(S!==null){S.return=t.return,ce=S;break}ce=t.return}}var hh=Math.ceil,fo=K.ReactCurrentDispatcher,us=K.ReactCurrentOwner,cn=K.ReactCurrentBatchConfig,Ve=0,Dt=null,St=null,zt=0,en=0,mi=sr(0),jt=0,na=null,Ar=0,po=0,cs=0,ra=null,Kt=null,ds=0,gi=1/0,Hn=null,ho=!1,fs=null,hr=null,mo=!1,mr=null,go=0,ia=0,ps=null,yo=-1,vo=0;function Ut(){return(Ve&6)!==0?nt():yo!==-1?yo:yo=nt()}function gr(e){return(e.mode&1)===0?1:(Ve&2)!==0&&zt!==0?zt&-zt:Jp.transition!==null?(vo===0&&(vo=iu()),vo):(e=Ye,e!==0||(e=window.event,e=e===void 0?16:pu(e.type)),e)}function Sn(e,t,n,i){if(50<ia)throw ia=0,ps=null,Error(o(185));Ii(e,n,i),((Ve&2)===0||e!==Dt)&&(e===Dt&&((Ve&2)===0&&(po|=n),jt===4&&yr(e,zt)),Qt(e,i),n===1&&Ve===0&&(t.mode&1)===0&&(gi=nt()+500,Ha&&cr()))}function Qt(e,t){var n=e.callbackNode;Jf(e,t);var i=ja(e,e===Dt?zt:0);if(i===0)n!==null&&er(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&er(n),t===1)e.tag===0?Yp(pd.bind(null,e)):Xu(pd.bind(null,e)),qp(function(){(Ve&6)===0&&cr()}),n=null;else{switch(au(i)){case 1:n=mn;break;case 4:n=Pr;break;case 16:n=An;break;case 536870912:n=Et;break;default:n=An}n=bd(n,fd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function fd(e,t){if(yo=-1,vo=0,(Ve&6)!==0)throw Error(o(327));var n=e.callbackNode;if(yi()&&e.callbackNode!==n)return null;var i=ja(e,e===Dt?zt:0);if(i===0)return null;if((i&30)!==0||(i&e.expiredLanes)!==0||t)t=xo(e,i);else{t=i;var s=Ve;Ve|=2;var c=md();(Dt!==e||zt!==t)&&(Hn=null,gi=nt()+500,Or(e,t));do try{yh();break}catch(S){hd(e,S)}while(!0);_l(),fo.current=c,Ve=s,St!==null?t=0:(Dt=null,zt=0,t=jt)}if(t!==0){if(t===2&&(s=Ko(e),s!==0&&(i=s,t=hs(e,s))),t===1)throw n=na,Or(e,0),yr(e,i),Qt(e,nt()),n;if(t===6)yr(e,i);else{if(s=e.current.alternate,(i&30)===0&&!mh(s)&&(t=xo(e,i),t===2&&(c=Ko(e),c!==0&&(i=c,t=hs(e,c))),t===1))throw n=na,Or(e,0),yr(e,i),Qt(e,nt()),n;switch(e.finishedWork=s,e.finishedLanes=i,t){case 0:case 1:throw Error(o(345));case 2:$r(e,Kt,Hn);break;case 3:if(yr(e,i),(i&130023424)===i&&(t=ds+500-nt(),10<t)){if(ja(e,0)!==0)break;if(s=e.suspendedLanes,(s&i)!==i){Ut(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=wl($r.bind(null,e,Kt,Hn),t);break}$r(e,Kt,Hn);break;case 4:if(yr(e,i),(i&4194240)===i)break;for(t=e.eventTimes,s=-1;0<i;){var y=31-Ft(i);c=1<<y,y=t[y],y>s&&(s=y),i&=~c}if(i=s,i=nt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*hh(i/1960))-i,10<i){e.timeoutHandle=wl($r.bind(null,e,Kt,Hn),i);break}$r(e,Kt,Hn);break;case 5:$r(e,Kt,Hn);break;default:throw Error(o(329))}}}return Qt(e,nt()),e.callbackNode===n?fd.bind(null,e):null}function hs(e,t){var n=ra;return e.current.memoizedState.isDehydrated&&(Or(e,t).flags|=256),e=xo(e,t),e!==2&&(t=Kt,Kt=n,t!==null&&ms(t)),e}function ms(e){Kt===null?Kt=e:Kt.push.apply(Kt,e)}function mh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],c=s.getSnapshot;s=s.value;try{if(!yn(c(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yr(e,t){for(t&=~cs,t&=~po,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ft(t),i=1<<n;e[n]=-1,t&=~i}}function pd(e){if((Ve&6)!==0)throw Error(o(327));yi();var t=ja(e,0);if((t&1)===0)return Qt(e,nt()),null;var n=xo(e,t);if(e.tag!==0&&n===2){var i=Ko(e);i!==0&&(t=i,n=hs(e,i))}if(n===1)throw n=na,Or(e,0),yr(e,t),Qt(e,nt()),n;if(n===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$r(e,Kt,Hn),Qt(e,nt()),null}function gs(e,t){var n=Ve;Ve|=1;try{return e(t)}finally{Ve=n,Ve===0&&(gi=nt()+500,Ha&&cr())}}function Mr(e){mr!==null&&mr.tag===0&&(Ve&6)===0&&yi();var t=Ve;Ve|=1;var n=cn.transition,i=Ye;try{if(cn.transition=null,Ye=1,e)return e()}finally{Ye=i,cn.transition=n,Ve=t,(Ve&6)===0&&cr()}}function ys(){en=mi.current,it(mi)}function Or(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Hp(n)),St!==null)for(n=St.return;n!==null;){var i=n;switch(jl(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Wa();break;case 3:fi(),it(Vt),it(At),Ol();break;case 5:Al(i);break;case 4:fi();break;case 13:it(ut);break;case 19:it(ut);break;case 10:Nl(i.type._context);break;case 22:case 23:ys()}n=n.return}if(Dt=e,St=e=vr(e.current,null),zt=en=t,jt=0,na=null,cs=po=Ar=0,Kt=ra=null,Lr!==null){for(t=0;t<Lr.length;t++)if(n=Lr[t],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,c=n.pending;if(c!==null){var y=c.next;c.next=s,i.next=y}n.pending=i}Lr=null}return e}function hd(e,t){do{var n=St;try{if(_l(),to.current=ao,no){for(var i=ct.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}no=!1}if(Fr=0,Pt=Ct=ct=null,Yi=!1,Ji=0,us.current=null,n===null||n.return===null){jt=1,na=t,St=null;break}e:{var c=e,y=n.return,S=n,R=t;if(t=zt,S.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var $=R,J=S,Z=J.tag;if((J.mode&1)===0&&(Z===0||Z===11||Z===15)){var G=J.alternate;G?(J.updateQueue=G.updateQueue,J.memoizedState=G.memoizedState,J.lanes=G.lanes):(J.updateQueue=null,J.memoizedState=null)}var se=Oc(y);if(se!==null){se.flags&=-257,$c(se,y,S,c,t),se.mode&1&&Mc(c,$,t),t=se,R=$;var pe=t.updateQueue;if(pe===null){var me=new Set;me.add(R),t.updateQueue=me}else pe.add(R);break e}else{if((t&1)===0){Mc(c,$,t),vs();break e}R=Error(o(426))}}else if(ot&&S.mode&1){var xt=Oc(y);if(xt!==null){(xt.flags&65536)===0&&(xt.flags|=256),$c(xt,y,S,c,t),Pl(pi(R,S));break e}}c=R=pi(R,S),jt!==4&&(jt=2),ra===null?ra=[c]:ra.push(c),c=y;do{switch(c.tag){case 3:c.flags|=65536,t&=-t,c.lanes|=t;var z=Fc(c,R,t);uc(c,z);break e;case 1:S=R;var D=c.type,A=c.stateNode;if((c.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(hr===null||!hr.has(A)))){c.flags|=65536,t&=-t,c.lanes|=t;var re=Ac(c,S,t);uc(c,re);break e}}c=c.return}while(c!==null)}yd(n)}catch(ye){t=ye,St===n&&n!==null&&(St=n=n.return);continue}break}while(!0)}function md(){var e=fo.current;return fo.current=ao,e===null?ao:e}function vs(){(jt===0||jt===3||jt===2)&&(jt=4),Dt===null||(Ar&268435455)===0&&(po&268435455)===0||yr(Dt,zt)}function xo(e,t){var n=Ve;Ve|=2;var i=md();(Dt!==e||zt!==t)&&(Hn=null,Or(e,t));do try{gh();break}catch(s){hd(e,s)}while(!0);if(_l(),Ve=n,fo.current=i,St!==null)throw Error(o(261));return Dt=null,zt=0,jt}function gh(){for(;St!==null;)gd(St)}function yh(){for(;St!==null&&!jn();)gd(St)}function gd(e){var t=wd(e.alternate,e,en);e.memoizedProps=e.pendingProps,t===null?yd(e):St=t,us.current=null}function yd(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=uh(n,t,en),n!==null){St=n;return}}else{if(n=ch(n,t),n!==null){n.flags&=32767,St=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{jt=6,St=null;return}}if(t=t.sibling,t!==null){St=t;return}St=t=e}while(t!==null);jt===0&&(jt=5)}function $r(e,t,n){var i=Ye,s=cn.transition;try{cn.transition=null,Ye=1,vh(e,t,n,i)}finally{cn.transition=s,Ye=i}return null}function vh(e,t,n,i){do yi();while(mr!==null);if((Ve&6)!==0)throw Error(o(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var c=n.lanes|n.childLanes;if(Xf(e,c),e===Dt&&(St=Dt=null,zt=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||mo||(mo=!0,bd(An,function(){return yi(),null})),c=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||c){c=cn.transition,cn.transition=null;var y=Ye;Ye=1;var S=Ve;Ve|=4,us.current=null,fh(e,n),ld(n,e),Mp(vl),Pa=!!yl,vl=yl=null,e.current=n,ph(n),an(),Ve=S,Ye=y,cn.transition=c}else e.current=n;if(mo&&(mo=!1,mr=e,go=s),c=e.pendingLanes,c===0&&(hr=null),vt(n.stateNode),Qt(e,nt()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(ho)throw ho=!1,e=fs,fs=null,e;return(go&1)!==0&&e.tag!==0&&yi(),c=e.pendingLanes,(c&1)!==0?e===ps?ia++:(ia=0,ps=e):ia=0,cr(),null}function yi(){if(mr!==null){var e=au(go),t=cn.transition,n=Ye;try{if(cn.transition=null,Ye=16>e?16:e,mr===null)var i=!1;else{if(e=mr,mr=null,go=0,(Ve&6)!==0)throw Error(o(331));var s=Ve;for(Ve|=4,ce=e.current;ce!==null;){var c=ce,y=c.child;if((ce.flags&16)!==0){var S=c.deletions;if(S!==null){for(var R=0;R<S.length;R++){var $=S[R];for(ce=$;ce!==null;){var J=ce;switch(J.tag){case 0:case 11:case 15:ta(8,J,c)}var Z=J.child;if(Z!==null)Z.return=J,ce=Z;else for(;ce!==null;){J=ce;var G=J.sibling,se=J.return;if(nd(J),J===$){ce=null;break}if(G!==null){G.return=se,ce=G;break}ce=se}}}var pe=c.alternate;if(pe!==null){var me=pe.child;if(me!==null){pe.child=null;do{var xt=me.sibling;me.sibling=null,me=xt}while(me!==null)}}ce=c}}if((c.subtreeFlags&2064)!==0&&y!==null)y.return=c,ce=y;else e:for(;ce!==null;){if(c=ce,(c.flags&2048)!==0)switch(c.tag){case 0:case 11:case 15:ta(9,c,c.return)}var z=c.sibling;if(z!==null){z.return=c.return,ce=z;break e}ce=c.return}}var D=e.current;for(ce=D;ce!==null;){y=ce;var A=y.child;if((y.subtreeFlags&2064)!==0&&A!==null)A.return=y,ce=A;else e:for(y=D;ce!==null;){if(S=ce,(S.flags&2048)!==0)try{switch(S.tag){case 0:case 11:case 15:co(9,S)}}catch(ye){ft(S,S.return,ye)}if(S===y){ce=null;break e}var re=S.sibling;if(re!==null){re.return=S.return,ce=re;break e}ce=S.return}}if(Ve=s,cr(),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(gn,e)}catch{}i=!0}return i}finally{Ye=n,cn.transition=t}}return!1}function vd(e,t,n){t=pi(n,t),t=Fc(e,t,1),e=fr(e,t,1),t=Ut(),e!==null&&(Ii(e,1,t),Qt(e,t))}function ft(e,t,n){if(e.tag===3)vd(e,e,n);else for(;t!==null;){if(t.tag===3){vd(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(hr===null||!hr.has(i))){e=pi(n,e),e=Ac(t,e,1),t=fr(t,e,1),e=Ut(),t!==null&&(Ii(t,1,e),Qt(t,e));break}}t=t.return}}function xh(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=Ut(),e.pingedLanes|=e.suspendedLanes&n,Dt===e&&(zt&n)===n&&(jt===4||jt===3&&(zt&130023424)===zt&&500>nt()-ds?Or(e,0):cs|=n),Qt(e,t)}function xd(e,t){t===0&&((e.mode&1)===0?t=1:(t=Ca,Ca<<=1,(Ca&130023424)===0&&(Ca=4194304)));var n=Ut();e=Un(e,t),e!==null&&(Ii(e,t,n),Qt(e,n))}function wh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),xd(e,n)}function bh(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(o(314))}i!==null&&i.delete(t),xd(e,n)}var wd;wd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Vt.current)qt=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return qt=!1,sh(e,t,n);qt=(e.flags&131072)!==0}else qt=!1,ot&&(t.flags&1048576)!==0&&Zu(t,Ka,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;so(e,t),e=t.pendingProps;var s=ai(t,At.current);di(t,n),s=Ul(null,t,i,e,s,n);var c=Wl();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ht(i)?(c=!0,Va(t)):c=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,zl(t),s.updater=oo,t.stateNode=s,s._reactInternals=t,Gl(t,i,e,n),t=Zl(null,t,i,!0,c,n)):(t.tag=0,ot&&c&&Cl(t),Bt(null,t,s,n),t=t.child),t;case 16:i=t.elementType;e:{switch(so(e,t),e=t.pendingProps,s=i._init,i=s(i._payload),t.type=i,s=t.tag=kh(i),e=xn(i,e),s){case 0:t=Xl(null,t,i,e,n);break e;case 1:t=qc(null,t,i,e,n);break e;case 11:t=Bc(null,t,i,e,n);break e;case 14:t=Uc(null,t,i,xn(i.type,e),n);break e}throw Error(o(306,i,""))}return t;case 0:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:xn(i,s),Xl(e,t,i,s,n);case 1:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:xn(i,s),qc(e,t,i,s,n);case 3:e:{if(Kc(t),e===null)throw Error(o(387));i=t.pendingProps,c=t.memoizedState,s=c.element,sc(e,t),Za(t,i,null,n);var y=t.memoizedState;if(i=y.element,c.isDehydrated)if(c={element:i,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){s=pi(Error(o(423)),t),t=Qc(e,t,i,n,s);break e}else if(i!==s){s=pi(Error(o(424)),t),t=Qc(e,t,i,n,s);break e}else for(Zt=lr(t.stateNode.containerInfo.firstChild),Xt=t,ot=!0,vn=null,n=oc(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(si(),i===s){t=Vn(e,t,n);break e}Bt(e,t,i,n)}t=t.child}return t;case 5:return dc(t),e===null&&Il(t),i=t.type,s=t.pendingProps,c=e!==null?e.memoizedProps:null,y=s.children,xl(i,s)?y=null:c!==null&&xl(i,c)&&(t.flags|=32),Hc(e,t),Bt(e,t,y,n),t.child;case 6:return e===null&&Il(t),null;case 13:return Gc(e,t,n);case 4:return Fl(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=ui(t,null,i,n):Bt(e,t,i,n),t.child;case 11:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:xn(i,s),Bc(e,t,i,s,n);case 7:return Bt(e,t,t.pendingProps,n),t.child;case 8:return Bt(e,t,t.pendingProps.children,n),t.child;case 12:return Bt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,s=t.pendingProps,c=t.memoizedProps,y=s.value,tt(Ya,i._currentValue),i._currentValue=y,c!==null)if(yn(c.value,y)){if(c.children===s.children&&!Vt.current){t=Vn(e,t,n);break e}}else for(c=t.child,c!==null&&(c.return=t);c!==null;){var S=c.dependencies;if(S!==null){y=c.child;for(var R=S.firstContext;R!==null;){if(R.context===i){if(c.tag===1){R=Wn(-1,n&-n),R.tag=2;var $=c.updateQueue;if($!==null){$=$.shared;var J=$.pending;J===null?R.next=R:(R.next=J.next,J.next=R),$.pending=R}}c.lanes|=n,R=c.alternate,R!==null&&(R.lanes|=n),Tl(c.return,n,t),S.lanes|=n;break}R=R.next}}else if(c.tag===10)y=c.type===t.type?null:c.child;else if(c.tag===18){if(y=c.return,y===null)throw Error(o(341));y.lanes|=n,S=y.alternate,S!==null&&(S.lanes|=n),Tl(y,n,t),y=c.sibling}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}Bt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,i=t.pendingProps.children,di(t,n),s=sn(s),i=i(s),t.flags|=1,Bt(e,t,i,n),t.child;case 14:return i=t.type,s=xn(i,t.pendingProps),s=xn(i.type,s),Uc(e,t,i,s,n);case 15:return Wc(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:xn(i,s),so(e,t),t.tag=1,Ht(i)?(e=!0,Va(t)):e=!1,di(t,n),Lc(t,i,s),Gl(t,i,s,n),Zl(null,t,i,!0,e,n);case 19:return Jc(e,t,n);case 22:return Vc(e,t,n)}throw Error(o(156,t.tag))};function bd(e,t){return Cn(e,t)}function Sh(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(e,t,n,i){return new Sh(e,t,n,i)}function xs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kh(e){if(typeof e=="function")return xs(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Re)return 11;if(e===Fe)return 14}return 2}function vr(e,t){var n=e.alternate;return n===null?(n=dn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function wo(e,t,n,i,s,c){var y=2;if(i=e,typeof e=="function")xs(e)&&(y=1);else if(typeof e=="string")y=5;else e:switch(e){case O:return Br(n.children,s,c,t);case ee:y=8,s|=8;break;case W:return e=dn(12,n,t,s|2),e.elementType=W,e.lanes=c,e;case le:return e=dn(13,n,t,s),e.elementType=le,e.lanes=c,e;case Ie:return e=dn(19,n,t,s),e.elementType=Ie,e.lanes=c,e;case Se:return bo(n,s,c,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case q:y=10;break e;case Q:y=9;break e;case Re:y=11;break e;case Fe:y=14;break e;case Te:y=16,i=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return t=dn(y,n,t,s),t.elementType=e,t.type=i,t.lanes=c,t}function Br(e,t,n,i){return e=dn(7,e,i,t),e.lanes=n,e}function bo(e,t,n,i){return e=dn(22,e,i,t),e.elementType=Se,e.lanes=n,e.stateNode={isHidden:!1},e}function ws(e,t,n){return e=dn(6,e,null,t),e.lanes=n,e}function bs(e,t,n){return t=dn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Eh(e,t,n,i,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qo(0),this.expirationTimes=Qo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qo(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ss(e,t,n,i,s,c,y,S,R){return e=new Eh(e,t,n,S,R),t===1?(t=1,c===!0&&(t|=8)):t=0,c=dn(3,null,null,t),e.current=c,c.stateNode=e,c.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zl(c),e}function Ch(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function Sd(e){if(!e)return ur;e=e._reactInternals;e:{if(Ne(e)!==e||e.tag!==1)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(o(171))}if(e.tag===1){var n=e.type;if(Ht(n))return Yu(e,n,t)}return t}function kd(e,t,n,i,s,c,y,S,R){return e=Ss(n,i,!0,e,s,c,y,S,R),e.context=Sd(null),n=e.current,i=Ut(),s=gr(n),c=Wn(i,s),c.callback=t??null,fr(n,c,s),e.current.lanes=s,Ii(e,s,i),Qt(e,i),e}function So(e,t,n,i){var s=t.current,c=Ut(),y=gr(s);return n=Sd(n),t.context===null?t.context=n:t.pendingContext=n,t=Wn(c,y),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=fr(s,t,y),e!==null&&(Sn(e,s,y,c),Xa(e,s,y)),y}function ko(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ed(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ks(e,t){Ed(e,t),(e=e.alternate)&&Ed(e,t)}function jh(){return null}var Cd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Es(e){this._internalRoot=e}Eo.prototype.render=Es.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));So(e,t,null,null)},Eo.prototype.unmount=Es.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Mr(function(){So(null,e,null,null)}),t[Mn]=null}};function Eo(e){this._internalRoot=e}Eo.prototype.unstable_scheduleHydration=function(e){if(e){var t=su();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ir.length&&t!==0&&t<ir[n].priority;n++);ir.splice(n,0,e),n===0&&du(e)}};function Cs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Co(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function jd(){}function Rh(e,t,n,i,s){if(s){if(typeof i=="function"){var c=i;i=function(){var $=ko(y);c.call($)}}var y=kd(t,i,e,0,null,!1,!1,"",jd);return e._reactRootContainer=y,e[Mn]=y.current,Ui(e.nodeType===8?e.parentNode:e),Mr(),y}for(;s=e.lastChild;)e.removeChild(s);if(typeof i=="function"){var S=i;i=function(){var $=ko(R);S.call($)}}var R=Ss(e,0,!1,null,null,!1,!1,"",jd);return e._reactRootContainer=R,e[Mn]=R.current,Ui(e.nodeType===8?e.parentNode:e),Mr(function(){So(t,R,n,i)}),R}function jo(e,t,n,i,s){var c=n._reactRootContainer;if(c){var y=c;if(typeof s=="function"){var S=s;s=function(){var R=ko(y);S.call(R)}}So(t,y,e,s)}else y=Rh(n,t,e,s,i);return ko(y)}ou=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ri(t.pendingLanes);n!==0&&(Go(t,n|1),Qt(t,nt()),(Ve&6)===0&&(gi=nt()+500,cr()))}break;case 13:Mr(function(){var i=Un(e,1);if(i!==null){var s=Ut();Sn(i,e,1,s)}}),ks(e,1)}},Yo=function(e){if(e.tag===13){var t=Un(e,134217728);if(t!==null){var n=Ut();Sn(t,e,134217728,n)}ks(e,134217728)}},lu=function(e){if(e.tag===13){var t=gr(e),n=Un(e,t);if(n!==null){var i=Ut();Sn(n,e,t,i)}ks(e,t)}},su=function(){return Ye},uu=function(e,t){var n=Ye;try{return Ye=e,t()}finally{Ye=n}},Cr=function(e,t,n){switch(t){case"input":if(ue(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var s=Ua(i);if(!s)throw Error(o(90));Pe(i),ue(i,s)}}}break;case"textarea":We(e,n);break;case"select":t=n.value,t!=null&&ze(e,!!n.multiple,t,!1)}},Rr=gs,Sa=Mr;var Ih={usingClientEntryPoint:!1,Events:[Hi,ri,Ua,Ci,jr,gs]},aa={findFiberByHostInstance:Dr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ph={bundleType:aa.bundleType,version:aa.version,rendererPackageName:aa.rendererPackageName,rendererConfig:aa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=et(e),e===null?null:e.stateNode},findFiberByHostInstance:aa.findFiberByHostInstance||jh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ro=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ro.isDisabled&&Ro.supportsFiber)try{gn=Ro.inject(Ph),It=Ro}catch{}}return Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ih,Gt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cs(t))throw Error(o(200));return Ch(e,t,null,n)},Gt.createRoot=function(e,t){if(!Cs(e))throw Error(o(299));var n=!1,i="",s=Cd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Ss(e,1,!1,null,null,n,!1,i,s),e[Mn]=t.current,Ui(e.nodeType===8?e.parentNode:e),new Es(t)},Gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=et(t),e=e===null?null:e.stateNode,e},Gt.flushSync=function(e){return Mr(e)},Gt.hydrate=function(e,t,n){if(!Co(t))throw Error(o(200));return jo(null,e,t,!0,n)},Gt.hydrateRoot=function(e,t,n){if(!Cs(e))throw Error(o(405));var i=n!=null&&n.hydratedSources||null,s=!1,c="",y=Cd;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),t=kd(t,null,e,1,n??null,s,!1,c,y),e[Mn]=t.current,Ui(e),i)for(e=0;e<i.length;e++)n=i[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Eo(t)},Gt.render=function(e,t,n){if(!Co(t))throw Error(o(200));return jo(null,e,t,!1,n)},Gt.unmountComponentAtNode=function(e){if(!Co(e))throw Error(o(40));return e._reactRootContainer?(Mr(function(){jo(null,null,e,!1,function(){e._reactRootContainer=null,e[Mn]=null})}),!0):!1},Gt.unstable_batchedUpdates=gs,Gt.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Co(n))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return jo(e,t,n,!1,i)},Gt.version="18.3.1-next-f1338f8080-20240426",Gt}var Ld;function pf(){if(Ld)return Is.exports;Ld=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(a){console.error(a)}}return r(),Is.exports=Mh(),Is.exports}var zd;function Oh(){if(zd)return Io;zd=1;var r=pf();return Io.createRoot=r.createRoot,Io.hydrateRoot=r.hydrateRoot,Io}var $h=Oh();const Bh=ff($h);/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var hf=r=>{throw TypeError(r)},Uh=(r,a,o)=>a.has(r)||hf("Cannot "+o),_s=(r,a,o)=>(Uh(r,a,"read from private field"),o?o.call(r):a.get(r)),Wh=(r,a,o)=>a.has(r)?hf("Cannot add the same private member more than once"):a instanceof WeakSet?a.add(r):a.set(r,o),Fd="popstate";function Vh(r={}){function a(d,f){let{pathname:p="/",search:m="",hash:h=""}=Gn(d.location.hash.substring(1));return!p.startsWith("/")&&!p.startsWith(".")&&(p="/"+p),pa("",{pathname:p,search:m,hash:h},f.state&&f.state.usr||null,f.state&&f.state.key||"default")}function o(d,f){let p=d.document.querySelector("base"),m="";if(p&&p.getAttribute("href")){let h=d.location.href,v=h.indexOf("#");m=v===-1?h:h.slice(0,v)}return m+"#"+(typeof f=="string"?f:Sr(f))}function u(d,f){wt(d.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(f)})`)}return qh(a,o,u,r)}function Oe(r,a){if(r===!1||r===null||typeof r>"u")throw new Error(a)}function wt(r,a){if(!r){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function Hh(){return Math.random().toString(36).substring(2,10)}function Ad(r,a){return{usr:r.state,key:r.key,idx:a}}function pa(r,a,o=null,u){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof a=="string"?Gn(a):a,state:o,key:a&&a.key||u||Hh()}}function Sr({pathname:r="/",search:a="",hash:o=""}){return a&&a!=="?"&&(r+=a.charAt(0)==="?"?a:"?"+a),o&&o!=="#"&&(r+=o.charAt(0)==="#"?o:"#"+o),r}function Gn(r){let a={};if(r){let o=r.indexOf("#");o>=0&&(a.hash=r.substring(o),r=r.substring(0,o));let u=r.indexOf("?");u>=0&&(a.search=r.substring(u),r=r.substring(0,u)),r&&(a.pathname=r)}return a}function qh(r,a,o,u={}){let{window:d=document.defaultView,v5Compat:f=!1}=u,p=d.history,m="POP",h=null,v=g();v==null&&(v=0,p.replaceState({...p.state,idx:v},""));function g(){return(p.state||{idx:null}).idx}function x(){m="POP";let I=g(),F=I==null?null:I-v;v=I,h&&h({action:m,location:C.location,delta:F})}function b(I,F){m="PUSH";let T=pa(C.location,I,F);o&&o(T,I),v=g()+1;let _=Ad(T,v),K=C.createHref(T);try{p.pushState(_,"",K)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;d.location.assign(K)}f&&h&&h({action:m,location:C.location,delta:1})}function w(I,F){m="REPLACE";let T=pa(C.location,I,F);o&&o(T,I),v=g();let _=Ad(T,v),K=C.createHref(T);p.replaceState(_,"",K),f&&h&&h({action:m,location:C.location,delta:0})}function E(I){return mf(I)}let C={get action(){return m},get location(){return r(d,p)},listen(I){if(h)throw new Error("A history only accepts one active listener");return d.addEventListener(Fd,x),h=I,()=>{d.removeEventListener(Fd,x),h=null}},createHref(I){return a(d,I)},createURL:E,encodeLocation(I){let F=E(I);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:b,replace:w,go(I){return p.go(I)}};return C}function mf(r,a=!1){let o="http://localhost";typeof window<"u"&&(o=window.location.origin!=="null"?window.location.origin:window.location.href),Oe(o,"No window.location.(origin|href) available to create URL");let u=typeof r=="string"?r:Sr(r);return u=u.replace(/ $/,"%20"),!a&&u.startsWith("//")&&(u=o+u),new URL(u,o)}var ca,Md=class{constructor(r){if(Wh(this,ca,new Map),r)for(let[a,o]of r)this.set(a,o)}get(r){if(_s(this,ca).has(r))return _s(this,ca).get(r);if(r.defaultValue!==void 0)return r.defaultValue;throw new Error("No value found for context")}set(r,a){_s(this,ca).set(r,a)}};ca=new WeakMap;var Kh=new Set(["lazy","caseSensitive","path","id","index","children"]);function Qh(r){return Kh.has(r)}var Gh=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function Yh(r){return Gh.has(r)}function Jh(r){return r.index===!0}function ha(r,a,o=[],u={},d=!1){return r.map((f,p)=>{let m=[...o,String(p)],h=typeof f.id=="string"?f.id:m.join("-");if(Oe(f.index!==!0||!f.children,"Cannot specify children on an index route"),Oe(d||!u[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),Jh(f)){let v={...f,...a(f),id:h};return u[h]=v,v}else{let v={...f,...a(f),id:h,children:void 0};return u[h]=v,f.children&&(v.children=ha(f.children,a,m,u,d)),v}})}function wr(r,a,o="/"){return To(r,a,o,!1)}function To(r,a,o,u){let d=typeof a=="string"?Gn(a):a,f=hn(d.pathname||"/",o);if(f==null)return null;let p=gf(r);Zh(p);let m=null;for(let h=0;m==null&&h<p.length;++h){let v=cm(f);m=sm(p[h],v,u)}return m}function Xh(r,a){let{route:o,pathname:u,params:d}=r;return{id:o.id,pathname:u,params:d,data:a[o.id],loaderData:a[o.id],handle:o.handle}}function gf(r,a=[],o=[],u="",d=!1){let f=(p,m,h=d,v)=>{let g={relativePath:v===void 0?p.path||"":v,caseSensitive:p.caseSensitive===!0,childrenIndex:m,route:p};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(u)&&h)return;Oe(g.relativePath.startsWith(u),`Absolute route path "${g.relativePath}" nested under path "${u}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(u.length)}let x=_n([u,g.relativePath]),b=o.concat(g);p.children&&p.children.length>0&&(Oe(p.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),gf(p.children,a,b,x,h)),!(p.path==null&&!p.index)&&a.push({path:x,score:om(x,p.index),routesMeta:b})};return r.forEach((p,m)=>{var h;if(p.path===""||!((h=p.path)!=null&&h.includes("?")))f(p,m);else for(let v of yf(p.path))f(p,m,!0,v)}),a}function yf(r){let a=r.split("/");if(a.length===0)return[];let[o,...u]=a,d=o.endsWith("?"),f=o.replace(/\?$/,"");if(u.length===0)return d?[f,""]:[f];let p=yf(u.join("/")),m=[];return m.push(...p.map(h=>h===""?f:[f,h].join("/"))),d&&m.push(...p),m.map(h=>r.startsWith("/")&&h===""?"/":h)}function Zh(r){r.sort((a,o)=>a.score!==o.score?o.score-a.score:lm(a.routesMeta.map(u=>u.childrenIndex),o.routesMeta.map(u=>u.childrenIndex)))}var em=/^:[\w-]+$/,tm=3,nm=2,rm=1,im=10,am=-2,Od=r=>r==="*";function om(r,a){let o=r.split("/"),u=o.length;return o.some(Od)&&(u+=am),a&&(u+=nm),o.filter(d=>!Od(d)).reduce((d,f)=>d+(em.test(f)?tm:f===""?rm:im),u)}function lm(r,a){return r.length===a.length&&r.slice(0,-1).every((u,d)=>u===a[d])?r[r.length-1]-a[a.length-1]:0}function sm(r,a,o=!1){let{routesMeta:u}=r,d={},f="/",p=[];for(let m=0;m<u.length;++m){let h=u[m],v=m===u.length-1,g=f==="/"?a:a.slice(f.length)||"/",x=Ao({path:h.relativePath,caseSensitive:h.caseSensitive,end:v},g),b=h.route;if(!x&&v&&o&&!u[u.length-1].route.index&&(x=Ao({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!x)return null;Object.assign(d,x.params),p.push({params:d,pathname:_n([f,x.pathname]),pathnameBase:hm(_n([f,x.pathnameBase])),route:b}),x.pathnameBase!=="/"&&(f=_n([f,x.pathnameBase]))}return p}function Ao(r,a){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[o,u]=um(r.path,r.caseSensitive,r.end),d=a.match(o);if(!d)return null;let f=d[0],p=f.replace(/(.)\/+$/,"$1"),m=d.slice(1);return{params:u.reduce((v,{paramName:g,isOptional:x},b)=>{if(g==="*"){let E=m[b]||"";p=f.slice(0,f.length-E.length).replace(/(.)\/+$/,"$1")}const w=m[b];return x&&!w?v[g]=void 0:v[g]=(w||"").replace(/%2F/g,"/"),v},{}),pathname:f,pathnameBase:p,pattern:r}}function um(r,a=!1,o=!0){wt(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let u=[],d="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,m,h)=>(u.push({paramName:m,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(u.push({paramName:"*"}),d+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?d+="\\/*$":r!==""&&r!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,a?void 0:"i"),u]}function cm(r){try{return r.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return wt(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),r}}function hn(r,a){if(a==="/")return r;if(!r.toLowerCase().startsWith(a.toLowerCase()))return null;let o=a.endsWith("/")?a.length-1:a.length,u=r.charAt(o);return u&&u!=="/"?null:r.slice(o)||"/"}function dm({basename:r,pathname:a}){return a==="/"?r:_n([r,a])}function fm(r,a="/"){let{pathname:o,search:u="",hash:d=""}=typeof r=="string"?Gn(r):r;return{pathname:o?o.startsWith("/")?o:pm(o,a):a,search:mm(u),hash:gm(d)}}function pm(r,a){let o=a.replace(/\/+$/,"").split("/");return r.split("/").forEach(d=>{d===".."?o.length>1&&o.pop():d!=="."&&o.push(d)}),o.length>1?o.join("/"):"/"}function Ns(r,a,o,u){return`Cannot include a '${r}' character in a manually specified \`to.${a}\` field [${JSON.stringify(u)}].  Please separate it out to the \`to.${o}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vf(r){return r.filter((a,o)=>o===0||a.route.path&&a.route.path.length>0)}function Hs(r){let a=vf(r);return a.map((o,u)=>u===a.length-1?o.pathname:o.pathnameBase)}function qs(r,a,o,u=!1){let d;typeof r=="string"?d=Gn(r):(d={...r},Oe(!d.pathname||!d.pathname.includes("?"),Ns("?","pathname","search",d)),Oe(!d.pathname||!d.pathname.includes("#"),Ns("#","pathname","hash",d)),Oe(!d.search||!d.search.includes("#"),Ns("#","search","hash",d)));let f=r===""||d.pathname==="",p=f?"/":d.pathname,m;if(p==null)m=o;else{let x=a.length-1;if(!u&&p.startsWith("..")){let b=p.split("/");for(;b[0]==="..";)b.shift(),x-=1;d.pathname=b.join("/")}m=x>=0?a[x]:"/"}let h=fm(d,m),v=p&&p!=="/"&&p.endsWith("/"),g=(f||p===".")&&o.endsWith("/");return!h.pathname.endsWith("/")&&(v||g)&&(h.pathname+="/"),h}var _n=r=>r.join("/").replace(/\/\/+/g,"/"),hm=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),mm=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,gm=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Mo=class{constructor(r,a,o,u=!1){this.status=r,this.statusText=a||"",this.internal=u,o instanceof Error?(this.data=o.toString(),this.error=o):this.data=o}};function ma(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var xf=["POST","PUT","PATCH","DELETE"],ym=new Set(xf),vm=["GET",...xf],xm=new Set(vm),wm=new Set([301,302,303,307,308]),bm=new Set([307,308]),Ts={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Sm={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},la={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},km=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ks=r=>km.test(r),Em=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),wf="remix-router-transitions",bf=Symbol("ResetLoaderData");function Cm(r){const a=r.window?r.window:typeof window<"u"?window:void 0,o=typeof a<"u"&&typeof a.document<"u"&&typeof a.document.createElement<"u";Oe(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let u=r.hydrationRouteProperties||[],d=r.mapRouteProperties||Em,f={},p=ha(r.routes,d,void 0,f),m,h=r.basename||"/";h.startsWith("/")||(h=`/${h}`);let v=r.dataStrategy||Dm,g={...r.future},x=null,b=new Set,w=null,E=null,C=null,I=r.hydrationData!=null,F=wr(p,r.history.location,h),T=!1,_=null,K;if(F==null&&!r.patchRoutesOnNavigation){let j=fn(404,{pathname:r.history.location.pathname}),{matches:N,route:B}=Po(p);K=!0,F=N,_={[B.id]:j}}else if(F&&!r.hydrationData&&jr(F,p,r.history.location.pathname).active&&(F=null),F)if(F.some(j=>j.route.lazy))K=!1;else if(!F.some(j=>Qs(j.route)))K=!0;else{let j=r.hydrationData?r.hydrationData.loaderData:null,N=r.hydrationData?r.hydrationData.errors:null;if(N){let B=F.findIndex(X=>N[X.route.id]!==void 0);K=F.slice(0,B+1).every(X=>!Os(X.route,j,N))}else K=F.every(B=>!Os(B.route,j,N))}else{K=!1,F=[];let j=jr(null,p,r.history.location.pathname);j.active&&j.matches&&(T=!0,F=j.matches)}let ae,L={historyAction:r.history.action,location:r.history.location,matches:F,initialized:K,navigation:Ts,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||_,fetchers:new Map,blockers:new Map},O="POP",ee=!1,W,q=!1,Q=new Map,Re=null,le=!1,Ie=!1,Fe=new Set,Te=new Map,Se=0,te=-1,H=new Map,V=new Set,P=new Map,U=new Map,de=new Set,xe=new Map,Y,ne=null;function be(){if(x=r.history.listen(({action:j,location:N,delta:B})=>{if(Y){Y(),Y=void 0;return}wt(xe.size===0||B!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let X=Gr({currentLocation:L.location,nextLocation:N,historyAction:j});if(X&&B!=null){let oe=new Promise(he=>{Y=he});r.history.go(B*-1),Xn(X,{state:"blocked",location:N,proceed(){Xn(X,{state:"proceeding",proceed:void 0,reset:void 0,location:N}),oe.then(()=>r.history.go(B))},reset(){let he=new Map(L.blockers);he.set(X,la),M({blockers:he})}});return}return Je(j,N)}),o){Hm(a,Q);let j=()=>qm(a,Q);a.addEventListener("pagehide",j),Re=()=>a.removeEventListener("pagehide",j)}return L.initialized||Je("POP",L.location,{initialHydration:!0}),ae}function ke(){x&&x(),Re&&Re(),b.clear(),W&&W.abort(),L.fetchers.forEach((j,N)=>st(N)),L.blockers.forEach((j,N)=>Qr(N))}function Be(j){return b.add(j),()=>b.delete(j)}function M(j,N={}){j.matches&&(j.matches=j.matches.map(oe=>{let he=f[oe.route.id],ge=oe.route;return ge.element!==he.element||ge.errorElement!==he.errorElement||ge.hydrateFallbackElement!==he.hydrateFallbackElement?{...oe,route:he}:oe})),L={...L,...j};let B=[],X=[];L.fetchers.forEach((oe,he)=>{oe.state==="idle"&&(de.has(he)?B.push(he):X.push(he))}),de.forEach(oe=>{!L.fetchers.has(oe)&&!Te.has(oe)&&B.push(oe)}),[...b].forEach(oe=>oe(L,{deletedFetchers:B,viewTransitionOpts:N.viewTransitionOpts,flushSync:N.flushSync===!0})),B.forEach(oe=>st(oe)),X.forEach(oe=>L.fetchers.delete(oe))}function ie(j,N,{flushSync:B}={}){var De,ve;let X=L.actionData!=null&&L.navigation.formMethod!=null&&Yt(L.navigation.formMethod)&&L.navigation.state==="loading"&&((De=j.state)==null?void 0:De._isRedirect)!==!0,oe;N.actionData?Object.keys(N.actionData).length>0?oe=N.actionData:oe=null:X?oe=L.actionData:oe=null;let he=N.loaderData?Gd(L.loaderData,N.loaderData,N.matches||[],N.errors):L.loaderData,ge=L.blockers;ge.size>0&&(ge=new Map(ge),ge.forEach((Ne,Ge)=>ge.set(Ge,la)));let fe=le?!1:Ci(j,N.matches||L.matches),we=ee===!0||L.navigation.formMethod!=null&&Yt(L.navigation.formMethod)&&((ve=j.state)==null?void 0:ve._isRedirect)!==!0;m&&(p=m,m=void 0),le||O==="POP"||(O==="PUSH"?r.history.push(j,j.state):O==="REPLACE"&&r.history.replace(j,j.state));let _e;if(O==="POP"){let Ne=Q.get(L.location.pathname);Ne&&Ne.has(j.pathname)?_e={currentLocation:L.location,nextLocation:j}:Q.has(j.pathname)&&(_e={currentLocation:j,nextLocation:L.location})}else if(q){let Ne=Q.get(L.location.pathname);Ne?Ne.add(j.pathname):(Ne=new Set([j.pathname]),Q.set(L.location.pathname,Ne)),_e={currentLocation:L.location,nextLocation:j}}M({...N,actionData:oe,loaderData:he,historyAction:O,location:j,initialized:!0,navigation:Ts,revalidation:"idle",restoreScrollPosition:fe,preventScrollReset:we,blockers:ge},{viewTransitionOpts:_e,flushSync:B===!0}),O="POP",ee=!1,q=!1,le=!1,Ie=!1,ne==null||ne.resolve(),ne=null}async function Pe(j,N){if(typeof j=="number"){r.history.go(j);return}let B=Ms(L.location,L.matches,h,j,N==null?void 0:N.fromRouteId,N==null?void 0:N.relative),{path:X,submission:oe,error:he}=$d(!1,B,N),ge=L.location,fe=pa(L.location,X,N&&N.state);fe={...fe,...r.history.encodeLocation(fe)};let we=N&&N.replace!=null?N.replace:void 0,_e="PUSH";we===!0?_e="REPLACE":we===!1||oe!=null&&Yt(oe.formMethod)&&oe.formAction===L.location.pathname+L.location.search&&(_e="REPLACE");let De=N&&"preventScrollReset"in N?N.preventScrollReset===!0:void 0,ve=(N&&N.flushSync)===!0,Ne=Gr({currentLocation:ge,nextLocation:fe,historyAction:_e});if(Ne){Xn(Ne,{state:"blocked",location:fe,proceed(){Xn(Ne,{state:"proceeding",proceed:void 0,reset:void 0,location:fe}),Pe(j,N)},reset(){let Ge=new Map(L.blockers);Ge.set(Ne,la),M({blockers:Ge})}});return}await Je(_e,fe,{submission:oe,pendingError:he,preventScrollReset:De,replace:N&&N.replace,enableViewTransition:N&&N.viewTransition,flushSync:ve})}function He(){ne||(ne=Km()),Qe(),M({revalidation:"loading"});let j=ne.promise;return L.navigation.state==="submitting"?j:L.navigation.state==="idle"?(Je(L.historyAction,L.location,{startUninterruptedRevalidation:!0}),j):(Je(O||L.historyAction,L.navigation.location,{overrideNavigation:L.navigation,enableViewTransition:q===!0}),j)}async function Je(j,N,B){W&&W.abort(),W=null,O=j,le=(B&&B.startUninterruptedRevalidation)===!0,ba(L.location,L.matches),ee=(B&&B.preventScrollReset)===!0,q=(B&&B.enableViewTransition)===!0;let X=m||p,oe=B&&B.overrideNavigation,he=B!=null&&B.initialHydration&&L.matches&&L.matches.length>0&&!T?L.matches:wr(X,N,h),ge=(B&&B.flushSync)===!0;if(he&&L.initialized&&!Ie&&Mm(L.location,N)&&!(B&&B.submission&&Yt(B.submission.formMethod))){ie(N,{matches:he},{flushSync:ge});return}let fe=jr(he,X,N.pathname);if(fe.active&&fe.matches&&(he=fe.matches),!he){let{error:Tt,notFoundMatches:et,route:Ze}=Cr(N.pathname);ie(N,{matches:et,loaderData:{},errors:{[Ze.id]:Tt}},{flushSync:ge});return}W=new AbortController;let we=wi(r.history,N,W.signal,B&&B.submission),_e=r.getContext?await r.getContext():new Md,De;if(B&&B.pendingError)De=[br(he).route.id,{type:"error",error:B.pendingError}];else if(B&&B.submission&&Yt(B.submission.formMethod)){let Tt=await Ue(we,N,B.submission,he,_e,fe.active,B&&B.initialHydration===!0,{replace:B.replace,flushSync:ge});if(Tt.shortCircuited)return;if(Tt.pendingActionResult){let[et,Ze]=Tt.pendingActionResult;if(nn(Ze)&&ma(Ze.error)&&Ze.error.status===404){W=null,ie(N,{matches:Tt.matches,loaderData:{},errors:{[et]:Ze.error}});return}}he=Tt.matches||he,De=Tt.pendingActionResult,oe=Ls(N,B.submission),ge=!1,fe.active=!1,we=wi(r.history,we.url,we.signal)}let{shortCircuited:ve,matches:Ne,loaderData:Ge,errors:yt}=await Ke(we,N,he,_e,fe.active,oe,B&&B.submission,B&&B.fetcherSubmission,B&&B.replace,B&&B.initialHydration===!0,ge,De);ve||(W=null,ie(N,{matches:Ne||he,...Yd(De),loaderData:Ge,errors:yt}))}async function Ue(j,N,B,X,oe,he,ge,fe={}){Qe();let we=Wm(N,B);if(M({navigation:we},{flushSync:fe.flushSync===!0}),he){let ve=await Rr(X,N.pathname,j.signal);if(ve.type==="aborted")return{shortCircuited:!0};if(ve.type==="error"){if(ve.partialMatches.length===0){let{matches:Ge,route:yt}=Po(p);return{matches:Ge,pendingActionResult:[yt.id,{type:"error",error:ve.error}]}}let Ne=br(ve.partialMatches).route.id;return{matches:ve.partialMatches,pendingActionResult:[Ne,{type:"error",error:ve.error}]}}else if(ve.matches)X=ve.matches;else{let{notFoundMatches:Ne,error:Ge,route:yt}=Cr(N.pathname);return{matches:Ne,pendingActionResult:[yt.id,{type:"error",error:Ge}]}}}let _e,De=Lo(X,N);if(!De.route.action&&!De.route.lazy)_e={type:"error",error:fn(405,{method:j.method,pathname:N.pathname,routeId:De.route.id})};else{let ve=bi(d,f,j,X,De,ge?[]:u,oe),Ne=await lt(j,ve,oe,null);if(_e=Ne[De.route.id],!_e){for(let Ge of X)if(Ne[Ge.route.id]){_e=Ne[Ge.route.id];break}}if(j.signal.aborted)return{shortCircuited:!0}}if(Vr(_e)){let ve;return fe&&fe.replace!=null?ve=fe.replace:ve=qd(_e.response.headers.get("Location"),new URL(j.url),h)===L.location.pathname+L.location.search,await at(j,_e,!0,{submission:B,replace:ve}),{shortCircuited:!0}}if(nn(_e)){let ve=br(X,De.route.id);return(fe&&fe.replace)!==!0&&(O="PUSH"),{matches:X,pendingActionResult:[ve.route.id,_e,De.route.id]}}return{matches:X,pendingActionResult:[De.route.id,_e]}}async function Ke(j,N,B,X,oe,he,ge,fe,we,_e,De,ve){let Ne=he||Ls(N,ge),Ge=ge||fe||Xd(Ne),yt=!le&&!_e;if(oe){if(yt){let Et=ue(ve);M({navigation:Ne,...Et!==void 0?{actionData:Et}:{}},{flushSync:De})}let $e=await Rr(B,N.pathname,j.signal);if($e.type==="aborted")return{shortCircuited:!0};if($e.type==="error"){if($e.partialMatches.length===0){let{matches:gn,route:It}=Po(p);return{matches:gn,loaderData:{},errors:{[It.id]:$e.error}}}let Et=br($e.partialMatches).route.id;return{matches:$e.partialMatches,loaderData:{},errors:{[Et]:$e.error}}}else if($e.matches)B=$e.matches;else{let{error:Et,notFoundMatches:gn,route:It}=Cr(N.pathname);return{matches:gn,loaderData:{},errors:{[It.id]:Et}}}}let Tt=m||p,{dsMatches:et,revalidatingFetchers:Ze}=Bd(j,X,d,f,r.history,L,B,Ge,N,_e?[]:u,_e===!0,Ie,Fe,de,P,V,Tt,h,r.patchRoutesOnNavigation!=null,ve);if(te=++Se,!r.dataStrategy&&!et.some($e=>$e.shouldLoad)&&!et.some($e=>$e.route.middleware&&$e.route.middleware.length>0)&&Ze.length===0){let $e=zn();return ie(N,{matches:B,loaderData:{},errors:ve&&nn(ve[1])?{[ve[0]]:ve[1].error}:null,...Yd(ve),...$e?{fetchers:new Map(L.fetchers)}:{}},{flushSync:De}),{shortCircuited:!0}}if(yt){let $e={};if(!oe){$e.navigation=Ne;let Et=ue(ve);Et!==void 0&&($e.actionData=Et)}Ze.length>0&&($e.fetchers=Ee(Ze)),M($e,{flushSync:De})}Ze.forEach($e=>{Wt($e.key),$e.controller&&Te.set($e.key,$e.controller)});let Cn=()=>Ze.forEach($e=>Wt($e.key));W&&W.signal.addEventListener("abort",Cn);let{loaderResults:er,fetcherResults:jn}=await We(et,Ze,j,X);if(j.signal.aborted)return{shortCircuited:!0};W&&W.signal.removeEventListener("abort",Cn),Ze.forEach($e=>Te.delete($e.key));let an=Do(er);if(an)return await at(j,an.result,!0,{replace:we}),{shortCircuited:!0};if(an=Do(jn),an)return V.add(an.key),await at(j,an.result,!0,{replace:we}),{shortCircuited:!0};let{loaderData:nt,errors:Ir}=Qd(L,B,er,ve,Ze,jn);_e&&L.errors&&(Ir={...L.errors,...Ir});let mn=zn(),Pr=Kr(te),An=mn||Pr||Ze.length>0;return{matches:B,loaderData:nt,errors:Ir,...An?{fetchers:new Map(L.fetchers)}:{}}}function ue(j){if(j&&!nn(j[1]))return{[j[0]]:j[1].data};if(L.actionData)return Object.keys(L.actionData).length===0?null:L.actionData}function Ee(j){return j.forEach(N=>{let B=L.fetchers.get(N.key),X=sa(void 0,B?B.data:void 0);L.fetchers.set(N.key,X)}),new Map(L.fetchers)}async function ht(j,N,B,X){Wt(j);let oe=(X&&X.flushSync)===!0,he=m||p,ge=Ms(L.location,L.matches,h,B,N,X==null?void 0:X.relative),fe=wr(he,ge,h),we=jr(fe,he,ge);if(we.active&&we.matches&&(fe=we.matches),!fe){gt(j,N,fn(404,{pathname:ge}),{flushSync:oe});return}let{path:_e,submission:De,error:ve}=$d(!0,ge,X);if(ve){gt(j,N,ve,{flushSync:oe});return}let Ne=r.getContext?await r.getContext():new Md,Ge=(X&&X.preventScrollReset)===!0;if(De&&Yt(De.formMethod)){await mt(j,N,_e,fe,Ne,we.active,oe,Ge,De);return}P.set(j,{routeId:N,path:_e}),await ze(j,N,_e,fe,Ne,we.active,oe,Ge,De)}async function mt(j,N,B,X,oe,he,ge,fe,we){Qe(),P.delete(j);let _e=L.fetchers.get(j);bt(j,Vm(we,_e),{flushSync:ge});let De=new AbortController,ve=wi(r.history,B,De.signal,we);if(he){let vt=await Rr(X,new URL(ve.url).pathname,ve.signal,j);if(vt.type==="aborted")return;if(vt.type==="error"){gt(j,N,vt.error,{flushSync:ge});return}else if(vt.matches)X=vt.matches;else{gt(j,N,fn(404,{pathname:B}),{flushSync:ge});return}}let Ne=Lo(X,B);if(!Ne.route.action&&!Ne.route.lazy){let vt=fn(405,{method:we.formMethod,pathname:B,routeId:N});gt(j,N,vt,{flushSync:ge});return}Te.set(j,De);let Ge=Se,yt=bi(d,f,ve,X,Ne,u,oe),et=(await lt(ve,yt,oe,j))[Ne.route.id];if(ve.signal.aborted){Te.get(j)===De&&Te.delete(j);return}if(de.has(j)){if(Vr(et)||nn(et)){bt(j,Kn(void 0));return}}else{if(Vr(et))if(Te.delete(j),te>Ge){bt(j,Kn(void 0));return}else return V.add(j),bt(j,sa(we)),at(ve,et,!1,{fetcherSubmission:we,preventScrollReset:fe});if(nn(et)){gt(j,N,et.error);return}}let Ze=L.navigation.location||L.location,Cn=wi(r.history,Ze,De.signal),er=m||p,jn=L.navigation.state!=="idle"?wr(er,L.navigation.location,h):L.matches;Oe(jn,"Didn't find any matches after fetcher action");let an=++Se;H.set(j,an);let nt=sa(we,et.data);L.fetchers.set(j,nt);let{dsMatches:Ir,revalidatingFetchers:mn}=Bd(Cn,oe,d,f,r.history,L,jn,we,Ze,u,!1,Ie,Fe,de,P,V,er,h,r.patchRoutesOnNavigation!=null,[Ne.route.id,et]);mn.filter(vt=>vt.key!==j).forEach(vt=>{let Ft=vt.key,ka=L.fetchers.get(Ft),qo=sa(void 0,ka?ka.data:void 0);L.fetchers.set(Ft,qo),Wt(Ft),vt.controller&&Te.set(Ft,vt.controller)}),M({fetchers:new Map(L.fetchers)});let Pr=()=>mn.forEach(vt=>Wt(vt.key));De.signal.addEventListener("abort",Pr);let{loaderResults:An,fetcherResults:$e}=await We(Ir,mn,Cn,oe);if(De.signal.aborted)return;if(De.signal.removeEventListener("abort",Pr),H.delete(j),Te.delete(j),mn.forEach(vt=>Te.delete(vt.key)),L.fetchers.has(j)){let vt=Kn(et.data);L.fetchers.set(j,vt)}let Et=Do(An);if(Et)return at(Cn,Et.result,!1,{preventScrollReset:fe});if(Et=Do($e),Et)return V.add(Et.key),at(Cn,Et.result,!1,{preventScrollReset:fe});let{loaderData:gn,errors:It}=Qd(L,jn,An,void 0,mn,$e);Kr(an),L.navigation.state==="loading"&&an>te?(Oe(O,"Expected pending action"),W&&W.abort(),ie(L.navigation.location,{matches:jn,loaderData:gn,errors:It,fetchers:new Map(L.fetchers)})):(M({errors:It,loaderData:Gd(L.loaderData,gn,jn,It),fetchers:new Map(L.fetchers)}),Ie=!1)}async function ze(j,N,B,X,oe,he,ge,fe,we){let _e=L.fetchers.get(j);bt(j,sa(we,_e?_e.data:void 0),{flushSync:ge});let De=new AbortController,ve=wi(r.history,B,De.signal);if(he){let Ze=await Rr(X,new URL(ve.url).pathname,ve.signal,j);if(Ze.type==="aborted")return;if(Ze.type==="error"){gt(j,N,Ze.error,{flushSync:ge});return}else if(Ze.matches)X=Ze.matches;else{gt(j,N,fn(404,{pathname:B}),{flushSync:ge});return}}let Ne=Lo(X,B);Te.set(j,De);let Ge=Se,yt=bi(d,f,ve,X,Ne,u,oe),et=(await lt(ve,yt,oe,j))[Ne.route.id];if(Te.get(j)===De&&Te.delete(j),!ve.signal.aborted){if(de.has(j)){bt(j,Kn(void 0));return}if(Vr(et))if(te>Ge){bt(j,Kn(void 0));return}else{V.add(j),await at(ve,et,!1,{preventScrollReset:fe});return}if(nn(et)){gt(j,N,et.error);return}bt(j,Kn(et.data))}}async function at(j,N,B,{submission:X,fetcherSubmission:oe,preventScrollReset:he,replace:ge}={}){N.response.headers.has("X-Remix-Revalidate")&&(Ie=!0);let fe=N.response.headers.get("Location");Oe(fe,"Expected a Location header on the redirect Response"),fe=qd(fe,new URL(j.url),h);let we=pa(L.location,fe,{_isRedirect:!0});if(o){let yt=!1;if(N.response.headers.has("X-Remix-Reload-Document"))yt=!0;else if(Ks(fe)){const Tt=mf(fe,!0);yt=Tt.origin!==a.location.origin||hn(Tt.pathname,h)==null}if(yt){ge?a.location.replace(fe):a.location.assign(fe);return}}W=null;let _e=ge===!0||N.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:De,formAction:ve,formEncType:Ne}=L.navigation;!X&&!oe&&De&&ve&&Ne&&(X=Xd(L.navigation));let Ge=X||oe;if(bm.has(N.response.status)&&Ge&&Yt(Ge.formMethod))await Je(_e,we,{submission:{...Ge,formAction:fe},preventScrollReset:he||ee,enableViewTransition:B?q:void 0});else{let yt=Ls(we,X);await Je(_e,we,{overrideNavigation:yt,fetcherSubmission:oe,preventScrollReset:he||ee,enableViewTransition:B?q:void 0})}}async function lt(j,N,B,X){let oe,he={};try{oe=await Nm(v,j,N,X,B,!1)}catch(ge){return N.filter(fe=>fe.shouldLoad).forEach(fe=>{he[fe.route.id]={type:"error",error:ge}}),he}if(j.signal.aborted)return he;for(let[ge,fe]of Object.entries(oe))if(Bm(fe)){let we=fe.result;he[ge]={type:"redirect",response:Fm(we,j,ge,N,h)}}else he[ge]=await zm(fe);return he}async function We(j,N,B,X){let oe=lt(B,j,X,null),he=Promise.all(N.map(async we=>{if(we.matches&&we.match&&we.request&&we.controller){let De=(await lt(we.request,we.matches,X,we.key))[we.match.route.id];return{[we.key]:De}}else return Promise.resolve({[we.key]:{type:"error",error:fn(404,{pathname:we.path})}})})),ge=await oe,fe=(await he).reduce((we,_e)=>Object.assign(we,_e),{});return{loaderResults:ge,fetcherResults:fe}}function Qe(){Ie=!0,P.forEach((j,N)=>{Te.has(N)&&Fe.add(N),Wt(N)})}function bt(j,N,B={}){L.fetchers.set(j,N),M({fetchers:new Map(L.fetchers)},{flushSync:(B&&B.flushSync)===!0})}function gt(j,N,B,X={}){let oe=br(L.matches,N);st(j),M({errors:{[oe.route.id]:B},fetchers:new Map(L.fetchers)},{flushSync:(X&&X.flushSync)===!0})}function Xe(j){return U.set(j,(U.get(j)||0)+1),de.has(j)&&de.delete(j),L.fetchers.get(j)||Sm}function qr(j,N){Wt(j,N==null?void 0:N.reason),bt(j,Kn(null))}function st(j){let N=L.fetchers.get(j);Te.has(j)&&!(N&&N.state==="loading"&&H.has(j))&&Wt(j),P.delete(j),H.delete(j),V.delete(j),de.delete(j),Fe.delete(j),L.fetchers.delete(j)}function Rt(j){let N=(U.get(j)||0)-1;N<=0?(U.delete(j),de.add(j)):U.set(j,N),M({fetchers:new Map(L.fetchers)})}function Wt(j,N){let B=Te.get(j);B&&(B.abort(N),Te.delete(j))}function Ln(j){for(let N of j){let B=Xe(N),X=Kn(B.data);L.fetchers.set(N,X)}}function zn(){let j=[],N=!1;for(let B of V){let X=L.fetchers.get(B);Oe(X,`Expected fetcher: ${B}`),X.state==="loading"&&(V.delete(B),j.push(B),N=!0)}return Ln(j),N}function Kr(j){let N=[];for(let[B,X]of H)if(X<j){let oe=L.fetchers.get(B);Oe(oe,`Expected fetcher: ${B}`),oe.state==="loading"&&(Wt(B),H.delete(B),N.push(B))}return Ln(N),N.length>0}function Jn(j,N){let B=L.blockers.get(j)||la;return xe.get(j)!==N&&xe.set(j,N),B}function Qr(j){L.blockers.delete(j),xe.delete(j)}function Xn(j,N){let B=L.blockers.get(j)||la;Oe(B.state==="unblocked"&&N.state==="blocked"||B.state==="blocked"&&N.state==="blocked"||B.state==="blocked"&&N.state==="proceeding"||B.state==="blocked"&&N.state==="unblocked"||B.state==="proceeding"&&N.state==="unblocked",`Invalid blocker state transition: ${B.state} -> ${N.state}`);let X=new Map(L.blockers);X.set(j,N),M({blockers:X})}function Gr({currentLocation:j,nextLocation:N,historyAction:B}){if(xe.size===0)return;xe.size>1&&wt(!1,"A router only supports one blocker at a time");let X=Array.from(xe.entries()),[oe,he]=X[X.length-1],ge=L.blockers.get(oe);if(!(ge&&ge.state==="proceeding")&&he({currentLocation:j,nextLocation:N,historyAction:B}))return oe}function Cr(j){let N=fn(404,{pathname:j}),B=m||p,{matches:X,route:oe}=Po(B);return{notFoundMatches:X,route:oe,error:N}}function Zn(j,N,B){if(w=j,C=N,E=B||null,!I&&L.navigation===Ts){I=!0;let X=Ci(L.location,L.matches);X!=null&&M({restoreScrollPosition:X})}return()=>{w=null,C=null,E=null}}function Fn(j,N){return E&&E(j,N.map(X=>Xh(X,L.loaderData)))||j.key}function ba(j,N){if(w&&C){let B=Fn(j,N);w[B]=C()}}function Ci(j,N){if(w){let B=Fn(j,N),X=w[B];if(typeof X=="number")return X}return null}function jr(j,N,B){if(r.patchRoutesOnNavigation)if(j){if(Object.keys(j[0].params).length>0)return{active:!0,matches:To(N,B,h,!0)}}else return{active:!0,matches:To(N,B,h,!0)||[]};return{active:!1,matches:null}}async function Rr(j,N,B,X){if(!r.patchRoutesOnNavigation)return{type:"success",matches:j};let oe=j;for(;;){let he=m==null,ge=m||p,fe=f;try{await r.patchRoutesOnNavigation({signal:B,path:N,matches:oe,fetcherKey:X,patch:(De,ve)=>{B.aborted||Ud(De,ve,ge,fe,d,!1)}})}catch(De){return{type:"error",error:De,partialMatches:oe}}finally{he&&!B.aborted&&(p=[...p])}if(B.aborted)return{type:"aborted"};let we=wr(ge,N,h);if(we)return{type:"success",matches:we};let _e=To(ge,N,h,!0);if(!_e||oe.length===_e.length&&oe.every((De,ve)=>De.route.id===_e[ve].route.id))return{type:"success",matches:null};oe=_e}}function Sa(j){f={},m=ha(j,d,void 0,f)}function ji(j,N,B=!1){let X=m==null;Ud(j,N,m||p,f,d,B),X&&(p=[...p],M({}))}return ae={get basename(){return h},get future(){return g},get state(){return L},get routes(){return p},get window(){return a},initialize:be,subscribe:Be,enableScrollRestoration:Zn,navigate:Pe,fetch:ht,revalidate:He,createHref:j=>r.history.createHref(j),encodeLocation:j=>r.history.encodeLocation(j),getFetcher:Xe,resetFetcher:qr,deleteFetcher:Rt,dispose:ke,getBlocker:Jn,deleteBlocker:Qr,patchRoutes:ji,_internalFetchControllers:Te,_internalSetRoutes:Sa,_internalSetStateDoNotUseOrYouWillBreakYourApp(j){M(j)}},ae}function jm(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function Ms(r,a,o,u,d,f){let p,m;if(d){p=[];for(let v of a)if(p.push(v),v.route.id===d){m=v;break}}else p=a,m=a[a.length-1];let h=qs(u||".",Hs(p),hn(r.pathname,o)||r.pathname,f==="path");if(u==null&&(h.search=r.search,h.hash=r.hash),(u==null||u===""||u===".")&&m){let v=Gs(h.search);if(m.route.index&&!v)h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&v){let g=new URLSearchParams(h.search),x=g.getAll("index");g.delete("index"),x.filter(w=>w).forEach(w=>g.append("index",w));let b=g.toString();h.search=b?`?${b}`:""}}return o!=="/"&&(h.pathname=dm({basename:o,pathname:h.pathname})),Sr(h)}function $d(r,a,o){if(!o||!jm(o))return{path:a};if(o.formMethod&&!Um(o.formMethod))return{path:a,error:fn(405,{method:o.formMethod})};let u=()=>({path:a,error:fn(400,{type:"invalid-body"})}),f=(o.formMethod||"get").toUpperCase(),p=Rf(a);if(o.body!==void 0){if(o.formEncType==="text/plain"){if(!Yt(f))return u();let x=typeof o.body=="string"?o.body:o.body instanceof FormData||o.body instanceof URLSearchParams?Array.from(o.body.entries()).reduce((b,[w,E])=>`${b}${w}=${E}
`,""):String(o.body);return{path:a,submission:{formMethod:f,formAction:p,formEncType:o.formEncType,formData:void 0,json:void 0,text:x}}}else if(o.formEncType==="application/json"){if(!Yt(f))return u();try{let x=typeof o.body=="string"?JSON.parse(o.body):o.body;return{path:a,submission:{formMethod:f,formAction:p,formEncType:o.formEncType,formData:void 0,json:x,text:void 0}}}catch{return u()}}}Oe(typeof FormData=="function","FormData is not available in this environment");let m,h;if(o.formData)m=Bs(o.formData),h=o.formData;else if(o.body instanceof FormData)m=Bs(o.body),h=o.body;else if(o.body instanceof URLSearchParams)m=o.body,h=Kd(m);else if(o.body==null)m=new URLSearchParams,h=new FormData;else try{m=new URLSearchParams(o.body),h=Kd(m)}catch{return u()}let v={formMethod:f,formAction:p,formEncType:o&&o.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(Yt(v.formMethod))return{path:a,submission:v};let g=Gn(a);return r&&g.search&&Gs(g.search)&&m.append("index",""),g.search=`?${m}`,{path:Sr(g),submission:v}}function Bd(r,a,o,u,d,f,p,m,h,v,g,x,b,w,E,C,I,F,T,_){var le;let K=_?nn(_[1])?_[1].error:_[1].data:void 0,ae=d.createURL(f.location),L=d.createURL(h),O;if(g&&f.errors){let Ie=Object.keys(f.errors)[0];O=p.findIndex(Fe=>Fe.route.id===Ie)}else if(_&&nn(_[1])){let Ie=_[0];O=p.findIndex(Fe=>Fe.route.id===Ie)-1}let ee=_?_[1].statusCode:void 0,W=ee&&ee>=400,q={currentUrl:ae,currentParams:((le=f.matches[0])==null?void 0:le.params)||{},nextUrl:L,nextParams:p[0].params,...m,actionResult:K,actionStatus:ee},Q=p.map((Ie,Fe)=>{let{route:Te}=Ie,Se=null;if(O!=null&&Fe>O?Se=!1:Te.lazy?Se=!0:Qs(Te)?g?Se=Os(Te,f.loaderData,f.errors):Rm(f.loaderData,f.matches[Fe],Ie)&&(Se=!0):Se=!1,Se!==null)return $s(o,u,r,Ie,v,a,Se);let te=W?!1:x||ae.pathname+ae.search===L.pathname+L.search||ae.search!==L.search||Im(f.matches[Fe],Ie),H={...q,defaultShouldRevalidate:te},V=Oo(Ie,H);return $s(o,u,r,Ie,v,a,V,H)}),Re=[];return E.forEach((Ie,Fe)=>{if(g||!p.some(de=>de.route.id===Ie.routeId)||w.has(Fe))return;let Te=f.fetchers.get(Fe),Se=Te&&Te.state!=="idle"&&Te.data===void 0,te=wr(I,Ie.path,F);if(!te){if(T&&Se)return;Re.push({key:Fe,routeId:Ie.routeId,path:Ie.path,matches:null,match:null,request:null,controller:null});return}if(C.has(Fe))return;let H=Lo(te,Ie.path),V=new AbortController,P=wi(d,Ie.path,V.signal),U=null;if(b.has(Fe))b.delete(Fe),U=bi(o,u,P,te,H,v,a);else if(Se)x&&(U=bi(o,u,P,te,H,v,a));else{let de={...q,defaultShouldRevalidate:W?!1:x};Oo(H,de)&&(U=bi(o,u,P,te,H,v,a,de))}U&&Re.push({key:Fe,routeId:Ie.routeId,path:Ie.path,matches:U,match:H,request:P,controller:V})}),{dsMatches:Q,revalidatingFetchers:Re}}function Qs(r){return r.loader!=null||r.middleware!=null&&r.middleware.length>0}function Os(r,a,o){if(r.lazy)return!0;if(!Qs(r))return!1;let u=a!=null&&r.id in a,d=o!=null&&o[r.id]!==void 0;return!u&&d?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!u&&!d}function Rm(r,a,o){let u=!a||o.route.id!==a.route.id,d=!r.hasOwnProperty(o.route.id);return u||d}function Im(r,a){let o=r.route.path;return r.pathname!==a.pathname||o!=null&&o.endsWith("*")&&r.params["*"]!==a.params["*"]}function Oo(r,a){if(r.route.shouldRevalidate){let o=r.route.shouldRevalidate(a);if(typeof o=="boolean")return o}return a.defaultShouldRevalidate}function Ud(r,a,o,u,d,f){let p;if(r){let v=u[r];Oe(v,`No route found to patch children into: routeId = ${r}`),v.children||(v.children=[]),p=v.children}else p=o;let m=[],h=[];if(a.forEach(v=>{let g=p.find(x=>Sf(v,x));g?h.push({existingRoute:g,newRoute:v}):m.push(v)}),m.length>0){let v=ha(m,d,[r||"_","patch",String((p==null?void 0:p.length)||"0")],u);p.push(...v)}if(f&&h.length>0)for(let v=0;v<h.length;v++){let{existingRoute:g,newRoute:x}=h[v],b=g,[w]=ha([x],d,[],{},!0);Object.assign(b,{element:w.element?w.element:b.element,errorElement:w.errorElement?w.errorElement:b.errorElement,hydrateFallbackElement:w.hydrateFallbackElement?w.hydrateFallbackElement:b.hydrateFallbackElement})}}function Sf(r,a){return"id"in r&&"id"in a&&r.id===a.id?!0:r.index===a.index&&r.path===a.path&&r.caseSensitive===a.caseSensitive?(!r.children||r.children.length===0)&&(!a.children||a.children.length===0)?!0:r.children.every((o,u)=>{var d;return(d=a.children)==null?void 0:d.some(f=>Sf(o,f))}):!1}var Wd=new WeakMap,kf=({key:r,route:a,manifest:o,mapRouteProperties:u})=>{let d=o[a.id];if(Oe(d,"No route found in manifest"),!d.lazy||typeof d.lazy!="object")return;let f=d.lazy[r];if(!f)return;let p=Wd.get(d);p||(p={},Wd.set(d,p));let m=p[r];if(m)return m;let h=(async()=>{let v=Qh(r),x=d[r]!==void 0&&r!=="hasErrorBoundary";if(v)wt(!v,"Route property "+r+" is not a supported lazy route property. This property will be ignored."),p[r]=Promise.resolve();else if(x)wt(!1,`Route "${d.id}" has a static property "${r}" defined. The lazy property will be ignored.`);else{let b=await f();b!=null&&(Object.assign(d,{[r]:b}),Object.assign(d,u(d)))}typeof d.lazy=="object"&&(d.lazy[r]=void 0,Object.values(d.lazy).every(b=>b===void 0)&&(d.lazy=void 0))})();return p[r]=h,h},Vd=new WeakMap;function Pm(r,a,o,u,d){let f=o[r.id];if(Oe(f,"No route found in manifest"),!r.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof r.lazy=="function"){let g=Vd.get(f);if(g)return{lazyRoutePromise:g,lazyHandlerPromise:g};let x=(async()=>{Oe(typeof r.lazy=="function","No lazy route function found");let b=await r.lazy(),w={};for(let E in b){let C=b[E];if(C===void 0)continue;let I=Yh(E),T=f[E]!==void 0&&E!=="hasErrorBoundary";I?wt(!I,"Route property "+E+" is not a supported property to be returned from a lazy route function. This property will be ignored."):T?wt(!T,`Route "${f.id}" has a static property "${E}" defined but its lazy function is also returning a value for this property. The lazy route property "${E}" will be ignored.`):w[E]=C}Object.assign(f,w),Object.assign(f,{...u(f),lazy:void 0})})();return Vd.set(f,x),x.catch(()=>{}),{lazyRoutePromise:x,lazyHandlerPromise:x}}let p=Object.keys(r.lazy),m=[],h;for(let g of p){if(d&&d.includes(g))continue;let x=kf({key:g,route:r,manifest:o,mapRouteProperties:u});x&&(m.push(x),g===a&&(h=x))}let v=m.length>0?Promise.all(m).then(()=>{}):void 0;return v==null||v.catch(()=>{}),h==null||h.catch(()=>{}),{lazyRoutePromise:v,lazyHandlerPromise:h}}async function Hd(r){let a=r.matches.filter(d=>d.shouldLoad),o={};return(await Promise.all(a.map(d=>d.resolve()))).forEach((d,f)=>{o[a[f].route.id]=d}),o}async function Dm(r){return r.matches.some(a=>a.route.middleware)?Ef(r,()=>Hd(r)):Hd(r)}function Ef(r,a){return _m(r,a,u=>u,Om,o);function o(u,d,f){if(f)return Promise.resolve(Object.assign(f.value,{[d]:{type:"error",result:u}}));{let{matches:p}=r,m=Math.min(Math.max(p.findIndex(v=>v.route.id===d),0),Math.max(p.findIndex(v=>v.unstable_shouldCallHandler()),0)),h=br(p,p[m].route.id).route.id;return Promise.resolve({[h]:{type:"error",result:u}})}}}async function _m(r,a,o,u,d){let{matches:f,request:p,params:m,context:h}=r,v=f.flatMap(x=>x.route.middleware?x.route.middleware.map(b=>[x.route.id,b]):[]);return await Cf({request:p,params:m,context:h},v,a,o,u,d)}async function Cf(r,a,o,u,d,f,p=0){let{request:m}=r;if(m.signal.aborted)throw m.signal.reason??new Error(`Request aborted: ${m.method} ${m.url}`);let h=a[p];if(!h)return await o();let[v,g]=h,x,b=async()=>{if(x)throw new Error("You may only call `next()` once per middleware");try{return x={value:await Cf(r,a,o,u,d,f,p+1)},x.value}catch(w){return x={value:await f(w,v,x)},x.value}};try{let w=await g(r,b),E=w!=null?u(w):void 0;return d(E)?E:x?E??x.value:(x={value:await b()},x.value)}catch(w){return await f(w,v,x)}}function jf(r,a,o,u,d){let f=kf({key:"middleware",route:u.route,manifest:a,mapRouteProperties:r}),p=Pm(u.route,Yt(o.method)?"action":"loader",a,r,d);return{middleware:f,route:p.lazyRoutePromise,handler:p.lazyHandlerPromise}}function $s(r,a,o,u,d,f,p,m=null){let h=!1,v=jf(r,a,o,u,d);return{...u,_lazyPromises:v,shouldLoad:p,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler(g){return h=!0,m?typeof g=="boolean"?Oo(u,{...m,defaultShouldRevalidate:g}):Oo(u,m):p},resolve(g){let{lazy:x,loader:b,middleware:w}=u.route,E=h||p||g&&!Yt(o.method)&&(x||b),C=w&&w.length>0&&!b&&!x;return E&&!C?Tm({request:o,match:u,lazyHandlerPromise:v==null?void 0:v.handler,lazyRoutePromise:v==null?void 0:v.route,handlerOverride:g,scopedContext:f}):Promise.resolve({type:"data",result:void 0})}}}function bi(r,a,o,u,d,f,p,m=null){return u.map(h=>h.route.id!==d.route.id?{...h,shouldLoad:!1,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler:()=>!1,_lazyPromises:jf(r,a,o,h,f),resolve:()=>Promise.resolve({type:"data",result:void 0})}:$s(r,a,o,h,f,p,!0,m))}async function Nm(r,a,o,u,d,f){o.some(v=>{var g;return(g=v._lazyPromises)==null?void 0:g.middleware})&&await Promise.all(o.map(v=>{var g;return(g=v._lazyPromises)==null?void 0:g.middleware}));let p={request:a,params:o[0].params,context:d,matches:o},h=await r({...p,fetcherKey:u,runClientMiddleware:v=>{let g=p;return Ef(g,()=>v({...g,fetcherKey:u,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(o.flatMap(v=>{var g,x;return[(g=v._lazyPromises)==null?void 0:g.handler,(x=v._lazyPromises)==null?void 0:x.route]}))}catch{}return h}async function Tm({request:r,match:a,lazyHandlerPromise:o,lazyRoutePromise:u,handlerOverride:d,scopedContext:f}){let p,m,h=Yt(r.method),v=h?"action":"loader",g=x=>{let b,w=new Promise((I,F)=>b=F);m=()=>b(),r.signal.addEventListener("abort",m);let E=I=>typeof x!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${v}" [routeId: ${a.route.id}]`)):x({request:r,params:a.params,context:f},...I!==void 0?[I]:[]),C=(async()=>{try{return{type:"data",result:await(d?d(F=>E(F)):E())}}catch(I){return{type:"error",result:I}}})();return Promise.race([C,w])};try{let x=h?a.route.action:a.route.loader;if(o||u)if(x){let b,[w]=await Promise.all([g(x).catch(E=>{b=E}),o,u]);if(b!==void 0)throw b;p=w}else{await o;let b=h?a.route.action:a.route.loader;if(b)[p]=await Promise.all([g(b),u]);else if(v==="action"){let w=new URL(r.url),E=w.pathname+w.search;throw fn(405,{method:r.method,pathname:E,routeId:a.route.id})}else return{type:"data",result:void 0}}else if(x)p=await g(x);else{let b=new URL(r.url),w=b.pathname+b.search;throw fn(404,{pathname:w})}}catch(x){return{type:"error",result:x}}finally{m&&r.signal.removeEventListener("abort",m)}return p}async function Lm(r){let a=r.headers.get("Content-Type");return a&&/\bapplication\/json\b/.test(a)?r.body==null?null:r.json():r.text()}async function zm(r){var u,d,f,p,m,h;let{result:a,type:o}=r;if(If(a)){let v;try{v=await Lm(a)}catch(g){return{type:"error",error:g}}return o==="error"?{type:"error",error:new Mo(a.status,a.statusText,v),statusCode:a.status,headers:a.headers}:{type:"data",data:v,statusCode:a.status,headers:a.headers}}return o==="error"?Jd(a)?a.data instanceof Error?{type:"error",error:a.data,statusCode:(u=a.init)==null?void 0:u.status,headers:(d=a.init)!=null&&d.headers?new Headers(a.init.headers):void 0}:{type:"error",error:new Mo(((f=a.init)==null?void 0:f.status)||500,void 0,a.data),statusCode:ma(a)?a.status:void 0,headers:(p=a.init)!=null&&p.headers?new Headers(a.init.headers):void 0}:{type:"error",error:a,statusCode:ma(a)?a.status:void 0}:Jd(a)?{type:"data",data:a.data,statusCode:(m=a.init)==null?void 0:m.status,headers:(h=a.init)!=null&&h.headers?new Headers(a.init.headers):void 0}:{type:"data",data:a}}function Fm(r,a,o,u,d){let f=r.headers.get("Location");if(Oe(f,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ks(f)){let p=u.slice(0,u.findIndex(m=>m.route.id===o)+1);f=Ms(new URL(a.url),p,d,f),r.headers.set("Location",f)}return r}function qd(r,a,o){if(Ks(r)){let u=r,d=u.startsWith("//")?new URL(a.protocol+u):new URL(u),f=hn(d.pathname,o)!=null;if(d.origin===a.origin&&f)return d.pathname+d.search+d.hash}return r}function wi(r,a,o,u){let d=r.createURL(Rf(a)).toString(),f={signal:o};if(u&&Yt(u.formMethod)){let{formMethod:p,formEncType:m}=u;f.method=p.toUpperCase(),m==="application/json"?(f.headers=new Headers({"Content-Type":m}),f.body=JSON.stringify(u.json)):m==="text/plain"?f.body=u.text:m==="application/x-www-form-urlencoded"&&u.formData?f.body=Bs(u.formData):f.body=u.formData}return new Request(d,f)}function Bs(r){let a=new URLSearchParams;for(let[o,u]of r.entries())a.append(o,typeof u=="string"?u:u.name);return a}function Kd(r){let a=new FormData;for(let[o,u]of r.entries())a.append(o,u);return a}function Am(r,a,o,u=!1,d=!1){let f={},p=null,m,h=!1,v={},g=o&&nn(o[1])?o[1].error:void 0;return r.forEach(x=>{if(!(x.route.id in a))return;let b=x.route.id,w=a[b];if(Oe(!Vr(w),"Cannot handle redirect results in processLoaderData"),nn(w)){let E=w.error;if(g!==void 0&&(E=g,g=void 0),p=p||{},d)p[b]=E;else{let C=br(r,b);p[C.route.id]==null&&(p[C.route.id]=E)}u||(f[b]=bf),h||(h=!0,m=ma(w.error)?w.error.status:500),w.headers&&(v[b]=w.headers)}else f[b]=w.data,w.statusCode&&w.statusCode!==200&&!h&&(m=w.statusCode),w.headers&&(v[b]=w.headers)}),g!==void 0&&o&&(p={[o[0]]:g},o[2]&&(f[o[2]]=void 0)),{loaderData:f,errors:p,statusCode:m||200,loaderHeaders:v}}function Qd(r,a,o,u,d,f){let{loaderData:p,errors:m}=Am(a,o,u);return d.filter(h=>!h.matches||h.matches.some(v=>v.shouldLoad)).forEach(h=>{let{key:v,match:g,controller:x}=h;if(x&&x.signal.aborted)return;let b=f[v];if(Oe(b,"Did not find corresponding fetcher result"),nn(b)){let w=br(r.matches,g==null?void 0:g.route.id);m&&m[w.route.id]||(m={...m,[w.route.id]:b.error}),r.fetchers.delete(v)}else if(Vr(b))Oe(!1,"Unhandled fetcher revalidation redirect");else{let w=Kn(b.data);r.fetchers.set(v,w)}}),{loaderData:p,errors:m}}function Gd(r,a,o,u){let d=Object.entries(a).filter(([,f])=>f!==bf).reduce((f,[p,m])=>(f[p]=m,f),{});for(let f of o){let p=f.route.id;if(!a.hasOwnProperty(p)&&r.hasOwnProperty(p)&&f.route.loader&&(d[p]=r[p]),u&&u.hasOwnProperty(p))break}return d}function Yd(r){return r?nn(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function br(r,a){return(a?r.slice(0,r.findIndex(u=>u.route.id===a)+1):[...r]).reverse().find(u=>u.route.hasErrorBoundary===!0)||r[0]}function Po(r){let a=r.length===1?r[0]:r.find(o=>o.index||!o.path||o.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:a}],route:a}}function fn(r,{pathname:a,routeId:o,method:u,type:d,message:f}={}){let p="Unknown Server Error",m="Unknown @remix-run/router error";return r===400?(p="Bad Request",u&&a&&o?m=`You made a ${u} request to "${a}" but did not provide a \`loader\` for route "${o}", so there is no way to handle the request.`:d==="invalid-body"&&(m="Unable to encode submission body")):r===403?(p="Forbidden",m=`Route "${o}" does not match URL "${a}"`):r===404?(p="Not Found",m=`No route matches URL "${a}"`):r===405&&(p="Method Not Allowed",u&&a&&o?m=`You made a ${u.toUpperCase()} request to "${a}" but did not provide an \`action\` for route "${o}", so there is no way to handle the request.`:u&&(m=`Invalid request method "${u.toUpperCase()}"`)),new Mo(r||500,p,new Error(m),!0)}function Do(r){let a=Object.entries(r);for(let o=a.length-1;o>=0;o--){let[u,d]=a[o];if(Vr(d))return{key:u,result:d}}}function Rf(r){let a=typeof r=="string"?Gn(r):r;return Sr({...a,hash:""})}function Mm(r,a){return r.pathname!==a.pathname||r.search!==a.search?!1:r.hash===""?a.hash!=="":r.hash===a.hash?!0:a.hash!==""}function Om(r){return r!=null&&typeof r=="object"&&Object.entries(r).every(([a,o])=>typeof a=="string"&&$m(o))}function $m(r){return r!=null&&typeof r=="object"&&"type"in r&&"result"in r&&(r.type==="data"||r.type==="error")}function Bm(r){return If(r.result)&&wm.has(r.result.status)}function nn(r){return r.type==="error"}function Vr(r){return(r&&r.type)==="redirect"}function Jd(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function If(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function Um(r){return xm.has(r.toUpperCase())}function Yt(r){return ym.has(r.toUpperCase())}function Gs(r){return new URLSearchParams(r).getAll("index").some(a=>a==="")}function Lo(r,a){let o=typeof a=="string"?Gn(a).search:a.search;if(r[r.length-1].route.index&&Gs(o||""))return r[r.length-1];let u=vf(r);return u[u.length-1]}function Xd(r){let{formMethod:a,formAction:o,formEncType:u,text:d,formData:f,json:p}=r;if(!(!a||!o||!u)){if(d!=null)return{formMethod:a,formAction:o,formEncType:u,formData:void 0,json:void 0,text:d};if(f!=null)return{formMethod:a,formAction:o,formEncType:u,formData:f,json:void 0,text:void 0};if(p!==void 0)return{formMethod:a,formAction:o,formEncType:u,formData:void 0,json:p,text:void 0}}}function Ls(r,a){return a?{state:"loading",location:r,formMethod:a.formMethod,formAction:a.formAction,formEncType:a.formEncType,formData:a.formData,json:a.json,text:a.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Wm(r,a){return{state:"submitting",location:r,formMethod:a.formMethod,formAction:a.formAction,formEncType:a.formEncType,formData:a.formData,json:a.json,text:a.text}}function sa(r,a){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:a}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:a}}function Vm(r,a){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:a?a.data:void 0}}function Kn(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function Hm(r,a){try{let o=r.sessionStorage.getItem(wf);if(o){let u=JSON.parse(o);for(let[d,f]of Object.entries(u||{}))f&&Array.isArray(f)&&a.set(d,new Set(f||[]))}}catch{}}function qm(r,a){if(a.size>0){let o={};for(let[u,d]of a)o[u]=[...d];try{r.sessionStorage.setItem(wf,JSON.stringify(o))}catch(u){wt(!1,`Failed to save applied view transitions in sessionStorage (${u}).`)}}}function Km(){let r,a,o=new Promise((u,d)=>{r=async f=>{u(f);try{await o}catch{}},a=async f=>{d(f);try{await o}catch{}}});return{promise:o,resolve:r,reject:a}}var Hr=k.createContext(null);Hr.displayName="DataRouter";var ya=k.createContext(null);ya.displayName="DataRouterState";k.createContext(!1);var Ys=k.createContext({isTransitioning:!1});Ys.displayName="ViewTransition";var Pf=k.createContext(new Map);Pf.displayName="Fetchers";var Qm=k.createContext(null);Qm.displayName="Await";var Nn=k.createContext(null);Nn.displayName="Navigation";var Bo=k.createContext(null);Bo.displayName="Location";var Tn=k.createContext({outlet:null,matches:[],isDataRoute:!1});Tn.displayName="Route";var Js=k.createContext(null);Js.displayName="RouteError";function Gm(r,{relative:a}={}){Oe(va(),"useHref() may be used only in the context of a <Router> component.");let{basename:o,navigator:u}=k.useContext(Nn),{hash:d,pathname:f,search:p}=xa(r,{relative:a}),m=f;return o!=="/"&&(m=f==="/"?o:_n([o,f])),u.createHref({pathname:m,search:p,hash:d})}function va(){return k.useContext(Bo)!=null}function kr(){return Oe(va(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Bo).location}var Df="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _f(r){k.useContext(Nn).static||k.useLayoutEffect(r)}function Ym(){let{isDataRoute:r}=k.useContext(Tn);return r?dg():Jm()}function Jm(){Oe(va(),"useNavigate() may be used only in the context of a <Router> component.");let r=k.useContext(Hr),{basename:a,navigator:o}=k.useContext(Nn),{matches:u}=k.useContext(Tn),{pathname:d}=kr(),f=JSON.stringify(Hs(u)),p=k.useRef(!1);return _f(()=>{p.current=!0}),k.useCallback((h,v={})=>{if(wt(p.current,Df),!p.current)return;if(typeof h=="number"){o.go(h);return}let g=qs(h,JSON.parse(f),d,v.relative==="path");r==null&&a!=="/"&&(g.pathname=g.pathname==="/"?a:_n([a,g.pathname])),(v.replace?o.replace:o.push)(g,v.state,v)},[a,o,f,d,r])}var Xm=k.createContext(null);function Zm(r){let a=k.useContext(Tn).outlet;return k.useMemo(()=>a&&k.createElement(Xm.Provider,{value:r},a),[a,r])}function xa(r,{relative:a}={}){let{matches:o}=k.useContext(Tn),{pathname:u}=kr(),d=JSON.stringify(Hs(o));return k.useMemo(()=>qs(r,JSON.parse(d),u,a==="path"),[r,d,u,a])}function eg(r,a,o,u,d){Oe(va(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:f}=k.useContext(Nn),{matches:p}=k.useContext(Tn),m=p[p.length-1],h=m?m.params:{},v=m?m.pathname:"/",g=m?m.pathnameBase:"/",x=m&&m.route;{let T=x&&x.path||"";Nf(v,!x||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let b=kr(),w;w=b;let E=w.pathname||"/",C=E;if(g!=="/"){let T=g.replace(/^\//,"").split("/");C="/"+E.replace(/^\//,"").split("/").slice(T.length).join("/")}let I=wr(r,{pathname:C});return wt(x||I!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),wt(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),ag(I&&I.map(T=>Object.assign({},T,{params:Object.assign({},h,T.params),pathname:_n([g,f.encodeLocation?f.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?g:_n([g,f.encodeLocation?f.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),p,o,u,d)}function tg(){let r=cg(),a=ma(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),o=r instanceof Error?r.stack:null,u="rgba(200,200,200, 0.5)",d={padding:"0.5rem",backgroundColor:u},f={padding:"2px 4px",backgroundColor:u},p=null;return console.error("Error handled by React Router default ErrorBoundary:",r),p=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:f},"ErrorBoundary")," or"," ",k.createElement("code",{style:f},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},a),o?k.createElement("pre",{style:d},o):null,p)}var ng=k.createElement(tg,null),rg=class extends k.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,a){return a.location!==r.location||a.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:a.error,location:a.location,revalidation:r.revalidation||a.revalidation}}componentDidCatch(r,a){this.props.unstable_onError?this.props.unstable_onError(r,a):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?k.createElement(Tn.Provider,{value:this.props.routeContext},k.createElement(Js.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ig({routeContext:r,match:a,children:o}){let u=k.useContext(Hr);return u&&u.static&&u.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=a.route.id),k.createElement(Tn.Provider,{value:r},o)}function ag(r,a=[],o=null,u=null,d=null){if(r==null){if(!o)return null;if(o.errors)r=o.matches;else if(a.length===0&&!o.initialized&&o.matches.length>0)r=o.matches;else return null}let f=r,p=o==null?void 0:o.errors;if(p!=null){let v=f.findIndex(g=>g.route.id&&(p==null?void 0:p[g.route.id])!==void 0);Oe(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(p).join(",")}`),f=f.slice(0,Math.min(f.length,v+1))}let m=!1,h=-1;if(o)for(let v=0;v<f.length;v++){let g=f[v];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=v),g.route.id){let{loaderData:x,errors:b}=o,w=g.route.loader&&!x.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||w){m=!0,h>=0?f=f.slice(0,h+1):f=[f[0]];break}}}return f.reduceRight((v,g,x)=>{let b,w=!1,E=null,C=null;o&&(b=p&&g.route.id?p[g.route.id]:void 0,E=g.route.errorElement||ng,m&&(h<0&&x===0?(Nf("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,C=null):h===x&&(w=!0,C=g.route.hydrateFallbackElement||null)));let I=a.concat(f.slice(0,x+1)),F=()=>{let T;return b?T=E:w?T=C:g.route.Component?T=k.createElement(g.route.Component,null):g.route.element?T=g.route.element:T=v,k.createElement(ig,{match:g,routeContext:{outlet:v,matches:I,isDataRoute:o!=null},children:T})};return o&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?k.createElement(rg,{location:o.location,revalidation:o.revalidation,component:E,error:b,children:F(),routeContext:{outlet:null,matches:I,isDataRoute:!0},unstable_onError:u}):F()},null)}function Xs(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function og(r){let a=k.useContext(Hr);return Oe(a,Xs(r)),a}function lg(r){let a=k.useContext(ya);return Oe(a,Xs(r)),a}function sg(r){let a=k.useContext(Tn);return Oe(a,Xs(r)),a}function Zs(r){let a=sg(r),o=a.matches[a.matches.length-1];return Oe(o.route.id,`${r} can only be used on routes that contain a unique "id"`),o.route.id}function ug(){return Zs("useRouteId")}function cg(){var u;let r=k.useContext(Js),a=lg("useRouteError"),o=Zs("useRouteError");return r!==void 0?r:(u=a.errors)==null?void 0:u[o]}function dg(){let{router:r}=og("useNavigate"),a=Zs("useNavigate"),o=k.useRef(!1);return _f(()=>{o.current=!0}),k.useCallback(async(d,f={})=>{wt(o.current,Df),o.current&&(typeof d=="number"?r.navigate(d):await r.navigate(d,{fromRouteId:a,...f}))},[r,a])}var Zd={};function Nf(r,a,o){!a&&!Zd[r]&&(Zd[r]=!0,wt(!1,o))}var ef={};function tf(r,a){!r&&!ef[a]&&(ef[a]=!0,console.warn(a))}function fg(r){let a={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&wt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(a,{element:k.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&wt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(a,{hydrateFallbackElement:k.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&wt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(a,{errorElement:k.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),a}var pg=["HydrateFallback","hydrateFallbackElement"],hg=class{constructor(){this.status="pending",this.promise=new Promise((r,a)=>{this.resolve=o=>{this.status==="pending"&&(this.status="resolved",r(o))},this.reject=o=>{this.status==="pending"&&(this.status="rejected",a(o))}})}};function mg({router:r,flushSync:a,unstable_onError:o}){let[u,d]=k.useState(r.state),[f,p]=k.useState(),[m,h]=k.useState({isTransitioning:!1}),[v,g]=k.useState(),[x,b]=k.useState(),[w,E]=k.useState(),C=k.useRef(new Map),I=k.useCallback(ae=>{d(L=>(ae.errors&&o&&Object.entries(ae.errors).forEach(([O,ee])=>{var W;((W=L.errors)==null?void 0:W[O])!==ee&&o(ee)}),ae))},[o]),F=k.useCallback((ae,{deletedFetchers:L,flushSync:O,viewTransitionOpts:ee})=>{ae.fetchers.forEach((q,Q)=>{q.data!==void 0&&C.current.set(Q,q.data)}),L.forEach(q=>C.current.delete(q)),tf(O===!1||a!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let W=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(tf(ee==null||W,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!ee||!W){a&&O?a(()=>I(ae)):k.startTransition(()=>I(ae));return}if(a&&O){a(()=>{x&&(v&&v.resolve(),x.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:ee.currentLocation,nextLocation:ee.nextLocation})});let q=r.window.document.startViewTransition(()=>{a(()=>I(ae))});q.finished.finally(()=>{a(()=>{g(void 0),b(void 0),p(void 0),h({isTransitioning:!1})})}),a(()=>b(q));return}x?(v&&v.resolve(),x.skipTransition(),E({state:ae,currentLocation:ee.currentLocation,nextLocation:ee.nextLocation})):(p(ae),h({isTransitioning:!0,flushSync:!1,currentLocation:ee.currentLocation,nextLocation:ee.nextLocation}))},[r.window,a,x,v,I]);k.useLayoutEffect(()=>r.subscribe(F),[r,F]),k.useEffect(()=>{m.isTransitioning&&!m.flushSync&&g(new hg)},[m]),k.useEffect(()=>{if(v&&f&&r.window){let ae=f,L=v.promise,O=r.window.document.startViewTransition(async()=>{k.startTransition(()=>I(ae)),await L});O.finished.finally(()=>{g(void 0),b(void 0),p(void 0),h({isTransitioning:!1})}),b(O)}},[f,v,r.window,I]),k.useEffect(()=>{v&&f&&u.location.key===f.location.key&&v.resolve()},[v,x,u.location,f]),k.useEffect(()=>{!m.isTransitioning&&w&&(p(w.state),h({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),E(void 0))},[m.isTransitioning,w]);let T=k.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:ae=>r.navigate(ae),push:(ae,L,O)=>r.navigate(ae,{state:L,preventScrollReset:O==null?void 0:O.preventScrollReset}),replace:(ae,L,O)=>r.navigate(ae,{replace:!0,state:L,preventScrollReset:O==null?void 0:O.preventScrollReset})}),[r]),_=r.basename||"/",K=k.useMemo(()=>({router:r,navigator:T,static:!1,basename:_,unstable_onError:o}),[r,T,_,o]);return k.createElement(k.Fragment,null,k.createElement(Hr.Provider,{value:K},k.createElement(ya.Provider,{value:u},k.createElement(Pf.Provider,{value:C.current},k.createElement(Ys.Provider,{value:m},k.createElement(xg,{basename:_,location:u.location,navigationType:u.historyAction,navigator:T},k.createElement(gg,{routes:r.routes,future:r.future,state:u,unstable_onError:o})))))),null)}var gg=k.memo(yg);function yg({routes:r,future:a,state:o,unstable_onError:u}){return eg(r,void 0,o,u,a)}function vg(r){return Zm(r.context)}function xg({basename:r="/",children:a=null,location:o,navigationType:u="POP",navigator:d,static:f=!1}){Oe(!va(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=r.replace(/^\/*/,"/"),m=k.useMemo(()=>({basename:p,navigator:d,static:f,future:{}}),[p,d,f]);typeof o=="string"&&(o=Gn(o));let{pathname:h="/",search:v="",hash:g="",state:x=null,key:b="default"}=o,w=k.useMemo(()=>{let E=hn(h,p);return E==null?null:{location:{pathname:E,search:v,hash:g,state:x,key:b},navigationType:u}},[p,h,v,g,x,b,u]);return wt(w!=null,`<Router basename="${p}"> is not able to match the URL "${h}${v}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:k.createElement(Nn.Provider,{value:m},k.createElement(Bo.Provider,{children:a,value:w}))}var zo="get",Fo="application/x-www-form-urlencoded";function Uo(r){return r!=null&&typeof r.tagName=="string"}function wg(r){return Uo(r)&&r.tagName.toLowerCase()==="button"}function bg(r){return Uo(r)&&r.tagName.toLowerCase()==="form"}function Sg(r){return Uo(r)&&r.tagName.toLowerCase()==="input"}function kg(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Eg(r,a){return r.button===0&&(!a||a==="_self")&&!kg(r)}var _o=null;function Cg(){if(_o===null)try{new FormData(document.createElement("form"),0),_o=!1}catch{_o=!0}return _o}var jg=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zs(r){return r!=null&&!jg.has(r)?(wt(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fo}"`),null):r}function Rg(r,a){let o,u,d,f,p;if(bg(r)){let m=r.getAttribute("action");u=m?hn(m,a):null,o=r.getAttribute("method")||zo,d=zs(r.getAttribute("enctype"))||Fo,f=new FormData(r)}else if(wg(r)||Sg(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=r.getAttribute("formaction")||m.getAttribute("action");if(u=h?hn(h,a):null,o=r.getAttribute("formmethod")||m.getAttribute("method")||zo,d=zs(r.getAttribute("formenctype"))||zs(m.getAttribute("enctype"))||Fo,f=new FormData(m,r),!Cg()){let{name:v,type:g,value:x}=r;if(g==="image"){let b=v?`${v}.`:"";f.append(`${b}x`,"0"),f.append(`${b}y`,"0")}else v&&f.append(v,x)}}else{if(Uo(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');o=zo,u=null,d=Fo,p=r}return f&&d==="text/plain"&&(p=f,f=void 0),{action:u,method:o.toLowerCase(),encType:d,formData:f,body:p}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function eu(r,a){if(r===!1||r===null||typeof r>"u")throw new Error(a)}function Ig(r,a,o){let u=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return u.pathname==="/"?u.pathname=`_root.${o}`:a&&hn(u.pathname,a)==="/"?u.pathname=`${a.replace(/\/$/,"")}/_root.${o}`:u.pathname=`${u.pathname.replace(/\/$/,"")}.${o}`,u}async function Pg(r,a){if(r.id in a)return a[r.id];try{let o=await import(r.module);return a[r.id]=o,o}catch(o){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(o),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Dg(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function _g(r,a,o){let u=await Promise.all(r.map(async d=>{let f=a.routes[d.route.id];if(f){let p=await Pg(f,o);return p.links?p.links():[]}return[]}));return zg(u.flat(1).filter(Dg).filter(d=>d.rel==="stylesheet"||d.rel==="preload").map(d=>d.rel==="stylesheet"?{...d,rel:"prefetch",as:"style"}:{...d,rel:"prefetch"}))}function nf(r,a,o,u,d,f){let p=(h,v)=>o[v]?h.route.id!==o[v].route.id:!0,m=(h,v)=>{var g;return o[v].pathname!==h.pathname||((g=o[v].route.path)==null?void 0:g.endsWith("*"))&&o[v].params["*"]!==h.params["*"]};return f==="assets"?a.filter((h,v)=>p(h,v)||m(h,v)):f==="data"?a.filter((h,v)=>{var x;let g=u.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(p(h,v)||m(h,v))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(d.pathname+d.search+d.hash,window.origin),currentParams:((x=o[0])==null?void 0:x.params)||{},nextUrl:new URL(r,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Ng(r,a,{includeHydrateFallback:o}={}){return Tg(r.map(u=>{let d=a.routes[u.route.id];if(!d)return[];let f=[d.module];return d.clientActionModule&&(f=f.concat(d.clientActionModule)),d.clientLoaderModule&&(f=f.concat(d.clientLoaderModule)),o&&d.hydrateFallbackModule&&(f=f.concat(d.hydrateFallbackModule)),d.imports&&(f=f.concat(d.imports)),f}).flat(1))}function Tg(r){return[...new Set(r)]}function Lg(r){let a={},o=Object.keys(r).sort();for(let u of o)a[u]=r[u];return a}function zg(r,a){let o=new Set;return new Set(a),r.reduce((u,d)=>{let f=JSON.stringify(Lg(d));return o.has(f)||(o.add(f),u.push({key:f,link:d})),u},[])}function Tf(){let r=k.useContext(Hr);return eu(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Fg(){let r=k.useContext(ya);return eu(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var tu=k.createContext(void 0);tu.displayName="FrameworkContext";function Lf(){let r=k.useContext(tu);return eu(r,"You must render this element inside a <HydratedRouter> element"),r}function Ag(r,a){let o=k.useContext(tu),[u,d]=k.useState(!1),[f,p]=k.useState(!1),{onFocus:m,onBlur:h,onMouseEnter:v,onMouseLeave:g,onTouchStart:x}=a,b=k.useRef(null);k.useEffect(()=>{if(r==="render"&&p(!0),r==="viewport"){let C=F=>{F.forEach(T=>{p(T.isIntersecting)})},I=new IntersectionObserver(C,{threshold:.5});return b.current&&I.observe(b.current),()=>{I.disconnect()}}},[r]),k.useEffect(()=>{if(u){let C=setTimeout(()=>{p(!0)},100);return()=>{clearTimeout(C)}}},[u]);let w=()=>{d(!0)},E=()=>{d(!1),p(!1)};return o?r!=="intent"?[f,b,{}]:[f,b,{onFocus:ua(m,w),onBlur:ua(h,E),onMouseEnter:ua(v,w),onMouseLeave:ua(g,E),onTouchStart:ua(x,w)}]:[!1,b,{}]}function ua(r,a){return o=>{r&&r(o),o.defaultPrevented||a(o)}}function Mg({page:r,...a}){let{router:o}=Tf(),u=k.useMemo(()=>wr(o.routes,r,o.basename),[o.routes,r,o.basename]);return u?k.createElement($g,{page:r,matches:u,...a}):null}function Og(r){let{manifest:a,routeModules:o}=Lf(),[u,d]=k.useState([]);return k.useEffect(()=>{let f=!1;return _g(r,a,o).then(p=>{f||d(p)}),()=>{f=!0}},[r,a,o]),u}function $g({page:r,matches:a,...o}){let u=kr(),{manifest:d,routeModules:f}=Lf(),{basename:p}=Tf(),{loaderData:m,matches:h}=Fg(),v=k.useMemo(()=>nf(r,a,h,d,u,"data"),[r,a,h,d,u]),g=k.useMemo(()=>nf(r,a,h,d,u,"assets"),[r,a,h,d,u]),x=k.useMemo(()=>{if(r===u.pathname+u.search+u.hash)return[];let E=new Set,C=!1;if(a.forEach(F=>{var _;let T=d.routes[F.route.id];!T||!T.hasLoader||(!v.some(K=>K.route.id===F.route.id)&&F.route.id in m&&((_=f[F.route.id])!=null&&_.shouldRevalidate)||T.hasClientLoader?C=!0:E.add(F.route.id))}),E.size===0)return[];let I=Ig(r,p,"data");return C&&E.size>0&&I.searchParams.set("_routes",a.filter(F=>E.has(F.route.id)).map(F=>F.route.id).join(",")),[I.pathname+I.search]},[p,m,u,d,v,a,r,f]),b=k.useMemo(()=>Ng(g,d),[g,d]),w=Og(g);return k.createElement(k.Fragment,null,x.map(E=>k.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...o})),b.map(E=>k.createElement("link",{key:E,rel:"modulepreload",href:E,...o})),w.map(({key:E,link:C})=>k.createElement("link",{key:E,nonce:o.nonce,...C})))}function Bg(...r){return a=>{r.forEach(o=>{typeof o=="function"?o(a):o!=null&&(o.current=a)})}}var zf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zf&&(window.__reactRouterVersion="7.9.3")}catch{}function Ug(r,a){return Cm({basename:a==null?void 0:a.basename,getContext:a==null?void 0:a.getContext,future:a==null?void 0:a.future,history:Vh({window:a==null?void 0:a.window}),hydrationData:Wg(),routes:r,mapRouteProperties:fg,hydrationRouteProperties:pg,dataStrategy:a==null?void 0:a.dataStrategy,patchRoutesOnNavigation:a==null?void 0:a.patchRoutesOnNavigation,window:a==null?void 0:a.window}).initialize()}function Wg(){let r=window==null?void 0:window.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:Vg(r.errors)}),r}function Vg(r){if(!r)return null;let a=Object.entries(r),o={};for(let[u,d]of a)if(d&&d.__type==="RouteErrorResponse")o[u]=new Mo(d.status,d.statusText,d.data,d.internal===!0);else if(d&&d.__type==="Error"){if(d.__subType){let f=window[d.__subType];if(typeof f=="function")try{let p=new f(d.message);p.stack="",o[u]=p}catch{}}if(o[u]==null){let f=new Error(d.message);f.stack="",o[u]=f}}else o[u]=d;return o}var Ff=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Af=k.forwardRef(function({onClick:a,discover:o="render",prefetch:u="none",relative:d,reloadDocument:f,replace:p,state:m,target:h,to:v,preventScrollReset:g,viewTransition:x,...b},w){let{basename:E}=k.useContext(Nn),C=typeof v=="string"&&Ff.test(v),I,F=!1;if(typeof v=="string"&&C&&(I=v,zf))try{let W=new URL(window.location.href),q=v.startsWith("//")?new URL(W.protocol+v):new URL(v),Q=hn(q.pathname,E);q.origin===W.origin&&Q!=null?v=Q+q.search+q.hash:F=!0}catch{wt(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=Gm(v,{relative:d}),[_,K,ae]=Ag(u,b),L=Kg(v,{replace:p,state:m,target:h,preventScrollReset:g,relative:d,viewTransition:x});function O(W){a&&a(W),W.defaultPrevented||L(W)}let ee=k.createElement("a",{...b,...ae,href:I||T,onClick:F||f?a:O,ref:Bg(w,K),target:h,"data-discover":!C&&o==="render"?"true":void 0});return _&&!C?k.createElement(k.Fragment,null,ee,k.createElement(Mg,{page:T})):ee});Af.displayName="Link";var Mf=k.forwardRef(function({"aria-current":a="page",caseSensitive:o=!1,className:u="",end:d=!1,style:f,to:p,viewTransition:m,children:h,...v},g){let x=xa(p,{relative:v.relative}),b=kr(),w=k.useContext(ya),{navigator:E,basename:C}=k.useContext(Nn),I=w!=null&&Xg(x)&&m===!0,F=E.encodeLocation?E.encodeLocation(x).pathname:x.pathname,T=b.pathname,_=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;o||(T=T.toLowerCase(),_=_?_.toLowerCase():null,F=F.toLowerCase()),_&&C&&(_=hn(_,C)||_);const K=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let ae=T===F||!d&&T.startsWith(F)&&T.charAt(K)==="/",L=_!=null&&(_===F||!d&&_.startsWith(F)&&_.charAt(F.length)==="/"),O={isActive:ae,isPending:L,isTransitioning:I},ee=ae?a:void 0,W;typeof u=="function"?W=u(O):W=[u,ae?"active":null,L?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let q=typeof f=="function"?f(O):f;return k.createElement(Af,{...v,"aria-current":ee,className:W,ref:g,style:q,to:p,viewTransition:m},typeof h=="function"?h(O):h)});Mf.displayName="NavLink";var Hg=k.forwardRef(({discover:r="render",fetcherKey:a,navigate:o,reloadDocument:u,replace:d,state:f,method:p=zo,action:m,onSubmit:h,relative:v,preventScrollReset:g,viewTransition:x,...b},w)=>{let E=Yg(),C=Jg(m,{relative:v}),I=p.toLowerCase()==="get"?"get":"post",F=typeof m=="string"&&Ff.test(m),T=_=>{if(h&&h(_),_.defaultPrevented)return;_.preventDefault();let K=_.nativeEvent.submitter,ae=(K==null?void 0:K.getAttribute("formmethod"))||p;E(K||_.currentTarget,{fetcherKey:a,method:ae,navigate:o,replace:d,state:f,relative:v,preventScrollReset:g,viewTransition:x})};return k.createElement("form",{ref:w,method:I,action:C,onSubmit:u?h:T,...b,"data-discover":!F&&r==="render"?"true":void 0})});Hg.displayName="Form";function qg(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Of(r){let a=k.useContext(Hr);return Oe(a,qg(r)),a}function Kg(r,{target:a,replace:o,state:u,preventScrollReset:d,relative:f,viewTransition:p}={}){let m=Ym(),h=kr(),v=xa(r,{relative:f});return k.useCallback(g=>{if(Eg(g,a)){g.preventDefault();let x=o!==void 0?o:Sr(h)===Sr(v);m(r,{replace:x,state:u,preventScrollReset:d,relative:f,viewTransition:p})}},[h,m,v,o,u,a,r,d,f,p])}var Qg=0,Gg=()=>`__${String(++Qg)}__`;function Yg(){let{router:r}=Of("useSubmit"),{basename:a}=k.useContext(Nn),o=ug();return k.useCallback(async(u,d={})=>{let{action:f,method:p,encType:m,formData:h,body:v}=Rg(u,a);if(d.navigate===!1){let g=d.fetcherKey||Gg();await r.fetch(g,o,d.action||f,{preventScrollReset:d.preventScrollReset,formData:h,body:v,formMethod:d.method||p,formEncType:d.encType||m,flushSync:d.flushSync})}else await r.navigate(d.action||f,{preventScrollReset:d.preventScrollReset,formData:h,body:v,formMethod:d.method||p,formEncType:d.encType||m,replace:d.replace,state:d.state,fromRouteId:o,flushSync:d.flushSync,viewTransition:d.viewTransition})},[r,a,o])}function Jg(r,{relative:a}={}){let{basename:o}=k.useContext(Nn),u=k.useContext(Tn);Oe(u,"useFormAction must be used inside a RouteContext");let[d]=u.matches.slice(-1),f={...xa(r||".",{relative:a})},p=kr();if(r==null){f.search=p.search;let m=new URLSearchParams(f.search),h=m.getAll("index");if(h.some(g=>g==="")){m.delete("index"),h.filter(x=>x).forEach(x=>m.append("index",x));let g=m.toString();f.search=g?`?${g}`:""}}return(!r||r===".")&&d.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),o!=="/"&&(f.pathname=f.pathname==="/"?o:_n([o,f.pathname])),Sr(f)}function Xg(r,{relative:a}={}){let o=k.useContext(Ys);Oe(o!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:u}=Of("useViewTransitionState"),d=xa(r,{relative:a});if(!o.isTransitioning)return!1;let f=hn(o.currentLocation.pathname,u)||o.currentLocation.pathname,p=hn(o.nextLocation.pathname,u)||o.nextLocation.pathname;return Ao(d.pathname,p)!=null||Ao(d.pathname,f)!=null}var Zg=pf();function ey(r){return k.createElement(mg,{flushSync:Zg.flushSync,...r})}const ty="modulepreload",ny=function(r,a){return new URL(r,a).href},rf={},Si=function(a,o,u){let d=Promise.resolve();if(o&&o.length>0){let p=function(g){return Promise.all(g.map(x=>Promise.resolve(x).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};const m=document.getElementsByTagName("link"),h=document.querySelector("meta[property=csp-nonce]"),v=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));d=p(o.map(g=>{if(g=ny(g,u),g in rf)return;rf[g]=!0;const x=g.endsWith(".css"),b=x?'[rel="stylesheet"]':"";if(!!u)for(let C=m.length-1;C>=0;C--){const I=m[C];if(I.href===g&&(!x||I.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${g}"]${b}`))return;const E=document.createElement("link");if(E.rel=x?"stylesheet":ty,x||(E.as="script"),E.crossOrigin="",E.href=g,v&&E.setAttribute("nonce",v),document.head.appendChild(E),x)return new Promise((C,I)=>{E.addEventListener("load",C),E.addEventListener("error",()=>I(new Error(`Unable to preload CSS for ${g}`)))})}))}function f(p){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=p,window.dispatchEvent(m),!m.defaultPrevented)throw p}return d.then(p=>{for(const m of p||[])m.status==="rejected"&&f(m.reason);return a().catch(f)})},ry=typeof window<"u"&&window.electronAPI,dt={join:(...r)=>r.filter(a=>a&&a.length>0).join("/").replace(/\/+/g,"/").replace(/\\/g,"/")},Ur=class Ur{constructor(){kn(this,"_appDataPath",null);kn(this,"_documentsPath",null);kn(this,"_downloadsPath",null)}static getInstance(){return Ur.instance||(Ur.instance=new Ur),Ur.instance}async getElectronPath(a){if(!ry)throw new Error(`Electron API not available for path type: ${a}`);try{return await window.rawalite.paths.get(a)}catch(o){throw console.error(`Failed to get ${a} path via IPC:`,o),o}}async getAppDataPath(){return this._appDataPath?this._appDataPath:(this._appDataPath=await this.getElectronPath("userData"),this._appDataPath)}async getDocumentsPath(){return this._documentsPath?this._documentsPath:(this._documentsPath=await this.getElectronPath("documents"),this._documentsPath)}async getDownloadsPath(){return this._downloadsPath?this._downloadsPath:(this._downloadsPath=await this.getElectronPath("downloads"),this._downloadsPath)}resetCache(){this._appDataPath=null,this._documentsPath=null,this._downloadsPath=null}};kn(Ur,"instance");let Us=Ur;class Qn{static async DATABASE_DIR(){const a=await this.pathManager.getAppDataPath();return dt.join(a,"database")}static async DATABASE_FILE(){const a=await this.DATABASE_DIR();return dt.join(a,"rawalite.db")}static async DATABASE_BACKUP_FILE(){const a=await this.DATABASE_DIR(),o=new Date().toISOString().replace(/[:.]/g,"-");return dt.join(a,"backups",`backup-${o}.db`)}static async LOGS_DIR(){const a=await this.pathManager.getAppDataPath();return dt.join(a,"logs")}static async LOG_FILE(){const a=await this.LOGS_DIR(),o=new Date().toISOString().split("T")[0];return dt.join(a,`rawalite-${o}.log`)}static async ERROR_LOG_FILE(){const a=await this.LOGS_DIR();return dt.join(a,"errors.log")}static async SETTINGS_DIR(){const a=await this.pathManager.getAppDataPath();return dt.join(a,"settings")}static async SETTINGS_FILE(){const a=await this.SETTINGS_DIR();return dt.join(a,"app-settings.json")}static async USER_PREFERENCES_FILE(){const a=await this.SETTINGS_DIR();return dt.join(a,"user-preferences.json")}static async TEMPLATES_DIR(){const a=await this.pathManager.getAppDataPath();return dt.join(a,"templates")}static async INVOICE_TEMPLATE_FILE(){const a=await this.TEMPLATES_DIR();return dt.join(a,"invoice-template.html")}static async OFFER_TEMPLATE_FILE(){const a=await this.TEMPLATES_DIR();return dt.join(a,"offer-template.html")}static async BACKUPS_DIR(){const a=await this.pathManager.getDocumentsPath();return dt.join(a,"RawaLite-Backups")}static async FULL_BACKUP_FILE(){const a=await this.BACKUPS_DIR(),o=new Date().toISOString().replace(/[:.]/g,"-");return dt.join(a,`rawalite-full-backup-${o}.zip`)}static async DATA_EXPORT_FILE(a){const o=await this.BACKUPS_DIR(),u=new Date().toISOString().split("T")[0];return dt.join(o,`${a}-export-${u}.csv`)}static async EXPORTS_DIR(){const a=await this.pathManager.getDownloadsPath();return dt.join(a,"RawaLite-Exports")}static async PDF_EXPORT_FILE(a,o){const u=await this.EXPORTS_DIR(),d=new Date().toISOString().split("T")[0];return dt.join(u,`${a}-${o}-${d}.pdf`)}static async CSV_EXPORT_FILE(a){const o=await this.EXPORTS_DIR(),u=new Date().toISOString().split("T")[0];return dt.join(o,`${a}-${u}.csv`)}static async ASSETS_DIR(){const a=await this.pathManager.getAppDataPath();return dt.join(a,"assets")}static async COMPANY_LOGO_FILE(){const a=await this.ASSETS_DIR();return dt.join(a,"company-logo.png")}static async USER_UPLOADS_DIR(){const a=await this.ASSETS_DIR();return dt.join(a,"uploads")}static async TEST_DATA_DIR(){throw new Error("TEST_DATA_DIR only available in test environment")}static async TEMP_DIR(){const a=await this.pathManager.getAppDataPath();return dt.join(a,"temp")}static async ensureDir(a){try{await window.rawalite.fs.ensureDir(a)}catch(o){throw new Error(`Failed to create directory: ${a} - ${o}`)}}static async cleanTempDir(){try{const a=await this.TEMP_DIR();await this.ensureDir(a);const o=await window.rawalite.fs.readDir(a),u=Date.now()-1440*60*1e3;for(const d of o){const f=dt.join(a,d);(await window.rawalite.fs.stat(f)).mtime<u&&await window.rawalite.fs.unlink(f)}}catch(a){console.warn("Failed to clean temp directory:",a)}}static resetCache(){this.pathManager.resetCache()}static async getAllPaths(){return{appData:await this.pathManager.getAppDataPath(),documents:await this.pathManager.getDocumentsPath(),downloads:await this.pathManager.getDownloadsPath(),database:await this.DATABASE_FILE(),logs:await this.LOGS_DIR(),backups:await this.BACKUPS_DIR(),exports:await this.EXPORTS_DIR(),templates:await this.TEMPLATES_DIR(),settings:await this.SETTINGS_DIR(),assets:await this.ASSETS_DIR()}}}kn(Qn,"pathManager",Us.getInstance());class Fs{static async log(a,o="info"){try{const d=`[${new Date().toISOString()}] ${o.toUpperCase()}: ${a}`;console.log(d);try{const f=await Qn.LOG_FILE(),p=await Qn.LOGS_DIR();await Qn.ensureDir(p),await window.rawalite.fs.appendFile(f,d+`
`)}catch(f){console.warn("File logging failed, console only:",f)}}catch(u){console.error("Logging failed:",u)}}static async logError(a,o){const u=a instanceof Error?a.message:a,d=o?`${o}: ${u}`:u;await this.log(d,"error");try{const f=await Qn.ERROR_LOG_FILE(),p=await Qn.LOGS_DIR();await Qn.ensureDir(p);const h=`[${new Date().toISOString()}] ERROR: ${d}
`;await window.rawalite.fs.appendFile(f,h)}catch(f){console.error("Error logging failed:",f)}}}const tn=class tn{static toSQL(a){if(!a||typeof a!="object")return a;const o={};for(const[u,d]of Object.entries(a)){const f=tn.JS_TO_SQL_MAPPINGS[u]||u;o[f]=d}return o}static fromSQL(a){if(!a||typeof a!="object")return a;const o={};for(const[u,d]of Object.entries(a)){const f=tn.SQL_TO_JS_MAPPINGS[u]||u;o[f]=d}return o}static convertQuery(a){let o=a;for(const[u,d]of Object.entries(tn.JS_TO_SQL_MAPPINGS)){const f=new RegExp(`\\b${u}\\b`,"g");o=o.replace(f,d)}return o}static fromSQLArray(a){return Array.isArray(a)?a.map(o=>tn.fromSQL(o)):a}static getMappings(){return{jsToSql:{...tn.JS_TO_SQL_MAPPINGS},sqlToJs:{...tn.SQL_TO_JS_MAPPINGS}}}static hasMapping(a,o){return o==="js-to-sql"?a in tn.JS_TO_SQL_MAPPINGS:a in tn.SQL_TO_JS_MAPPINGS}};kn(tn,"JS_TO_SQL_MAPPINGS",{createdAt:"created_at",updatedAt:"updated_at",companyName:"company_name",contactPerson:"contact_person",addressStreet:"address_street",addressCity:"address_city",addressZip:"address_zip",addressCountry:"address_country",taxNumber:"tax_number",customerId:"customer_id",offerId:"offer_id",totalAmount:"total_amount",taxRate:"tax_rate",validUntil:"valid_until",dueDate:"due_date",paidAt:"paid_at",unitPrice:"unit_price",parentItemId:"parent_item_id",packageId:"package_id",invoiceId:"invoice_id",vatRate:"vat_rate",vatAmount:"vat_amount",lastNumber:"last_number",offerNumber:"offer_number",invoiceNumber:"invoice_number",packageLineItems:"package_line_items",offerLineItems:"offer_line_items",invoiceLineItems:"invoice_line_items",numberingCircles:"numbering_circles"}),kn(tn,"SQL_TO_JS_MAPPINGS",Object.fromEntries(Object.entries(tn.JS_TO_SQL_MAPPINGS).map(([a,o])=>[o,a])));let ki=tn;const Nt=ki.toSQL,En=ki.fromSQL,da=ki.fromSQLArray,kt=ki.convertQuery,Wr=class Wr{constructor(){var a,o;if(!((o=(a=window.rawalite)==null?void 0:a.db)!=null&&o.query))throw new Error("Database API not available - check preload script")}static getInstance(){return Wr.instance||(Wr.instance=new Wr),Wr.instance}async query(a,o){try{const u=kt(a),d=o;console.log("DbClient.query",{originalSQL:a,mappedSQL:u,params:d});const f=await window.rawalite.db.query(u,d),p=da(f);return console.log("DbClient.query result",{rawCount:f.length,mappedCount:p.length}),p}catch(u){throw await Fs.logError(u,"DbClient.query failed"),u}}async exec(a,o){try{const u=kt(a),d=o;console.log("DbClient.exec",{originalSQL:a,mappedSQL:u,params:d});const f=await window.rawalite.db.exec(u,d);return console.log("DbClient.exec result",f),f}catch(u){throw await Fs.logError(u,"DbClient.exec failed"),u}}async transaction(a){try{const o=a.map(d=>({sql:kt(d.sql),params:d.params}));console.log("DbClient.transaction",{originalQueryCount:a.length,mappedQueryCount:o.length});const u=await window.rawalite.db.transaction(o);return console.log("DbClient.transaction results",{resultCount:u.length}),u}catch(o){throw await Fs.logError(o,"DbClient.transaction failed"),o}}async insert(a,o){const u=Nt(o),d=Object.keys(u),f=Object.values(u),p=d.map(()=>"?").join(", "),m=`INSERT INTO ${a} (${d.join(", ")}) VALUES (${p})`;return(await this.exec(m,f)).lastInsertRowid}async updateById(a,o,u){const d=Nt(u),f=Object.keys(d),p=Object.values(d),m=f.map(g=>`${g} = ?`).join(", "),h=`UPDATE ${a} SET ${m} WHERE id = ?`;return(await this.exec(h,[...p,o])).changes}async deleteById(a,o){const u=`DELETE FROM ${a} WHERE id = ?`;return(await this.exec(u,[o])).changes}async getById(a,o){const u=await this.query(`SELECT * FROM ${a} WHERE id = ? LIMIT 1`,[o]);return u.length>0?u[0]:null}async getAll(a,o){const u=`SELECT * FROM ${a}${o?` ORDER BY ${o}`:""}`;return await this.query(u)}async count(a,o,u){var p;const d=`SELECT COUNT(*) as count FROM ${a}${o?` WHERE ${o}`:""}`;return((p=(await this.query(d,u))[0])==null?void 0:p.count)||0}async exists(a,o,u){return await this.count(a,o,u)>0}};kn(Wr,"instance",null);let $o=Wr;const rn={companyData:{name:"RawaLite",street:"",postalCode:"",city:"",phone:"",email:"",website:"",taxNumber:"",vatId:"",kleinunternehmer:!1,bankName:"",bankAccount:"",bankBic:"",logo:""},numberingCircles:[{id:"customers",name:"Kunden",prefix:"K-",digits:4,current:0,resetMode:"never"},{id:"offers",name:"Angebote",prefix:"AN-",digits:4,current:0,resetMode:"yearly"},{id:"invoices",name:"Rechnungen",prefix:"RE-",digits:4,current:0,resetMode:"yearly"},{id:"packages",name:"Pakete",prefix:"PAK-",digits:3,current:0,resetMode:"never"}]};class $f{constructor(){kn(this,"client");this.client=$o.getInstance()}async getSettings(){const a=kt("SELECT * FROM settings WHERE id = 1"),u=(await this.client.query(a))[0];let d;if(u){const p=En(u);d={name:p.companyName||"",street:p.street||"",postalCode:p.zip||"",city:p.city||"",phone:p.phone||"",email:p.email||"",website:p.website||"",taxNumber:p.taxId||"",vatId:p.vatId||"",kleinunternehmer:!!p.kleinunternehmer,bankName:p.bankName||"",bankAccount:p.bankAccount||"",bankBic:p.bankBic||"",logo:p.logo||""}}else d=rn.companyData;let f;try{const p=kt(`
        SELECT id, name, prefix, digits, current, resetMode, lastResetYear
        FROM numbering_circles
        ORDER BY name
      `),m=await this.client.query(p);m.length>0?f=m.map(h=>({id:h.id,name:h.name,prefix:h.prefix,digits:h.digits,current:h.current,resetMode:h.resetMode,lastResetYear:h.lastResetYear??void 0})):f=rn.numberingCircles}catch(p){console.warn("Error loading numbering circles from SQLite, trying localStorage fallback:",p);try{const m=localStorage.getItem("rawalite-numbering");m?f=JSON.parse(m):f=rn.numberingCircles}catch(m){console.warn("LocalStorage fallback failed:",m),f=rn.numberingCircles}}return{companyData:d,numberingCircles:f}}async updateCompanyData(a){const o=Nt({companyName:a.name,street:a.street,zip:a.postalCode,city:a.city,phone:a.phone,email:a.email,website:a.website,taxId:a.taxNumber,vatId:a.vatId,kleinunternehmer:a.kleinunternehmer?1:0,bankName:a.bankName,bankAccount:a.bankAccount,bankBic:a.bankBic,logo:a.logo}),u=new Date().toISOString();await this.client.exec(`
      INSERT OR REPLACE INTO settings (
        id, company_name, street, zip, city, phone, email, website, 
        tax_id, vat_id, kleinunternehmer, bank_name, bank_account, bank_bic, 
        logo, updated_at
      ) VALUES (
        1, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?
      )
    `,[o.company_name,o.street,o.zip,o.city,o.phone,o.email,o.website,o.tax_id,o.vat_id,o.kleinunternehmer,o.bank_name,o.bank_account,o.bank_bic,o.logo,u])}async updateNumberingCircles(a){try{const o=[];for(const u of a)o.push({sql:`
            INSERT OR REPLACE INTO numbering_circles 
            (id, name, prefix, digits, current, resetMode, lastResetYear, createdAt, updatedAt)
            VALUES (?, ?, ?, ?, ?, ?, ?, 
              COALESCE((SELECT createdAt FROM numbering_circles WHERE id = ?), datetime('now')),
              datetime('now')
            )
          `,params:[u.id,u.name,u.prefix,u.digits,u.current,u.resetMode,u.lastResetYear??null,u.id]});await this.client.transaction(o),console.log("✅ Nummernkreise in SQLite gespeichert")}catch(o){console.error("Error saving numbering circles to SQLite:",o);try{localStorage.setItem("rawalite-numbering",JSON.stringify(a)),console.warn("⚠️ Fallback: Nummernkreise in localStorage gespeichert")}catch(u){throw console.error("LocalStorage fallback failed:",u),o}}}async getNextNumber(a){const{NummernkreisService:o}=await Si(async()=>{const{NummernkreisService:u}=await import("./NummernkreisService-BGflz39g.js");return{NummernkreisService:u}},[],import.meta.url);return await o.getNextNumber(a)}}const Bf=k.createContext(null),No=new $f;function iy({children:r}){const[a,o]=k.useState(rn),[u,d]=k.useState(!0),[f,p]=k.useState(null),m=async()=>{try{d(!0);const b=await No.getSettings();o(b),p(null)}catch(b){console.error("Error loading settings from SQLite:",b),p("Fehler beim Laden der Einstellungen")}finally{d(!1)}};k.useEffect(()=>{m()},[]);const x={settings:a,loading:u,error:f,updateCompanyData:async b=>{try{d(!0),await No.updateCompanyData(b),await m()}catch(w){throw console.error("Error saving company data:",w),p("Fehler beim Speichern der Unternehmensdaten"),w}},updateNumberingCircles:async b=>{try{d(!0),await No.updateNumberingCircles(b),await m(),p(null)}catch(w){throw console.error("Error saving numbering circles:",w),p("Fehler beim Speichern der Nummernkreise"),w}},getNextNumber:async b=>{try{const w=await No.getNextNumber(b);return await m(),w}catch(w){throw console.error("Error getting next number:",w),w}},refreshSettings:m};return l.jsx(Bf.Provider,{value:x,children:r})}function Uf(){const r=k.useContext(Bf);if(!r)throw new Error("useSettings must be used within a SettingsProvider");return r}const Wf=k.createContext({adapter:null,ready:!1});function Er(){const r=k.useContext(Wf);if(!r)throw new Error("usePersistence must be used within PersistenceProvider");return r}const vi=new $f;function wa(){const[r,a]=k.useState(rn),[o,u]=k.useState(!0),[d,f]=k.useState(null);return k.useEffect(()=>{async function v(){try{u(!0);const g=await vi.getSettings();a(g),f(null)}catch(g){console.error("Error loading settings from SQLite:",g),f("Fehler beim Laden der Einstellungen")}finally{u(!1)}}v()},[]),{settings:r,loading:o,error:d,updateCompanyData:async v=>{try{u(!0),await vi.updateCompanyData(v);const g=await vi.getSettings();a(g),f(null)}catch(g){throw console.error("Error saving company data:",g),f("Fehler beim Speichern der Unternehmensdaten"),g}finally{u(!1)}},updateNumberingCircles:async v=>{try{u(!0),await vi.updateNumberingCircles(v),a(g=>({...g,numberingCircles:v})),f(null)}catch(g){throw console.error("Error saving numbering circles:",g),f("Fehler beim Speichern der Nummernkreise"),g}finally{u(!1)}},getNextNumber:async v=>{try{const g=await vi.getNextNumber(v),x=await vi.getSettings();return a(x),g}catch(g){throw console.error("Error getting next number:",g),g}}}}class fa extends Error{constructor(a,o,u){super(a),this.code=o,this.originalError=u,this.name="AppError"}}class pn extends fa{constructor(a,o){super(a,"DATABASE_ERROR",o),this.name="DatabaseError"}}class Ae extends fa{constructor(a,o){super(a,"VALIDATION_ERROR"),this.field=o,this.name="ValidationError"}}function pt(r){return r instanceof fa?r:r instanceof Error?new fa(r.message,"UNKNOWN_ERROR",r):new fa(String(r),"UNKNOWN_ERROR",r)}function ay(r){switch(r.code){case"DATABASE_ERROR":return"Es gab ein Problem mit der Datenbank. Bitte versuchen Sie es erneut.";case"VALIDATION_ERROR":return r.message;case"SETTINGS_ERROR":return"Fehler beim Laden oder Speichern der Einstellungen.";default:return"Ein unerwarteter Fehler ist aufgetreten. Bitte versuchen Sie es erneut."}}function Wo(){const{adapter:r}=Er(),{getNextNumber:a}=wa(),[o,u]=k.useState([]),[d,f]=k.useState(!0),[p,m]=k.useState(null);async function h(){if(r){f(!0),m(null);try{const b=await r.listOffers();u(b)}catch(b){const w=pt(b);m(w.message),console.error("Error loading offers:",w)}finally{f(!1)}}}k.useEffect(()=>{h()},[r]);async function v(b){var I;if(!r)throw new pn("Datenbank-Adapter nicht verfügbar");if(!((I=b.title)!=null&&I.trim()))throw new Ae("Angebots-Titel ist erforderlich","title");if(!b.customerId)throw new Ae("Kunde ist erforderlich","customerId");if(!b.lineItems||b.lineItems.length===0)throw new Ae("Mindestens eine Position ist erforderlich","lineItems");let w=0;b.lineItems.forEach((F,T)=>{var K;if(!((K=F.title)!=null&&K.trim()))throw new Ae(`Titel für Position ${T+1} ist erforderlich`,`lineItems.${T}.title`);if(F.quantity<=0)throw new Ae(`Menge für Position ${T+1} muss größer als 0 sein`,`lineItems.${T}.quantity`);if(F.unitPrice<0)throw new Ae(`Preis für Position ${T+1} darf nicht negativ sein`,`lineItems.${T}.unitPrice`);const _=F.quantity*F.unitPrice;w+=_,F.total=_});const E=w*(b.vatRate/100),C=w+E;m(null);try{let F;try{F=await a("offers")}catch(_){console.warn("Settings not available, using fallback numbering:",_);const K=new Date().getFullYear(),ae=Date.now().toString().slice(-4);F=`AN-${K}-${ae}`}const T=await r.createOffer({...b,offerNumber:F,subtotal:w,vatAmount:E,total:C});return await h(),T}catch(F){const T=pt(F);throw m(T.message),console.error("Error creating offer:",T),T}}async function g(b,w){if(!r)throw new pn("Datenbank-Adapter nicht verfügbar");if(w.title!==void 0&&!w.title.trim())throw new Ae("Angebots-Titel ist erforderlich","title");if(w.lineItems!==void 0){if(w.lineItems.length===0)throw new Ae("Mindestens eine Position ist erforderlich","lineItems");let E=0;w.lineItems.forEach((T,_)=>{var ae;if(!((ae=T.title)!=null&&ae.trim()))throw new Ae(`Titel für Position ${_+1} ist erforderlich`,`lineItems.${_}.title`);if(T.quantity<=0)throw new Ae(`Menge für Position ${_+1} muss größer als 0 sein`,`lineItems.${_}.quantity`);if(T.unitPrice<0)throw new Ae(`Preis für Position ${_+1} darf nicht negativ sein`,`lineItems.${_}.unitPrice`);const K=T.quantity*T.unitPrice;E+=K,T.total=K});const C=w.vatRate??19,I=E*(C/100),F=E+I;w.subtotal=E,w.vatAmount=I,w.total=F}m(null);try{const E=await r.updateOffer(b,w);return await h(),E}catch(E){const C=pt(E);throw m(C.message),console.error("Error updating offer:",C),C}}async function x(b){if(!r)throw new pn("Datenbank-Adapter nicht verfügbar");m(null);try{return await r.deleteOffer(b),await h(),!0}catch(w){const E=pt(w);throw m(E.message),console.error("Error deleting offer:",E),E}}return{offers:o,loading:d,error:p,createOffer:v,updateOffer:g,deleteOffer:x,refresh:h}}function nu(){const{adapter:r}=Er(),{getNextNumber:a}=wa(),[o,u]=k.useState([]),[d,f]=k.useState(!0),[p,m]=k.useState(null);async function h(){if(r){f(!0),m(null);try{const b=await r.listInvoices();u(b)}catch(b){const w=pt(b);m(w.message),console.error("Error loading invoices:",w)}finally{f(!1)}}}k.useEffect(()=>{h()},[r]);async function v(b){var I;if(!r)throw new pn("Datenbank-Adapter nicht verfügbar");if(!((I=b.title)!=null&&I.trim()))throw new Ae("Rechnungs-Titel ist erforderlich","title");if(!b.customerId)throw new Ae("Kunde ist erforderlich","customerId");if(!b.lineItems||b.lineItems.length===0)throw new Ae("Mindestens eine Position ist erforderlich","lineItems");let w=0;b.lineItems.forEach((F,T)=>{var K;if(!((K=F.title)!=null&&K.trim()))throw new Ae(`Titel für Position ${T+1} ist erforderlich`,`lineItems.${T}.title`);if(F.quantity<=0)throw new Ae(`Menge für Position ${T+1} muss größer als 0 sein`,`lineItems.${T}.quantity`);if(F.unitPrice<0)throw new Ae(`Preis für Position ${T+1} darf nicht negativ sein`,`lineItems.${T}.unitPrice`);const _=F.quantity*F.unitPrice;w+=_,F.total=_});const E=w*(b.vatRate/100),C=w+E;m(null);try{let F;try{F=await a("invoices")}catch(_){console.warn("Settings not available, using fallback numbering:",_);const K=new Date().getFullYear(),ae=Date.now().toString().slice(-4);F=`RE-${K}-${ae}`}const T=await r.createInvoice({...b,invoiceNumber:F,subtotal:w,vatAmount:E,total:C});return await h(),T}catch(F){const T=pt(F);throw m(T.message),console.error("Error creating invoice:",T),T}}async function g(b,w){if(!r)throw new pn("Datenbank-Adapter nicht verfügbar");if(w.title!==void 0&&!w.title.trim())throw new Ae("Rechnungs-Titel ist erforderlich","title");if(w.lineItems!==void 0){if(w.lineItems.length===0)throw new Ae("Mindestens eine Position ist erforderlich","lineItems");let E=0;w.lineItems.forEach((T,_)=>{var ae;if(!((ae=T.title)!=null&&ae.trim()))throw new Ae(`Titel für Position ${_+1} ist erforderlich`,`lineItems.${_}.title`);if(T.quantity<=0)throw new Ae(`Menge für Position ${_+1} muss größer als 0 sein`,`lineItems.${_}.quantity`);if(T.unitPrice<0)throw new Ae(`Preis für Position ${_+1} darf nicht negativ sein`,`lineItems.${_}.unitPrice`);const K=T.quantity*T.unitPrice;E+=K,T.total=K});const C=w.vatRate??19,I=E*(C/100),F=E+I;w.subtotal=E,w.vatAmount=I,w.total=F}m(null);try{const E=await r.updateInvoice(b,w);return await h(),E}catch(E){const C=pt(E);throw m(C.message),console.error("Error updating invoice:",C),C}}async function x(b){if(!r)throw new pn("Datenbank-Adapter nicht verfügbar");m(null);try{return await r.deleteInvoice(b),await h(),!0}catch(w){const E=pt(w);throw m(E.message),console.error("Error deleting invoice:",E),E}}return{invoices:o,loading:d,error:p,createInvoice:v,updateInvoice:g,deleteInvoice:x,refresh:h}}const oy=""+new URL("rawalite-logo-D3IvfwpA.png",import.meta.url).href;function ly(){var m,h,v,g;const{settings:r,loading:a,error:o}=Uf(),{offers:u}=Wo(),{invoices:d}=nu(),f={totalOffers:u.length,pendingOffers:u.filter(x=>x.status==="draft").length,acceptedOffers:u.filter(x=>x.status==="accepted").length,totalInvoices:d.length,paidInvoices:d.filter(x=>x.status==="paid").length,unpaidInvoices:d.filter(x=>x.status==="draft"||x.status==="sent"||x.status==="overdue").length,totalOfferValue:u.reduce((x,b)=>x+b.total,0),paidAmount:d.filter(x=>x.status==="paid").reduce((x,b)=>x+b.total,0),unpaidAmount:d.filter(x=>x.status!=="paid").reduce((x,b)=>x+b.total,0)},p=[{to:"/",label:"Dashboard"},{to:"/kunden",label:"Kunden"},{to:"/pakete",label:"Pakete"},{to:"/angebote",label:"Angebote"},{to:"/rechnungen",label:"Rechnungen"},{to:"/einstellungen",label:"Einstellungen"}];return l.jsxs("aside",{className:"sidebar",children:[l.jsx("div",{style:{marginBottom:"20px"},children:l.jsx("div",{style:{width:"100%",textAlign:"center",padding:"16px 8px",marginBottom:"16px"},children:l.jsx("img",{src:oy,alt:"RawaLite",style:{width:"100%",maxWidth:"180px",height:"auto",objectFit:"contain",filter:"drop-shadow(0 2px 8px rgba(0,0,0,0.3))"}})})}),l.jsx("ul",{className:"nav",children:p.map(x=>l.jsx("li",{children:l.jsx(Mf,{to:x.to,end:x.to==="/",children:x.label})},x.to))}),l.jsxs("div",{style:{marginTop:"20px",padding:"16px 12px",backgroundColor:"rgba(255,255,255,0.04)",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.08)"},children:[!a&&((m=r.companyData)!=null&&m.logo)?l.jsx("div",{style:{width:"100%",textAlign:"center",marginBottom:"12px"},children:l.jsx("img",{src:r.companyData.logo,alt:"Firmenlogo",style:{maxWidth:"100%",maxHeight:"60px",objectFit:"contain",borderRadius:"6px",filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.2))"},onError:x=>{console.error("Firmenlogo konnte nicht geladen werden"),x.currentTarget.style.display="none"}})}):l.jsxs("div",{style:{width:"100%",textAlign:"center",marginBottom:"12px",padding:"16px 10px",backgroundColor:"rgba(255,255,255,0.02)",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)"},children:[l.jsx("div",{style:{fontSize:"20px",marginBottom:"4px",opacity:.4},children:"⚪"}),l.jsx("div",{style:{fontSize:"10px",color:"rgba(255,255,255,0.4)",fontWeight:"normal"},children:"Kein Logo"})]}),l.jsx("div",{style:{fontSize:"16px",color:!a&&((h=r.companyData)!=null&&h.name)?"rgba(255,255,255,0.95)":"rgba(255,255,255,0.6)",fontWeight:"600",textAlign:"center",marginBottom:"16px",fontStyle:!a&&((v=r.companyData)!=null&&v.name)?"normal":"italic"},children:!a&&((g=r.companyData)!=null&&g.name)?r.companyData.name:"[Ihr Firmenname]"}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginBottom:"12px"},children:[l.jsxs("div",{style:{padding:"8px 10px",backgroundColor:"rgba(255,255,255,0.03)",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.08)"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"3px"},children:[l.jsx("span",{style:{fontSize:"12px",color:"rgba(255,255,255,0.7)",fontWeight:"500"},children:"📋 Angebote"}),l.jsx("span",{style:{fontSize:"13px",color:"rgba(255,255,255,0.9)",fontWeight:"600"},children:f.totalOffers})]}),l.jsxs("div",{style:{fontSize:"10px",color:"rgba(255,255,255,0.5)",display:"flex",justifyContent:"space-between"},children:[l.jsxs("span",{children:[f.pendingOffers," Entwürfe"]}),l.jsxs("span",{children:[f.acceptedOffers," Angenommen"]})]})]}),l.jsxs("div",{style:{padding:"8px 10px",backgroundColor:"rgba(255,255,255,0.03)",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.08)"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"3px"},children:[l.jsx("span",{style:{fontSize:"12px",color:"rgba(255,255,255,0.7)",fontWeight:"500"},children:"🧾 Rechnungen"}),l.jsx("span",{style:{fontSize:"13px",color:"rgba(255,255,255,0.9)",fontWeight:"600"},children:f.totalInvoices})]}),l.jsxs("div",{style:{fontSize:"10px",color:"rgba(255,255,255,0.5)",display:"flex",justifyContent:"space-between"},children:[l.jsxs("span",{children:[f.paidInvoices," Bezahlt"]}),l.jsxs("span",{children:[f.unpaidInvoices," Offen"]})]})]})]}),l.jsxs("div",{style:{padding:"8px 10px",backgroundColor:"rgba(255,255,255,0.03)",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.08)"},children:[l.jsx("div",{style:{fontSize:"12px",color:"rgba(255,255,255,0.7)",fontWeight:"500",marginBottom:"6px",textAlign:"center"},children:"💰 Finanzen"}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"3px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"10px"},children:[l.jsx("span",{style:{color:"rgba(255,255,255,0.6)"},children:"Bezahlt:"}),l.jsxs("span",{style:{color:"rgba(255,255,255,0.8)",fontWeight:"600"},children:["€",f.paidAmount.toLocaleString("de-DE",{minimumFractionDigits:0,maximumFractionDigits:0})]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"10px"},children:[l.jsx("span",{style:{color:"rgba(255,255,255,0.6)"},children:"Offen:"}),l.jsxs("span",{style:{color:"rgba(255,255,255,0.8)",fontWeight:"600"},children:["€",f.unpaidAmount.toLocaleString("de-DE",{minimumFractionDigits:0,maximumFractionDigits:0})]})]})]})]})]})]})}const sy="rawalite",uy="1.0.0",cy={"better-sqlite3":"^12.4.1",react:"^18.3.1"},dy={electron:"^31.7.7",vite:"^6.3.6"},xi={name:sy,version:uy,dependencies:cy,devDependencies:dy};class Ws{static getAppVersion(){return{version:xi.version,name:xi.name,buildDate:new Date().toISOString(),buildEnvironment:"production",gitCommit:void 0,gitBranch:void 0}}static getSystemInfo(){const a=navigator.userAgent,o=a.match(/Electron\/([^\s]+)/),u=a.match(/Chrome\/([^\s]+)/),d=a.match(/Node\/([^\s]+)/);return{platform:navigator.platform,userAgent:a,electronVersion:o==null?void 0:o[1],chromeVersion:u==null?void 0:u[1],nodeVersion:(d==null?void 0:d[1])||"unknown"}}static getFullVersionInfo(){var a,o,u,d;return{app:this.getAppVersion(),system:this.getSystemInfo(),dependencies:{react:(a=xi.dependencies)==null?void 0:a.react,electron:(o=xi.devDependencies)==null?void 0:o.electron,"better-sqlite3":(u=xi.dependencies)==null?void 0:u["better-sqlite3"],vite:(d=xi.devDependencies)==null?void 0:d.vite}}}static getDisplayVersion(){const a=this.getAppVersion();return`${a.name} v${a.version}`}static getAboutVersionString(){const a=this.getAppVersion(),o=this.getSystemInfo();let u=`${a.name} v${a.version}`;if(a.buildEnvironment!=="production"&&(u+=` (${a.buildEnvironment})`),o.electronVersion&&(u+=`
Electron ${o.electronVersion}`),a.gitCommit){const d=a.gitCommit.substring(0,7);u+=`
Build ${d}`}return u}static getBackupVersionInfo(){const a=this.getAppVersion(),o=this.getSystemInfo();return{version:a.version,timestamp:new Date().toISOString(),buildInfo:`${a.name}@${a.version} (Electron ${o.electronVersion||"unknown"})`}}static isCompatibleVersion(a){const o=this.getAppVersion().version;try{const u=o.split(".").map(Number),d=a.split(".").map(Number);return!(u[0]!==d[0]||u[1]<d[1]||u[1]===d[1]&&u[2]<d[2])}catch(u){return console.warn("Version comparison failed:",u),!1}}static getDebugInfo(){var o;const a=this.getFullVersionInfo();return`
=== RawaLite Debug Information ===
App: ${a.app.name} v${a.app.version}
Build: ${a.app.buildEnvironment} (${a.app.buildDate})
Platform: ${a.system.platform}
Electron: ${a.system.electronVersion||"unknown"}
Chrome: ${a.system.chromeVersion||"unknown"}
Node: ${a.system.nodeVersion||"unknown"}

Dependencies:
${Object.entries(a.dependencies).map(([u,d])=>`- ${u}: ${d}`).join(`
`)}

System:
${a.system.userAgent}

Git: ${a.app.gitBranch||"unknown"}@${((o=a.app.gitCommit)==null?void 0:o.substring(0,7))||"unknown"}
    `.trim()}}const fy=Object.freeze(Object.defineProperty({__proto__:null,VersionService:Ws,default:Ws},Symbol.toStringTag,{value:"Module"})),py={"/":"Dashboard","/kunden":"Kunden","/pakete":"Pakete","/angebote":"Angebote","/rechnungen":"Rechnungen","/einstellungen":"Einstellungen"};function Vf({title:r,right:a}={}){const{pathname:o}=kr(),u=r??py[o]??"RaWaLite",d=Ws.getAppVersion();return l.jsxs("header",{className:"header",children:[l.jsx("div",{className:"title",children:u}),a&&l.jsx("div",{className:"header-right",children:a}),l.jsxs("div",{style:{opacity:.7},children:["v",d.version," ",d.buildEnvironment!=="production"?`(${d.buildEnvironment})`:""]})]})}function hy(){return l.jsxs("div",{className:"app",children:[l.jsx(ly,{}),l.jsx(Vf,{}),l.jsx("main",{className:"main",children:l.jsx(vg,{})})]})}function qn(){return new Date().toISOString()}class af{constructor(){kn(this,"client");this.client=$o.getInstance()}async ready(){}async getSettings(){const a=kt("SELECT * FROM settings WHERE id = 1");return(await this.client.query(a))[0]}async updateSettings(a){const u={...await this.getSettings(),...a,updatedAt:qn()},d=Nt(u);return await this.client.transaction([{sql:`
          UPDATE settings SET
            company_name = ?, street = ?, zip = ?, city = ?, tax_id = ?,
            kleinunternehmer = ?, next_customer_number = ?, next_offer_number = ?, next_invoice_number = ?,
            updated_at = ?
          WHERE id = 1
        `,params:[d.company_name??null,d.street??null,d.zip??null,d.city??null,d.tax_id??null,d.kleinunternehmer?1:0,d.next_customer_number??1,d.next_offer_number??1,d.next_invoice_number??1,d.updated_at]}]),u}async listCustomers(){const a=kt("SELECT * FROM customers ORDER BY createdAt DESC"),o=await this.client.query(a);return da(o)}async getCustomer(a){const o=kt("SELECT * FROM customers WHERE id = ?"),u=await this.client.query(o,[a]);return u.length===0?null:En(u[0])}async createCustomer(a){const o=qn(),u=Nt({...a,createdAt:o,updatedAt:o}),d=await this.client.exec(`
      INSERT INTO customers (number, name, email, phone, street, zip, city, notes, created_at, updated_at)
      VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
    `,[u.number,u.name,u.email??null,u.phone??null,u.street??null,u.zip??null,u.city??null,u.notes??null,u.created_at,u.updated_at]),f=await this.getCustomer(d.lastInsertRowid);if(!f)throw new Error("Customer creation failed");return f}async updateCustomer(a,o){const u=await this.getCustomer(a);if(!u)throw new Error("Customer not found");const d={...u,...o,updatedAt:qn()},f=Nt(d);await this.client.exec(`
      UPDATE customers SET
        number = ?, name = ?, email = ?, phone = ?, street = ?, zip = ?, city = ?, notes = ?, updated_at = ?
      WHERE id = ?
    `,[f.number,f.name,f.email??null,f.phone??null,f.street??null,f.zip??null,f.city??null,f.notes??null,f.updated_at,a]);const p=await this.getCustomer(a);if(!p)throw new Error("Customer update failed");return p}async deleteCustomer(a){await this.client.exec("DELETE FROM customers WHERE id = ?",[a])}async listPackages(){const a=kt("SELECT * FROM packages ORDER BY createdAt DESC"),o=await this.client.query(a),u=da(o),d=[];for(const f of u){const p=kt("SELECT id, title, quantity, amount, parentItemId, description FROM packageLineItems WHERE packageId = ? ORDER BY id"),m=await this.client.query(p,[f.id]),h=da(m).map(v=>({id:v.id,title:v.title,quantity:v.quantity,amount:v.amount,parentItemId:v.parentItemId||void 0,description:v.description||void 0}));d.push({...f,lineItems:h})}return d}async getPackage(a){const o=kt("SELECT * FROM packages WHERE id = ?"),u=await this.client.query(o,[a]);if(u.length===0)return null;const d=En(u[0]),f=kt("SELECT id, title, quantity, amount, parentItemId, description FROM packageLineItems WHERE packageId = ? ORDER BY id"),p=await this.client.query(f,[a]),m=da(p).map(h=>({id:h.id,title:h.title,quantity:h.quantity,amount:h.amount,parentItemId:h.parentItemId||void 0,description:h.description||void 0}));return{...d,lineItems:m}}async createPackage(a){const o=qn(),u=Nt({...a,createdAt:o,updatedAt:o}),d=[{sql:`
          INSERT INTO packages (internal_title, parent_package_id, total, add_vat, created_at, updated_at)
          VALUES (?, ?, ?, ?, ?, ?)
        `,params:[u.internal_title,u.parent_package_id??null,u.total,u.add_vat?1:0,u.created_at,u.updated_at]}];await this.client.transaction(d);const p=(await this.client.query("SELECT id FROM packages WHERE internal_title = ? AND created_at = ? ORDER BY id DESC LIMIT 1",[u.internal_title,u.created_at]))[0].id;for(const h of a.lineItems){const v=Nt(h);await this.client.exec("INSERT INTO package_line_items (package_id, title, quantity, amount, parent_item_id, description) VALUES (?, ?, ?, ?, ?, ?)",[p,v.title,v.quantity,v.amount,v.parent_item_id||null,v.description||null])}const m=await this.getPackage(p);if(!m)throw new Error("Package creation failed");return m}async updatePackage(a,o){const u=await this.getPackage(a);if(!u)throw new Error("Package not found");const d={...u,...o,updatedAt:qn()},f=Nt(d);if(await this.client.exec(`
      UPDATE packages SET
        internal_title = ?, parent_package_id = ?, total = ?, add_vat = ?, updated_at = ?
      WHERE id = ?
    `,[f.internal_title,f.parent_package_id??null,f.total,f.add_vat?1:0,f.updated_at,a]),o.lineItems){await this.client.exec("DELETE FROM package_line_items WHERE package_id = ?",[a]);for(const m of o.lineItems){const h=Nt(m);await this.client.exec("INSERT INTO package_line_items (package_id, title, quantity, amount, parent_item_id, description) VALUES (?, ?, ?, ?, ?, ?)",[a,h.title,h.quantity,h.amount,h.parent_item_id||null,h.description||null])}}const p=await this.getPackage(a);if(!p)throw new Error("Package update failed");return p}async deletePackage(a){await this.client.transaction([{sql:"DELETE FROM package_line_items WHERE package_id = ?",params:[a]},{sql:"DELETE FROM packages WHERE id = ?",params:[a]}])}async listOffers(){const a=kt("SELECT * FROM offers ORDER BY createdAt DESC"),o=await this.client.query(a),u=[];for(const d of o){const f=En(d),p=kt("SELECT id, title, description, quantity, unitPrice, total, parentItemId FROM offerLineItems WHERE offerId = ? ORDER BY id"),m=await this.client.query(p,[d.id]);u.push({...f,lineItems:m.map(h=>{const v=En(h);return{id:v.id,title:v.title,description:v.description||void 0,quantity:v.quantity,unitPrice:v.unitPrice,total:v.total,parentItemId:v.parentItemId||void 0}})})}return u}async getOffer(a){const o=kt("SELECT * FROM offers WHERE id = ?"),u=await this.client.query(o,[a]);if(!u[0])return null;const d=En(u[0]),f=kt("SELECT id, title, description, quantity, unitPrice, total, parentItemId FROM offerLineItems WHERE offerId = ? ORDER BY id"),p=await this.client.query(f,[a]);return{...d,lineItems:p.map(m=>{const h=En(m);return{id:h.id,title:h.title,description:h.description||void 0,quantity:h.quantity,unitPrice:h.unitPrice,total:h.total,parentItemId:h.parentItemId||void 0}})}}async createOffer(a){const o=qn(),u=Nt({...a,createdAt:o,updatedAt:o}),f=(await this.client.exec(`
      INSERT INTO offers (offer_number, customer_id, title, status, valid_until, subtotal, vat_rate, vat_amount, total, notes, created_at, updated_at)
      VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
    `,[u.offer_number,u.customer_id,u.title,u.status,u.valid_until,u.subtotal,u.vat_rate,u.vat_amount,u.total,u.notes||null,u.created_at,u.updated_at])).lastInsertRowid;for(const m of a.lineItems){const h=Nt(m);await this.client.exec("INSERT INTO offer_line_items (offer_id, title, description, quantity, unit_price, total, parent_item_id) VALUES (?, ?, ?, ?, ?, ?, ?)",[f,h.title,h.description||null,h.quantity,h.unit_price,h.total,h.parent_item_id||null])}const p=await this.getOffer(f);if(!p)throw new Error("Offer creation failed");return p}async updateOffer(a,o){const u=await this.getOffer(a);if(!u)throw new Error("Offer not found");const d={...u,...o,updatedAt:qn()},f=Nt(d);if(await this.client.exec(`
      UPDATE offers SET
        offer_number = ?, customer_id = ?, title = ?, status = ?, valid_until = ?, 
        subtotal = ?, vat_rate = ?, vat_amount = ?, total = ?, notes = ?, updated_at = ?
      WHERE id = ?
    `,[f.offer_number,f.customer_id,f.title,f.status,f.valid_until,f.subtotal,f.vat_rate,f.vat_amount,f.total,f.notes||null,f.updated_at,a]),o.lineItems){await this.client.exec("DELETE FROM offer_line_items WHERE offer_id = ?",[a]);for(const m of o.lineItems){const h=Nt(m);await this.client.exec("INSERT INTO offer_line_items (offer_id, title, description, quantity, unit_price, total, parent_item_id) VALUES (?, ?, ?, ?, ?, ?, ?)",[a,h.title,h.description||null,h.quantity,h.unit_price,h.total,h.parent_item_id||null])}}const p=await this.getOffer(a);if(!p)throw new Error("Offer update failed");return p}async deleteOffer(a){await this.client.transaction([{sql:"DELETE FROM offer_line_items WHERE offer_id = ?",params:[a]},{sql:"DELETE FROM offers WHERE id = ?",params:[a]}])}async listInvoices(){const a=kt("SELECT * FROM invoices ORDER BY createdAt DESC"),o=await this.client.query(a),u=[];for(const d of o){const f=En(d),p=kt("SELECT id, title, description, quantity, unitPrice, total, parentItemId FROM invoiceLineItems WHERE invoiceId = ? ORDER BY id"),m=await this.client.query(p,[d.id]);u.push({...f,lineItems:m.map(h=>{const v=En(h);return{id:v.id,title:v.title,description:v.description||void 0,quantity:v.quantity,unitPrice:v.unitPrice,total:v.total,parentItemId:v.parentItemId||void 0}})})}return u}async getInvoice(a){const o=kt("SELECT * FROM invoices WHERE id = ?"),u=await this.client.query(o,[a]);if(!u[0])return null;const d=En(u[0]),f=kt("SELECT id, title, description, quantity, unitPrice, total, parentItemId FROM invoiceLineItems WHERE invoiceId = ? ORDER BY id"),p=await this.client.query(f,[a]);return{...d,lineItems:p.map(m=>{const h=En(m);return{id:h.id,title:h.title,description:h.description||void 0,quantity:h.quantity,unitPrice:h.unitPrice,total:h.total,parentItemId:h.parentItemId||void 0}})}}async createInvoice(a){const o=qn(),u=Nt({...a,createdAt:o,updatedAt:o}),f=(await this.client.exec(`
      INSERT INTO invoices (invoice_number, customer_id, offer_id, title, status, due_date, subtotal, vat_rate, vat_amount, total, notes, created_at, updated_at)
      VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
    `,[u.invoice_number,u.customer_id,u.offer_id||null,u.title,u.status,u.due_date,u.subtotal,u.vat_rate,u.vat_amount,u.total,u.notes||null,u.created_at,u.updated_at])).lastInsertRowid;for(const m of a.lineItems){const h=Nt(m);await this.client.exec("INSERT INTO invoice_line_items (invoice_id, title, description, quantity, unit_price, total, parent_item_id) VALUES (?, ?, ?, ?, ?, ?, ?)",[f,h.title,h.description||null,h.quantity,h.unit_price,h.total,h.parent_item_id||null])}const p=await this.getInvoice(f);if(!p)throw new Error("Invoice creation failed");return p}async updateInvoice(a,o){const u=await this.getInvoice(a);if(!u)throw new Error("Invoice not found");const d={...u,...o,updatedAt:qn()},f=Nt(d);if(await this.client.exec(`
      UPDATE invoices SET
        invoice_number = ?, customer_id = ?, offer_id = ?, title = ?, status = ?, due_date = ?, 
        subtotal = ?, vat_rate = ?, vat_amount = ?, total = ?, notes = ?, updated_at = ?
      WHERE id = ?
    `,[f.invoice_number,f.customer_id,f.offer_id||null,f.title,f.status,f.due_date,f.subtotal,f.vat_rate,f.vat_amount,f.total,f.notes||null,f.updated_at,a]),o.lineItems){await this.client.exec("DELETE FROM invoice_line_items WHERE invoice_id = ?",[a]);for(const m of o.lineItems){const h=Nt(m);await this.client.exec("INSERT INTO invoice_line_items (invoice_id, title, description, quantity, unit_price, total, parent_item_id) VALUES (?, ?, ?, ?, ?, ?, ?)",[a,h.title,h.description||null,h.quantity,h.unit_price,h.total,h.parent_item_id||null])}}const p=await this.getInvoice(a);if(!p)throw new Error("Invoice update failed");return p}async deleteInvoice(a){await this.client.transaction([{sql:"DELETE FROM invoice_line_items WHERE invoice_id = ?",params:[a]},{sql:"DELETE FROM invoices WHERE id = ?",params:[a]}])}}function my({children:r,mode:a="sqlite"}){const[o,u]=k.useState(null),[d,f]=k.useState(!1),[p,m]=k.useState(),h=k.useMemo(()=>a==="sqlite"?new af:new af,[a]);return k.useEffect(()=>{let v=!0;return(async()=>{try{if(await h.ready(),!v)return;u(h),f(!0)}catch(g){m(String((g==null?void 0:g.message)??g))}})(),()=>{v=!1}},[h]),l.jsx(Wf.Provider,{value:{adapter:o,ready:d,error:p},children:r})}const Hf=k.createContext(void 0);function gy({children:r}){const[a,o]=k.useState(!1),[u,d]=k.useState(),f=(m,h)=>{o(m),d(h)},p=async(m,h)=>{f(!0,h);try{return await m()}finally{f(!1)}};return l.jsx(Hf.Provider,{value:{isLoading:a,loadingMessage:u,setLoading:f,withLoading:p},children:r})}function Ei(){const r=k.useContext(Hf);if(r===void 0)throw new Error("useLoading must be used within a LoadingProvider");return r}function yy({message:r}){return l.jsxs("div",{className:"loading-container",children:[l.jsx("div",{className:"loading-spinner"}),r&&l.jsx("p",{className:"loading-message",children:r})]})}function vy(){const{isLoading:r,loadingMessage:a}=Ei();return r?l.jsx("div",{className:"loading-overlay",children:l.jsx(yy,{message:a})}):null}const qf=k.createContext(void 0);function xy({children:r}){const[a,o]=k.useState([]),u=k.useCallback(m=>{o(h=>h.filter(v=>v.id!==m))},[]),d=k.useCallback((m,h,v=5e3)=>{const g=Date.now().toString(),x={id:g,type:m,message:h,duration:v};o(b=>[...b,x]),v>0&&setTimeout(()=>u(g),v)},[u]),f=k.useCallback(m=>{const h=typeof m=="string"?m:ay(m);d("error",h)},[d]),p=k.useCallback(m=>{d("success",m)},[d]);return l.jsx(qf.Provider,{value:{notifications:a,showNotification:d,showError:f,showSuccess:p,removeNotification:u},children:r})}function Yn(){const r=k.useContext(qf);if(r===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return r}function wy({notification:r,onRemove:a}){return l.jsx("div",{className:`notification-toast notification-${r.type}`,children:l.jsxs("div",{className:"notification-content",children:[l.jsx("span",{className:"notification-message",children:r.message}),l.jsx("button",{className:"notification-close",onClick:()=>a(r.id),"aria-label":"Schließen",children:"×"})]})})}function by(){const{notifications:r,removeNotification:a}=Yn();return l.jsx("div",{className:"notification-container",children:r.map(o=>l.jsx(wy,{notification:o,onRemove:a},o.id))})}const Kf=k.createContext(void 0);function Sy({children:r}){const[a,o]=k.useState([]),[u,d]=k.useState(!0),[f,p]=k.useState(null),m=async()=>{try{d(!0),p(null);const x=await window.rawalite.nummernkreis.getAll();if(console.log("🔍 [DEBUG] NumberingContext - IPC Result:",x),x.success&&x.data)console.log("🔍 [DEBUG] NumberingContext - Setting circles:",x.data.length,"circles"),console.log("🔍 [DEBUG] NumberingContext - Circle IDs:",x.data.map(b=>b.id)),o(x.data);else throw new Error(x.error||"Failed to load numbering circles")}catch(x){console.error("Error loading numbering circles:",x),p(x instanceof Error?x.message:"Unknown error")}finally{d(!1)}},h=async(x,b)=>{try{p(null);const w=a.find(I=>I.id===x);if(!w)throw new Error(`Numbering circle with id '${x}' not found`);const E={...w,...b},C=await window.rawalite.nummernkreis.update(x,E);if(C.success)o(I=>I.map(F=>F.id===x?E:F));else throw new Error(C.error||"Failed to update numbering circle")}catch(w){throw console.error("Error updating numbering circle:",w),p(w instanceof Error?w.message:"Unknown error"),w}},v=async x=>{try{p(null);const b=await window.rawalite.nummernkreis.getNext(x);if(b.success&&b.data!==void 0)return await m(),b.data;throw new Error(b.error||"Failed to get next number")}catch(b){throw console.error("Error getting next number:",b),p(b instanceof Error?b.message:"Unknown error"),b}};k.useEffect(()=>{m()},[]);const g={circles:a,loading:u,error:f,refreshCircles:m,updateCircle:h,getNextNumber:v};return l.jsx(Kf.Provider,{value:g,children:r})}function ky(){const r=k.useContext(Kf);if(r===void 0)throw new Error("useNumbering must be used within a NumberingProvider");return r}function of(r){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)}function Vo(){const{adapter:r,ready:a,error:o}=Er(),{getNextNumber:u}=wa(),[d,f]=k.useState([]),[p,m]=k.useState(!1),[h,v]=k.useState(null),g=async()=>{if(r){m(!0),v(null);try{const E=await r.listCustomers();f(E)}catch(E){const C=pt(E);v(C.message),console.error("Error loading customers:",C)}finally{m(!1)}}};return k.useEffect(()=>{!a||!r||g()},[a,r]),{customers:d,loading:p,error:o||h,createCustomer:async E=>{var C;if(!r)throw new pn("Datenbank-Adapter nicht verfügbar");if(!((C=E.name)!=null&&C.trim()))throw new Ae("Kundenname ist erforderlich","name");if(E.email&&!of(E.email))throw new Ae("Ungültige E-Mail-Adresse","email");v(null);try{console.log("Creating customer...");let I;try{console.log("Getting next customer number..."),I=await u("customers"),console.log("Got customer number:",I)}catch(F){console.warn("Settings not available, using fallback numbering:",F),I=`K-${Date.now()}`}return console.log("Creating customer with data:",{...E,number:I}),await r.createCustomer({...E,number:I}),console.log("Customer created successfully, refreshing data..."),await g(),console.log("Data refreshed"),!0}catch(I){const F=pt(I);throw v(F.message),console.error("Error creating customer:",F),F}},updateCustomer:async(E,C)=>{if(console.log("useCustomers updateCustomer called with:",E,C),!r)throw new pn("Datenbank-Adapter nicht verfügbar");if(C.name!==void 0&&!C.name.trim())throw new Ae("Kundenname ist erforderlich","name");if(C.email!==void 0&&C.email&&!of(C.email))throw new Ae("Ungültige E-Mail-Adresse","email");v(null);try{return console.log("Updating customer with adapter..."),await r.updateCustomer(E,C),console.log("Customer updated successfully"),await g(),!0}catch(I){console.error("Error in updateCustomer:",I);const F=pt(I);throw v(F.message),console.error("Error updating customer:",F),F}},deleteCustomer:async E=>{if(console.log("useCustomers deleteCustomer called with:",E),!r)throw new pn("Datenbank-Adapter nicht verfügbar");v(null);try{return console.log("Deleting customer with adapter..."),await r.deleteCustomer(E),console.log("Customer deleted successfully"),await g(),!0}catch(C){console.error("Error in deleteCustomer:",C);const I=pt(C);throw v(I.message),console.error("Error deleting customer:",I),I}},refresh:g}}function ru(){const{adapter:r}=Er(),[a,o]=k.useState([]),[u,d]=k.useState(!0),[f,p]=k.useState(null);async function m(){if(r){d(!0),p(null);try{const x=await r.listPackages();o(x)}catch(x){const b=pt(x);p(b.message),console.error("Error loading packages:",b)}finally{d(!1)}}}k.useEffect(()=>{m()},[r]);async function h(x){var w;if(!r)throw new pn("Datenbank-Adapter nicht verfügbar");if(!((w=x.internalTitle)!=null&&w.trim()))throw new Ae("Paket-Titel ist erforderlich","internalTitle");if(!x.lineItems||x.lineItems.length===0)throw new Ae("Mindestens eine Position ist erforderlich","lineItems");x.lineItems.forEach((E,C)=>{var I;if(!((I=E.title)!=null&&I.trim()))throw new Ae(`Titel für Position ${C+1} ist erforderlich`,`lineItems.${C}.title`);if(E.quantity<=0)throw new Ae(`Menge für Position ${C+1} muss größer als 0 sein`,`lineItems.${C}.quantity`);if(E.amount<0)throw new Ae(`Preis für Position ${C+1} darf nicht negativ sein`,`lineItems.${C}.amount`)});const b=x.lineItems.reduce((E,C)=>C.parentItemId?E:E+C.quantity*C.amount,0);p(null);try{const E=await r.createPackage({...x,total:b});return await m(),E}catch(E){const C=pt(E);throw p(C.message),console.error("Error creating package:",C),C}}async function v(x,b){if(!r)throw new pn("Datenbank-Adapter nicht verfügbar");if(b.internalTitle!==void 0&&!b.internalTitle.trim())throw new Ae("Paket-Titel ist erforderlich","internalTitle");if(b.lineItems!==void 0){if(b.lineItems.length===0)throw new Ae("Mindestens eine Position ist erforderlich","lineItems");b.lineItems.forEach((E,C)=>{var I;if(!((I=E.title)!=null&&I.trim()))throw new Ae(`Titel für Position ${C+1} ist erforderlich`,`lineItems.${C}.title`);if(E.quantity<=0)throw new Ae(`Menge für Position ${C+1} muss größer als 0 sein`,`lineItems.${C}.quantity`);if(E.amount<0)throw new Ae(`Preis für Position ${C+1} darf nicht negativ sein`,`lineItems.${C}.amount`)});const w=b.lineItems.reduce((E,C)=>C.parentItemId?E:E+C.quantity*C.amount,0);b.total=w}p(null);try{const w=await r.updatePackage(x,b);return await m(),w}catch(w){const E=pt(w);throw p(E.message),console.error("Error updating package:",E),E}}async function g(x){if(!r)throw new pn("Datenbank-Adapter nicht verfügbar");p(null);try{return await r.deletePackage(x),await m(),!0}catch(b){const w=pt(b);throw p(w.message),console.error("Error deleting package:",w),w}}return{packages:a,loading:u,error:f,createPackage:h,updatePackage:v,deletePackage:g,refresh:m}}function Ey({title:r="Dashboard"}){const{customers:a}=Vo(),{offers:o}=Wo(),{invoices:u}=nu(),{packages:d}=ru(),f={totalCustomers:a.length,totalOffers:o.length,totalInvoices:u.length,totalPackages:d.length,pendingOffers:o.filter(g=>g.status==="draft").length,acceptedOffers:o.filter(g=>g.status==="accepted").length,paidInvoices:u.filter(g=>g.status==="paid").length,unpaidInvoices:u.filter(g=>g.status==="draft"||g.status==="sent"||g.status==="overdue").length,totalOfferValue:o.reduce((g,x)=>g+x.total,0),totalInvoiceValue:u.reduce((g,x)=>g+x.total,0),paidAmount:u.filter(g=>g.status==="paid").reduce((g,x)=>g+x.total,0),unpaidAmount:u.filter(g=>g.status!=="paid").reduce((g,x)=>g+x.total,0)},p=o.sort((g,x)=>new Date(x.createdAt).getTime()-new Date(g.createdAt).getTime()).slice(0,5),m=u.sort((g,x)=>new Date(x.createdAt).getTime()-new Date(g.createdAt).getTime()).slice(0,5),h=g=>{switch(g){case"paid":return"#22c55e";case"accepted":return"#22c55e";case"sent":return"#f59e0b";case"draft":return"#6b7280";case"rejected":return"#ef4444";case"overdue":return"#ef4444";case"cancelled":return"#6b7280";default:return"#6b7280"}},v=g=>{switch(g){case"paid":return"Bezahlt";case"accepted":return"Angenommen";case"sent":return"Versendet";case"draft":return"Entwurf";case"rejected":return"Abgelehnt";case"overdue":return"Überfällig";case"cancelled":return"Storniert";default:return g}};return l.jsxs("div",{className:"card",children:[l.jsx("h2",{style:{marginTop:0},children:r}),l.jsx("p",{children:"Willkommen in RaWaLite. Hier ist deine Übersicht:"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(220px,1fr))",gap:16,marginBottom:24},children:[l.jsx("div",{className:"card",style:{background:"linear-gradient(135deg, #1e40af 0%, #3b82f6 100%)"},children:l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"24px",fontWeight:"600",color:"white"},children:f.totalCustomers}),l.jsx("div",{style:{opacity:.9,color:"white"},children:"Kunden"})]}),l.jsx("div",{style:{fontSize:"32px",opacity:.7},children:"👥"})]})}),l.jsxs("div",{className:"card",style:{background:"linear-gradient(135deg, #059669 0%, #10b981 100%)"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"24px",fontWeight:"600",color:"white"},children:f.totalOffers}),l.jsx("div",{style:{opacity:.9,color:"white"},children:"Angebote"})]}),l.jsx("div",{style:{fontSize:"32px",opacity:.7},children:"📋"})]}),l.jsxs("div",{style:{marginTop:8,fontSize:"12px",opacity:.8,color:"white"},children:[f.pendingOffers," Entwürfe, ",f.acceptedOffers," Angenommen"]})]}),l.jsxs("div",{className:"card",style:{background:"linear-gradient(135deg, #dc2626 0%, #ef4444 100%)"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"24px",fontWeight:"600",color:"white"},children:f.totalInvoices}),l.jsx("div",{style:{opacity:.9,color:"white"},children:"Rechnungen"})]}),l.jsx("div",{style:{fontSize:"32px",opacity:.7},children:"🧾"})]}),l.jsxs("div",{style:{marginTop:8,fontSize:"12px",opacity:.8,color:"white"},children:[f.paidInvoices," Bezahlt, ",f.unpaidInvoices," Offen"]})]}),l.jsx("div",{className:"card",style:{background:"linear-gradient(135deg, #7c3aed 0%, #8b5cf6 100%)"},children:l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"24px",fontWeight:"600",color:"white"},children:f.totalPackages}),l.jsx("div",{style:{opacity:.9,color:"white"},children:"Pakete"})]}),l.jsx("div",{style:{fontSize:"32px",opacity:.7},children:"📦"})]})})]}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(300px,1fr))",gap:16,marginBottom:24},children:l.jsxs("div",{className:"card",children:[l.jsx("h3",{style:{marginTop:0},children:"💰 Finanzübersicht"}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[l.jsx("span",{children:"Angebotswert gesamt:"}),l.jsxs("span",{style:{fontWeight:"600"},children:["€",f.totalOfferValue.toFixed(2)]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[l.jsx("span",{children:"Rechnungswert gesamt:"}),l.jsxs("span",{style:{fontWeight:"600"},children:["€",f.totalInvoiceValue.toFixed(2)]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",color:"#22c55e"},children:[l.jsx("span",{children:"Bezahlt:"}),l.jsxs("span",{style:{fontWeight:"600"},children:["€",f.paidAmount.toFixed(2)]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",color:"#f59e0b"},children:[l.jsx("span",{children:"Offen:"}),l.jsxs("span",{style:{fontWeight:"600"},children:["€",f.unpaidAmount.toFixed(2)]})]})]})]})}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(400px,1fr))",gap:16},children:[l.jsxs("div",{className:"card",children:[l.jsx("h3",{style:{marginTop:0},children:"📋 Letzte Angebote"}),p.length>0?l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:p.map(g=>l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 12px",background:"rgba(255,255,255,0.03)",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.1)"},children:[l.jsxs("div",{children:[l.jsxs("div",{style:{fontWeight:"500"},children:["#",g.offerNumber]}),l.jsx("div",{style:{fontSize:"12px",opacity:.7},children:new Date(g.createdAt).toLocaleDateString("de-DE")})]}),l.jsxs("div",{style:{textAlign:"right"},children:[l.jsxs("div",{style:{fontWeight:"600"},children:["€",g.total.toFixed(2)]}),l.jsx("div",{style:{fontSize:"12px",color:h(g.status),fontWeight:"500"},children:v(g.status)})]})]},g.id))}):l.jsx("p",{style:{opacity:.7,fontStyle:"italic"},children:"Noch keine Angebote vorhanden."})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{style:{marginTop:0},children:"🧾 Letzte Rechnungen"}),m.length>0?l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:m.map(g=>l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 12px",background:"rgba(255,255,255,0.03)",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.1)"},children:[l.jsxs("div",{children:[l.jsxs("div",{style:{fontWeight:"500"},children:["#",g.invoiceNumber]}),l.jsx("div",{style:{fontSize:"12px",opacity:.7},children:new Date(g.createdAt).toLocaleDateString("de-DE")})]}),l.jsxs("div",{style:{textAlign:"right"},children:[l.jsxs("div",{style:{fontWeight:"600"},children:["€",g.total.toFixed(2)]}),l.jsx("div",{style:{fontSize:"12px",color:h(g.status),fontWeight:"500"},children:v(g.status)})]})]},g.id))}):l.jsx("p",{style:{opacity:.7,fontStyle:"italic"},children:"Noch keine Rechnungen vorhanden."})]})]})]})}function Ho({columns:r,data:a,emptyMessage:o}){return l.jsx("div",{className:"card",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsx("tr",{children:r.map(u=>l.jsx("th",{style:{width:u.width},children:u.header},String(u.key)))})}),l.jsx("tbody",{children:a.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:r.length,style:{opacity:.8,padding:"16px 8px"},children:o??"Keine Einträge vorhanden."})}):a.map((u,d)=>l.jsx("tr",{children:r.map(f=>l.jsx("td",{children:f.render?f.render(u):String(u[f.key])},String(f.key)))},d))})]})})}function lf({initial:r,onSubmit:a,onCancel:o,submitLabel:u="Speichern"}){const[d,f]=k.useState(r??{name:""}),[p,m]=k.useState({}),[h,v]=k.useState(!1),{showError:g,showSuccess:x}=Yn(),{withLoading:b}=Ei();k.useEffect(()=>{f(r??{name:""}),m({})},[r]);function w(I,F){f(T=>({...T,[I]:F})),p[I]&&m(T=>({...T,[I]:""}))}function E(){const I={};return(!d.name||d.name.trim().length<2)&&(I.name="Bitte einen gültigen Namen angeben (min. 2 Zeichen)."),d.email&&d.email.trim()&&!/\S+@\S+\.\S+/.test(d.email)&&(I.email="Bitte eine gültige E-Mail-Adresse eingeben."),m(I),Object.keys(I).length===0}async function C(I){var T,_,K,ae,L,O;if(I.preventDefault(),console.log("CustomerForm handleSubmit called"),!E()){console.log("Form validation failed");return}if(h){console.log("Already submitting, preventing double submission");return}const F={name:d.name.trim(),email:((T=d.email)==null?void 0:T.trim())||void 0,phone:((_=d.phone)==null?void 0:_.trim())||void 0,street:((K=d.street)==null?void 0:K.trim())||void 0,zip:((ae=d.zip)==null?void 0:ae.trim())||void 0,city:((L=d.city)==null?void 0:L.trim())||void 0,notes:((O=d.notes)==null?void 0:O.trim())||void 0};console.log("CustomerForm submitting data:",F);try{v(!0),console.log("Calling onSubmit with withLoading wrapper"),await b(async()=>{console.log("Inside withLoading, calling onSubmit"),await a(F),console.log("onSubmit completed successfully")},`${u}...`),x(`Kunde wurde erfolgreich ${u==="Speichern"?"gespeichert":"aktualisiert"}.`)}catch(ee){console.error("Error in handleSubmit:",ee);const W=pt(ee);W instanceof Ae&&W.field?m(q=>({...q,[W.field]:W.message})):g(W)}finally{v(!1)}}return l.jsxs("form",{onSubmit:C,className:"customer-form",style:{display:"grid",gap:12,maxWidth:680},children:[l.jsxs("div",{style:{display:"grid",gap:6},children:[l.jsx("label",{children:"Name*"}),l.jsx("input",{type:"text",value:d.name,onChange:I=>w("name",I.target.value),placeholder:"Max Mustermann",required:!0,disabled:h,className:p.name?"error":""}),p.name&&l.jsx("span",{className:"field-error",children:p.name})]}),l.jsxs("div",{style:{display:"grid",gap:6},children:[l.jsx("label",{children:"E-Mail"}),l.jsx("input",{type:"email",value:d.email??"",onChange:I=>w("email",I.target.value),placeholder:"max@example.com",disabled:h,className:p.email?"error":""}),p.email&&l.jsx("span",{className:"field-error",children:p.email})]}),l.jsxs("div",{style:{display:"grid",gap:6},children:[l.jsx("label",{children:"Telefon"}),l.jsx("input",{type:"tel",value:d.phone??"",onChange:I=>w("phone",I.target.value),placeholder:"+49 30 12345678",disabled:h})]}),l.jsxs("div",{style:{display:"grid",gap:6},children:[l.jsx("label",{children:"Straße"}),l.jsx("input",{type:"text",value:d.street??"",onChange:I=>w("street",I.target.value),placeholder:"Musterstraße 123",disabled:h})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 2fr",gap:8},children:[l.jsxs("div",{style:{display:"grid",gap:6},children:[l.jsx("label",{children:"PLZ"}),l.jsx("input",{type:"text",value:d.zip??"",onChange:I=>w("zip",I.target.value),placeholder:"12345",disabled:h})]}),l.jsxs("div",{style:{display:"grid",gap:6},children:[l.jsx("label",{children:"Ort"}),l.jsx("input",{type:"text",value:d.city??"",onChange:I=>w("city",I.target.value),placeholder:"Berlin",disabled:h})]})]}),l.jsxs("div",{style:{display:"grid",gap:6},children:[l.jsx("label",{children:"Notizen"}),l.jsx("textarea",{value:d.notes??"",onChange:I=>w("notes",I.target.value),placeholder:"Weitere Informationen zum Kunden...",disabled:h,rows:3})]}),l.jsxs("div",{style:{display:"flex",gap:8,marginTop:"16px"},children:[l.jsx("button",{type:"submit",disabled:h,className:"btn btn-primary",style:{padding:"12px 24px",fontSize:"14px",fontWeight:"500",minWidth:"120px"},children:h?"Wird gespeichert...":u}),o&&l.jsx("button",{type:"button",onClick:o,disabled:h,className:"btn btn-secondary",style:{padding:"12px 24px",fontSize:"14px",fontWeight:"500",minWidth:"120px"},children:"Abbrechen"})]}),l.jsx("style",{children:`
        .customer-form input, .customer-form textarea { 
          background: rgba(255,255,255,.06); 
          color: white; 
          border: 1px solid rgba(255,255,255,.15); 
          padding: 10px 12px; 
          border-radius: 8px; 
          font-size: 14px;
          width: 100%;
          box-sizing: border-box;
          font-family: inherit;
        }
        .customer-form input:focus, .customer-form textarea:focus { 
          outline: 2px solid rgba(96,165,250,.5);
          background: rgba(255,255,255,.08);
        }
        .customer-form input.error, .customer-form textarea.error {
          border-color: rgba(239, 68, 68, 0.5);
          background: rgba(239, 68, 68, 0.1);
        }
        .customer-form input:disabled, .customer-form textarea:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }
        .customer-form label {
          font-weight: 500;
          margin-bottom: 4px;
          color: rgba(255,255,255,.9);
        }
        .field-error {
          color: rgba(239, 68, 68, 0.9);
          font-size: 0.8rem;
          margin-top: 4px;
        }
        .customer-form textarea {
          resize: vertical;
          min-height: 60px;
        }
      `})]})}class ga{static exportCustomersToCSV(a){const u=[["ID","Nummer","Name","E-Mail","Telefon","Straße","PLZ","Ort","Notizen","Erstellt","Aktualisiert"].join(";"),...a.map(d=>[d.id,d.number,d.name,d.email||"",d.phone||"",d.street||"",d.zip||"",d.city||"",d.notes||"",d.createdAt,d.updatedAt].map(f=>`"${String(f).replace(/"/g,'""')}"`).join(";"))].join(`
`);this.downloadFile(u,`kunden_${new Date().toISOString().split("T")[0]}.csv`,"text/csv")}static async exportOfferToPDF(a,o,u,d=!1){const f=this.generateOfferHTML(a,o,u);await this.htmlToPDF(f,`angebot_${a.offerNumber}.pdf`,d)}static async exportInvoiceToPDF(a,o,u,d=!1){const f=this.generateInvoiceHTML(a,o,u);await this.htmlToPDF(f,`rechnung_${a.invoiceNumber}.pdf`,d)}static generateOfferHTML(a,o,u){var p,m,h,v,g,x,b,w;const d=new Date().toLocaleDateString("de-DE"),f=new Date(a.validUntil).toLocaleDateString("de-DE");return`
      <!DOCTYPE html>
      <html>
      <head>
        <meta charset="utf-8">
        <title>Angebot ${a.offerNumber}</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 40px; color: #333; }
          .header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 40px; }
          .company { font-weight: bold; }
          .logo { max-width: 200px; max-height: 80px; }
          .customer { margin-bottom: 30px; }
          .document-title { font-size: 24px; font-weight: bold; margin: 30px 0; }
          .meta-info { margin-bottom: 30px; }
          table { width: 100%; border-collapse: collapse; margin: 20px 0; }
          th, td { padding: 10px; text-align: left; border-bottom: 1px solid #ddd; }
          th { background-color: #f5f5f5; font-weight: bold; }
          .sub-item { padding-left: 20px; font-style: italic; color: #666; }
          .totals { margin-top: 30px; text-align: right; }
          .total-row { font-weight: bold; font-size: 18px; }
          .notes { margin-top: 40px; }
        </style>
      </head>
      <body>
        <div class="header">
          <div class="company">
            ${((p=u.companyData)==null?void 0:p.name)||"Ihr Unternehmen"}<br>
            ${((m=u.companyData)==null?void 0:m.street)||""}<br>
            ${((h=u.companyData)==null?void 0:h.postalCode)||""} ${((v=u.companyData)==null?void 0:v.city)||""}
          </div>
          ${(g=u.companyData)!=null&&g.logo?`<img src="${u.companyData.logo}" alt="Logo" class="logo">`:""}
        </div>

        <div class="customer">
          <strong>${o.name}</strong><br>
          ${o.street||""}<br>
          ${o.zip||""} ${o.city||""}<br>
        </div>

        <div class="document-title">Angebot ${a.offerNumber}</div>

        <div class="meta-info">
          <strong>Datum:</strong> ${d}<br>
          <strong>Gültig bis:</strong> ${f}<br>
          <strong>Betreff:</strong> ${a.title}
        </div>

        <table>
          <thead>
            <tr>
              <th>Position</th>
              <th>Menge</th>
              <th>Einzelpreis</th>
              <th>Gesamt</th>
            </tr>
          </thead>
          <tbody>
            ${a.lineItems.map(E=>`
              <tr class="${E.parentItemId?"sub-item":""}">
                <td>
                  ${E.parentItemId?"↳ ":""}${E.title}
                  ${E.description?`<br><small>${E.description}</small>`:""}
                </td>
                <td>${E.quantity}</td>
                <td>€${E.unitPrice.toFixed(2)}</td>
                <td>€${E.total.toFixed(2)}</td>
              </tr>
            `).join("")}
          </tbody>
        </table>

        <div class="totals">
          <div>Zwischensumme: €${((x=a.subtotal)==null?void 0:x.toFixed(2))||a.total.toFixed(2)}</div>
          ${!((b=u==null?void 0:u.companyData)!=null&&b.kleinunternehmer)&&a.vatAmount&&a.vatAmount>0?`<div>MwSt. (${a.vatRate||19}%): €${a.vatAmount.toFixed(2)}</div>`:""}
          ${(w=u==null?void 0:u.companyData)!=null&&w.kleinunternehmer?'<div style="font-size: 12px; color: #666;">Umsatzsteuerbefreit nach §19 UStG</div>':""}
          <div class="total-row">Gesamtbetrag: €${a.total.toFixed(2)}</div>
        </div>

        ${a.notes?`<div class="notes"><strong>Anmerkungen:</strong><br>${a.notes}</div>`:""}
      </body>
      </html>
    `}static generateInvoiceHTML(a,o,u){var p,m,h,v,g,x,b,w;const d=new Date().toLocaleDateString("de-DE"),f=new Date(a.dueDate).toLocaleDateString("de-DE");return`
      <!DOCTYPE html>
      <html>
      <head>
        <meta charset="utf-8">
        <title>Rechnung ${a.invoiceNumber}</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 40px; color: #333; }
          .header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 40px; }
          .company { font-weight: bold; }
          .logo { max-width: 200px; max-height: 80px; }
          .customer { margin-bottom: 30px; }
          .document-title { font-size: 24px; font-weight: bold; margin: 30px 0; }
          .meta-info { margin-bottom: 30px; }
          table { width: 100%; border-collapse: collapse; margin: 20px 0; }
          th, td { padding: 10px; text-align: left; border-bottom: 1px solid #ddd; }
          th { background-color: #f5f5f5; font-weight: bold; }
          .sub-item { padding-left: 20px; font-style: italic; color: #666; }
          .totals { margin-top: 30px; text-align: right; }
          .total-row { font-weight: bold; font-size: 18px; }
          .notes { margin-top: 40px; }
        </style>
      </head>
      <body>
        <div class="header">
          <div class="company">
            ${((p=u.companyData)==null?void 0:p.name)||"Ihr Unternehmen"}<br>
            ${((m=u.companyData)==null?void 0:m.street)||""}<br>
            ${((h=u.companyData)==null?void 0:h.postalCode)||""} ${((v=u.companyData)==null?void 0:v.city)||""}
          </div>
          ${(g=u.companyData)!=null&&g.logo?`<img src="${u.companyData.logo}" alt="Logo" class="logo">`:""}
        </div>

        <div class="customer">
          <strong>${o.name}</strong><br>
          ${o.street||""}<br>
          ${o.zip||""} ${o.city||""}<br>
        </div>

        <div class="document-title">Rechnung ${a.invoiceNumber}</div>

        <div class="meta-info">
          <strong>Rechnungsdatum:</strong> ${d}<br>
          <strong>Fällig am:</strong> ${f}<br>
          <strong>Betreff:</strong> ${a.title}
        </div>

        <table>
          <thead>
            <tr>
              <th>Position</th>
              <th>Menge</th>
              <th>Einzelpreis</th>
              <th>Gesamt</th>
            </tr>
          </thead>
          <tbody>
            ${a.lineItems.map(E=>`
              <tr class="${E.parentItemId?"sub-item":""}">
                <td>
                  ${E.parentItemId?"↳ ":""}${E.title}
                  ${E.description?`<br><small>${E.description}</small>`:""}
                </td>
                <td>${E.quantity}</td>
                <td>€${E.unitPrice.toFixed(2)}</td>
                <td>€${E.total.toFixed(2)}</td>
              </tr>
            `).join("")}
          </tbody>
        </table>

        <div class="totals">
          <div>Zwischensumme: €${((x=a.subtotal)==null?void 0:x.toFixed(2))||a.total.toFixed(2)}</div>
          ${!((b=u==null?void 0:u.companyData)!=null&&b.kleinunternehmer)&&a.vatAmount&&a.vatAmount>0?`<div>MwSt. (${a.vatRate||19}%): €${a.vatAmount.toFixed(2)}</div>`:""}
          ${(w=u==null?void 0:u.companyData)!=null&&w.kleinunternehmer?'<div style="font-size: 12px; color: #666;">Umsatzsteuerbefreit nach §19 UStG</div>':""}
          <div class="total-row">Gesamtbetrag: €${a.total.toFixed(2)}</div>
        </div>

        ${a.notes?`<div class="notes"><strong>Anmerkungen:</strong><br>${a.notes}</div>`:""}
      </body>
      </html>
    `}static async htmlToPDF(a,o,u=!1){try{const{jsPDF:d}=await Si(async()=>{const{jsPDF:m}=await import("./jspdf.es.min-CjFZg9GD.js").then(h=>h.j);return{jsPDF:m}},[],import.meta.url),f=(await Si(async()=>{const{default:m}=await import("./html2canvas.esm-QH1iLAAe.js");return{default:m}},[],import.meta.url)).default,p=document.createElement("div");p.innerHTML=a,p.style.position="absolute",p.style.left="-9999px",p.style.top="-9999px",p.style.width="210mm",p.style.background="white",p.style.padding="20px",document.body.appendChild(p);try{const m=await f(p,{scale:2,useCORS:!0,backgroundColor:"#ffffff",width:794,height:1123}),h=new d("p","mm","a4"),v=210,g=m.height*v/m.width,x=m.toDataURL("image/png");if(h.addImage(x,"PNG",0,0,v,g),u){const b=h.output("blob"),w=URL.createObjectURL(b),E=window.open(w,"_blank","width=800,height=600,scrollbars=yes,resizable=yes");E?(console.log(`✅ PDF preview "${o}" opened in new tab`),E.addEventListener("beforeunload",()=>{URL.revokeObjectURL(w)})):confirm(`🔍 PDF-Vorschau benötigt ein Popup!

Möchten Sie:
- "OK" → Popup erlauben und Vorschau öffnen
- "Abbrechen" → PDF direkt herunterladen`)?this.showInlinePDFPreview(b,o):h.save(o)}else h.save(o),console.log(`✅ PDF "${o}" downloaded successfully`)}finally{document.body.removeChild(p)}}catch(d){console.warn("Modern PDF generation failed, falling back to print dialog:",d);const f=window.open("","_blank","width=800,height=600");if(!f){const p=document.createElement("div");p.innerHTML=a,p.style.position="fixed",p.style.top="-1000px",p.style.left="-1000px",p.style.width="210mm",p.style.height="297mm",document.body.appendChild(p),window.focus(),window.print(),setTimeout(()=>{document.body.removeChild(p)},1e3);return}f.document.write(a),f.document.close(),f.onload=()=>{f.focus(),setTimeout(()=>{f.print()},1e3)}}}static showInlinePDFPreview(a,o){const u=document.createElement("div");u.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      z-index: 10000;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
      box-sizing: border-box;
    `;const d=document.createElement("div");d.style.cssText=`
      background: white;
      border-radius: 12px;
      box-shadow: 0 25px 50px rgba(0,0,0,0.25);
      display: flex;
      flex-direction: column;
      width: 80vw;
      height: 80vh;
      min-width: 600px;
      min-height: 400px;
      max-width: 95vw;
      max-height: 95vh;
      resize: both;
      overflow: hidden;
      border: 1px solid #e2e8f0;
    `;const f=document.createElement("div");f.style.cssText=`
      background: linear-gradient(160deg, #1e3a2e 0%, #0f2419 40%, #0a1b0f 100%);
      color: white;
      padding: 16px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-radius: 12px 12px 0 0;
      cursor: move;
      user-select: none;
      border-bottom: 1px solid #e2e8f0;
    `;const p=document.createElement("div");p.style.cssText="display: flex; align-items: center; gap: 12px;";const m=document.createElement("span");m.textContent="📄",m.style.fontSize="20px";const h=document.createElement("h3");h.textContent=`PDF Vorschau: ${o}`,h.style.cssText="margin: 0; font-size: 16px; font-weight: 600;",p.appendChild(m),p.appendChild(h);const v=document.createElement("div");v.style.cssText="display: flex; gap: 8px; align-items: center;";const g=document.createElement("button");g.textContent="⬜",g.title="Maximieren",g.style.cssText=`
      background: rgba(255,255,255,0.2);
      color: white;
      border: none;
      border-radius: 6px;
      width: 32px;
      height: 32px;
      cursor: pointer;
      font-size: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background-color 0.2s;
    `;const x=document.createElement("button");x.textContent="✕",x.title="Schließen",x.style.cssText=`
      background: rgba(239,68,68,0.2);
      color: white;
      border: none;
      border-radius: 6px;
      width: 32px;
      height: 32px;
      cursor: pointer;
      font-size: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background-color 0.2s;
    `;const b=document.createElement("div");b.style.cssText=`
      flex: 1;
      display: flex;
      flex-direction: column;
      overflow: hidden;
      background: #f8fafc;
    `;const w=document.createElement("div");w.style.cssText=`
      padding: 12px 20px;
      background: white;
      border-bottom: 1px solid #e2e8f0;
      display: flex;
      gap: 12px;
      align-items: center;
      flex-wrap: wrap;
    `;const E=document.createElement("button");E.innerHTML="💾 Herunterladen",E.style.cssText=`
      background: #1e3a2e;
      color: white;
      border: none;
      border-radius: 8px;
      padding: 10px 16px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 6px;
      transition: all 0.2s;
      box-shadow: 0 2px 4px rgba(30,58,46,0.3);
    `;const C=document.createElement("div");C.style.cssText=`
      flex: 1;
      padding: 20px;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      overflow: auto;
    `;const I=document.createElement("iframe"),F=URL.createObjectURL(a);I.src=F,I.style.cssText=`
      width: 100%;
      height: 100%;
      border: 1px solid #d1d5db;
      border-radius: 8px;
      background: white;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    `;const T=document.createElement("div");T.style.cssText=`
      padding: 8px 20px;
      background: #f1f5f9;
      border-top: 1px solid #e2e8f0;
      font-size: 12px;
      color: #64748b;
      border-radius: 0 0 12px 12px;
    `,T.textContent=`Dateigröße: ${(a.size/1024).toFixed(1)} KB`;let _=!1,K="";g.onclick=()=>{_?(d.style.cssText=K,g.textContent="⬜",g.title="Maximieren",_=!1):(K=d.style.cssText,d.style.cssText=`
          position: fixed;
          top: 20px;
          left: 20px;
          right: 20px;
          bottom: 20px;
          width: auto;
          height: auto;
          background: white;
          border-radius: 12px;
          box-shadow: 0 25px 50px rgba(0,0,0,0.25);
          display: flex;
          flex-direction: column;
          border: 1px solid #e2e8f0;
          resize: none;
        `,g.textContent="🗗",g.title="Wiederherstellen",_=!0)},x.onclick=()=>{document.body.removeChild(u),URL.revokeObjectURL(F)},E.onclick=()=>{const W=document.createElement("a");W.href=F,W.download=o,W.click()};let ae=!1,L={x:0,y:0},O={x:0,y:0};f.onmousedown=W=>{if(_)return;ae=!0,L={x:W.clientX,y:W.clientY};const q=d.getBoundingClientRect();O={x:q.left,y:q.top},f.style.cursor="grabbing"},document.onmousemove=W=>{if(!ae||_)return;const q=W.clientX-L.x,Q=W.clientY-L.y;d.style.left=O.x+q+"px",d.style.top=O.y+Q+"px",d.style.position="absolute"},document.onmouseup=()=>{ae=!1,f.style.cursor="move"};const ee=W=>{W.key==="Escape"&&(document.body.removeChild(u),URL.revokeObjectURL(F),document.removeEventListener("keydown",ee))};document.addEventListener("keydown",ee),g.onmouseenter=()=>g.style.background="rgba(255,255,255,0.3)",g.onmouseleave=()=>g.style.background="rgba(255,255,255,0.2)",x.onmouseenter=()=>x.style.background="rgba(239,68,68,0.4)",x.onmouseleave=()=>x.style.background="rgba(239,68,68,0.2)",E.onmouseenter=()=>{E.style.background="#0f2419",E.style.transform="translateY(-1px)"},E.onmouseleave=()=>{E.style.background="#1e3a2e",E.style.transform="translateY(0)"},v.appendChild(g),v.appendChild(x),f.appendChild(p),f.appendChild(v),w.appendChild(E),C.appendChild(I),b.appendChild(w),b.appendChild(C),d.appendChild(f),d.appendChild(b),d.appendChild(T),u.appendChild(d),document.body.appendChild(u)}static async downloadFile(a,o,u){try{const d=await Qn.EXPORTS_DIR();await Qn.ensureDir(d);const f=new Blob([a],{type:u}),p=URL.createObjectURL(f),m=document.createElement("a");m.href=p,m.download=o,document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(p),console.log(`✅ File exported: ${o} (fallback browser download)`)}catch(d){throw console.error("Failed to export file:",d),d}}}function Cy({title:r="Kunden"}){const{customers:a,loading:o,error:u,createCustomer:d,updateCustomer:f,deleteCustomer:p}=Vo(),[m,h]=k.useState("list"),[v,g]=k.useState(null),{showError:x,showSuccess:b}=Yn(),{withLoading:w}=Ei(),E=k.useMemo(()=>[{key:"number",header:"Nummer"},{key:"name",header:"Name"},{key:"email",header:"E-Mail",render:_=>_.email||l.jsx("em",{style:{opacity:.6},children:"kein Eintrag"})},{key:"city",header:"Ort",render:_=>_.city||l.jsx("em",{style:{opacity:.6},children:"kein Eintrag"})},{key:"phone",header:"Telefon",render:_=>_.phone||l.jsx("em",{style:{opacity:.6},children:"kein Eintrag"})},{key:"id",header:"Aktionen",render:_=>l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{className:"btn btn-secondary",style:{padding:"4px 8px",fontSize:"12px"},onClick:()=>{g(_),h("edit")},disabled:o,children:"Bearbeiten"}),l.jsx("button",{className:"btn btn-danger",style:{padding:"4px 8px",fontSize:"12px"},onClick:()=>{confirm("Diesen Kunden wirklich löschen?")&&F(_.id)},disabled:o,children:"Löschen"})]})}],[o]);async function C(_){try{await d({name:_.name,email:_.email,phone:_.phone,street:_.street,zip:_.zip,city:_.city,notes:_.notes}),h("list")}catch(K){console.error("Error creating customer:",K)}}async function I(_){if(v)try{await f(v.id,{name:_.name,email:_.email,phone:_.phone,street:_.street,zip:_.zip,city:_.city,notes:_.notes}),h("list"),g(null)}catch(K){console.error("Error updating customer:",K)}}async function F(_){try{await w(()=>p(_),"Kunde wird gelöscht..."),b("Kunde wurde erfolgreich gelöscht.")}catch(K){const ae=pt(K);x(ae)}}async function T(){try{await w(()=>Promise.resolve(ga.exportCustomersToCSV(a)),"CSV wird erstellt..."),b("CSV-Export wurde erfolgreich erstellt.")}catch(_){const K=pt(_);x("Fehler beim CSV-Export: "+K.message)}}return o&&a.length===0?l.jsx("div",{className:"card",children:l.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[l.jsx("div",{className:"loading-spinner",style:{margin:"0 auto 1rem"}}),l.jsx("p",{children:"Kundendaten werden geladen..."})]})}):u&&a.length===0?l.jsx("div",{className:"card",children:l.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[l.jsxs("p",{style:{color:"rgba(239, 68, 68, 0.9)",marginBottom:"1rem"},children:["Fehler beim Laden der Kundendaten: ",u]}),l.jsx("button",{className:"btn btn-primary",onClick:()=>window.location.reload(),children:"Seite neu laden"})]})}):l.jsxs("div",{className:"card",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[l.jsxs("div",{children:[l.jsx("h2",{style:{margin:"0 0 4px 0"},children:r}),l.jsx("div",{style:{opacity:.7},children:"Verwalte deine Kunden. Daten werden lokal gespeichert."})]}),l.jsxs("div",{style:{display:"flex",gap:"8px"},children:[l.jsx("button",{className:"btn btn-success",onClick:T,disabled:o||a.length===0,children:"CSV Export"}),l.jsx("button",{className:`btn ${m==="create"?"btn-secondary":"btn-primary"}`,onClick:()=>h(m==="create"?"list":"create"),disabled:o,children:m==="create"?"Abbrechen":"Neuer Kunde"})]})]}),l.jsx(Ho,{columns:E,data:a,emptyMessage:"Noch keine Kunden angelegt."}),m==="create"&&l.jsxs("div",{style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid rgba(0,0,0,.1)"},children:[l.jsxs("div",{style:{marginBottom:"16px"},children:[l.jsx("h3",{style:{margin:"0 0 4px 0"},children:"Neuer Kunde"}),l.jsx("div",{style:{opacity:.7},children:"Erstelle einen neuen Kunden."})]}),l.jsx(lf,{onSubmit:C,onCancel:()=>h("list"),submitLabel:"Erstellen"})]}),m==="edit"&&v&&l.jsxs("div",{style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid rgba(0,0,0,.1)"},children:[l.jsxs("div",{style:{marginBottom:"16px"},children:[l.jsx("h3",{style:{margin:"0 0 4px 0"},children:"Kunde bearbeiten"}),l.jsxs("div",{style:{opacity:.7},children:["Bearbeite die Kundendaten von ",v.name,"."]})]}),l.jsx(lf,{initial:{name:v.name,email:v.email||"",phone:v.phone||"",street:v.street||"",zip:v.zip||"",city:v.city||"",notes:v.notes||""},onSubmit:I,onCancel:()=>{h("list"),g(null)},submitLabel:"Aktualisieren"})]})]})}const sf=({offer:r,customers:a,packages:o,onSave:u,onCancel:d,submitLabel:f="Erstellen"})=>{var de,xe;const{adapter:p}=Er(),{settings:m}=wa(),{showError:h,showSuccess:v}=Yn(),{withLoading:g}=Ei(),[x,b]=k.useState(((de=r==null?void 0:r.customerId)==null?void 0:de.toString())||""),[w,E]=k.useState((r==null?void 0:r.title)||""),[C,I]=k.useState((r==null?void 0:r.notes)||""),[F,T]=k.useState(r!=null&&r.validUntil?new Date(r.validUntil).toISOString().split("T")[0]:""),[_,K]=k.useState((r==null?void 0:r.lineItems)||[]),[ae,L]=k.useState((r==null?void 0:r.vatRate)||19),[O,ee]=k.useState({}),[W,q]=k.useState(!1),Q=((xe=m==null?void 0:m.companyData)==null?void 0:xe.kleinunternehmer)||!1,Re=_.reduce((Y,ne)=>Y+ne.total,0),le=Q?0:Re*ae/100,Ie=Re+le,Fe=()=>{const Y={id:Date.now(),title:"",description:"",quantity:1,unitPrice:0,total:0,parentItemId:void 0};K([..._,Y])},Te=Y=>{const ne={id:Date.now(),title:"",description:"",quantity:1,unitPrice:0,total:0,parentItemId:Y};K([..._,ne])},Se=(Y,ne,be)=>{K(ke=>ke.map(Be=>{if(Be.id===Y){const M={...Be,[ne]:be};return(ne==="quantity"||ne==="unitPrice")&&(M.total=M.quantity*M.unitPrice),M}return Be}))},te=Y=>{K(ne=>ne.filter(be=>be.id!==Y&&be.parentItemId!==Y))},H=async Y=>{if(p)try{const ne=await p.getPackage(Y);if(!ne)return;const be=ne.lineItems.map(ke=>({id:Date.now()+Math.random(),title:ke.title,description:ke.description,quantity:ke.quantity,unitPrice:ke.amount,total:ke.quantity*ke.amount,parentItemId:ke.parentItemId}));K([..._,...be])}catch(ne){console.error("Error adding package:",ne)}};function V(){const Y={};return x||(Y.customerId="Kunde ist erforderlich"),w!=null&&w.trim()||(Y.title="Angebots-Titel ist erforderlich"),_.length===0&&(Y.lineItems="Mindestens eine Position ist erforderlich"),_.forEach((ne,be)=>{var ke;(ke=ne.title)!=null&&ke.trim()||(Y[`lineItem_${be}_title`]=`Titel für Position ${be+1} ist erforderlich`),ne.quantity<=0&&(Y[`lineItem_${be}_quantity`]=`Menge für Position ${be+1} muss größer als 0 sein`),ne.unitPrice<0&&(Y[`lineItem_${be}_unitPrice`]=`Preis für Position ${be+1} darf nicht negativ sein`)}),ee(Y),Object.keys(Y).length===0}const P=async Y=>{if(Y.preventDefault(),W)return;if(!x||!w.trim()){alert("❌ Pflichtfelder fehlen:\\n\\n"+(x?"":"• Bitte wählen Sie einen Kunden aus\\n")+(w.trim()?"":"• Bitte geben Sie einen Titel ein\\n"));return}if(!V())return;const ne={offerNumber:(r==null?void 0:r.offerNumber)||`AN-${Date.now()}`,customerId:parseInt(x),title:w.trim(),notes:C.trim(),validUntil:F,lineItems:_,subtotal:Re,vatRate:ae,vatAmount:le,total:Ie,status:(r==null?void 0:r.status)||"draft"};try{q(!0),await g(()=>u(ne),`${f}...`),v(`Angebot wurde erfolgreich ${f==="Erstellen"?"erstellt":"aktualisiert"}.`)}catch(be){const ke=pt(be);ke instanceof Ae&&ke.field?ee(Be=>({...Be,[ke.field]:ke.message})):h(ke)}finally{q(!1)}},U=_.filter(Y=>!Y.parentItemId);return l.jsxs("div",{className:"card",style:{maxWidth:"800px",margin:"0 auto"},children:[l.jsx("h2",{style:{margin:"0 0 16px 0"},children:r?"Angebot bearbeiten":"Neues Angebot"}),l.jsxs("form",{onSubmit:P,style:{display:"flex",flexDirection:"column",gap:"16px"},children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"Kunde *"}),l.jsxs("select",{value:x,onChange:Y=>{b(Y.target.value),O.customerId&&ee(ne=>({...ne,customerId:""}))},style:{width:"100%",padding:"8px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"6px",background:"rgba(17,24,39,.8)",color:"var(--muted)"},required:!0,disabled:W,className:O.customerId?"error":"",children:[l.jsx("option",{value:"",children:"Kunde auswählen"}),a.map(Y=>l.jsx("option",{value:Y.id,children:Y.name},Y.id))]}),O.customerId&&l.jsx("div",{className:"field-error",children:O.customerId})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"Gültig bis"}),l.jsx("input",{type:"date",value:F,onChange:Y=>T(Y.target.value),style:{width:"100%",padding:"8px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"6px",background:"rgba(17,24,39,.8)",color:"var(--muted)"}})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"Titel *"}),l.jsx("input",{type:"text",value:w,onChange:Y=>{E(Y.target.value),O.title&&ee(ne=>({...ne,title:""}))},style:{width:"100%",padding:"8px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"6px",background:"rgba(17,24,39,.8)",color:"var(--muted)"},required:!0,disabled:W,className:O.title?"error":""}),O.title&&l.jsx("div",{className:"field-error",children:O.title})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"Anmerkungen"}),l.jsx("textarea",{value:C,onChange:Y=>I(Y.target.value),rows:3,style:{width:"100%",padding:"8px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"6px",background:"rgba(17,24,39,.8)",color:"var(--muted)",resize:"vertical"}})]}),l.jsxs("div",{style:{borderTop:"1px solid rgba(255,255,255,.1)",paddingTop:"16px"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[l.jsx("h3",{style:{margin:"0",fontSize:"16px",fontWeight:"600"},children:"Positionen"}),l.jsxs("select",{onChange:Y=>{Y.target.value&&(H(parseInt(Y.target.value)),Y.target.value="")},style:{padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},disabled:W,children:[l.jsx("option",{value:"",children:"Paket hinzufügen"}),o.map(Y=>l.jsx("option",{value:Y.id,children:Y.internalTitle},Y.id))]}),l.jsx("button",{type:"button",onClick:Fe,disabled:W,className:"btn btn-success",style:{fontSize:"14px",padding:"6px 12px"},children:"Position hinzufügen"})]}),O.lineItems&&l.jsx("div",{className:"field-error",style:{marginBottom:"12px"},children:O.lineItems}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:U.map(Y=>l.jsxs("div",{children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr 1fr auto",gap:"8px",alignItems:"start",padding:"12px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"6px",background:"rgba(17,24,39,.4)"},children:[l.jsxs("div",{children:[l.jsx("input",{type:"text",placeholder:"Titel",value:Y.title,onChange:ne=>Se(Y.id,"title",ne.target.value),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px",marginBottom:"4px"}}),l.jsx("input",{type:"text",placeholder:"Beschreibung",value:Y.description||"",onChange:ne=>Se(Y.id,"description",ne.target.value),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"}})]}),l.jsx("div",{children:l.jsx("input",{type:"number",placeholder:"Menge",value:Y.quantity,onChange:ne=>Se(Y.id,"quantity",parseFloat(ne.target.value)||0),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},min:"0",step:"0.01"})}),l.jsx("div",{children:l.jsx("input",{type:"number",placeholder:"Einzelpreis",value:Y.unitPrice,onChange:ne=>Se(Y.id,"unitPrice",parseFloat(ne.target.value)||0),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},min:"0",step:"0.01"})}),l.jsxs("div",{style:{padding:"6px",fontSize:"14px",fontWeight:"500"},children:["€",Y.total.toFixed(2)]}),l.jsxs("div",{style:{display:"flex",gap:"4px"},children:[l.jsx("button",{type:"button",onClick:()=>Te(Y.id),style:{backgroundColor:"var(--ok)",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Sub"}),l.jsx("button",{type:"button",onClick:()=>te(Y.id),style:{backgroundColor:"var(--danger)",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"✕"})]})]}),_.filter(ne=>ne.parentItemId===Y.id).map(ne=>l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr 1fr auto",gap:"8px",alignItems:"start",padding:"12px",marginLeft:"24px",border:"1px solid rgba(96,165,250,.3)",borderLeft:"4px solid var(--accent)",borderRadius:"6px",background:"rgba(96,165,250,.1)",marginTop:"4px"},children:[l.jsxs("div",{children:[l.jsx("input",{type:"text",placeholder:"Sub-Titel",value:ne.title,onChange:be=>Se(ne.id,"title",be.target.value),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px",marginBottom:"4px"}}),l.jsx("input",{type:"text",placeholder:"Sub-Beschreibung",value:ne.description||"",onChange:be=>Se(ne.id,"description",be.target.value),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"}})]}),l.jsx("div",{children:l.jsx("input",{type:"number",placeholder:"Menge",value:ne.quantity,onChange:be=>Se(ne.id,"quantity",parseFloat(be.target.value)||0),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},min:"0",step:"0.01"})}),l.jsx("div",{children:l.jsx("input",{type:"number",placeholder:"Einzelpreis",value:ne.unitPrice,onChange:be=>Se(ne.id,"unitPrice",parseFloat(be.target.value)||0),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},min:"0",step:"0.01"})}),l.jsxs("div",{style:{padding:"6px",fontSize:"14px",fontWeight:"500"},children:["€",ne.total.toFixed(2)]}),l.jsx("div",{children:l.jsx("button",{type:"button",onClick:()=>te(ne.id),style:{backgroundColor:"var(--danger)",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"✕"})})]},ne.id))]},Y.id))})]}),l.jsx("div",{style:{borderTop:"1px solid rgba(255,255,255,.1)",paddingTop:"16px"},children:l.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:l.jsxs("div",{style:{width:"300px",display:"flex",flexDirection:"column",gap:"8px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[l.jsx("span",{children:"Zwischensumme:"}),l.jsxs("span",{children:["€",Re.toFixed(2)]})]}),!Q&&l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx("span",{children:"MwSt.:"}),l.jsx("input",{type:"number",value:ae,onChange:Y=>L(parseFloat(Y.target.value)||0),style:{width:"60px",padding:"4px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},min:"0",max:"100",step:"0.1"}),l.jsx("span",{children:"%"})]}),l.jsxs("span",{children:["€",le.toFixed(2)]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"600",fontSize:"16px",borderTop:"1px solid rgba(255,255,255,.1)",paddingTop:"8px"},children:[l.jsx("span",{children:"Gesamtbetrag:"}),l.jsxs("span",{children:["€",Ie.toFixed(2)]})]})]})})}),l.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",marginTop:"16px"},children:[l.jsx("button",{type:"button",onClick:d,disabled:W,className:"btn btn-secondary",style:{padding:"12px 24px",fontSize:"14px",fontWeight:"500",minWidth:"120px"},children:"Abbrechen"}),l.jsx("button",{type:"submit",disabled:W,className:"btn btn-primary",style:{padding:"12px 24px",fontSize:"14px",fontWeight:"500",minWidth:"120px"},children:W?"Wird gespeichert...":f})]}),l.jsx("style",{children:`
          .field-error {
            color: rgba(239, 68, 68, 0.9);
            font-size: 0.8rem;
            margin-top: 4px;
          }
          .error {
            border-color: rgba(239, 68, 68, 0.5) !important;
            background: rgba(239, 68, 68, 0.1) !important;
          }
        `})]})]})},uf="rawalite-settings";function Qf(){const[r,a]=k.useState(rn),[o,u]=k.useState(!0),[d,f]=k.useState(null);k.useEffect(()=>{try{const g=localStorage.getItem(uf);if(g){const x=JSON.parse(g);a({...rn,...x,companyData:{...rn.companyData,...x.companyData},numberingCircles:x.numberingCircles||rn.numberingCircles})}}catch(g){console.error("Error loading settings:",g),f("Fehler beim Laden der Einstellungen")}finally{u(!1)}},[]);const p=async g=>{try{u(!0),localStorage.setItem(uf,JSON.stringify(g)),a(g),f(null)}catch(x){throw console.error("Error saving settings:",x),f("Fehler beim Speichern der Einstellungen"),x}finally{u(!1)}};return{settings:r,loading:o,error:d,updateCompanyData:async g=>{const x={...r,companyData:g};await p(x)},updateNumberingCircles:async g=>{const x={...r,numberingCircles:g};await p(x)},getNextNumber:g=>{const x=r.numberingCircles.find(C=>C.id===g);if(!x)throw new Error(`Nummernkreis '${g}' nicht gefunden`);const b=new Date().getFullYear();let w=x.current+1;x.resetMode==="yearly"&&x.lastResetYear!==b&&(w=1);const E=r.numberingCircles.map(C=>C.id===g?{...C,current:w,lastResetYear:b}:C);return p({...r,numberingCircles:E}),`${x.prefix}${w.toString().padStart(x.digits,"0")}`},saveSettings:p}}function jy({title:r="Angebote"}){const{offers:a,loading:o,error:u,createOffer:d,updateOffer:f,deleteOffer:p}=Wo(),{customers:m}=Vo(),{packages:h}=ru(),{settings:v}=Qf(),{showSuccess:g,showError:x}=Yn(),[b,w]=k.useState("list"),[E,C]=k.useState(null),I=k.useMemo(()=>[{key:"offerNumber",header:"Nummer"},{key:"customerId",header:"Kunde",render:O=>{const ee=m.find(W=>W.id===O.customerId);return(ee==null?void 0:ee.name)||`Kunde #${O.customerId}`}},{key:"title",header:"Titel"},{key:"status",header:"Status",render:O=>{const ee={draft:"#6b7280",sent:"#3b82f6",accepted:"#10b981",rejected:"#ef4444"},W={draft:"Entwurf",sent:"Versendet",accepted:"Angenommen",rejected:"Abgelehnt"},q=ee[O.status]||"#6b7280",Q=W[O.status]||O.status;return l.jsx("span",{style:{padding:"4px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"500",backgroundColor:q+"20",color:q},children:Q})}},{key:"total",header:"Gesamtbetrag",render:O=>`€${O.total.toFixed(2)}`},{key:"validUntil",header:"Gültig bis",render:O=>O.validUntil?new Date(O.validUntil).toLocaleDateString("de-DE"):"-"},{key:"id",header:"Aktionen",render:O=>l.jsxs("div",{style:{display:"flex",gap:"4px"},children:[l.jsx("button",{className:"btn btn-info",onClick:()=>L(O),style:{padding:"4px 8px",fontSize:"12px"},title:"PDF Vorschau anzeigen",children:"👁️ Vorschau"}),l.jsx("button",{className:"btn btn-warning",onClick:()=>ae(O),style:{padding:"4px 8px",fontSize:"12px"},title:"PDF herunterladen",children:"💾 PDF"}),l.jsx("button",{className:"btn btn-secondary",style:{padding:"4px 8px",fontSize:"12px"},onClick:()=>{C(O),w("edit")},children:"Bearbeiten"}),l.jsxs("select",{value:O.status,onChange:ee=>_(O.id,ee.target.value),style:{padding:"4px 8px",fontSize:"12px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",cursor:"pointer"},children:[l.jsx("option",{value:"draft",children:"Entwurf"}),l.jsx("option",{value:"sent",children:"Gesendet"}),l.jsx("option",{value:"accepted",children:"Angenommen"}),l.jsx("option",{value:"rejected",children:"Abgelehnt"})]}),l.jsx("button",{className:"btn btn-danger",style:{padding:"4px 8px",fontSize:"12px"},onClick:()=>{confirm("Dieses Angebot wirklich löschen?")&&K(O.id)},children:"Löschen"})]})}],[m]);async function F(O){await d(O),w("list")}async function T(O){E&&(await f(E.id,O),w("list"),C(null))}async function _(O,ee){try{const W=a.find(le=>le.id===O);if(!W)return;const q=new Date().toISOString(),Q={};switch(ee){case"sent":Q.sentAt=q;break;case"accepted":Q.acceptedAt=q;break;case"rejected":Q.rejectedAt=q;break}await f(O,{...W,status:ee,...Q}),g(`Angebot-Status auf "${{draft:"Entwurf",sent:"Gesendet",accepted:"Angenommen",rejected:"Abgelehnt"}[ee]}" geändert`)}catch{x("Fehler beim Ändern des Status")}}async function K(O){await p(O)}const ae=async O=>{const ee=m.find(W=>W.id===O.customerId);if(!ee){alert("Kunde nicht gefunden");return}try{await ga.exportOfferToPDF(O,ee,v,!1)}catch(W){console.error("PDF Export failed:",W),alert("PDF Export fehlgeschlagen: "+(W instanceof Error?W.message:"Unbekannter Fehler"))}},L=async O=>{const ee=m.find(W=>W.id===O.customerId);if(!ee){alert("Kunde nicht gefunden");return}try{await ga.exportOfferToPDF(O,ee,v,!0)}catch(W){console.error("PDF Preview failed:",W),alert("PDF Vorschau fehlgeschlagen: "+(W instanceof Error?W.message:"Unbekannter Fehler"))}};return o?l.jsx("div",{className:"card",children:"Lade Angebote..."}):u?l.jsxs("div",{className:"card",children:["Fehler: ",u]}):l.jsxs("div",{className:"card",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[l.jsxs("div",{children:[l.jsx("h2",{style:{margin:"0 0 4px 0"},children:r}),l.jsx("div",{style:{opacity:.7},children:"Verwalte deine Angebote und exportiere sie als PDF."})]}),l.jsx("button",{className:`btn ${b==="create"?"btn-secondary":"btn-primary"}`,onClick:()=>w(b==="create"?"list":"create"),children:b==="create"?"Abbrechen":"Neues Angebot"})]}),l.jsx(Ho,{columns:I,data:a,emptyMessage:"Noch keine Angebote erstellt."}),b==="create"&&l.jsxs("div",{style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid rgba(255,255,255,.1)"},children:[l.jsxs("div",{style:{marginBottom:"16px"},children:[l.jsx("h3",{style:{margin:"0 0 4px 0"},children:"Neues Angebot"}),l.jsx("div",{style:{opacity:.7},children:"Erstelle ein neues Angebot."})]}),l.jsx(sf,{customers:m,packages:h,onSave:F,onCancel:()=>w("list"),submitLabel:"Erstellen"})]}),b==="edit"&&E&&l.jsxs("div",{style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid rgba(255,255,255,.1)"},children:[l.jsxs("div",{style:{marginBottom:"16px"},children:[l.jsx("h3",{style:{margin:"0 0 4px 0"},children:"Angebot bearbeiten"}),l.jsxs("div",{style:{opacity:.7},children:['Bearbeite das Angebot "',E.title,'".']})]}),l.jsx(sf,{offer:E,customers:m,packages:h,onSave:T,onCancel:()=>{w("list"),C(null)},submitLabel:"Aktualisieren"})]})]})}function Ry({}){const{adapter:r,ready:a,error:o}=Er(),[u,d]=k.useState([]),[f,p]=k.useState(!1),[m,h]=k.useState("");k.useEffect(()=>{if(!a||!r)return;let g=!0;return(async()=>{p(!0);try{const x=await r.listCustomers();g&&d(x)}finally{g&&p(!1)}})(),()=>{g=!1}},[a,r]);async function v(){if(!r)return;const g=m.trim();if(!g)return;const x=`K-${String(Date.now()).slice(-6)}`;await r.createCustomer({number:x,name:g});const b=await r.listCustomers();d(b),h("")}return l.jsxs("div",{className:"p-4 space-y-6",children:[l.jsx("header",{className:"flex items-center justify-between",children:l.jsx("h1",{className:"text-2xl font-semibold",children:"Angebot – Details"})}),!a&&l.jsx("div",{className:"text-sm text-gray-500",children:"Initialisiere Persistenz…"}),o&&l.jsxs("div",{className:"text-sm text-red-600",children:["Persistenzfehler: ",String(o)]}),l.jsxs("section",{className:"space-y-3",children:[l.jsx("h2",{className:"text-lg font-medium",children:"Schnell-Kunde anlegen"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{value:m,onChange:g=>h(g.target.value),placeholder:"Kundenname",className:"flex-1 px-3 py-2 border rounded"}),l.jsx("button",{onClick:v,disabled:!m.trim()||!r,className:"px-4 py-2 bg-blue-600 text-white rounded disabled:bg-gray-400",children:"Hinzufügen"})]})]}),l.jsxs("section",{className:"space-y-3",children:[l.jsxs("h2",{className:"text-lg font-medium",children:["Kunden (",u.length,")"]}),f?l.jsx("div",{className:"text-sm text-gray-500",children:"Lade Kunden…"}):l.jsx("div",{className:"grid gap-2",children:u.map(g=>l.jsxs("div",{className:"p-3 border rounded",children:[l.jsx("div",{className:"font-medium",children:g.name}),l.jsx("div",{className:"text-sm text-gray-600",children:g.number})]},g.id))})]})]})}function cf({initial:r,onSubmit:a,onCancel:o,submitLabel:u="Speichern",packages:d=[]}){const[f,p]=k.useState(r??{internalTitle:"",lineItems:[],addVat:!1}),[m,h]=k.useState({title:"",quantity:1,amount:0,parentItemId:void 0,description:""}),[v,g]=k.useState(""),[x,b]=k.useState({}),[w,E]=k.useState(!1),{showError:C,showSuccess:I}=Yn(),{withLoading:F}=Ei();function T(){var Re;if(!m.title.trim()){g("Bitte einen Titel für die Position eingeben"),setTimeout(()=>{const le=document.querySelector('input[placeholder*="Position"]');le==null||le.focus()},100);return}g("");const q={title:m.title.trim(),quantity:m.quantity,amount:m.amount,parentItemId:m.parentItemId,description:((Re=m.description)==null?void 0:Re.trim())||void 0};p(le=>({...le,lineItems:[...le.lineItems,q]}));const Q=m.parentItemId;h({title:"",quantity:1,amount:0,parentItemId:Q,description:""}),setTimeout(()=>{const le=document.querySelector('input[placeholder*="Position"]');le==null||le.focus()},100)}function _(q){p(Q=>({...Q,lineItems:Q.lineItems.filter((Re,le)=>le!==q)}))}function K(q,Q,Re){p(le=>({...le,lineItems:le.lineItems.map((Ie,Fe)=>Fe===q?{...Ie,[Q]:Re}:Ie)}))}function ae(){const q={};return f.internalTitle.trim()||(q.internalTitle="Bitte einen internen Titel eingeben"),f.lineItems.length===0&&(q.lineItems="Bitte mindestens eine Position hinzufügen"),f.lineItems.forEach((Q,Re)=>{Q.title.trim()||(q[`item_${Re}_title`]="Titel ist erforderlich"),Q.quantity<=0&&(q[`item_${Re}_quantity`]="Menge muss größer als 0 sein"),Q.amount<0&&(q[`item_${Re}_amount`]="Betrag darf nicht negativ sein")}),b(q),Object.keys(q).length===0}const L=f.lineItems.reduce((q,Q)=>Q.parentItemId?q:q+Q.quantity*Q.amount,0);async function O(q){if(q.preventDefault(),!ae()||w)return;const Q={...f,internalTitle:f.internalTitle.trim()};try{E(!0),await F(()=>a(Q),`${u}...`),I(`Paket wurde erfolgreich ${u==="Speichern"?"gespeichert":"aktualisiert"}.`)}catch(Re){const le=pt(Re);le instanceof Ae&&le.field?b(Ie=>({...Ie,[le.field]:le.message})):C(le)}finally{E(!1)}}const ee=d.filter(q=>!q.parentPackageId),W=f.lineItems.length>0||ee.length>0;return l.jsxs("form",{onSubmit:O,className:"package-form",style:{display:"grid",gap:16},children:[l.jsxs("div",{style:{display:"grid",gap:6},children:[l.jsx("label",{children:"Paket-Name*"}),l.jsx("input",{value:f.internalTitle,onChange:q=>{p(Q=>({...Q,internalTitle:q.target.value})),x.internalTitle&&b(Q=>({...Q,internalTitle:""}))},placeholder:"Webdesign-Paket",disabled:w,className:x.internalTitle?"error":""}),x.internalTitle&&l.jsx("span",{className:"field-error",children:x.internalTitle})]}),W&&l.jsxs("div",{style:{display:"grid",gap:6},children:[l.jsx("label",{children:"Als Subpaket zu (optional)"}),l.jsxs("select",{value:f.parentPackageId||"",onChange:q=>p(Q=>({...Q,parentPackageId:q.target.value?Number(q.target.value):void 0})),disabled:w,children:[l.jsx("option",{value:"",children:"-- Hauptpaket --"}),ee.length>0?ee.map(q=>l.jsx("option",{value:q.id,children:q.internalTitle},q.id)):l.jsx("option",{disabled:!0,style:{fontStyle:"italic",opacity:.7},children:"Speichere zuerst ein Hauptpaket, um Subpakete erstellen zu können"})]})]}),l.jsxs("div",{children:[l.jsx("h3",{style:{margin:"0 0 12px 0"},children:"Leistungspositionen"}),x.lineItems&&l.jsx("div",{className:"field-error",style:{marginBottom:"12px"},children:x.lineItems}),f.lineItems.map((q,Q)=>{const Re=!!q.parentItemId;return l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto 120px auto",gap:8,alignItems:"center",padding:"8px 0",paddingLeft:Re?"20px":"0",borderBottom:"1px solid rgba(255,255,255,.1)",borderLeft:Re?"2px solid rgba(96,165,250,.5)":"none"},children:[l.jsxs("div",{children:[Re&&l.jsx("span",{style:{opacity:.7,fontSize:"12px"},children:"↳ "}),l.jsx("input",{value:q.title,onChange:le=>K(Q,"title",le.target.value),placeholder:Re?"Sub-Position":"Hauptposition",disabled:w,className:x[`item_${Q}_title`]?"error":""}),x[`item_${Q}_title`]&&l.jsx("div",{className:"field-error",style:{fontSize:"10px"},children:x[`item_${Q}_title`]}),Re&&l.jsx("input",{value:q.description||"",onChange:le=>K(Q,"description",le.target.value),placeholder:"Beschreibung (optional)",style:{marginTop:"4px",fontSize:"12px",opacity:.8},disabled:w})]}),l.jsx("input",{type:"number",value:q.quantity,onChange:le=>K(Q,"quantity",Number(le.target.value)),style:{width:"60px"},min:"1",disabled:w,className:x[`item_${Q}_quantity`]?"error":""}),l.jsx("input",{type:"number",value:q.amount,onChange:le=>K(Q,"amount",Number(le.target.value)),placeholder:Re?"0":"1000",step:"0.01",disabled:w,className:x[`item_${Q}_amount`]?"error":""}),l.jsxs("div",{style:{display:"flex",gap:"4px"},children:[!Re&&l.jsx("button",{type:"button",onClick:()=>{h(le=>({...le,parentItemId:Q,title:"",description:""})),setTimeout(()=>{const le=document.querySelector('input[placeholder*="Position"]');le==null||le.focus()},100)},disabled:w,style:{backgroundColor:"rgba(96,165,250,.8)",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},title:"Sub-Item zu dieser Position hinzufügen",children:"+ Sub"}),l.jsx("button",{type:"button",onClick:()=>_(Q),disabled:w,style:{backgroundColor:"rgba(239,68,68,.8)",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"🗑️"})]})]},Q)}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto 120px auto auto",gap:8,alignItems:"center",padding:"12px 0",borderTop:"2px solid rgba(96,165,250,.3)",marginTop:"8px"},children:[l.jsxs("div",{children:[f.lineItems.filter(q=>!q.parentItemId).length>0&&l.jsxs("select",{value:m.parentItemId||"",onChange:q=>h(Q=>({...Q,parentItemId:q.target.value?Number(q.target.value):void 0})),style:{marginBottom:"4px",width:"100%"},disabled:w,children:[l.jsx("option",{value:"",children:"-- Hauptposition --"}),f.lineItems.filter(q=>!q.parentItemId).map((q,Q)=>l.jsxs("option",{value:Q,children:["↳ Sub-Item zu: ",q.title]},Q))]}),l.jsx("input",{value:m.title,onChange:q=>{h(Q=>({...Q,title:q.target.value})),v&&g("")},placeholder:m.parentItemId!==void 0?"Sub-Position...":"Neue Position...",style:{width:"100%",border:v?"1px solid #ff6b6b":"1px solid rgba(255,255,255,.15)"},disabled:w}),m.parentItemId!==void 0&&l.jsx("input",{value:m.description,onChange:q=>h(Q=>({...Q,description:q.target.value})),placeholder:"Beschreibung (optional)",style:{marginTop:"4px",fontSize:"12px",opacity:.8,width:"100%"},disabled:w}),v&&l.jsx("div",{className:"field-error",children:v})]}),l.jsx("input",{type:"number",value:m.quantity,onChange:q=>h(Q=>({...Q,quantity:Number(q.target.value)})),style:{width:"60px"},min:"1",disabled:w}),l.jsx("input",{type:"number",value:m.amount,onChange:q=>h(Q=>({...Q,amount:Number(q.target.value)})),placeholder:"0",step:"0.01",disabled:w}),m.parentItemId!==void 0&&l.jsx("button",{type:"button",onClick:()=>h(q=>({...q,parentItemId:void 0})),disabled:w,style:{backgroundColor:"rgba(156,163,175,.8)",color:"white",border:"none",padding:"8px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},title:"Zu Hauptposition wechseln",children:"Haupt"}),l.jsx("button",{type:"button",onClick:T,disabled:w,style:{backgroundColor:"rgba(34,197,94,.8)",color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"+ Position hinzufügen"})]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",borderTop:"1px solid rgba(255,255,255,.2)",paddingTop:"12px"},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[l.jsx("input",{type:"checkbox",checked:f.addVat,onChange:q=>p(Q=>({...Q,addVat:q.target.checked})),disabled:w}),"MwSt. hinzufügen"]}),l.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold"},children:["Total: €",L.toFixed(2),f.addVat&&l.jsx("span",{style:{fontSize:"12px",opacity:.8,display:"block"},children:"zzgl. MwSt."})]})]}),l.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[l.jsx("button",{type:"submit",disabled:w,className:"btn btn-primary",style:{padding:"12px 24px",fontSize:"14px",fontWeight:"500",minWidth:"120px"},children:w?"Wird gespeichert...":u}),o&&l.jsx("button",{type:"button",onClick:o,disabled:w,className:"btn btn-secondary",style:{padding:"12px 24px",fontSize:"14px",fontWeight:"500",minWidth:"120px"},children:"Abbrechen"})]}),l.jsx("style",{children:`
        .package-form input, 
        .package-form select { 
          background: rgba(255,255,255,.06); 
          color: white; 
          border: 1px solid rgba(255,255,255,.15); 
          padding: 10px 12px; 
          border-radius: 10px; 
          font-family: inherit;
        }
        
        .package-form select option {
          background: #1a1a1a;
          color: white;
          padding: 8px;
        }
        
        .package-form input:focus, 
        .package-form select:focus { 
          outline: 2px solid rgba(96,165,250,.5);
          background: rgba(255,255,255,.08);
        }
        
        .package-form input.error {
          border-color: rgba(239, 68, 68, 0.5);
          background: rgba(239, 68, 68, 0.1);
        }
        
        .package-form input:disabled, 
        .package-form select:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }
        
        .package-form label {
          font-weight: 500;
          color: rgba(255,255,255,.9);
        }
        
        .field-error {
          color: rgba(239, 68, 68, 0.9);
          font-size: 0.8rem;
          margin-top: 4px;
        }
        
        .package-form input[type="checkbox"] {
          width: auto;
          margin: 0;
        }
      `})]})}function Iy({title:r="Pakete"}){const{packages:a,loading:o,error:u,createPackage:d,updatePackage:f,deletePackage:p}=ru(),[m,h]=k.useState("list"),[v,g]=k.useState(null),{showError:x,showSuccess:b}=Yn(),{withLoading:w}=Ei();a.filter(T=>!T.parentPackageId),a.filter(T=>T.parentPackageId);const E=k.useMemo(()=>[{key:"internalTitle",header:"Bezeichnung"},{key:"total",header:"Preis",render:T=>`€${T.total.toFixed(2)}`},{key:"lineItems",header:"Positionen",render:T=>`${T.lineItems.length} Position(en)`},{key:"parentPackageId",header:"Typ",render:T=>T.parentPackageId?l.jsx("em",{style:{opacity:.7},children:"Subpaket"}):l.jsx("strong",{children:"Hauptpaket"})},{key:"id",header:"Aktionen",render:T=>l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{className:"btn btn-secondary",style:{padding:"4px 8px",fontSize:"12px"},onClick:()=>{g(T),h("edit")},disabled:o,children:"Bearbeiten"}),l.jsx("button",{className:"btn btn-danger",style:{padding:"4px 8px",fontSize:"12px"},onClick:()=>{confirm("Dieses Paket wirklich löschen?")&&F(T.id)},disabled:o,children:"Löschen"})]})}],[o]);async function C(T){try{await d({internalTitle:T.internalTitle,lineItems:T.lineItems.map((_,K)=>({..._,id:K+1})),parentPackageId:T.parentPackageId,addVat:T.addVat}),h("list")}catch(_){console.error("Error creating package:",_)}}async function I(T){if(v)try{await f(v.id,{internalTitle:T.internalTitle,lineItems:T.lineItems.map((_,K)=>({..._,id:K+1})),parentPackageId:T.parentPackageId,addVat:T.addVat}),h("list"),g(null)}catch(_){console.error("Error updating package:",_)}}async function F(T){try{await w(()=>p(T),"Paket wird gelöscht..."),b("Paket wurde erfolgreich gelöscht.")}catch(_){const K=pt(_);x(K)}}return o&&a.length===0?l.jsx("div",{className:"card",children:l.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[l.jsx("div",{className:"loading-spinner",style:{margin:"0 auto 1rem"}}),l.jsx("p",{children:"Pakete werden geladen..."})]})}):u&&a.length===0?l.jsx("div",{className:"card",children:l.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[l.jsxs("p",{style:{color:"rgba(239, 68, 68, 0.9)",marginBottom:"1rem"},children:["Fehler beim Laden der Pakete: ",u]}),l.jsx("button",{className:"btn btn-primary",onClick:()=>window.location.reload(),children:"Seite neu laden"})]})}):l.jsxs("div",{className:"card",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[l.jsxs("div",{children:[l.jsx("h2",{style:{margin:"0 0 4px 0"},children:r}),l.jsx("div",{style:{opacity:.7},children:"Definiere Leistungspakete, die du in Angeboten/Rechnungen verwenden kannst."})]}),l.jsx("button",{className:`btn ${m==="create"?"btn-secondary":"btn-primary"}`,onClick:()=>h(m==="create"?"list":"create"),disabled:o,children:m==="create"?"Abbrechen":"Neues Paket"})]}),l.jsx(Ho,{columns:E,data:a,emptyMessage:"Noch keine Pakete definiert."}),m==="create"&&l.jsxs("div",{style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid rgba(255,255,255,.1)"},children:[l.jsxs("div",{style:{marginBottom:"16px"},children:[l.jsx("h3",{style:{margin:"0 0 4px 0"},children:"Neues Paket"}),l.jsx("div",{style:{opacity:.7},children:"Erstelle ein neues Leistungspaket."})]}),l.jsx(cf,{onSubmit:C,onCancel:()=>h("list"),submitLabel:"Paket erstellen",packages:a})]}),m==="edit"&&v&&l.jsxs("div",{style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid rgba(255,255,255,.1)"},children:[l.jsxs("div",{style:{marginBottom:"16px"},children:[l.jsx("h3",{style:{margin:"0 0 4px 0"},children:"Paket bearbeiten"}),l.jsxs("div",{style:{opacity:.7},children:['Bearbeite das Paket "',v.internalTitle,'".']})]}),l.jsx(cf,{initial:{internalTitle:v.internalTitle,lineItems:v.lineItems.map(T=>({title:T.title,quantity:T.quantity,amount:T.amount,parentItemId:T.parentItemId,description:T.description})),addVat:v.addVat,parentPackageId:v.parentPackageId},onSubmit:I,onCancel:()=>{h("list"),g(null)},submitLabel:"Paket aktualisieren",packages:a})]})]})}const df=({invoice:r,customers:a,offers:o,onSave:u,onCancel:d})=>{var Te,Se,te;const{adapter:f}=Er(),{settings:p}=wa(),[m,h]=k.useState(((Te=r==null?void 0:r.customerId)==null?void 0:Te.toString())||""),[v,g]=k.useState(((Se=r==null?void 0:r.offerId)==null?void 0:Se.toString())||""),[x,b]=k.useState((r==null?void 0:r.title)||""),[w,E]=k.useState((r==null?void 0:r.notes)||""),[C,I]=k.useState(r!=null&&r.dueDate?new Date(r.dueDate).toISOString().split("T")[0]:""),[F,T]=k.useState((r==null?void 0:r.lineItems)||[]),[_,K]=k.useState((r==null?void 0:r.vatRate)||19),ae=((te=p==null?void 0:p.companyData)==null?void 0:te.kleinunternehmer)||!1,L=F.reduce((H,V)=>H+V.total,0),O=ae?0:L*(_/100),ee=L+O,W=()=>{const H={id:Date.now(),title:"",description:"",quantity:1,unitPrice:0,total:0,parentItemId:void 0};T([...F,H])},q=H=>{const V={id:Date.now(),title:"",description:"",quantity:1,unitPrice:0,total:0,parentItemId:H};T([...F,V])},Q=(H,V,P)=>{T(U=>U.map(de=>{if(de.id===H){const xe={...de,[V]:P};return(V==="quantity"||V==="unitPrice")&&(xe.total=xe.quantity*xe.unitPrice),xe}return de}))},Re=H=>{T(V=>V.filter(P=>P.id!==H&&P.parentItemId!==H))},le=async H=>{if(f)try{const V=await f.getOffer(H);if(!V)return;const P=V.lineItems.map(U=>({id:Date.now()+Math.random(),title:U.title,description:U.description,quantity:U.quantity,unitPrice:U.unitPrice,total:U.total,parentItemId:U.parentItemId}));T(P),h(V.customerId.toString()),b(V.title),K(V.vatRate)}catch(V){console.error("Error adding offer:",V)}},Ie=H=>{if(H.preventDefault(),!m||!x.trim()){alert("❌ Pflichtfelder fehlen:\\n\\n"+(m?"":"• Bitte wählen Sie einen Kunden aus\\n")+(x.trim()?"":"• Bitte geben Sie einen Titel ein\\n"));return}const V={invoiceNumber:(r==null?void 0:r.invoiceNumber)||`RE-${Date.now()}`,customerId:parseInt(m),offerId:v?parseInt(v):void 0,title:x,notes:w,dueDate:C,lineItems:F,subtotal:L,vatRate:_,vatAmount:O,total:ee,status:(r==null?void 0:r.status)||"draft"};u(V)},Fe=F.filter(H=>!H.parentItemId);return l.jsxs("div",{className:"card",style:{maxWidth:"800px",margin:"0 auto"},children:[l.jsx("h2",{style:{margin:"0 0 16px 0"},children:r?"Rechnung bearbeiten":"Neue Rechnung"}),l.jsxs("form",{onSubmit:Ie,style:{display:"flex",flexDirection:"column",gap:"16px"},children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"Kunde *"}),l.jsxs("select",{value:m,onChange:H=>h(H.target.value),style:{width:"100%",padding:"8px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"6px",background:"rgba(17,24,39,.8)",color:"var(--muted)"},required:!0,children:[l.jsx("option",{value:"",children:"Kunde auswählen"}),a.map(H=>l.jsx("option",{value:H.id,children:H.name},H.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"Fällig am"}),l.jsx("input",{type:"date",value:C,onChange:H=>I(H.target.value),style:{width:"100%",padding:"8px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"6px",background:"rgba(17,24,39,.8)",color:"var(--muted)"}})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"Titel *"}),l.jsx("input",{type:"text",value:x,onChange:H=>b(H.target.value),style:{width:"100%",padding:"8px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"6px",background:"rgba(17,24,39,.8)",color:"var(--muted)"},required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"Anmerkungen"}),l.jsx("textarea",{value:w,onChange:H=>E(H.target.value),rows:3,style:{width:"100%",padding:"8px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"6px",background:"rgba(17,24,39,.8)",color:"var(--muted)",resize:"vertical"}})]}),l.jsxs("div",{style:{borderTop:"1px solid rgba(255,255,255,.1)",paddingTop:"16px"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[l.jsx("h3",{style:{margin:"0",fontSize:"16px",fontWeight:"600"},children:"Positionen"}),l.jsxs("select",{value:v,onChange:H=>{g(H.target.value),H.target.value&&le(parseInt(H.target.value))},style:{padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},children:[l.jsx("option",{value:"",children:"Aus Angebot übernehmen"}),o.filter(H=>!m||H.customerId===parseInt(m)).map(H=>l.jsxs("option",{value:H.id,children:[H.offerNumber," - ",H.title]},H.id))]}),l.jsx("button",{type:"button",onClick:W,style:{backgroundColor:"var(--accent)",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"Position hinzufügen"})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:Fe.map(H=>l.jsxs("div",{children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr 1fr auto",gap:"8px",alignItems:"start",padding:"12px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"6px",background:"rgba(17,24,39,.4)"},children:[l.jsxs("div",{children:[l.jsx("input",{type:"text",placeholder:"Titel",value:H.title,onChange:V=>Q(H.id,"title",V.target.value),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px",marginBottom:"4px"}}),l.jsx("input",{type:"text",placeholder:"Beschreibung",value:H.description||"",onChange:V=>Q(H.id,"description",V.target.value),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"}})]}),l.jsx("div",{children:l.jsx("input",{type:"number",placeholder:"Menge",value:H.quantity,onChange:V=>Q(H.id,"quantity",parseFloat(V.target.value)||0),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},min:"0",step:"0.01"})}),l.jsx("div",{children:l.jsx("input",{type:"number",placeholder:"Einzelpreis",value:H.unitPrice,onChange:V=>Q(H.id,"unitPrice",parseFloat(V.target.value)||0),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},min:"0",step:"0.01"})}),l.jsxs("div",{style:{padding:"6px",fontSize:"14px",fontWeight:"500"},children:["€",H.total.toFixed(2)]}),l.jsxs("div",{style:{display:"flex",gap:"4px"},children:[l.jsx("button",{type:"button",onClick:()=>q(H.id),style:{backgroundColor:"var(--ok)",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Sub"}),l.jsx("button",{type:"button",onClick:()=>Re(H.id),style:{backgroundColor:"var(--danger)",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"✕"})]})]}),F.filter(V=>V.parentItemId===H.id).map(V=>l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr 1fr auto",gap:"8px",alignItems:"start",padding:"12px",marginLeft:"24px",border:"1px solid rgba(96,165,250,.3)",borderLeft:"4px solid var(--accent)",borderRadius:"6px",background:"rgba(96,165,250,.1)",marginTop:"4px"},children:[l.jsxs("div",{children:[l.jsx("input",{type:"text",placeholder:"Sub-Titel",value:V.title,onChange:P=>Q(V.id,"title",P.target.value),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px",marginBottom:"4px"}}),l.jsx("input",{type:"text",placeholder:"Sub-Beschreibung",value:V.description||"",onChange:P=>Q(V.id,"description",P.target.value),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"}})]}),l.jsx("div",{children:l.jsx("input",{type:"number",placeholder:"Menge",value:V.quantity,onChange:P=>Q(V.id,"quantity",parseFloat(P.target.value)||0),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},min:"0",step:"0.01"})}),l.jsx("div",{children:l.jsx("input",{type:"number",placeholder:"Einzelpreis",value:V.unitPrice,onChange:P=>Q(V.id,"unitPrice",parseFloat(P.target.value)||0),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},min:"0",step:"0.01"})}),l.jsxs("div",{style:{padding:"6px",fontSize:"14px",fontWeight:"500"},children:["€",V.total.toFixed(2)]}),l.jsx("div",{children:l.jsx("button",{type:"button",onClick:()=>Re(V.id),style:{backgroundColor:"var(--danger)",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"✕"})})]},V.id))]},H.id))})]}),l.jsx("div",{style:{borderTop:"1px solid rgba(255,255,255,.1)",paddingTop:"16px"},children:l.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:l.jsxs("div",{style:{width:"300px",display:"flex",flexDirection:"column",gap:"8px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[l.jsx("span",{children:"Zwischensumme:"}),l.jsxs("span",{children:["€",L.toFixed(2)]})]}),!ae&&l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx("span",{children:"MwSt.:"}),l.jsx("input",{type:"number",value:_,onChange:H=>K(parseFloat(H.target.value)||0),style:{width:"60px",padding:"4px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},min:"0",max:"100",step:"0.1"}),l.jsx("span",{children:"%"})]}),l.jsxs("span",{children:["€",O.toFixed(2)]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"600",fontSize:"16px",borderTop:"1px solid rgba(255,255,255,.1)",paddingTop:"8px"},children:[l.jsx("span",{children:"Gesamtbetrag:"}),l.jsxs("span",{children:["€",ee.toFixed(2)]})]})]})})}),l.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",marginTop:"16px"},children:[l.jsx("button",{type:"button",onClick:d,style:{padding:"8px 16px",border:"1px solid rgba(255,255,255,.2)",background:"transparent",color:"var(--muted)",borderRadius:"6px",cursor:"pointer"},children:"Abbrechen"}),l.jsx("button",{type:"submit",style:{backgroundColor:"var(--accent)",color:"white",border:"none",padding:"8px 16px",borderRadius:"6px",cursor:"pointer",fontWeight:"500"},children:r?"Aktualisieren":"Erstellen"})]})]})]})};function Py({title:r="Rechnungen"}){const{invoices:a,loading:o,error:u,createInvoice:d,updateInvoice:f,deleteInvoice:p}=nu(),{customers:m}=Vo(),{offers:h}=Wo(),{settings:v}=Qf(),{showSuccess:g,showError:x}=Yn(),[b,w]=k.useState("list"),[E,C]=k.useState(null),I=k.useMemo(()=>[{key:"invoiceNumber",header:"Nummer"},{key:"customerId",header:"Kunde",render:O=>{const ee=m.find(W=>W.id===O.customerId);return(ee==null?void 0:ee.name)||`Kunde #${O.customerId}`}},{key:"title",header:"Titel"},{key:"status",header:"Status",render:O=>{const ee={draft:"#6b7280",sent:"#3b82f6",paid:"#10b981",overdue:"#ef4444",cancelled:"#ef4444"},W={draft:"Entwurf",sent:"Versendet",paid:"Bezahlt",overdue:"Überfällig",cancelled:"Storniert"},q=ee[O.status]||"#6b7280",Q=W[O.status]||O.status;return l.jsx("span",{style:{padding:"4px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"500",backgroundColor:q+"20",color:q},children:Q})}},{key:"total",header:"Gesamtbetrag",render:O=>`€${O.total.toFixed(2)}`},{key:"dueDate",header:"Fällig am",render:O=>O.dueDate?new Date(O.dueDate).toLocaleDateString("de-DE"):"-"},{key:"id",header:"Aktionen",render:O=>l.jsxs("div",{style:{display:"flex",gap:"4px"},children:[l.jsx("button",{className:"btn btn-info",onClick:()=>L(O),style:{padding:"4px 8px",fontSize:"12px"},title:"PDF Vorschau anzeigen",children:"👁️ Vorschau"}),l.jsx("button",{className:"btn btn-warning",onClick:()=>ae(O),style:{padding:"4px 8px",fontSize:"12px"},title:"PDF herunterladen",children:"💾 PDF"}),l.jsx("button",{className:"btn btn-secondary",style:{padding:"4px 8px",fontSize:"12px"},onClick:()=>{C(O),w("edit")},children:"Bearbeiten"}),l.jsxs("select",{value:O.status,onChange:ee=>_(O.id,ee.target.value),style:{padding:"4px 8px",fontSize:"12px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",cursor:"pointer"},children:[l.jsx("option",{value:"draft",children:"Entwurf"}),l.jsx("option",{value:"sent",children:"Gesendet"}),l.jsx("option",{value:"paid",children:"Bezahlt"}),l.jsx("option",{value:"overdue",children:"Überfällig"}),l.jsx("option",{value:"cancelled",children:"Storniert"})]}),l.jsx("button",{className:"btn btn-danger",style:{padding:"4px 8px",fontSize:"12px"},onClick:()=>{confirm("Diese Rechnung wirklich löschen?")&&K(O.id)},children:"Löschen"})]})}],[m]);async function F(O){await d(O),w("list")}async function T(O){E&&(await f(E.id,O),w("list"),C(null))}async function _(O,ee){try{const W=a.find(le=>le.id===O);if(!W)return;const q=new Date().toISOString(),Q={};switch(ee){case"sent":Q.sentAt=q;break;case"paid":Q.paidAt=q;break;case"overdue":Q.overdueAt=q;break;case"cancelled":Q.cancelledAt=q;break}await f(O,{...W,status:ee,...Q}),g(`Rechnungs-Status auf "${{draft:"Entwurf",sent:"Gesendet",paid:"Bezahlt",overdue:"Überfällig",cancelled:"Storniert"}[ee]}" geändert`)}catch{x("Fehler beim Ändern des Status")}}async function K(O){await p(O)}const ae=async O=>{const ee=m.find(W=>W.id===O.customerId);if(!ee){alert("Kunde nicht gefunden");return}try{await ga.exportInvoiceToPDF(O,ee,v,!1)}catch(W){console.error("PDF Export failed:",W),alert("PDF Export fehlgeschlagen: "+(W instanceof Error?W.message:"Unbekannter Fehler"))}},L=async O=>{const ee=m.find(W=>W.id===O.customerId);if(!ee){alert("Kunde nicht gefunden");return}try{await ga.exportInvoiceToPDF(O,ee,v,!0)}catch(W){console.error("PDF Preview failed:",W),alert("PDF Vorschau fehlgeschlagen: "+(W instanceof Error?W.message:"Unbekannter Fehler"))}};return o?l.jsx("div",{className:"card",children:"Lade Rechnungen..."}):u?l.jsxs("div",{className:"card",children:["Fehler: ",u]}):l.jsxs("div",{className:"card",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[l.jsxs("div",{children:[l.jsx("h2",{style:{margin:"0 0 4px 0"},children:r}),l.jsx("div",{style:{opacity:.7},children:"Verwalte deine Rechnungen und exportiere sie als PDF."})]}),l.jsx("button",{className:"btn",onClick:()=>w(b==="create"?"list":"create"),children:b==="create"?"Abbrechen":"Neue Rechnung"})]}),l.jsx(Ho,{columns:I,data:a,emptyMessage:"Noch keine Rechnungen erstellt."}),b==="create"&&l.jsxs("div",{style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid rgba(255,255,255,.1)"},children:[l.jsxs("div",{style:{marginBottom:"16px"},children:[l.jsx("h3",{style:{margin:"0 0 4px 0"},children:"Neue Rechnung"}),l.jsx("div",{style:{opacity:.7},children:"Erstelle eine neue Rechnung."})]}),l.jsx(df,{customers:m,offers:h,onSave:F,onCancel:()=>w("list")})]}),b==="edit"&&E&&l.jsxs("div",{style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid rgba(255,255,255,.1)"},children:[l.jsxs("div",{style:{marginBottom:"16px"},children:[l.jsx("h3",{style:{margin:"0 0 4px 0"},children:"Rechnung bearbeiten"}),l.jsxs("div",{style:{opacity:.7},children:['Bearbeite die Rechnung "',E.title,'".']})]}),l.jsx(df,{invoice:E,customers:m,offers:h,onSave:T,onCancel:()=>{w("list"),C(null)}})]})]})}function Dy({isOpen:r,onClose:a,autoCheckOnOpen:o=!1}){const[u,d]=k.useState(!1),[f,p]=k.useState(!1),[m,h]=k.useState(0);k.useRef(null);const v={currentPhase:"idle"},g=!1,x=!1,b="1.0.0",w=async()=>console.log("UpdateDialog: checkForUpdates temporarily disabled"),E=()=>console.log("UpdateDialog: clearError temporarily disabled"),C=k.useRef(!1);if(k.useEffect(()=>{r||(C.current=!1)},[r]),k.useEffect(()=>{if(r&&o&&!C.current&&!g){console.log("🚀 Starting auto-check for updates..."),C.current=!0;const F=setTimeout(()=>{w()},500);return()=>clearTimeout(F)}},[r,o,g]),!r)return null;console.log("🔍 UpdateDialog Render State:",{isOpen:r,isChecking:g,hasUpdate:x,error:!1,currentPhase:v.currentPhase,autoCheckOnOpen:o});const I=()=>{E(),a()};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999},children:l.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto",style:{position:"relative",zIndex:1e4},children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-xl font-bold",children:"RawaLite Update"}),l.jsx("button",{onClick:I,className:"text-gray-400 hover:text-gray-600 text-xl",children:"×"})]}),l.jsx("div",{className:"space-y-4",children:!o&&!C.current?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Update-Prüfung"}),l.jsxs("p",{className:"text-gray-600 mb-4",children:["Aktuelle Version: ",b]}),l.jsx("button",{onClick:w,className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-blue-700",children:"🔄 Nach Updates suchen"})]}):l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-gray-500",children:"Laden..."})})})]})})}function _y({onUpdateAvailable:r}){const[a,o]=k.useState(!1),[u,d]=k.useState(!1),[f,p]=k.useState(null),[m,h]=k.useState(null),v=async()=>{var b;if(console.log("� [UpdateStatus] Button clicked - checking for updates..."),!((b=window.rawalite)!=null&&b.updates)){console.error("🚨 [UpdateStatus] window.rawalite.updates not available"),h("Update API nicht verfügbar");return}d(!0),o(!0),h(null),p(null);try{console.log("🔄 [UpdateStatus] Calling window.rawalite.updates.checkForUpdates...");const w=await window.rawalite.updates.checkForUpdates();console.log("✅ [UpdateStatus] Update check result:",w),p(w),w.hasUpdate&&r&&(console.log("🎉 [UpdateStatus] Update available! Triggering callback..."),r())}catch(w){console.error("🚨 [UpdateStatus] Update check failed:",w);const E=w instanceof Error?w.message:"Update-Prüfung fehlgeschlagen";h(E)}finally{o(!1)}},g=()=>{h(null),v()},x=()=>!u&&!m?null:m?l.jsxs("div",{style:{marginTop:"16px",padding:"12px",backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"8px",color:"#dc2626"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"8px"},children:[l.jsx("span",{style:{marginRight:"8px",fontSize:"16px"},children:"⚠"}),l.jsx("strong",{children:"Update-Fehler"})]}),l.jsx("p",{style:{margin:"0 0 8px 0",fontSize:"14px"},children:m}),l.jsx("button",{onClick:g,style:{backgroundColor:"#dc2626",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",fontSize:"12px",cursor:"pointer"},children:"Erneut versuchen"})]}):a?l.jsx("div",{style:{marginTop:"16px",padding:"12px",backgroundColor:"#eff6ff",border:"1px solid #bfdbfe",borderRadius:"8px",color:"#1e40af"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[l.jsx("div",{style:{marginRight:"8px",animation:"spin 1s linear infinite",fontSize:"16px"},children:"⟳"}),l.jsx("span",{children:"Suche nach Updates..."})]})}):f?f.hasUpdate?l.jsxs("div",{style:{marginTop:"16px",padding:"12px",backgroundColor:"#f0fdf4",border:"1px solid #bbf7d0",borderRadius:"8px",color:"#166534"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"8px"},children:[l.jsx("span",{style:{marginRight:"8px",fontSize:"16px"},children:"🎉"}),l.jsx("strong",{children:"Update verfügbar!"})]}),l.jsxs("p",{style:{margin:"0 0 8px 0",fontSize:"14px"},children:["Version ",f.latestVersion," ist verfügbar."]}),l.jsx("p",{style:{margin:"0",fontSize:"12px",opacity:.8},children:"Das Update-Fenster öffnet sich automatisch für weitere Details."})]}):l.jsxs("div",{style:{marginTop:"16px",padding:"12px",backgroundColor:"#f0fdf4",border:"1px solid #bbf7d0",borderRadius:"8px",color:"#166534"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"8px"},children:[l.jsx("span",{style:{marginRight:"8px",fontSize:"16px"},children:"✓"}),l.jsx("strong",{children:"Version ist aktuell"})]}),l.jsxs("p",{style:{margin:"0",fontSize:"14px"},children:["Sie verwenden bereits die neueste Version (",f.currentVersion,")."]}),l.jsxs("p",{style:{margin:"8px 0 0 0",fontSize:"12px",opacity:.8},children:["Letzte Überprüfung: ",new Date().toLocaleString("de-DE")]})]}):null;return l.jsxs("div",{children:[l.jsx("button",{type:"button",onClick:v,disabled:a,className:"btn",style:{backgroundColor:a?"#9ca3af":"#3b82f6",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",cursor:a?"not-allowed":"pointer",fontWeight:"500"},children:a?"🔄 Prüfe...":"🔄 Nach Updates suchen"}),x(),l.jsx("style",{children:`
          @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
          }
        `})]})}function Ny({title:r="Einstellungen"}){const{settings:a,loading:o,error:u,updateCompanyData:d}=Uf(),{circles:f,loading:p,error:m,updateCircle:h,getNextNumber:v}=ky(),{adapter:g}=Er(),{showError:x,showSuccess:b}=Yn(),[w,E]=k.useState("company"),[C,I]=k.useState(a.companyData),[F,T]=k.useState(f),[_,K]=k.useState(!1),[ae,L]=k.useState(!1),[O,ee]=k.useState("customers"),[W,q]=k.useState(null),[Q,Re]=k.useState(!1),le=k.useCallback(()=>Re(!1),[]);As.useEffect(()=>{var M;console.log("🔍 Settings loaded - Logo length:",((M=a.companyData.logo)==null?void 0:M.length)||0),I(a.companyData)},[a]),As.useEffect(()=>{console.log("🔍 [DEBUG] UI - Received numberingCircles:",f.length,"circles"),console.log("🔍 [DEBUG] UI - Circle data:",f),T(f)},[f]);const Ie=async M=>{var Je;const ie=(Je=M.target.files)==null?void 0:Je[0];if(!ie)return;if(!ie.type.startsWith("image/")){alert("❌ Fehler: Bitte wählen Sie eine Bilddatei aus (PNG, JPG, GIF, etc.)"),M.target.value="";return}const Pe=2,He=ie.size/(1024*1024);if(ie.size>Pe*1024*1024){alert(`❌ Datei zu groß: ${He.toFixed(2)} MB

Maximum erlaubt: ${Pe} MB
Bitte verkleinern Sie das Bild oder wählen Sie eine andere Datei.`),M.target.value="";return}try{L(!0),b(`✅ Logo wird hochgeladen... (${He.toFixed(2)} MB)`);const Ue=new FileReader;Ue.onload=()=>{const Ke=Ue.result;I(ue=>({...ue,logo:Ke})),b("Logo erfolgreich geladen! Vergessen Sie nicht zu speichern.")},Ue.onerror=()=>{x("Fehler beim Lesen der Datei"),M.target.value=""},Ue.readAsDataURL(ie)}catch{x("Fehler beim Verarbeiten des Logos"),M.target.value=""}finally{L(!1)}},Fe=()=>{I(M=>({...M,logo:""}))},Te=async M=>{M.preventDefault(),console.log("🏢 Company form submitted with data:",C);try{K(!0),await d(C),b("Unternehmensdaten gespeichert!")}catch(ie){console.error("Company save error:",ie),x("Fehler beim Speichern der Unternehmensdaten")}finally{K(!1)}},Se=async M=>{M.preventDefault(),console.log("Tax form submitted, NOT calling clear data");try{K(!0),await d(C),b("Steuerliche Einstellungen gespeichert!")}catch(ie){console.error("Tax settings save error:",ie),x("Fehler beim Speichern der steuerlichen Einstellungen")}finally{K(!1)}},te=async M=>{M.preventDefault(),console.log("🖼️ Logo form submitted, saving logo only");try{K(!0),await d(C),b("Logo erfolgreich gespeichert!")}catch(ie){console.error("Logo save error:",ie),x("Fehler beim Speichern des Logos")}finally{K(!1)}},H=async M=>{M.preventDefault(),console.log("🏦 Bank form submitted, saving bank data only");try{K(!0),await d(C),b("Bankverbindung erfolgreich gespeichert!")}catch(ie){console.error("Bank save error:",ie),x("Fehler beim Speichern der Bankverbindung")}finally{K(!1)}},V=M=>{console.log("🔧 Kleinunternehmer checkbox changed to:",M.target.checked,"NOT deleting any data"),M.stopPropagation(),I({...C,kleinunternehmer:M.target.checked})},P=async M=>{M.preventDefault();try{K(!0);for(const ie of F)await h(ie.id,ie);b("Nummernkreise gespeichert!")}catch{x("Fehler beim Speichern der Nummernkreise")}finally{K(!1)}},U=(M,ie,Pe)=>{const He=[...F];He[M]={...He[M],[ie]:Pe},T(He)},de=async()=>{try{if(K(!0),!g){alert("Fehler: Datenbankadapter nicht verfügbar");return}const[M,ie,Pe,He]=await Promise.all([g.listCustomers(),g.listInvoices(),g.listOffers(),g.listPackages()]),{VersionService:Je}=await Si(async()=>{const{VersionService:We}=await Promise.resolve().then(()=>fy);return{VersionService:We}},void 0,import.meta.url),Ue=Je.getBackupVersionInfo(),Ke={companyData:a.companyData,numberingCircles:a.numberingCircles,customers:M,invoices:ie,offers:Pe,packages:He,exportDate:Ue.timestamp,version:Ue.version,buildInfo:Ue.buildInfo},ue=(await Si(async()=>{const{default:We}=await import("./jszip.min-CgbRUY_t.js").then(Qe=>Qe.j);return{default:We}},[],import.meta.url)).default,Ee=new ue;Ee.file("backup.json",JSON.stringify(Ke,null,2)),Ee.file("README.txt",`RawaLite Backup
Erstellt am: ${new Date().toLocaleDateString("de-DE")}
Version: ${Ke.version}
Build: ${Ke.buildInfo}

Diese Datei enthält alle Ihre RawaLite-Daten und kann über die Datensicherungs-Funktion importiert werden.

Enthaltene Daten:
- Kunden: ${M.length}
- Rechnungen: ${ie.length}
- Angebote: ${Pe.length}
- Pakete: ${He.length}
- Unternehmenseinstellungen
- Nummernkreise`);const ht=await Ee.generateAsync({type:"blob"}),mt=window.URL.createObjectURL(ht),ze=document.createElement("a");ze.href=mt;const at=new Date,lt=at.toISOString().split("T")[0]+"_"+at.toTimeString().split(" ")[0].replace(/:/g,"-");ze.download=`rawalite-backup-${lt}.zip`,document.body.appendChild(ze),ze.click(),document.body.removeChild(ze),window.URL.revokeObjectURL(mt),alert(`Backup erfolgreich erstellt!
      
Enthalten:
- ${M.length} Kunden
- ${ie.length} Rechnungen  
- ${Pe.length} Angebote
- ${He.length} Pakete`)}catch(M){console.error("Backup error:",M),alert("Fehler beim Erstellen des Backups: "+M)}finally{K(!1)}},xe=async M=>{try{if(K(!0),!g){alert("Fehler: Datenbankadapter nicht verfügbar");return}let ie=[],Pe="",He=[];switch(M){case"customers":ie=await g.listCustomers(),Pe="kunden",He=["ID","Nummer","Name","E-Mail","Telefon","Straße","PLZ","Ort","Notizen","Erstellt"];break;case"invoices":ie=await g.listInvoices(),Pe="rechnungen",He=["ID","Nummer","Kunde ID","Titel","Status","Fällig am","Zwischensumme","MwSt-Satz","MwSt-Betrag","Gesamt","Notizen","Erstellt"];break;case"offers":ie=await g.listOffers(),Pe="angebote",He=["ID","Nummer","Kunde ID","Titel","Status","Gültig bis","Zwischensumme","MwSt-Satz","MwSt-Betrag","Gesamt","Notizen","Erstellt"];break;case"packages":ie=await g.listPackages(),Pe="pakete",He=["ID","Name","Beschreibung","Preis","Erstellt"];break}if(ie.length===0){alert(`Keine ${Pe} zum Exportieren gefunden.`);return}const Je=[He.join(";"),...ie.map(mt=>He.map(ze=>{const at=Y(mt,ze);return`"${String(at).replace(/"/g,'""')}"`}).join(";"))].join(`
`),Ue=new Blob(["\uFEFF"+Je],{type:"text/csv;charset=utf-8;"}),Ke=window.URL.createObjectURL(Ue),ue=document.createElement("a");ue.href=Ke;const Ee=new Date,ht=Ee.toISOString().split("T")[0]+"_"+Ee.toTimeString().split(" ")[0].replace(/:/g,"-");ue.download=`${Pe}-${ht}.csv`,document.body.appendChild(ue),ue.click(),document.body.removeChild(ue),window.URL.revokeObjectURL(Ke),alert(`${ie.length} ${Pe} erfolgreich als CSV exportiert!`)}catch(ie){console.error("CSV Export error:",ie),alert("Fehler beim CSV-Export: "+ie)}finally{K(!1)}},Y=(M,ie)=>{switch(ie){case"ID":return M.id||"";case"Nummer":return M.number||M.invoiceNumber||M.offerNumber||"";case"Name":return M.name||"";case"E-Mail":return M.email||"";case"Telefon":return M.phone||"";case"Straße":return M.street||"";case"PLZ":return M.zip||"";case"Ort":return M.city||"";case"Notizen":return M.notes||"";case"Kunde ID":return M.customerId||"";case"Titel":return M.title||"";case"Status":return M.status||"";case"Fällig am":return M.dueDate||"";case"Gültig bis":return M.validUntil||"";case"Zwischensumme":return M.subtotal||"";case"MwSt-Satz":return M.vatRate||"";case"MwSt-Betrag":return M.vatAmount||"";case"Gesamt":return M.total||"";case"Beschreibung":return M.description||"";case"Preis":return M.price||"";case"Erstellt":return M.createdAt||"";default:return""}},ne=async M=>{var Pe,He,Je,Ue,Ke;const ie=(Pe=M.target.files)==null?void 0:Pe[0];if(ie){if(!ie.name.endsWith(".zip")){alert("Bitte wählen Sie eine ZIP-Datei aus.");return}if(!g){alert("Fehler: Datenbankadapter nicht verfügbar");return}try{K(!0);const ue=(await Si(async()=>{const{default:We}=await import("./jszip.min-CgbRUY_t.js").then(Qe=>Qe.j);return{default:We}},[],import.meta.url)).default,mt=(await new ue().loadAsync(ie)).file("backup.json");if(!mt){alert("Ungültige Backup-Datei: backup.json nicht gefunden.");return}const ze=JSON.parse(await mt.async("text")),at=`⚠️ ACHTUNG: DATEN WERDEN ÜBERSCHRIEBEN ⚠️

Das Backup enthält:
- ${((He=ze.customers)==null?void 0:He.length)||0} Kunden
- ${((Je=ze.invoices)==null?void 0:Je.length)||0} Rechnungen
- ${((Ue=ze.offers)==null?void 0:Ue.length)||0} Angebote
- ${((Ke=ze.packages)==null?void 0:Ke.length)||0} Pakete

WARNUNG: Der Import wird ALLE aktuellen Daten löschen und durch die Backup-Daten ersetzen!

Möchten Sie wirklich fortfahren?`;if(!confirm(at)||!confirm("LETZTE WARNUNG: Alle aktuellen Daten werden unwiderruflich gelöscht! Fortfahren?"))return;try{const[We,Qe,bt,gt]=await Promise.all([g.listCustomers(),g.listInvoices(),g.listOffers(),g.listPackages()]);await Promise.all([...We.map(Xe=>g.deleteCustomer(Xe.id)),...Qe.map(Xe=>g.deleteInvoice(Xe.id)),...bt.map(Xe=>g.deleteOffer(Xe.id)),...gt.map(Xe=>g.deletePackage(Xe.id))])}catch(We){console.warn("Fehler beim Löschen existierender Daten:",We)}let lt={customers:0,invoices:0,offers:0,packages:0};if(ze.customers&&Array.isArray(ze.customers))for(const We of ze.customers)try{const{id:Qe,createdAt:bt,updatedAt:gt,...Xe}=We;await g.createCustomer(Xe),lt.customers++}catch(Qe){console.warn("Fehler beim Importieren von Kunde:",We,Qe)}if(ze.offers&&Array.isArray(ze.offers))for(const We of ze.offers)try{const{id:Qe,createdAt:bt,updatedAt:gt,...Xe}=We;await g.createOffer(Xe),lt.offers++}catch(Qe){console.warn("Fehler beim Importieren von Angebot:",We,Qe)}if(ze.invoices&&Array.isArray(ze.invoices))for(const We of ze.invoices)try{const{id:Qe,createdAt:bt,updatedAt:gt,...Xe}=We;await g.createInvoice(Xe),lt.invoices++}catch(Qe){console.warn("Fehler beim Importieren von Rechnung:",We,Qe)}if(ze.packages&&Array.isArray(ze.packages))for(const We of ze.packages)try{const{id:Qe,createdAt:bt,updatedAt:gt,...Xe}=We;await g.createPackage(Xe),lt.packages++}catch(Qe){console.warn("Fehler beim Importieren von Paket:",We,Qe)}if(ze.companyData)try{console.log("🏢 Importing company data..."),await d(ze.companyData),console.log("✅ Company data imported successfully")}catch(We){console.warn("Error importing company data:",We)}if(ze.numberingCircles)try{console.log("🔢 Analyzing imported data for intelligent numbering...");const[We,Qe,bt,gt]=await Promise.all([g.listCustomers(),g.listInvoices(),g.listOffers(),g.listPackages()]),Xe=(st,Rt)=>{const Wt=new Set;st.forEach(zn=>{if(zn.number&&zn.number.startsWith(Rt)){const Kr=zn.number.replace(Rt,""),Jn=parseInt(Kr,10);isNaN(Jn)||Wt.add(Jn)}});let Ln=1;for(;Wt.has(Ln);)Ln++;return Math.max(0,Ln-1)},qr=ze.numberingCircles.map(st=>{let Rt=0;switch(st.id){case"customers":Rt=Xe(We,st.prefix);break;case"invoices":Rt=Xe(Qe,st.prefix);break;case"offers":Rt=Xe(bt,st.prefix);break;case"packages":Rt=Xe(gt,st.prefix);break}return console.log(`📊 ${st.id}: Next free number will be ${st.prefix}${(Rt+1).toString().padStart(3,"0")}, setting current to ${Rt}`),{...st,current:Rt}});console.log("🔢 Importing intelligent numbering circles...");for(const st of qr)await h(st.id,st);console.log("✅ Intelligent numbering circles imported successfully")}catch(We){console.warn("Error importing intelligent numbering circles:",We);for(const Qe of ze.numberingCircles)await h(Qe.id,Qe)}b(`✅ Backup erfolgreich importiert!

Importierte Daten:
- ${lt.customers} Kunden
- ${lt.invoices} Rechnungen
- ${lt.offers} Angebote
- ${lt.packages} Pakete
- Unternehmenseinstellungen
- Intelligente Nummernkreise (angepasst an vorhandene Daten)

🔄 Die Anwendung wurde aktualisiert. Sie können jetzt mit den importierten Daten arbeiten.`),console.log("✅ Backup import completed successfully")}catch(ue){console.error("Import error:",ue),alert("Fehler beim Importieren des Backups: "+ue)}finally{K(!1),M.target.value="",q(null)}}},be=M=>{var Pe;const ie=(Pe=M.target.files)==null?void 0:Pe[0];if(!ie){q(null);return}if(!ie.name.endsWith(".csv")){x("Bitte wählen Sie eine CSV-Datei aus."),q(null);return}q(ie)},ke=async()=>{if(!W){x("Bitte wählen Sie zuerst eine CSV-Datei aus.");return}if(!g){x("Fehler: Datenbankadapter nicht verfügbar");return}try{K(!0);const ie=(await W.text()).split(`
`).filter(Ke=>Ke.trim());if(ie.length<2){x("CSV-Datei ist leer oder hat keine Daten.");return}const Pe=ie[0].split(";").map(Ke=>Ke.trim().replace(/^"|"$/g,"")),He=ie.slice(1);console.log("CSV Headers:",Pe),console.log("CSV Data lines:",He.length);let Je=0,Ue=0;if(O==="customers"){for(const Ke of He)try{const ue=Ke.split(";").map(ht=>ht.trim().replace(/^"|"$/g,"")),Ee={};if(ue[0]&&(Ee.name=ue[0]),ue[1]&&(Ee.email=ue[1]),ue[2]&&(Ee.phone=ue[2]),ue[3]&&(Ee.street=ue[3]),ue[4]&&(Ee.zip=ue[4]),ue[5]&&(Ee.city=ue[5]),ue[6]&&(Ee.notes=ue[6]),!Ee.name){console.warn("Überspringe Zeile ohne Namen:",ue),Ue++;continue}try{Ee.number=await v("customers")}catch{Ee.number=`K-${Date.now()}-${Math.floor(Math.random()*1e3)}`}await g.createCustomer(Ee),Je++}catch(ue){console.warn("Fehler beim Importieren einer CSV-Zeile:",Ke,ue),Ue++}b(`✅ CSV-Import abgeschlossen!
        
Erfolgreich importiert: ${Je} Kunden
${Ue>0?`Fehler: ${Ue}`:""}

CSV-Format: Name;Email;Telefon;Straße;PLZ;Ort;Notizen`)}else if(O==="offers"){for(const Ke of He)try{const ue=Ke.split(";").map(ze=>ze.trim().replace(/^"|"$/g,"")),Ee={};if(ue[0]&&(Ee.title=ue[0]),ue[1]&&(Ee.customerName=ue[1]),ue[2]&&(Ee.total=parseFloat(ue[2])||0),ue[3]&&(Ee.validUntil=ue[3]),ue[4]&&(Ee.notes=ue[4]),!Ee.title){console.warn("Überspringe Zeile ohne Titel:",ue),Ue++;continue}let ht=null;if(Ee.customerName){const at=(await g.listCustomers()).find(lt=>lt.name.toLowerCase()===Ee.customerName.toLowerCase());at&&(ht=at.id)}if(!ht){console.warn("Kunde nicht gefunden für Angebot:",Ee.customerName),Ue++;continue}try{Ee.offerNumber=await v("offers")}catch{Ee.offerNumber=`A-${Date.now()}-${Math.floor(Math.random()*1e3)}`}const mt={...Ee,customerId:ht,lineItems:[],subtotal:Ee.total,vatAmount:0,vatRate:19,status:"draft"};delete mt.customerName,await g.createOffer(mt),Je++}catch(ue){console.warn("Fehler beim Importieren einer CSV-Zeile:",Ke,ue),Ue++}b(`✅ CSV-Import abgeschlossen!
        
Erfolgreich importiert: ${Je} Angebote
${Ue>0?`Fehler: ${Ue}`:""}

CSV-Format: Titel;Kundenname;Gesamtbetrag;Gültig bis (YYYY-MM-DD);Notizen`)}else if(O==="invoices"){for(const Ke of He)try{const ue=Ke.split(";").map(ze=>ze.trim().replace(/^"|"$/g,"")),Ee={};if(ue[0]&&(Ee.title=ue[0]),ue[1]&&(Ee.customerName=ue[1]),ue[2]&&(Ee.total=parseFloat(ue[2])||0),ue[3]&&(Ee.dueDate=ue[3]),ue[4]&&(Ee.notes=ue[4]),!Ee.title){console.warn("Überspringe Zeile ohne Titel:",ue),Ue++;continue}let ht=null;if(Ee.customerName){const at=(await g.listCustomers()).find(lt=>lt.name.toLowerCase()===Ee.customerName.toLowerCase());at&&(ht=at.id)}if(!ht){console.warn("Kunde nicht gefunden für Rechnung:",Ee.customerName),Ue++;continue}try{Ee.invoiceNumber=await v("invoices")}catch{Ee.invoiceNumber=`R-${Date.now()}-${Math.floor(Math.random()*1e3)}`}const mt={...Ee,customerId:ht,lineItems:[],subtotal:Ee.total,vatAmount:0,vatRate:19,status:"draft"};delete mt.customerName,await g.createInvoice(mt),Je++}catch(ue){console.warn("Fehler beim Importieren einer CSV-Zeile:",Ke,ue),Ue++}b(`✅ CSV-Import abgeschlossen!
        
Erfolgreich importiert: ${Je} Rechnungen
${Ue>0?`Fehler: ${Ue}`:""}

CSV-Format: Titel;Kundenname;Gesamtbetrag;Fällig am (YYYY-MM-DD);Notizen`)}else x(`CSV-Import für "${O}" ist noch nicht implementiert.`)}catch(M){console.error("CSV Import error:",M),x("Fehler beim CSV-Import: "+M)}finally{K(!1),q(null)}},Be=async()=>{if(console.log("🚨 CRITICAL: handleClearAllData was called! This should only happen from the Clear All Data button!"),console.trace("Call stack:"),!!confirm("WARNUNG: Alle Daten werden unwiderruflich gelöscht! Sind Sie sicher?")&&confirm("Letzte Warnung: Haben Sie ein Backup erstellt? Alle Daten gehen verloren!")){if(!g){alert("Fehler: Datenbankadapter nicht verfügbar");return}try{K(!0);let M=0;try{const ie=await g.listCustomers();for(const Pe of ie)await g.deleteCustomer(Pe.id),M++}catch(ie){console.warn("Error deleting customers:",ie)}try{const ie=await g.listInvoices();for(const Pe of ie)await g.deleteInvoice(Pe.id),M++}catch(ie){console.warn("Error deleting invoices:",ie)}try{const ie=await g.listOffers();for(const Pe of ie)await g.deleteOffer(Pe.id),M++}catch(ie){console.warn("Error deleting offers:",ie)}try{const ie=await g.listPackages();for(const Pe of ie)await g.deletePackage(Pe.id),M++}catch(ie){console.warn("Error deleting packages:",ie)}try{console.log("🔄 Resetting numbering circles to default values"),localStorage.removeItem("rawalite-numbering"),console.log("🗑️ Cleared localStorage numbering data");const ie=rn.numberingCircles.map(Pe=>({...Pe,current:0,lastResetYear:void 0}));console.log("📝 Setting numbering circles to:",ie);for(const Pe of ie)await h(Pe.id,Pe);console.log("✅ Numbering circles reset successfully")}catch(ie){console.warn("Error resetting numbering circles:",ie),localStorage.removeItem("rawalite-numbering"),localStorage.setItem("rawalite-numbering",JSON.stringify(rn.numberingCircles))}try{console.log("🔄 Resetting company data to defaults"),await d(rn.companyData),console.log("✅ Company data reset successfully")}catch(ie){console.warn("Error resetting company data:",ie)}b(`${M} Datensätze wurden gelöscht und alle Nummernkreise zurückgesetzt. Die Anwendung wird neu geladen...`),setTimeout(()=>{window.location.reload()},2e3)}catch(M){console.error("Clear data error:",M),alert("Fehler beim Löschen der Daten: "+M)}finally{K(!1)}}};return o?l.jsx("div",{className:"card",children:"Lade Einstellungen..."}):u?l.jsxs("div",{className:"card",children:["Fehler beim Laden der Einstellungen: ",u]}):l.jsxs("div",{className:"card",children:[l.jsxs("div",{style:{marginBottom:"24px"},children:[l.jsx("h2",{style:{margin:"0 0 4px 0"},children:r}),l.jsx("div",{style:{opacity:.7},children:"Konfiguriere deine Unternehmensdaten und Nummernkreise."})]}),l.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"24px",borderBottom:"1px solid rgba(0,0,0,.15)",flexWrap:"wrap"},children:[l.jsx("button",{onClick:()=>E("company"),style:{backgroundColor:w==="company"?"#1e3a2e":"rgba(255,255,255,0.8)",color:w==="company"?"white":"#374151",border:w==="company"?"1px solid #1e3a2e":"1px solid rgba(0,0,0,.2)",padding:"8px 16px",borderRadius:"8px 8px 0 0",cursor:"pointer",borderBottom:w==="company"?"2px solid #1e3a2e":"2px solid transparent",transition:"all 0.2s ease",fontWeight:w==="company"?"600":"500"},children:"Stammdaten"}),l.jsx("button",{onClick:()=>E("logo"),style:{backgroundColor:w==="logo"?"#1e3a2e":"rgba(255,255,255,0.8)",color:w==="logo"?"white":"#374151",border:w==="logo"?"1px solid #1e3a2e":"1px solid rgba(0,0,0,.2)",padding:"8px 16px",borderRadius:"8px 8px 0 0",cursor:"pointer",borderBottom:w==="logo"?"2px solid #1e3a2e":"2px solid transparent",transition:"all 0.2s ease",fontWeight:w==="logo"?"600":"500"},children:"Logo & Design"}),l.jsx("button",{onClick:()=>E("tax"),style:{backgroundColor:w==="tax"?"#1e3a2e":"rgba(255,255,255,0.8)",color:w==="tax"?"white":"#374151",border:w==="tax"?"1px solid #1e3a2e":"1px solid rgba(0,0,0,.2)",padding:"8px 16px",borderRadius:"8px 8px 0 0",cursor:"pointer",borderBottom:w==="tax"?"2px solid #1e3a2e":"2px solid transparent",transition:"all 0.2s ease",fontWeight:w==="tax"?"600":"500"},children:"Steuerliche Angaben"}),l.jsx("button",{onClick:()=>E("bank"),style:{backgroundColor:w==="bank"?"#1e3a2e":"rgba(255,255,255,0.8)",color:w==="bank"?"white":"#374151",border:w==="bank"?"1px solid #1e3a2e":"1px solid rgba(0,0,0,.2)",padding:"8px 16px",borderRadius:"8px 8px 0 0",cursor:"pointer",borderBottom:w==="bank"?"2px solid #1e3a2e":"2px solid transparent",transition:"all 0.2s ease",fontWeight:w==="bank"?"600":"500"},children:"Bankverbindung"}),l.jsx("button",{onClick:()=>E("numbering"),style:{backgroundColor:w==="numbering"?"#1e3a2e":"rgba(255,255,255,0.8)",color:w==="numbering"?"white":"#374151",border:w==="numbering"?"1px solid #1e3a2e":"1px solid rgba(0,0,0,.2)",padding:"8px 16px",borderRadius:"8px 8px 0 0",cursor:"pointer",borderBottom:w==="numbering"?"2px solid #1e3a2e":"2px solid transparent",transition:"all 0.2s ease",fontWeight:w==="numbering"?"600":"500"},children:"Nummernkreise"}),l.jsx("button",{onClick:()=>E("updates"),style:{backgroundColor:w==="updates"?"#1e3a2e":"rgba(255,255,255,0.8)",color:w==="updates"?"white":"#374151",border:w==="updates"?"1px solid #1e3a2e":"1px solid rgba(0,0,0,.2)",padding:"8px 16px",borderRadius:"8px 8px 0 0",cursor:"pointer",borderBottom:w==="updates"?"2px solid #1e3a2e":"2px solid transparent",transition:"all 0.2s ease",fontWeight:w==="updates"?"600":"500"},children:"Updates"}),l.jsx("button",{onClick:()=>E("maintenance"),style:{backgroundColor:w==="maintenance"?"#1e3a2e":"rgba(255,255,255,0.8)",color:w==="maintenance"?"white":"#374151",border:w==="maintenance"?"1px solid #1e3a2e":"1px solid rgba(0,0,0,.2)",padding:"8px 16px",borderRadius:"8px 8px 0 0",cursor:"pointer",borderBottom:w==="maintenance"?"2px solid #1e3a2e":"2px solid transparent",transition:"all 0.2s ease",fontWeight:w==="maintenance"?"600":"500"},children:"Datensicherung"})]}),w==="company"&&l.jsx("form",{onSubmit:Te,children:l.jsxs("div",{style:{display:"grid",gap:"16px",gridTemplateColumns:"1fr 1fr"},children:[l.jsx("div",{style:{gridColumn:"1 / -1"},children:l.jsx("h3",{style:{margin:"0 0 16px 0",color:"var(--accent)"},children:"Stammdaten"})}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Firmenname *"}),l.jsx("input",{type:"text",value:C.name,onChange:M=>I({...C,name:M.target.value}),required:!0,style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"E-Mail"}),l.jsx("input",{type:"email",value:C.email,onChange:M=>I({...C,email:M.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Straße"}),l.jsx("input",{type:"text",value:C.street,onChange:M=>I({...C,street:M.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Telefon"}),l.jsx("input",{type:"tel",value:C.phone,onChange:M=>I({...C,phone:M.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"PLZ"}),l.jsx("input",{type:"text",value:C.postalCode,onChange:M=>I({...C,postalCode:M.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Ort"}),l.jsx("input",{type:"text",value:C.city,onChange:M=>I({...C,city:M.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Website"}),l.jsx("input",{type:"url",value:C.website,onChange:M=>I({...C,website:M.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),l.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"24px"},children:l.jsx("button",{type:"submit",disabled:_,style:{backgroundColor:"var(--accent)",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",cursor:"pointer",fontWeight:"500"},children:_?"Speichere...":"Stammdaten speichern"})})]})}),w==="logo"&&l.jsx("form",{onSubmit:te,children:l.jsxs("div",{style:{display:"grid",gap:"16px",maxWidth:"600px"},children:[l.jsx("div",{children:l.jsx("h3",{style:{margin:"0 0 16px 0",color:"var(--accent)"},children:"Logo & Design"})}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Firmenlogo"}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[C.logo&&l.jsxs("div",{style:{position:"relative",display:"inline-block",maxWidth:"300px",padding:"16px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"8px",backgroundColor:"rgba(255,255,255,.05)"},children:[l.jsx("img",{src:C.logo,alt:"Firmenlogo",style:{maxWidth:"100%",maxHeight:"120px",objectFit:"contain",display:"block"}}),l.jsx("button",{type:"button",onClick:Fe,style:{position:"absolute",top:"-8px",right:"-8px",background:"#ef4444",color:"white",border:"none",borderRadius:"50%",width:"24px",height:"24px",fontSize:"14px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"Logo entfernen",children:"×"})]}),l.jsx("input",{type:"file",accept:"image/*",onChange:Ie,disabled:ae,style:{padding:"12px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)",cursor:"pointer"}}),l.jsxs("div",{style:{fontSize:"14px",opacity:.7,lineHeight:"1.4"},children:[l.jsx("strong",{children:"Empfehlungen:"}),l.jsx("br",{}),"• Dateiformate: PNG, JPG, GIF",l.jsx("br",{}),"• Maximale Dateigröße: 2MB",l.jsx("br",{}),"• Empfohlene Größe: 200x80px",l.jsx("br",{}),"• Transparenter Hintergrund für beste Ergebnisse"]})]})]}),l.jsx("div",{style:{marginTop:"24px"},children:l.jsx("button",{type:"submit",disabled:_||ae,style:{backgroundColor:"var(--accent)",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",cursor:"pointer",fontWeight:"500"},children:_?"Speichere...":"Logo speichern"})})]})}),w==="tax"&&l.jsx("form",{onSubmit:Se,children:l.jsxs("div",{style:{display:"grid",gap:"16px",gridTemplateColumns:"1fr 1fr"},children:[l.jsx("div",{style:{gridColumn:"1 / -1"},children:l.jsx("h3",{style:{margin:"0 0 16px 0",color:"var(--accent)"},children:"Steuerliche Angaben"})}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Steuernummer"}),l.jsx("input",{type:"text",value:C.taxNumber,onChange:M=>I({...C,taxNumber:M.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Umsatzsteuer-ID"}),l.jsx("input",{type:"text",value:C.vatId,onChange:M=>I({...C,vatId:M.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:C.kleinunternehmer,onChange:V,style:{cursor:"pointer"}}),l.jsx("span",{style:{fontWeight:"500"},children:"Kleinunternehmer (§19 UStG)"})]}),l.jsx("div",{style:{fontSize:"12px",opacity:.7,marginTop:"4px",marginLeft:"28px"},children:"Als Kleinunternehmer weisen Sie keine Umsatzsteuer aus und sind nicht zum Vorsteuerabzug berechtigt."})]}),l.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"24px"},children:l.jsx("button",{type:"submit",disabled:_,style:{backgroundColor:"var(--accent)",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",cursor:"pointer",fontWeight:"500"},children:_?"Speichere...":"Steuerliche Angaben speichern"})})]})}),w==="bank"&&l.jsx("form",{onSubmit:H,children:l.jsxs("div",{style:{display:"grid",gap:"16px",gridTemplateColumns:"1fr 1fr"},children:[l.jsx("div",{style:{gridColumn:"1 / -1"},children:l.jsx("h3",{style:{margin:"0 0 16px 0",color:"var(--accent)"},children:"Bankverbindung"})}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Bank"}),l.jsx("input",{type:"text",value:C.bankName,onChange:M=>I({...C,bankName:M.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"BIC"}),l.jsx("input",{type:"text",value:C.bankBic,onChange:M=>I({...C,bankBic:M.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"IBAN"}),l.jsx("input",{type:"text",value:C.bankAccount,onChange:M=>I({...C,bankAccount:M.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),l.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"24px"},children:l.jsx("button",{type:"submit",disabled:_,style:{backgroundColor:"var(--accent)",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",cursor:"pointer",fontWeight:"500"},children:_?"Speichere...":"Bankverbindung speichern"})})]})}),w==="numbering"&&l.jsxs("form",{onSubmit:P,children:[l.jsxs("div",{children:[l.jsx("h3",{style:{margin:"0 0 16px 0",color:"var(--accent)"},children:"Nummernkreise"}),l.jsx("p",{style:{opacity:.7,marginBottom:"24px"},children:"Verwalte die automatische Nummerierung für verschiedene Dokumenttypen."}),F.map((M,ie)=>(console.log("🔍 [DEBUG] UI - Rendering circle:",M.id,M.name),l.jsxs("div",{style:{marginBottom:"24px",padding:"16px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"8px",backgroundColor:"rgba(255,255,255,.02)"},children:[l.jsx("h4",{style:{margin:"0 0 16px 0",color:"var(--accent)"},children:M.name}),l.jsxs("div",{style:{display:"grid",gap:"16px",gridTemplateColumns:"1fr 1fr 1fr 1fr"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Präfix"}),l.jsx("input",{type:"text",value:M.prefix,onChange:Pe=>U(ie,"prefix",Pe.target.value),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Stellen"}),l.jsx("input",{type:"number",min:"1",max:"10",value:M.digits,onChange:Pe=>U(ie,"digits",parseInt(Pe.target.value)||1),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Aktuell"}),l.jsx("input",{type:"number",min:"0",value:M.current,onChange:Pe=>U(ie,"current",parseInt(Pe.target.value)||0),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Reset"}),l.jsxs("select",{value:M.resetMode,onChange:Pe=>U(ie,"resetMode",Pe.target.value),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"},children:[l.jsx("option",{value:"never",children:"Nie"}),l.jsx("option",{value:"yearly",children:"Jährlich"})]})]})]}),l.jsxs("div",{style:{marginTop:"12px",fontSize:"14px",opacity:.7},children:[l.jsx("strong",{children:"Vorschau nächste Nummer:"})," ",M.prefix,(M.current+1).toString().padStart(M.digits,"0")]})]},M.id)))]}),l.jsx("div",{style:{marginTop:"24px"},children:l.jsx("button",{type:"submit",disabled:_,style:{backgroundColor:"var(--accent)",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",cursor:_?"not-allowed":"pointer",fontWeight:"500",opacity:_?.6:1},children:_?"Speichere...":"Nummernkreise speichern"})})]}),w==="updates"&&l.jsxs("div",{children:[l.jsx("h3",{style:{margin:"0 0 16px 0",color:"var(--accent)"},children:"Software Updates"}),l.jsx("p",{style:{opacity:.7,marginBottom:"24px"},children:"Halten Sie RawaLite auf dem neuesten Stand und profitieren Sie von neuen Features, Bugfixes und Sicherheitsupdates."}),l.jsxs("div",{style:{marginBottom:"32px"},children:[l.jsx("h4",{style:{margin:"0 0 12px 0",color:"#374151"},children:"Update-Prüfung"}),l.jsx("p",{style:{margin:"0 0 16px 0",color:"#6b7280",fontSize:"14px"},children:"Suchen Sie nach verfügbaren Updates für RawaLite und installieren Sie diese direkt aus der Anwendung."}),l.jsx(_y,{onUpdateAvailable:()=>Re(!0)})]}),l.jsxs("div",{style:{marginBottom:"32px"},children:[l.jsx("h4",{style:{margin:"0 0 12px 0",color:"#374151"},children:"Aktuelle Version"}),l.jsxs("div",{style:{padding:"16px",backgroundColor:"rgba(255,255,255,0.05)",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)"},children:[l.jsx("p",{style:{margin:"0 0 8px 0",fontWeight:"500"},children:"RawaLite Version 1.0.0"}),l.jsx("p",{style:{margin:"0",fontSize:"14px",opacity:.7},children:"Letzte Überprüfung: Beim nächsten Update-Check"})]})]}),l.jsxs("div",{style:{marginBottom:"32px"},children:[l.jsx("h4",{style:{margin:"0 0 12px 0",color:"#374151"},children:"Update-Einstellungen"}),l.jsx("p",{style:{margin:"0 0 16px 0",color:"#6b7280",fontSize:"14px"},children:"Konfigurieren Sie, wie RawaLite mit Updates umgehen soll."}),l.jsxs("div",{style:{padding:"16px",backgroundColor:"rgba(255,255,255,0.05)",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)"},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",marginBottom:"12px"},children:[l.jsx("input",{type:"checkbox",disabled:!0,style:{marginRight:"8px"}}),l.jsx("span",{style:{fontSize:"14px"},children:"Automatisch nach Updates suchen (Coming Soon)"})]}),l.jsxs("label",{style:{display:"flex",alignItems:"center"},children:[l.jsx("input",{type:"checkbox",disabled:!0,style:{marginRight:"8px"}}),l.jsx("span",{style:{fontSize:"14px"},children:"Beta-Versionen einbeziehen (Coming Soon)"})]})]})]})]}),w==="maintenance"&&l.jsxs("div",{children:[l.jsx("h3",{style:{margin:"0 0 16px 0",color:"var(--accent)"},children:"Datensicherung & Datenmanagement"}),l.jsxs("div",{style:{marginBottom:"32px"},children:[l.jsx("h4",{style:{margin:"0 0 12px 0",color:"#374151"},children:"Backup erstellen"}),l.jsx("p",{style:{margin:"0 0 16px 0",color:"#6b7280",fontSize:"14px"},children:"Erstellen Sie ein vollständiges Backup aller Ihrer Daten als ZIP-Datei."}),l.jsx("button",{type:"button",onClick:de,disabled:_,className:"btn",style:{backgroundColor:"var(--accent)",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",cursor:_?"not-allowed":"pointer",fontWeight:"500",opacity:_?.6:1},children:_?"Erstelle Backup...":"📦 Backup erstellen (ZIP)"})]}),l.jsxs("div",{style:{marginBottom:"32px"},children:[l.jsx("h4",{style:{margin:"0 0 12px 0",color:"#374151"},children:"Daten exportieren"}),l.jsx("p",{style:{margin:"0 0 16px 0",color:"#6b7280",fontSize:"14px"},children:"Exportieren Sie Ihre Daten als CSV-Dateien für die Verwendung in anderen Programmen."}),l.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[l.jsx("button",{type:"button",onClick:()=>xe("customers"),disabled:_,className:"btn btn-secondary",style:{backgroundColor:"#6b7280",color:"white",border:"none",padding:"10px 20px",borderRadius:"6px",cursor:_?"not-allowed":"pointer",fontWeight:"500",opacity:_?.6:1},children:"📄 Kunden exportieren (CSV)"}),l.jsx("button",{type:"button",onClick:()=>xe("invoices"),disabled:_,className:"btn btn-secondary",style:{backgroundColor:"#6b7280",color:"white",border:"none",padding:"10px 20px",borderRadius:"6px",cursor:_?"not-allowed":"pointer",fontWeight:"500",opacity:_?.6:1},children:"🧾 Rechnungen exportieren (CSV)"}),l.jsx("button",{type:"button",onClick:()=>xe("offers"),disabled:_,className:"btn btn-secondary",style:{backgroundColor:"#6b7280",color:"white",border:"none",padding:"10px 20px",borderRadius:"6px",cursor:_?"not-allowed":"pointer",fontWeight:"500",opacity:_?.6:1},children:"📋 Angebote exportieren (CSV)"}),l.jsx("button",{type:"button",onClick:()=>xe("packages"),disabled:_,className:"btn btn-secondary",style:{backgroundColor:"#6b7280",color:"white",border:"none",padding:"10px 20px",borderRadius:"6px",cursor:_?"not-allowed":"pointer",fontWeight:"500",opacity:_?.6:1},children:"📦 Pakete exportieren (CSV)"})]})]}),l.jsxs("div",{style:{marginBottom:"32px"},children:[l.jsx("h4",{style:{margin:"0 0 12px 0",color:"#374151"},children:"Daten importieren"}),l.jsx("p",{style:{margin:"0 0 16px 0",color:"#6b7280",fontSize:"14px"},children:"Importieren Sie Backup-Dateien oder CSV-Daten zurück in die Anwendung."}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#374151"},children:"Backup importieren (ZIP)"}),l.jsx("input",{type:"file",accept:".zip",onChange:ne,style:{padding:"8px",border:"1px solid rgba(0,0,0,.2)",borderRadius:"6px",backgroundColor:"rgba(255,255,255,0.9)",width:"100%",maxWidth:"400px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#374151"},children:"CSV importieren"}),l.jsxs("div",{style:{display:"grid",gap:"12px",gridTemplateColumns:"auto 1fr auto",alignItems:"end"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"12px",color:"#6b7280"},children:"Datentyp"}),l.jsxs("select",{value:O,onChange:M=>ee(M.target.value),style:{padding:"8px",border:"1px solid rgba(0,0,0,.2)",borderRadius:"6px",backgroundColor:"rgba(255,255,255,0.9)",minWidth:"120px"},children:[l.jsx("option",{value:"customers",children:"Kunden"}),l.jsx("option",{value:"invoices",children:"Rechnungen"}),l.jsx("option",{value:"offers",children:"Angebote"})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"12px",color:"#6b7280"},children:"CSV-Datei auswählen"}),l.jsx("input",{type:"file",accept:".csv",onChange:be,style:{padding:"8px",border:"1px solid rgba(0,0,0,.2)",borderRadius:"6px",backgroundColor:"rgba(255,255,255,0.9)",width:"100%"}})]}),l.jsx("div",{children:l.jsx("button",{type:"button",onClick:ke,disabled:!W||_,className:"btn btn-secondary",style:{backgroundColor:W?"#059669":"#6b7280",color:"white",border:"none",padding:"10px 20px",borderRadius:"6px",cursor:W&&!_?"pointer":"not-allowed",fontWeight:"500",opacity:W&&!_?1:.6,whiteSpace:"nowrap"},children:_?"Importiere...":"Import starten"})})]}),W&&l.jsxs("div",{style:{marginTop:"8px",fontSize:"14px",color:"#059669"},children:["📄 Ausgewählte Datei: ",W.name," (",Math.round(W.size/1024),"KB)"]})]})]}),l.jsxs("div",{style:{marginTop:"40px",padding:"20px",border:"2px solid #ef4444",borderRadius:"8px",backgroundColor:"rgba(239, 68, 68, 0.05)"},children:[l.jsx("h4",{style:{margin:"0 0 12px 0",color:"#ef4444"},children:"⚠️ Gefahrenbereich"}),l.jsx("p",{style:{margin:"0 0 16px 0",color:"#6b7280",fontSize:"14px"},children:"Diese Aktionen können nicht rückgängig gemacht werden. Erstellen Sie vorher ein Backup!"}),l.jsx("button",{type:"button",onClick:Be,className:"btn btn-danger",style:{backgroundColor:"#ef4444",color:"white",border:"none",padding:"10px 20px",borderRadius:"6px",cursor:"pointer",fontWeight:"500"},children:"🗑️ Alle Daten löschen"})]})]}),l.jsx(Dy,{isOpen:Q,onClose:le,autoCheckOnOpen:!0})]})}const Ty=()=>l.jsxs("div",{children:[l.jsx(Vf,{title:"Seite nicht gefunden"}),l.jsx("div",{className:"card",children:l.jsx("p",{children:"Der angeforderte Pfad existiert nicht."})})]}),Ly=[{path:"/",element:l.jsx(hy,{}),children:[{index:!0,element:l.jsx(Ey,{})},{path:"kunden",element:l.jsx(Cy,{})},{path:"angebote",element:l.jsx(jy,{})},{path:"angebote/:id",element:l.jsx(Ry,{})},{path:"pakete",element:l.jsx(Iy,{})},{path:"rechnungen",element:l.jsx(Py,{})},{path:"einstellungen",element:l.jsx(Ny,{})},{path:"*",element:l.jsx(Ty,{})}]}],zy=Ug(Ly);Bh.createRoot(document.getElementById("root")).render(l.jsx(As.StrictMode,{children:l.jsx(gy,{children:l.jsx(xy,{children:l.jsx(my,{mode:"sqlite",children:l.jsx(iy,{children:l.jsxs(Sy,{children:[l.jsx(ey,{router:zy}),l.jsx(vy,{}),l.jsx(by,{})]})})})})})}));export{$o as D,Si as _,kt as a,Ay as c,ff as g,da as m};
