var Sh=Object.defineProperty;var Eh=(e,t,n)=>t in e?Sh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Kt=(e,t,n)=>Eh(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Mx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var bd={exports:{}},wl={},Sd={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qi=Symbol.for("react.element"),Ch=Symbol.for("react.portal"),jh=Symbol.for("react.fragment"),Rh=Symbol.for("react.strict_mode"),Ph=Symbol.for("react.profiler"),Ih=Symbol.for("react.provider"),Dh=Symbol.for("react.context"),_h=Symbol.for("react.forward_ref"),Nh=Symbol.for("react.suspense"),Th=Symbol.for("react.memo"),Lh=Symbol.for("react.lazy"),zu=Symbol.iterator;function zh(e){return e===null||typeof e!="object"?null:(e=zu&&e[zu]||e["@@iterator"],typeof e=="function"?e:null)}var Ed={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kd=Object.assign,Cd={};function Kr(e,t,n){this.props=e,this.context=t,this.refs=Cd,this.updater=n||Ed}Kr.prototype.isReactComponent={};Kr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Kr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function jd(){}jd.prototype=Kr.prototype;function bs(e,t,n){this.props=e,this.context=t,this.refs=Cd,this.updater=n||Ed}var Ss=bs.prototype=new jd;Ss.constructor=bs;kd(Ss,Kr.prototype);Ss.isPureReactComponent=!0;var Fu=Array.isArray,Rd=Object.prototype.hasOwnProperty,Es={current:null},Pd={key:!0,ref:!0,__self:!0,__source:!0};function Id(e,t,n){var r,i={},a=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(a=""+t.key),t)Rd.call(t,r)&&!Pd.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var u=Array(o),c=0;c<o;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:qi,type:e,key:a,ref:l,props:i,_owner:Es.current}}function Fh(e,t){return{$$typeof:qi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ks(e){return typeof e=="object"&&e!==null&&e.$$typeof===qi}function Ah(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Au=/\/+/g;function Wl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ah(""+e.key):t.toString(36)}function Da(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case qi:case Ch:l=!0}}if(l)return l=e,i=i(l),e=r===""?"."+Wl(l,0):r,Fu(i)?(n="",e!=null&&(n=e.replace(Au,"$&/")+"/"),Da(i,t,n,"",function(c){return c})):i!=null&&(ks(i)&&(i=Fh(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(Au,"$&/")+"/")+e)),t.push(i)),1;if(l=0,r=r===""?".":r+":",Fu(e))for(var o=0;o<e.length;o++){a=e[o];var u=r+Wl(a,o);l+=Da(a,t,n,u,i)}else if(u=zh(e),typeof u=="function")for(e=u.call(e),o=0;!(a=e.next()).done;)a=a.value,u=r+Wl(a,o++),l+=Da(a,t,n,u,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function ua(e,t,n){if(e==null)return e;var r=[],i=0;return Da(e,r,"","",function(a){return t.call(n,a,i++)}),r}function Mh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var at={current:null},_a={transition:null},Oh={ReactCurrentDispatcher:at,ReactCurrentBatchConfig:_a,ReactCurrentOwner:Es};function Dd(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:ua,forEach:function(e,t,n){ua(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ua(e,function(){t++}),t},toArray:function(e){return ua(e,function(t){return t})||[]},only:function(e){if(!ks(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};fe.Component=Kr;fe.Fragment=jh;fe.Profiler=Ph;fe.PureComponent=bs;fe.StrictMode=Rh;fe.Suspense=Nh;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Oh;fe.act=Dd;fe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=kd({},e.props),i=e.key,a=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,l=Es.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(u in t)Rd.call(t,u)&&!Pd.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&o!==void 0?o[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){o=Array(u);for(var c=0;c<u;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:qi,type:e.type,key:i,ref:a,props:r,_owner:l}};fe.createContext=function(e){return e={$$typeof:Dh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ih,_context:e},e.Consumer=e};fe.createElement=Id;fe.createFactory=function(e){var t=Id.bind(null,e);return t.type=e,t};fe.createRef=function(){return{current:null}};fe.forwardRef=function(e){return{$$typeof:_h,render:e}};fe.isValidElement=ks;fe.lazy=function(e){return{$$typeof:Lh,_payload:{_status:-1,_result:e},_init:Mh}};fe.memo=function(e,t){return{$$typeof:Th,type:e,compare:t===void 0?null:t}};fe.startTransition=function(e){var t=_a.transition;_a.transition={};try{e()}finally{_a.transition=t}};fe.unstable_act=Dd;fe.useCallback=function(e,t){return at.current.useCallback(e,t)};fe.useContext=function(e){return at.current.useContext(e)};fe.useDebugValue=function(){};fe.useDeferredValue=function(e){return at.current.useDeferredValue(e)};fe.useEffect=function(e,t){return at.current.useEffect(e,t)};fe.useId=function(){return at.current.useId()};fe.useImperativeHandle=function(e,t,n){return at.current.useImperativeHandle(e,t,n)};fe.useInsertionEffect=function(e,t){return at.current.useInsertionEffect(e,t)};fe.useLayoutEffect=function(e,t){return at.current.useLayoutEffect(e,t)};fe.useMemo=function(e,t){return at.current.useMemo(e,t)};fe.useReducer=function(e,t,n){return at.current.useReducer(e,t,n)};fe.useRef=function(e){return at.current.useRef(e)};fe.useState=function(e){return at.current.useState(e)};fe.useSyncExternalStore=function(e,t,n){return at.current.useSyncExternalStore(e,t,n)};fe.useTransition=function(){return at.current.useTransition()};fe.version="18.3.1";Sd.exports=fe;var x=Sd.exports;const _d=kh(x);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $h=x,Bh=Symbol.for("react.element"),Uh=Symbol.for("react.fragment"),Wh=Object.prototype.hasOwnProperty,Vh=$h.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hh={key:!0,ref:!0,__self:!0,__source:!0};function Nd(e,t,n){var r,i={},a=null,l=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)Wh.call(t,r)&&!Hh.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Bh,type:e,key:a,ref:l,props:i,_owner:Vh.current}}wl.Fragment=Uh;wl.jsx=Nd;wl.jsxs=Nd;bd.exports=wl;var s=bd.exports,So={},Td={exports:{}},kt={},Ld={exports:{}},zd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,L){var A=$.length;$.push(L);e:for(;0<A;){var X=A-1>>>1,re=$[X];if(0<i(re,L))$[X]=L,$[A]=re,A=X;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var L=$[0],A=$.pop();if(A!==L){$[0]=A;e:for(var X=0,re=$.length,ye=re>>>1;X<ye;){var D=2*(X+1)-1,P=$[D],F=D+1,q=$[F];if(0>i(P,A))F<re&&0>i(q,P)?($[X]=q,$[F]=A,X=F):($[X]=P,$[D]=A,X=D);else if(F<re&&0>i(q,A))$[X]=q,$[F]=A,X=F;else break e}}return L}function i($,L){var A=$.sortIndex-L.sortIndex;return A!==0?A:$.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var u=[],c=[],d=1,f=null,p=3,m=!1,v=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y($){for(var L=n(c);L!==null;){if(L.callback===null)r(c);else if(L.startTime<=$)r(c),L.sortIndex=L.expirationTime,t(u,L);else break;L=n(c)}}function C($){if(w=!1,y($),!v)if(n(u)!==null)v=!0,le(I);else{var L=n(c);L!==null&&pe(C,L.startTime-$)}}function I($,L){v=!1,w&&(w=!1,g(_),_=-1),m=!0;var A=p;try{for(y(L),f=n(u);f!==null&&(!(f.expirationTime>L)||$&&!z());){var X=f.callback;if(typeof X=="function"){f.callback=null,p=f.priorityLevel;var re=X(f.expirationTime<=L);L=e.unstable_now(),typeof re=="function"?f.callback=re:f===n(u)&&r(u),y(L)}else r(u);f=n(u)}if(f!==null)var ye=!0;else{var D=n(c);D!==null&&pe(C,D.startTime-L),ye=!1}return ye}finally{f=null,p=A,m=!1}}var b=!1,k=null,_=-1,T=5,R=-1;function z(){return!(e.unstable_now()-R<T)}function ne(){if(k!==null){var $=e.unstable_now();R=$;var L=!0;try{L=k(!0,$)}finally{L?V():(b=!1,k=null)}}else b=!1}var V;if(typeof h=="function")V=function(){h(ne)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,ge=ie.port2;ie.port1.onmessage=ne,V=function(){ge.postMessage(null)}}else V=function(){E(ne,0)};function le($){k=$,b||(b=!0,V())}function pe($,L){_=E(function(){$(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,le(I))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function($){switch(p){case 1:case 2:case 3:var L=3;break;default:L=p}var A=p;p=L;try{return $()}finally{p=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,L){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var A=p;p=$;try{return L()}finally{p=A}},e.unstable_scheduleCallback=function($,L,A){var X=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?X+A:X):A=X,$){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=A+re,$={id:d++,callback:L,priorityLevel:$,startTime:A,expirationTime:re,sortIndex:-1},A>X?($.sortIndex=A,t(c,$),n(u)===null&&$===n(c)&&(w?(g(_),_=-1):w=!0,pe(C,A-X))):($.sortIndex=re,t(u,$),v||m||(v=!0,le(I))),$},e.unstable_shouldYield=z,e.unstable_wrapCallback=function($){var L=p;return function(){var A=p;p=L;try{return $.apply(this,arguments)}finally{p=A}}}})(zd);Ld.exports=zd;var Kh=Ld.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qh=x,Et=Kh;function O(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Fd=new Set,ji={};function cr(e,t){Mr(e,t),Mr(e+"Capture",t)}function Mr(e,t){for(ji[e]=t,e=0;e<t.length;e++)Fd.add(t[e])}var cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eo=Object.prototype.hasOwnProperty,Qh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mu={},Ou={};function Gh(e){return Eo.call(Ou,e)?!0:Eo.call(Mu,e)?!1:Qh.test(e)?Ou[e]=!0:(Mu[e]=!0,!1)}function Yh(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Xh(e,t,n,r){if(t===null||typeof t>"u"||Yh(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function lt(e,t,n,r,i,a,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=l}var Ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ye[e]=new lt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ye[t]=new lt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ye[e]=new lt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ye[e]=new lt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ye[e]=new lt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ye[e]=new lt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ye[e]=new lt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ye[e]=new lt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ye[e]=new lt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Cs=/[\-:]([a-z])/g;function js(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Cs,js);Ye[t]=new lt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Cs,js);Ye[t]=new lt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Cs,js);Ye[t]=new lt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ye[e]=new lt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ye.xlinkHref=new lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ye[e]=new lt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Rs(e,t,n,r){var i=Ye.hasOwnProperty(t)?Ye[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Xh(t,n,i,r)&&(n=null),r||i===null?Gh(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var hn=qh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ca=Symbol.for("react.element"),vr=Symbol.for("react.portal"),xr=Symbol.for("react.fragment"),Ps=Symbol.for("react.strict_mode"),ko=Symbol.for("react.profiler"),Ad=Symbol.for("react.provider"),Md=Symbol.for("react.context"),Is=Symbol.for("react.forward_ref"),Co=Symbol.for("react.suspense"),jo=Symbol.for("react.suspense_list"),Ds=Symbol.for("react.memo"),bn=Symbol.for("react.lazy"),Od=Symbol.for("react.offscreen"),$u=Symbol.iterator;function Jr(e){return e===null||typeof e!="object"?null:(e=$u&&e[$u]||e["@@iterator"],typeof e=="function"?e:null)}var _e=Object.assign,Vl;function ci(e){if(Vl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Vl=t&&t[1]||""}return`
`+Vl+e}var Hl=!1;function Kl(e,t){if(!e||Hl)return"";Hl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),l=i.length-1,o=a.length-1;1<=l&&0<=o&&i[l]!==a[o];)o--;for(;1<=l&&0<=o;l--,o--)if(i[l]!==a[o]){if(l!==1||o!==1)do if(l--,o--,0>o||i[l]!==a[o]){var u=`
`+i[l].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=l&&0<=o);break}}}finally{Hl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ci(e):""}function Zh(e){switch(e.tag){case 5:return ci(e.type);case 16:return ci("Lazy");case 13:return ci("Suspense");case 19:return ci("SuspenseList");case 0:case 2:case 15:return e=Kl(e.type,!1),e;case 11:return e=Kl(e.type.render,!1),e;case 1:return e=Kl(e.type,!0),e;default:return""}}function Ro(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xr:return"Fragment";case vr:return"Portal";case ko:return"Profiler";case Ps:return"StrictMode";case Co:return"Suspense";case jo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Md:return(e.displayName||"Context")+".Consumer";case Ad:return(e._context.displayName||"Context")+".Provider";case Is:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ds:return t=e.displayName||null,t!==null?t:Ro(e.type)||"Memo";case bn:t=e._payload,e=e._init;try{return Ro(e(t))}catch{}}return null}function Jh(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ro(t);case 8:return t===Ps?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function An(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $d(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function em(e){var t=$d(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,a.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function da(e){e._valueTracker||(e._valueTracker=em(e))}function Bd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$d(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ka(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Po(e,t){var n=t.checked;return _e({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Bu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=An(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ud(e,t){t=t.checked,t!=null&&Rs(e,"checked",t,!1)}function Io(e,t){Ud(e,t);var n=An(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Do(e,t.type,n):t.hasOwnProperty("defaultValue")&&Do(e,t.type,An(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Uu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Do(e,t,n){(t!=="number"||Ka(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var di=Array.isArray;function Dr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+An(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function _o(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(O(91));return _e({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Wu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(O(92));if(di(n)){if(1<n.length)throw Error(O(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:An(n)}}function Wd(e,t){var n=An(t.value),r=An(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Vu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Vd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function No(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Vd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fa,Hd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fa=fa||document.createElement("div"),fa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ri(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var gi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tm=["Webkit","ms","Moz","O"];Object.keys(gi).forEach(function(e){tm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),gi[t]=gi[e]})});function Kd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||gi.hasOwnProperty(e)&&gi[e]?(""+t).trim():t+"px"}function qd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Kd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var nm=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function To(e,t){if(t){if(nm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(O(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(O(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(O(61))}if(t.style!=null&&typeof t.style!="object")throw Error(O(62))}}function Lo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zo=null;function _s(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fo=null,_r=null,Nr=null;function Hu(e){if(e=Yi(e)){if(typeof Fo!="function")throw Error(O(280));var t=e.stateNode;t&&(t=Cl(t),Fo(e.stateNode,e.type,t))}}function Qd(e){_r?Nr?Nr.push(e):Nr=[e]:_r=e}function Gd(){if(_r){var e=_r,t=Nr;if(Nr=_r=null,Hu(e),t)for(e=0;e<t.length;e++)Hu(t[e])}}function Yd(e,t){return e(t)}function Xd(){}var ql=!1;function Zd(e,t,n){if(ql)return e(t,n);ql=!0;try{return Yd(e,t,n)}finally{ql=!1,(_r!==null||Nr!==null)&&(Xd(),Gd())}}function Pi(e,t){var n=e.stateNode;if(n===null)return null;var r=Cl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(O(231,t,typeof n));return n}var Ao=!1;if(cn)try{var ei={};Object.defineProperty(ei,"passive",{get:function(){Ao=!0}}),window.addEventListener("test",ei,ei),window.removeEventListener("test",ei,ei)}catch{Ao=!1}function rm(e,t,n,r,i,a,l,o,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var yi=!1,qa=null,Qa=!1,Mo=null,im={onError:function(e){yi=!0,qa=e}};function am(e,t,n,r,i,a,l,o,u){yi=!1,qa=null,rm.apply(im,arguments)}function lm(e,t,n,r,i,a,l,o,u){if(am.apply(this,arguments),yi){if(yi){var c=qa;yi=!1,qa=null}else throw Error(O(198));Qa||(Qa=!0,Mo=c)}}function dr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Jd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ku(e){if(dr(e)!==e)throw Error(O(188))}function om(e){var t=e.alternate;if(!t){if(t=dr(e),t===null)throw Error(O(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ku(i),e;if(a===r)return Ku(i),t;a=a.sibling}throw Error(O(188))}if(n.return!==r.return)n=i,r=a;else{for(var l=!1,o=i.child;o;){if(o===n){l=!0,n=i,r=a;break}if(o===r){l=!0,r=i,n=a;break}o=o.sibling}if(!l){for(o=a.child;o;){if(o===n){l=!0,n=a,r=i;break}if(o===r){l=!0,r=a,n=i;break}o=o.sibling}if(!l)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?e:t}function ef(e){return e=om(e),e!==null?tf(e):null}function tf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=tf(e);if(t!==null)return t;e=e.sibling}return null}var nf=Et.unstable_scheduleCallback,qu=Et.unstable_cancelCallback,sm=Et.unstable_shouldYield,um=Et.unstable_requestPaint,Fe=Et.unstable_now,cm=Et.unstable_getCurrentPriorityLevel,Ns=Et.unstable_ImmediatePriority,rf=Et.unstable_UserBlockingPriority,Ga=Et.unstable_NormalPriority,dm=Et.unstable_LowPriority,af=Et.unstable_IdlePriority,bl=null,Yt=null;function fm(e){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(bl,e,void 0,(e.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:mm,pm=Math.log,hm=Math.LN2;function mm(e){return e>>>=0,e===0?32:31-(pm(e)/hm|0)|0}var pa=64,ha=4194304;function fi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ya(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,l=n&268435455;if(l!==0){var o=l&~i;o!==0?r=fi(o):(a&=l,a!==0&&(r=fi(a)))}else l=n&~i,l!==0?r=fi(l):a!==0&&(r=fi(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ut(t),i=1<<n,r|=e[n],t&=~i;return r}function gm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ym(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-Ut(a),o=1<<l,u=i[l];u===-1?(!(o&n)||o&r)&&(i[l]=gm(o,t)):u<=t&&(e.expiredLanes|=o),a&=~o}}function Oo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function lf(){var e=pa;return pa<<=1,!(pa&4194240)&&(pa=64),e}function Ql(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Qi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ut(t),e[t]=n}function vm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ut(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function Ts(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ut(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var xe=0;function of(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var sf,Ls,uf,cf,df,$o=!1,ma=[],In=null,Dn=null,_n=null,Ii=new Map,Di=new Map,En=[],xm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qu(e,t){switch(e){case"focusin":case"focusout":In=null;break;case"dragenter":case"dragleave":Dn=null;break;case"mouseover":case"mouseout":_n=null;break;case"pointerover":case"pointerout":Ii.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Di.delete(t.pointerId)}}function ti(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Yi(t),t!==null&&Ls(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function wm(e,t,n,r,i){switch(t){case"focusin":return In=ti(In,e,t,n,r,i),!0;case"dragenter":return Dn=ti(Dn,e,t,n,r,i),!0;case"mouseover":return _n=ti(_n,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ii.set(a,ti(Ii.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Di.set(a,ti(Di.get(a)||null,e,t,n,r,i)),!0}return!1}function ff(e){var t=Jn(e.target);if(t!==null){var n=dr(t);if(n!==null){if(t=n.tag,t===13){if(t=Jd(n),t!==null){e.blockedOn=t,df(e.priority,function(){uf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Na(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Bo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);zo=r,n.target.dispatchEvent(r),zo=null}else return t=Yi(n),t!==null&&Ls(t),e.blockedOn=n,!1;t.shift()}return!0}function Gu(e,t,n){Na(e)&&n.delete(t)}function bm(){$o=!1,In!==null&&Na(In)&&(In=null),Dn!==null&&Na(Dn)&&(Dn=null),_n!==null&&Na(_n)&&(_n=null),Ii.forEach(Gu),Di.forEach(Gu)}function ni(e,t){e.blockedOn===t&&(e.blockedOn=null,$o||($o=!0,Et.unstable_scheduleCallback(Et.unstable_NormalPriority,bm)))}function _i(e){function t(i){return ni(i,e)}if(0<ma.length){ni(ma[0],e);for(var n=1;n<ma.length;n++){var r=ma[n];r.blockedOn===e&&(r.blockedOn=null)}}for(In!==null&&ni(In,e),Dn!==null&&ni(Dn,e),_n!==null&&ni(_n,e),Ii.forEach(t),Di.forEach(t),n=0;n<En.length;n++)r=En[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<En.length&&(n=En[0],n.blockedOn===null);)ff(n),n.blockedOn===null&&En.shift()}var Tr=hn.ReactCurrentBatchConfig,Xa=!0;function Sm(e,t,n,r){var i=xe,a=Tr.transition;Tr.transition=null;try{xe=1,zs(e,t,n,r)}finally{xe=i,Tr.transition=a}}function Em(e,t,n,r){var i=xe,a=Tr.transition;Tr.transition=null;try{xe=4,zs(e,t,n,r)}finally{xe=i,Tr.transition=a}}function zs(e,t,n,r){if(Xa){var i=Bo(e,t,n,r);if(i===null)io(e,t,r,Za,n),Qu(e,r);else if(wm(i,e,t,n,r))r.stopPropagation();else if(Qu(e,r),t&4&&-1<xm.indexOf(e)){for(;i!==null;){var a=Yi(i);if(a!==null&&sf(a),a=Bo(e,t,n,r),a===null&&io(e,t,r,Za,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else io(e,t,r,null,n)}}var Za=null;function Bo(e,t,n,r){if(Za=null,e=_s(r),e=Jn(e),e!==null)if(t=dr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Jd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Za=e,null}function pf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cm()){case Ns:return 1;case rf:return 4;case Ga:case dm:return 16;case af:return 536870912;default:return 16}default:return 16}}var Rn=null,Fs=null,Ta=null;function hf(){if(Ta)return Ta;var e,t=Fs,n=t.length,r,i="value"in Rn?Rn.value:Rn.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===i[a-r];r++);return Ta=i.slice(e,1<r?1-r:void 0)}function La(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ga(){return!0}function Yu(){return!1}function Ct(e){function t(n,r,i,a,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ga:Yu,this.isPropagationStopped=Yu,this}return _e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ga)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ga)},persist:function(){},isPersistent:ga}),t}var qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},As=Ct(qr),Gi=_e({},qr,{view:0,detail:0}),km=Ct(Gi),Gl,Yl,ri,Sl=_e({},Gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ms,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ri&&(ri&&e.type==="mousemove"?(Gl=e.screenX-ri.screenX,Yl=e.screenY-ri.screenY):Yl=Gl=0,ri=e),Gl)},movementY:function(e){return"movementY"in e?e.movementY:Yl}}),Xu=Ct(Sl),Cm=_e({},Sl,{dataTransfer:0}),jm=Ct(Cm),Rm=_e({},Gi,{relatedTarget:0}),Xl=Ct(Rm),Pm=_e({},qr,{animationName:0,elapsedTime:0,pseudoElement:0}),Im=Ct(Pm),Dm=_e({},qr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_m=Ct(Dm),Nm=_e({},qr,{data:0}),Zu=Ct(Nm),Tm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zm[e])?!!t[e]:!1}function Ms(){return Fm}var Am=_e({},Gi,{key:function(e){if(e.key){var t=Tm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=La(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Lm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ms,charCode:function(e){return e.type==="keypress"?La(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?La(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Mm=Ct(Am),Om=_e({},Sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ju=Ct(Om),$m=_e({},Gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ms}),Bm=Ct($m),Um=_e({},qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wm=Ct(Um),Vm=_e({},Sl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Hm=Ct(Vm),Km=[9,13,27,32],Os=cn&&"CompositionEvent"in window,vi=null;cn&&"documentMode"in document&&(vi=document.documentMode);var qm=cn&&"TextEvent"in window&&!vi,mf=cn&&(!Os||vi&&8<vi&&11>=vi),ec=" ",tc=!1;function gf(e,t){switch(e){case"keyup":return Km.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wr=!1;function Qm(e,t){switch(e){case"compositionend":return yf(t);case"keypress":return t.which!==32?null:(tc=!0,ec);case"textInput":return e=t.data,e===ec&&tc?null:e;default:return null}}function Gm(e,t){if(wr)return e==="compositionend"||!Os&&gf(e,t)?(e=hf(),Ta=Fs=Rn=null,wr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return mf&&t.locale!=="ko"?null:t.data;default:return null}}var Ym={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ym[e.type]:t==="textarea"}function vf(e,t,n,r){Qd(r),t=Ja(t,"onChange"),0<t.length&&(n=new As("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var xi=null,Ni=null;function Xm(e){If(e,0)}function El(e){var t=Er(e);if(Bd(t))return e}function Zm(e,t){if(e==="change")return t}var xf=!1;if(cn){var Zl;if(cn){var Jl="oninput"in document;if(!Jl){var rc=document.createElement("div");rc.setAttribute("oninput","return;"),Jl=typeof rc.oninput=="function"}Zl=Jl}else Zl=!1;xf=Zl&&(!document.documentMode||9<document.documentMode)}function ic(){xi&&(xi.detachEvent("onpropertychange",wf),Ni=xi=null)}function wf(e){if(e.propertyName==="value"&&El(Ni)){var t=[];vf(t,Ni,e,_s(e)),Zd(Xm,t)}}function Jm(e,t,n){e==="focusin"?(ic(),xi=t,Ni=n,xi.attachEvent("onpropertychange",wf)):e==="focusout"&&ic()}function eg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return El(Ni)}function tg(e,t){if(e==="click")return El(t)}function ng(e,t){if(e==="input"||e==="change")return El(t)}function rg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vt=typeof Object.is=="function"?Object.is:rg;function Ti(e,t){if(Vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Eo.call(t,i)||!Vt(e[i],t[i]))return!1}return!0}function ac(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lc(e,t){var n=ac(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ac(n)}}function bf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Sf(){for(var e=window,t=Ka();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ka(e.document)}return t}function $s(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ig(e){var t=Sf(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&bf(n.ownerDocument.documentElement,n)){if(r!==null&&$s(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lc(n,a);var l=lc(n,r);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ag=cn&&"documentMode"in document&&11>=document.documentMode,br=null,Uo=null,wi=null,Wo=!1;function oc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wo||br==null||br!==Ka(r)||(r=br,"selectionStart"in r&&$s(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wi&&Ti(wi,r)||(wi=r,r=Ja(Uo,"onSelect"),0<r.length&&(t=new As("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}function ya(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionend:ya("Transition","TransitionEnd")},eo={},Ef={};cn&&(Ef=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);function kl(e){if(eo[e])return eo[e];if(!Sr[e])return e;var t=Sr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ef)return eo[e]=t[n];return e}var kf=kl("animationend"),Cf=kl("animationiteration"),jf=kl("animationstart"),Rf=kl("transitionend"),Pf=new Map,sc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $n(e,t){Pf.set(e,t),cr(t,[e])}for(var to=0;to<sc.length;to++){var no=sc[to],lg=no.toLowerCase(),og=no[0].toUpperCase()+no.slice(1);$n(lg,"on"+og)}$n(kf,"onAnimationEnd");$n(Cf,"onAnimationIteration");$n(jf,"onAnimationStart");$n("dblclick","onDoubleClick");$n("focusin","onFocus");$n("focusout","onBlur");$n(Rf,"onTransitionEnd");Mr("onMouseEnter",["mouseout","mouseover"]);Mr("onMouseLeave",["mouseout","mouseover"]);Mr("onPointerEnter",["pointerout","pointerover"]);Mr("onPointerLeave",["pointerout","pointerover"]);cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cr("onBeforeInput",["compositionend","keypress","textInput","paste"]);cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sg=new Set("cancel close invalid load scroll toggle".split(" ").concat(pi));function uc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,lm(r,t,void 0,e),e.currentTarget=null}function If(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var l=r.length-1;0<=l;l--){var o=r[l],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==a&&i.isPropagationStopped())break e;uc(i,o,c),a=u}else for(l=0;l<r.length;l++){if(o=r[l],u=o.instance,c=o.currentTarget,o=o.listener,u!==a&&i.isPropagationStopped())break e;uc(i,o,c),a=u}}}if(Qa)throw e=Mo,Qa=!1,Mo=null,e}function ke(e,t){var n=t[Qo];n===void 0&&(n=t[Qo]=new Set);var r=e+"__bubble";n.has(r)||(Df(t,e,2,!1),n.add(r))}function ro(e,t,n){var r=0;t&&(r|=4),Df(n,e,r,t)}var va="_reactListening"+Math.random().toString(36).slice(2);function Li(e){if(!e[va]){e[va]=!0,Fd.forEach(function(n){n!=="selectionchange"&&(sg.has(n)||ro(n,!1,e),ro(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[va]||(t[va]=!0,ro("selectionchange",!1,t))}}function Df(e,t,n,r){switch(pf(t)){case 1:var i=Sm;break;case 4:i=Em;break;default:i=zs}n=i.bind(null,t,n,e),i=void 0,!Ao||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function io(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var u=l.tag;if((u===3||u===4)&&(u=l.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;l=l.return}for(;o!==null;){if(l=Jn(o),l===null)return;if(u=l.tag,u===5||u===6){r=a=l;continue e}o=o.parentNode}}r=r.return}Zd(function(){var c=a,d=_s(n),f=[];e:{var p=Pf.get(e);if(p!==void 0){var m=As,v=e;switch(e){case"keypress":if(La(n)===0)break e;case"keydown":case"keyup":m=Mm;break;case"focusin":v="focus",m=Xl;break;case"focusout":v="blur",m=Xl;break;case"beforeblur":case"afterblur":m=Xl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Xu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=jm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Bm;break;case kf:case Cf:case jf:m=Im;break;case Rf:m=Wm;break;case"scroll":m=km;break;case"wheel":m=Hm;break;case"copy":case"cut":case"paste":m=_m;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Ju}var w=(t&4)!==0,E=!w&&e==="scroll",g=w?p!==null?p+"Capture":null:p;w=[];for(var h=c,y;h!==null;){y=h;var C=y.stateNode;if(y.tag===5&&C!==null&&(y=C,g!==null&&(C=Pi(h,g),C!=null&&w.push(zi(h,C,y)))),E)break;h=h.return}0<w.length&&(p=new m(p,v,null,n,d),f.push({event:p,listeners:w}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==zo&&(v=n.relatedTarget||n.fromElement)&&(Jn(v)||v[dn]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?Jn(v):null,v!==null&&(E=dr(v),v!==E||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(w=Xu,C="onMouseLeave",g="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(w=Ju,C="onPointerLeave",g="onPointerEnter",h="pointer"),E=m==null?p:Er(m),y=v==null?p:Er(v),p=new w(C,h+"leave",m,n,d),p.target=E,p.relatedTarget=y,C=null,Jn(d)===c&&(w=new w(g,h+"enter",v,n,d),w.target=y,w.relatedTarget=E,C=w),E=C,m&&v)t:{for(w=m,g=v,h=0,y=w;y;y=mr(y))h++;for(y=0,C=g;C;C=mr(C))y++;for(;0<h-y;)w=mr(w),h--;for(;0<y-h;)g=mr(g),y--;for(;h--;){if(w===g||g!==null&&w===g.alternate)break t;w=mr(w),g=mr(g)}w=null}else w=null;m!==null&&cc(f,p,m,w,!1),v!==null&&E!==null&&cc(f,E,v,w,!0)}}e:{if(p=c?Er(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var I=Zm;else if(nc(p))if(xf)I=ng;else{I=eg;var b=Jm}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(I=tg);if(I&&(I=I(e,c))){vf(f,I,n,d);break e}b&&b(e,p,c),e==="focusout"&&(b=p._wrapperState)&&b.controlled&&p.type==="number"&&Do(p,"number",p.value)}switch(b=c?Er(c):window,e){case"focusin":(nc(b)||b.contentEditable==="true")&&(br=b,Uo=c,wi=null);break;case"focusout":wi=Uo=br=null;break;case"mousedown":Wo=!0;break;case"contextmenu":case"mouseup":case"dragend":Wo=!1,oc(f,n,d);break;case"selectionchange":if(ag)break;case"keydown":case"keyup":oc(f,n,d)}var k;if(Os)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else wr?gf(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(mf&&n.locale!=="ko"&&(wr||_!=="onCompositionStart"?_==="onCompositionEnd"&&wr&&(k=hf()):(Rn=d,Fs="value"in Rn?Rn.value:Rn.textContent,wr=!0)),b=Ja(c,_),0<b.length&&(_=new Zu(_,e,null,n,d),f.push({event:_,listeners:b}),k?_.data=k:(k=yf(n),k!==null&&(_.data=k)))),(k=qm?Qm(e,n):Gm(e,n))&&(c=Ja(c,"onBeforeInput"),0<c.length&&(d=new Zu("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=k))}If(f,t)})}function zi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ja(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Pi(e,n),a!=null&&r.unshift(zi(e,a,i)),a=Pi(e,t),a!=null&&r.push(zi(e,a,i))),e=e.return}return r}function mr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function cc(e,t,n,r,i){for(var a=t._reactName,l=[];n!==null&&n!==r;){var o=n,u=o.alternate,c=o.stateNode;if(u!==null&&u===r)break;o.tag===5&&c!==null&&(o=c,i?(u=Pi(n,a),u!=null&&l.unshift(zi(n,u,o))):i||(u=Pi(n,a),u!=null&&l.push(zi(n,u,o)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var ug=/\r\n?/g,cg=/\u0000|\uFFFD/g;function dc(e){return(typeof e=="string"?e:""+e).replace(ug,`
`).replace(cg,"")}function xa(e,t,n){if(t=dc(t),dc(e)!==t&&n)throw Error(O(425))}function el(){}var Vo=null,Ho=null;function Ko(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qo=typeof setTimeout=="function"?setTimeout:void 0,dg=typeof clearTimeout=="function"?clearTimeout:void 0,fc=typeof Promise=="function"?Promise:void 0,fg=typeof queueMicrotask=="function"?queueMicrotask:typeof fc<"u"?function(e){return fc.resolve(null).then(e).catch(pg)}:qo;function pg(e){setTimeout(function(){throw e})}function ao(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),_i(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);_i(t)}function Nn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function pc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Qr=Math.random().toString(36).slice(2),Gt="__reactFiber$"+Qr,Fi="__reactProps$"+Qr,dn="__reactContainer$"+Qr,Qo="__reactEvents$"+Qr,hg="__reactListeners$"+Qr,mg="__reactHandles$"+Qr;function Jn(e){var t=e[Gt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[dn]||n[Gt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=pc(e);e!==null;){if(n=e[Gt])return n;e=pc(e)}return t}e=n,n=e.parentNode}return null}function Yi(e){return e=e[Gt]||e[dn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Er(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(O(33))}function Cl(e){return e[Fi]||null}var Go=[],kr=-1;function Bn(e){return{current:e}}function Ce(e){0>kr||(e.current=Go[kr],Go[kr]=null,kr--)}function Se(e,t){kr++,Go[kr]=e.current,e.current=t}var Mn={},tt=Bn(Mn),ft=Bn(!1),ar=Mn;function Or(e,t){var n=e.type.contextTypes;if(!n)return Mn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function pt(e){return e=e.childContextTypes,e!=null}function tl(){Ce(ft),Ce(tt)}function hc(e,t,n){if(tt.current!==Mn)throw Error(O(168));Se(tt,t),Se(ft,n)}function _f(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(O(108,Jh(e)||"Unknown",i));return _e({},n,r)}function nl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mn,ar=tt.current,Se(tt,e),Se(ft,ft.current),!0}function mc(e,t,n){var r=e.stateNode;if(!r)throw Error(O(169));n?(e=_f(e,t,ar),r.__reactInternalMemoizedMergedChildContext=e,Ce(ft),Ce(tt),Se(tt,e)):Ce(ft),Se(ft,n)}var ln=null,jl=!1,lo=!1;function Nf(e){ln===null?ln=[e]:ln.push(e)}function gg(e){jl=!0,Nf(e)}function Un(){if(!lo&&ln!==null){lo=!0;var e=0,t=xe;try{var n=ln;for(xe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ln=null,jl=!1}catch(i){throw ln!==null&&(ln=ln.slice(e+1)),nf(Ns,Un),i}finally{xe=t,lo=!1}}return null}var Cr=[],jr=0,rl=null,il=0,Pt=[],It=0,lr=null,on=1,sn="";function Gn(e,t){Cr[jr++]=il,Cr[jr++]=rl,rl=e,il=t}function Tf(e,t,n){Pt[It++]=on,Pt[It++]=sn,Pt[It++]=lr,lr=e;var r=on;e=sn;var i=32-Ut(r)-1;r&=~(1<<i),n+=1;var a=32-Ut(t)+i;if(30<a){var l=i-i%5;a=(r&(1<<l)-1).toString(32),r>>=l,i-=l,on=1<<32-Ut(t)+i|n<<i|r,sn=a+e}else on=1<<a|n<<i|r,sn=e}function Bs(e){e.return!==null&&(Gn(e,1),Tf(e,1,0))}function Us(e){for(;e===rl;)rl=Cr[--jr],Cr[jr]=null,il=Cr[--jr],Cr[jr]=null;for(;e===lr;)lr=Pt[--It],Pt[It]=null,sn=Pt[--It],Pt[It]=null,on=Pt[--It],Pt[It]=null}var St=null,wt=null,je=!1,Bt=null;function Lf(e,t){var n=Dt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function gc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,St=e,wt=Nn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,St=e,wt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=lr!==null?{id:on,overflow:sn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Dt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,St=e,wt=null,!0):!1;default:return!1}}function Yo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xo(e){if(je){var t=wt;if(t){var n=t;if(!gc(e,t)){if(Yo(e))throw Error(O(418));t=Nn(n.nextSibling);var r=St;t&&gc(e,t)?Lf(r,n):(e.flags=e.flags&-4097|2,je=!1,St=e)}}else{if(Yo(e))throw Error(O(418));e.flags=e.flags&-4097|2,je=!1,St=e}}}function yc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;St=e}function wa(e){if(e!==St)return!1;if(!je)return yc(e),je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ko(e.type,e.memoizedProps)),t&&(t=wt)){if(Yo(e))throw zf(),Error(O(418));for(;t;)Lf(e,t),t=Nn(t.nextSibling)}if(yc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){wt=Nn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}wt=null}}else wt=St?Nn(e.stateNode.nextSibling):null;return!0}function zf(){for(var e=wt;e;)e=Nn(e.nextSibling)}function $r(){wt=St=null,je=!1}function Ws(e){Bt===null?Bt=[e]:Bt.push(e)}var yg=hn.ReactCurrentBatchConfig;function ii(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(l){var o=i.refs;l===null?delete o[a]:o[a]=l},t._stringRef=a,t)}if(typeof e!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,e))}return e}function ba(e,t){throw e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vc(e){var t=e._init;return t(e._payload)}function Ff(e){function t(g,h){if(e){var y=g.deletions;y===null?(g.deletions=[h],g.flags|=16):y.push(h)}}function n(g,h){if(!e)return null;for(;h!==null;)t(g,h),h=h.sibling;return null}function r(g,h){for(g=new Map;h!==null;)h.key!==null?g.set(h.key,h):g.set(h.index,h),h=h.sibling;return g}function i(g,h){return g=Fn(g,h),g.index=0,g.sibling=null,g}function a(g,h,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<h?(g.flags|=2,h):y):(g.flags|=2,h)):(g.flags|=1048576,h)}function l(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,h,y,C){return h===null||h.tag!==6?(h=ho(y,g.mode,C),h.return=g,h):(h=i(h,y),h.return=g,h)}function u(g,h,y,C){var I=y.type;return I===xr?d(g,h,y.props.children,C,y.key):h!==null&&(h.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===bn&&vc(I)===h.type)?(C=i(h,y.props),C.ref=ii(g,h,y),C.return=g,C):(C=Ba(y.type,y.key,y.props,null,g.mode,C),C.ref=ii(g,h,y),C.return=g,C)}function c(g,h,y,C){return h===null||h.tag!==4||h.stateNode.containerInfo!==y.containerInfo||h.stateNode.implementation!==y.implementation?(h=mo(y,g.mode,C),h.return=g,h):(h=i(h,y.children||[]),h.return=g,h)}function d(g,h,y,C,I){return h===null||h.tag!==7?(h=ir(y,g.mode,C,I),h.return=g,h):(h=i(h,y),h.return=g,h)}function f(g,h,y){if(typeof h=="string"&&h!==""||typeof h=="number")return h=ho(""+h,g.mode,y),h.return=g,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case ca:return y=Ba(h.type,h.key,h.props,null,g.mode,y),y.ref=ii(g,null,h),y.return=g,y;case vr:return h=mo(h,g.mode,y),h.return=g,h;case bn:var C=h._init;return f(g,C(h._payload),y)}if(di(h)||Jr(h))return h=ir(h,g.mode,y,null),h.return=g,h;ba(g,h)}return null}function p(g,h,y,C){var I=h!==null?h.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return I!==null?null:o(g,h,""+y,C);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ca:return y.key===I?u(g,h,y,C):null;case vr:return y.key===I?c(g,h,y,C):null;case bn:return I=y._init,p(g,h,I(y._payload),C)}if(di(y)||Jr(y))return I!==null?null:d(g,h,y,C,null);ba(g,y)}return null}function m(g,h,y,C,I){if(typeof C=="string"&&C!==""||typeof C=="number")return g=g.get(y)||null,o(h,g,""+C,I);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case ca:return g=g.get(C.key===null?y:C.key)||null,u(h,g,C,I);case vr:return g=g.get(C.key===null?y:C.key)||null,c(h,g,C,I);case bn:var b=C._init;return m(g,h,y,b(C._payload),I)}if(di(C)||Jr(C))return g=g.get(y)||null,d(h,g,C,I,null);ba(h,C)}return null}function v(g,h,y,C){for(var I=null,b=null,k=h,_=h=0,T=null;k!==null&&_<y.length;_++){k.index>_?(T=k,k=null):T=k.sibling;var R=p(g,k,y[_],C);if(R===null){k===null&&(k=T);break}e&&k&&R.alternate===null&&t(g,k),h=a(R,h,_),b===null?I=R:b.sibling=R,b=R,k=T}if(_===y.length)return n(g,k),je&&Gn(g,_),I;if(k===null){for(;_<y.length;_++)k=f(g,y[_],C),k!==null&&(h=a(k,h,_),b===null?I=k:b.sibling=k,b=k);return je&&Gn(g,_),I}for(k=r(g,k);_<y.length;_++)T=m(k,g,_,y[_],C),T!==null&&(e&&T.alternate!==null&&k.delete(T.key===null?_:T.key),h=a(T,h,_),b===null?I=T:b.sibling=T,b=T);return e&&k.forEach(function(z){return t(g,z)}),je&&Gn(g,_),I}function w(g,h,y,C){var I=Jr(y);if(typeof I!="function")throw Error(O(150));if(y=I.call(y),y==null)throw Error(O(151));for(var b=I=null,k=h,_=h=0,T=null,R=y.next();k!==null&&!R.done;_++,R=y.next()){k.index>_?(T=k,k=null):T=k.sibling;var z=p(g,k,R.value,C);if(z===null){k===null&&(k=T);break}e&&k&&z.alternate===null&&t(g,k),h=a(z,h,_),b===null?I=z:b.sibling=z,b=z,k=T}if(R.done)return n(g,k),je&&Gn(g,_),I;if(k===null){for(;!R.done;_++,R=y.next())R=f(g,R.value,C),R!==null&&(h=a(R,h,_),b===null?I=R:b.sibling=R,b=R);return je&&Gn(g,_),I}for(k=r(g,k);!R.done;_++,R=y.next())R=m(k,g,_,R.value,C),R!==null&&(e&&R.alternate!==null&&k.delete(R.key===null?_:R.key),h=a(R,h,_),b===null?I=R:b.sibling=R,b=R);return e&&k.forEach(function(ne){return t(g,ne)}),je&&Gn(g,_),I}function E(g,h,y,C){if(typeof y=="object"&&y!==null&&y.type===xr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ca:e:{for(var I=y.key,b=h;b!==null;){if(b.key===I){if(I=y.type,I===xr){if(b.tag===7){n(g,b.sibling),h=i(b,y.props.children),h.return=g,g=h;break e}}else if(b.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===bn&&vc(I)===b.type){n(g,b.sibling),h=i(b,y.props),h.ref=ii(g,b,y),h.return=g,g=h;break e}n(g,b);break}else t(g,b);b=b.sibling}y.type===xr?(h=ir(y.props.children,g.mode,C,y.key),h.return=g,g=h):(C=Ba(y.type,y.key,y.props,null,g.mode,C),C.ref=ii(g,h,y),C.return=g,g=C)}return l(g);case vr:e:{for(b=y.key;h!==null;){if(h.key===b)if(h.tag===4&&h.stateNode.containerInfo===y.containerInfo&&h.stateNode.implementation===y.implementation){n(g,h.sibling),h=i(h,y.children||[]),h.return=g,g=h;break e}else{n(g,h);break}else t(g,h);h=h.sibling}h=mo(y,g.mode,C),h.return=g,g=h}return l(g);case bn:return b=y._init,E(g,h,b(y._payload),C)}if(di(y))return v(g,h,y,C);if(Jr(y))return w(g,h,y,C);ba(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,h!==null&&h.tag===6?(n(g,h.sibling),h=i(h,y),h.return=g,g=h):(n(g,h),h=ho(y,g.mode,C),h.return=g,g=h),l(g)):n(g,h)}return E}var Br=Ff(!0),Af=Ff(!1),al=Bn(null),ll=null,Rr=null,Vs=null;function Hs(){Vs=Rr=ll=null}function Ks(e){var t=al.current;Ce(al),e._currentValue=t}function Zo(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Lr(e,t){ll=e,Vs=Rr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(dt=!0),e.firstContext=null)}function Tt(e){var t=e._currentValue;if(Vs!==e)if(e={context:e,memoizedValue:t,next:null},Rr===null){if(ll===null)throw Error(O(308));Rr=e,ll.dependencies={lanes:0,firstContext:e}}else Rr=Rr.next=e;return t}var er=null;function qs(e){er===null?er=[e]:er.push(e)}function Mf(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,qs(t)):(n.next=i.next,i.next=n),t.interleaved=n,fn(e,r)}function fn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Sn=!1;function Qs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Of(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function un(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Tn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,he&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,fn(e,n)}return i=r.interleaved,i===null?(t.next=t,qs(r)):(t.next=i.next,i.next=t),r.interleaved=t,fn(e,n)}function za(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ts(e,n)}}function xc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=l:a=a.next=l,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ol(e,t,n,r){var i=e.updateQueue;Sn=!1;var a=i.firstBaseUpdate,l=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var u=o,c=u.next;u.next=null,l===null?a=c:l.next=c,l=u;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==l&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=u))}if(a!==null){var f=i.baseState;l=0,d=c=u=null,o=a;do{var p=o.lane,m=o.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=e,w=o;switch(p=t,m=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){f=v.call(m,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,p=typeof v=="function"?v.call(m,f,p):v,p==null)break e;f=_e({},f,p);break e;case 2:Sn=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else m={eventTime:m,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=m,u=f):d=d.next=m,l|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);sr|=l,e.lanes=l,e.memoizedState=f}}function wc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(O(191,i));i.call(r)}}}var Xi={},Xt=Bn(Xi),Ai=Bn(Xi),Mi=Bn(Xi);function tr(e){if(e===Xi)throw Error(O(174));return e}function Gs(e,t){switch(Se(Mi,t),Se(Ai,e),Se(Xt,Xi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:No(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=No(t,e)}Ce(Xt),Se(Xt,t)}function Ur(){Ce(Xt),Ce(Ai),Ce(Mi)}function $f(e){tr(Mi.current);var t=tr(Xt.current),n=No(t,e.type);t!==n&&(Se(Ai,e),Se(Xt,n))}function Ys(e){Ai.current===e&&(Ce(Xt),Ce(Ai))}var Ie=Bn(0);function sl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var oo=[];function Xs(){for(var e=0;e<oo.length;e++)oo[e]._workInProgressVersionPrimary=null;oo.length=0}var Fa=hn.ReactCurrentDispatcher,so=hn.ReactCurrentBatchConfig,or=0,De=null,$e=null,We=null,ul=!1,bi=!1,Oi=0,vg=0;function Ze(){throw Error(O(321))}function Zs(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Vt(e[n],t[n]))return!1;return!0}function Js(e,t,n,r,i,a){if(or=a,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Fa.current=e===null||e.memoizedState===null?Sg:Eg,e=n(r,i),bi){a=0;do{if(bi=!1,Oi=0,25<=a)throw Error(O(301));a+=1,We=$e=null,t.updateQueue=null,Fa.current=kg,e=n(r,i)}while(bi)}if(Fa.current=cl,t=$e!==null&&$e.next!==null,or=0,We=$e=De=null,ul=!1,t)throw Error(O(300));return e}function eu(){var e=Oi!==0;return Oi=0,e}function Qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?De.memoizedState=We=e:We=We.next=e,We}function Lt(){if($e===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var t=We===null?De.memoizedState:We.next;if(t!==null)We=t,$e=e;else{if(e===null)throw Error(O(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},We===null?De.memoizedState=We=e:We=We.next=e}return We}function $i(e,t){return typeof t=="function"?t(e):t}function uo(e){var t=Lt(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var r=$e,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var l=i.next;i.next=a.next,a.next=l}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=l=null,u=null,c=a;do{var d=c.lane;if((or&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(o=u=f,l=r):u=u.next=f,De.lanes|=d,sr|=d}c=c.next}while(c!==null&&c!==a);u===null?l=r:u.next=o,Vt(r,t.memoizedState)||(dt=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,De.lanes|=a,sr|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function co(e){var t=Lt(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do a=e(a,l.action),l=l.next;while(l!==i);Vt(a,t.memoizedState)||(dt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Bf(){}function Uf(e,t){var n=De,r=Lt(),i=t(),a=!Vt(r.memoizedState,i);if(a&&(r.memoizedState=i,dt=!0),r=r.queue,tu(Hf.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||We!==null&&We.memoizedState.tag&1){if(n.flags|=2048,Bi(9,Vf.bind(null,n,r,i,t),void 0,null),Ve===null)throw Error(O(349));or&30||Wf(n,t,i)}return i}function Wf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Vf(e,t,n,r){t.value=n,t.getSnapshot=r,Kf(t)&&qf(e)}function Hf(e,t,n){return n(function(){Kf(t)&&qf(e)})}function Kf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Vt(e,n)}catch{return!0}}function qf(e){var t=fn(e,1);t!==null&&Wt(t,e,1,-1)}function bc(e){var t=Qt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:e},t.queue=e,e=e.dispatch=bg.bind(null,De,e),[t.memoizedState,e]}function Bi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Qf(){return Lt().memoizedState}function Aa(e,t,n,r){var i=Qt();De.flags|=e,i.memoizedState=Bi(1|t,n,void 0,r===void 0?null:r)}function Rl(e,t,n,r){var i=Lt();r=r===void 0?null:r;var a=void 0;if($e!==null){var l=$e.memoizedState;if(a=l.destroy,r!==null&&Zs(r,l.deps)){i.memoizedState=Bi(t,n,a,r);return}}De.flags|=e,i.memoizedState=Bi(1|t,n,a,r)}function Sc(e,t){return Aa(8390656,8,e,t)}function tu(e,t){return Rl(2048,8,e,t)}function Gf(e,t){return Rl(4,2,e,t)}function Yf(e,t){return Rl(4,4,e,t)}function Xf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zf(e,t,n){return n=n!=null?n.concat([e]):null,Rl(4,4,Xf.bind(null,t,e),n)}function nu(){}function Jf(e,t){var n=Lt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Zs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ep(e,t){var n=Lt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Zs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function tp(e,t,n){return or&21?(Vt(n,t)||(n=lf(),De.lanes|=n,sr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,dt=!0),e.memoizedState=n)}function xg(e,t){var n=xe;xe=n!==0&&4>n?n:4,e(!0);var r=so.transition;so.transition={};try{e(!1),t()}finally{xe=n,so.transition=r}}function np(){return Lt().memoizedState}function wg(e,t,n){var r=zn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rp(e))ip(t,n);else if(n=Mf(e,t,n,r),n!==null){var i=it();Wt(n,e,r,i),ap(n,t,r)}}function bg(e,t,n){var r=zn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rp(e))ip(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var l=t.lastRenderedState,o=a(l,n);if(i.hasEagerState=!0,i.eagerState=o,Vt(o,l)){var u=t.interleaved;u===null?(i.next=i,qs(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=Mf(e,t,i,r),n!==null&&(i=it(),Wt(n,e,r,i),ap(n,t,r))}}function rp(e){var t=e.alternate;return e===De||t!==null&&t===De}function ip(e,t){bi=ul=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ap(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ts(e,n)}}var cl={readContext:Tt,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useInsertionEffect:Ze,useLayoutEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useMutableSource:Ze,useSyncExternalStore:Ze,useId:Ze,unstable_isNewReconciler:!1},Sg={readContext:Tt,useCallback:function(e,t){return Qt().memoizedState=[e,t===void 0?null:t],e},useContext:Tt,useEffect:Sc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Aa(4194308,4,Xf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Aa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Aa(4,2,e,t)},useMemo:function(e,t){var n=Qt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Qt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=wg.bind(null,De,e),[r.memoizedState,e]},useRef:function(e){var t=Qt();return e={current:e},t.memoizedState=e},useState:bc,useDebugValue:nu,useDeferredValue:function(e){return Qt().memoizedState=e},useTransition:function(){var e=bc(!1),t=e[0];return e=xg.bind(null,e[1]),Qt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=De,i=Qt();if(je){if(n===void 0)throw Error(O(407));n=n()}else{if(n=t(),Ve===null)throw Error(O(349));or&30||Wf(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Sc(Hf.bind(null,r,a,e),[e]),r.flags|=2048,Bi(9,Vf.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Qt(),t=Ve.identifierPrefix;if(je){var n=sn,r=on;n=(r&~(1<<32-Ut(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Oi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=vg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Eg={readContext:Tt,useCallback:Jf,useContext:Tt,useEffect:tu,useImperativeHandle:Zf,useInsertionEffect:Gf,useLayoutEffect:Yf,useMemo:ep,useReducer:uo,useRef:Qf,useState:function(){return uo($i)},useDebugValue:nu,useDeferredValue:function(e){var t=Lt();return tp(t,$e.memoizedState,e)},useTransition:function(){var e=uo($i)[0],t=Lt().memoizedState;return[e,t]},useMutableSource:Bf,useSyncExternalStore:Uf,useId:np,unstable_isNewReconciler:!1},kg={readContext:Tt,useCallback:Jf,useContext:Tt,useEffect:tu,useImperativeHandle:Zf,useInsertionEffect:Gf,useLayoutEffect:Yf,useMemo:ep,useReducer:co,useRef:Qf,useState:function(){return co($i)},useDebugValue:nu,useDeferredValue:function(e){var t=Lt();return $e===null?t.memoizedState=e:tp(t,$e.memoizedState,e)},useTransition:function(){var e=co($i)[0],t=Lt().memoizedState;return[e,t]},useMutableSource:Bf,useSyncExternalStore:Uf,useId:np,unstable_isNewReconciler:!1};function Ot(e,t){if(e&&e.defaultProps){t=_e({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Jo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:_e({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Pl={isMounted:function(e){return(e=e._reactInternals)?dr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=it(),i=zn(e),a=un(r,i);a.payload=t,n!=null&&(a.callback=n),t=Tn(e,a,i),t!==null&&(Wt(t,e,i,r),za(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=it(),i=zn(e),a=un(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Tn(e,a,i),t!==null&&(Wt(t,e,i,r),za(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=it(),r=zn(e),i=un(n,r);i.tag=2,t!=null&&(i.callback=t),t=Tn(e,i,r),t!==null&&(Wt(t,e,r,n),za(t,e,r))}};function Ec(e,t,n,r,i,a,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,l):t.prototype&&t.prototype.isPureReactComponent?!Ti(n,r)||!Ti(i,a):!0}function lp(e,t,n){var r=!1,i=Mn,a=t.contextType;return typeof a=="object"&&a!==null?a=Tt(a):(i=pt(t)?ar:tt.current,r=t.contextTypes,a=(r=r!=null)?Or(e,i):Mn),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Pl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function kc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Pl.enqueueReplaceState(t,t.state,null)}function es(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Qs(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Tt(a):(a=pt(t)?ar:tt.current,i.context=Or(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Jo(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Pl.enqueueReplaceState(i,i.state,null),ol(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Wr(e,t){try{var n="",r=t;do n+=Zh(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function fo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ts(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Cg=typeof WeakMap=="function"?WeakMap:Map;function op(e,t,n){n=un(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){fl||(fl=!0,ds=r),ts(e,t)},n}function sp(e,t,n){n=un(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ts(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){ts(e,t),typeof r!="function"&&(Ln===null?Ln=new Set([this]):Ln.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function Cc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Cg;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Og.bind(null,e,t,n),t.then(e,e))}function jc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Rc(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=un(-1,1),t.tag=2,Tn(n,t,1))),n.lanes|=1),e)}var jg=hn.ReactCurrentOwner,dt=!1;function rt(e,t,n,r){t.child=e===null?Af(t,null,n,r):Br(t,e.child,n,r)}function Pc(e,t,n,r,i){n=n.render;var a=t.ref;return Lr(t,i),r=Js(e,t,n,r,a,i),n=eu(),e!==null&&!dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,pn(e,t,i)):(je&&n&&Bs(t),t.flags|=1,rt(e,t,r,i),t.child)}function Ic(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!cu(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,up(e,t,a,r,i)):(e=Ba(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var l=a.memoizedProps;if(n=n.compare,n=n!==null?n:Ti,n(l,r)&&e.ref===t.ref)return pn(e,t,i)}return t.flags|=1,e=Fn(a,r),e.ref=t.ref,e.return=t,t.child=e}function up(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Ti(a,r)&&e.ref===t.ref)if(dt=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(dt=!0);else return t.lanes=e.lanes,pn(e,t,i)}return ns(e,t,n,r,i)}function cp(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(Ir,vt),vt|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Se(Ir,vt),vt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Se(Ir,vt),vt|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Se(Ir,vt),vt|=r;return rt(e,t,i,n),t.child}function dp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ns(e,t,n,r,i){var a=pt(n)?ar:tt.current;return a=Or(t,a),Lr(t,i),n=Js(e,t,n,r,a,i),r=eu(),e!==null&&!dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,pn(e,t,i)):(je&&r&&Bs(t),t.flags|=1,rt(e,t,n,i),t.child)}function Dc(e,t,n,r,i){if(pt(n)){var a=!0;nl(t)}else a=!1;if(Lr(t,i),t.stateNode===null)Ma(e,t),lp(t,n,r),es(t,n,r,i),r=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var u=l.context,c=n.contextType;typeof c=="object"&&c!==null?c=Tt(c):(c=pt(n)?ar:tt.current,c=Or(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";f||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==r||u!==c)&&kc(t,l,r,c),Sn=!1;var p=t.memoizedState;l.state=p,ol(t,r,l,i),u=t.memoizedState,o!==r||p!==u||ft.current||Sn?(typeof d=="function"&&(Jo(t,n,d,r),u=t.memoizedState),(o=Sn||Ec(t,n,o,r,p,u,c))?(f||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),l.props=r,l.state=u,l.context=c,r=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Of(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Ot(t.type,o),l.props=c,f=t.pendingProps,p=l.context,u=n.contextType,typeof u=="object"&&u!==null?u=Tt(u):(u=pt(n)?ar:tt.current,u=Or(t,u));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==f||p!==u)&&kc(t,l,r,u),Sn=!1,p=t.memoizedState,l.state=p,ol(t,r,l,i);var v=t.memoizedState;o!==f||p!==v||ft.current||Sn?(typeof m=="function"&&(Jo(t,n,m,r),v=t.memoizedState),(c=Sn||Ec(t,n,c,r,p,v,u)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,v,u),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,v,u)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),l.props=r,l.state=v,l.context=u,r=c):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return rs(e,t,n,r,a,i)}function rs(e,t,n,r,i,a){dp(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return i&&mc(t,n,!1),pn(e,t,a);r=t.stateNode,jg.current=t;var o=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=Br(t,e.child,null,a),t.child=Br(t,null,o,a)):rt(e,t,o,a),t.memoizedState=r.state,i&&mc(t,n,!0),t.child}function fp(e){var t=e.stateNode;t.pendingContext?hc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&hc(e,t.context,!1),Gs(e,t.containerInfo)}function _c(e,t,n,r,i){return $r(),Ws(i),t.flags|=256,rt(e,t,n,r),t.child}var is={dehydrated:null,treeContext:null,retryLane:0};function as(e){return{baseLanes:e,cachePool:null,transitions:null}}function pp(e,t,n){var r=t.pendingProps,i=Ie.current,a=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Se(Ie,i&1),e===null)return Xo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,a?(r=t.mode,a=t.child,l={mode:"hidden",children:l},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=_l(l,r,0,null),e=ir(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=as(n),t.memoizedState=is,e):ru(t,l));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return Rg(e,t,l,r,o,i,n);if(a){a=r.fallback,l=t.mode,i=e.child,o=i.sibling;var u={mode:"hidden",children:r.children};return!(l&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Fn(i,u),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Fn(o,a):(a=ir(a,l,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,l=e.child.memoizedState,l=l===null?as(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=is,r}return a=e.child,e=a.sibling,r=Fn(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ru(e,t){return t=_l({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Sa(e,t,n,r){return r!==null&&Ws(r),Br(t,e.child,null,n),e=ru(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Rg(e,t,n,r,i,a,l){if(n)return t.flags&256?(t.flags&=-257,r=fo(Error(O(422))),Sa(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=_l({mode:"visible",children:r.children},i,0,null),a=ir(a,i,l,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Br(t,e.child,null,l),t.child.memoizedState=as(l),t.memoizedState=is,a);if(!(t.mode&1))return Sa(e,t,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(O(419)),r=fo(a,r,void 0),Sa(e,t,l,r)}if(o=(l&e.childLanes)!==0,dt||o){if(r=Ve,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|l)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,fn(e,i),Wt(r,e,i,-1))}return uu(),r=fo(Error(O(421))),Sa(e,t,l,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=$g.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,wt=Nn(i.nextSibling),St=t,je=!0,Bt=null,e!==null&&(Pt[It++]=on,Pt[It++]=sn,Pt[It++]=lr,on=e.id,sn=e.overflow,lr=t),t=ru(t,r.children),t.flags|=4096,t)}function Nc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Zo(e.return,t,n)}function po(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function hp(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(rt(e,t,r.children,n),r=Ie.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Nc(e,n,t);else if(e.tag===19)Nc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Se(Ie,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&sl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),po(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&sl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}po(t,!0,n,null,a);break;case"together":po(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ma(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function pn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),sr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,n=Fn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Fn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Pg(e,t,n){switch(t.tag){case 3:fp(t),$r();break;case 5:$f(t);break;case 1:pt(t.type)&&nl(t);break;case 4:Gs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Se(al,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Se(Ie,Ie.current&1),t.flags|=128,null):n&t.child.childLanes?pp(e,t,n):(Se(Ie,Ie.current&1),e=pn(e,t,n),e!==null?e.sibling:null);Se(Ie,Ie.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return hp(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Se(Ie,Ie.current),r)break;return null;case 22:case 23:return t.lanes=0,cp(e,t,n)}return pn(e,t,n)}var mp,ls,gp,yp;mp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ls=function(){};gp=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,tr(Xt.current);var a=null;switch(n){case"input":i=Po(e,i),r=Po(e,r),a=[];break;case"select":i=_e({},i,{value:void 0}),r=_e({},r,{value:void 0}),a=[];break;case"textarea":i=_o(e,i),r=_o(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=el)}To(n,r);var l;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(l in o)o.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ji.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var u=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==o&&(u!=null||o!=null))if(c==="style")if(o){for(l in o)!o.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in u)u.hasOwnProperty(l)&&o[l]!==u[l]&&(n||(n={}),n[l]=u[l])}else n||(a||(a=[]),a.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(a=a||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(a=a||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ji.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ke("scroll",e),a||o===u||(a=[])):(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};yp=function(e,t,n,r){n!==r&&(t.flags|=4)};function ai(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Je(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ig(e,t,n){var r=t.pendingProps;switch(Us(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(t),null;case 1:return pt(t.type)&&tl(),Je(t),null;case 3:return r=t.stateNode,Ur(),Ce(ft),Ce(tt),Xs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(wa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Bt!==null&&(hs(Bt),Bt=null))),ls(e,t),Je(t),null;case 5:Ys(t);var i=tr(Mi.current);if(n=t.type,e!==null&&t.stateNode!=null)gp(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(O(166));return Je(t),null}if(e=tr(Xt.current),wa(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Gt]=t,r[Fi]=a,e=(t.mode&1)!==0,n){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(i=0;i<pi.length;i++)ke(pi[i],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":Bu(r,a),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},ke("invalid",r);break;case"textarea":Wu(r,a),ke("invalid",r)}To(n,a),i=null;for(var l in a)if(a.hasOwnProperty(l)){var o=a[l];l==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&xa(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&xa(r.textContent,o,e),i=["children",""+o]):ji.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&ke("scroll",r)}switch(n){case"input":da(r),Uu(r,a,!0);break;case"textarea":da(r),Vu(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=el)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Vd(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Gt]=t,e[Fi]=r,mp(e,t,!1,!1),t.stateNode=e;e:{switch(l=Lo(n,r),n){case"dialog":ke("cancel",e),ke("close",e),i=r;break;case"iframe":case"object":case"embed":ke("load",e),i=r;break;case"video":case"audio":for(i=0;i<pi.length;i++)ke(pi[i],e);i=r;break;case"source":ke("error",e),i=r;break;case"img":case"image":case"link":ke("error",e),ke("load",e),i=r;break;case"details":ke("toggle",e),i=r;break;case"input":Bu(e,r),i=Po(e,r),ke("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=_e({},r,{value:void 0}),ke("invalid",e);break;case"textarea":Wu(e,r),i=_o(e,r),ke("invalid",e);break;default:i=r}To(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var u=o[a];a==="style"?qd(e,u):a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Hd(e,u)):a==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Ri(e,u):typeof u=="number"&&Ri(e,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ji.hasOwnProperty(a)?u!=null&&a==="onScroll"&&ke("scroll",e):u!=null&&Rs(e,a,u,l))}switch(n){case"input":da(e),Uu(e,r,!1);break;case"textarea":da(e),Vu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+An(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Dr(e,!!r.multiple,a,!1):r.defaultValue!=null&&Dr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=el)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Je(t),null;case 6:if(e&&t.stateNode!=null)yp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(O(166));if(n=tr(Mi.current),tr(Xt.current),wa(t)){if(r=t.stateNode,n=t.memoizedProps,r[Gt]=t,(a=r.nodeValue!==n)&&(e=St,e!==null))switch(e.tag){case 3:xa(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&xa(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gt]=t,t.stateNode=r}return Je(t),null;case 13:if(Ce(Ie),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(je&&wt!==null&&t.mode&1&&!(t.flags&128))zf(),$r(),t.flags|=98560,a=!1;else if(a=wa(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(O(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(O(317));a[Gt]=t}else $r(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Je(t),a=!1}else Bt!==null&&(hs(Bt),Bt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ie.current&1?Be===0&&(Be=3):uu())),t.updateQueue!==null&&(t.flags|=4),Je(t),null);case 4:return Ur(),ls(e,t),e===null&&Li(t.stateNode.containerInfo),Je(t),null;case 10:return Ks(t.type._context),Je(t),null;case 17:return pt(t.type)&&tl(),Je(t),null;case 19:if(Ce(Ie),a=t.memoizedState,a===null)return Je(t),null;if(r=(t.flags&128)!==0,l=a.rendering,l===null)if(r)ai(a,!1);else{if(Be!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=sl(e),l!==null){for(t.flags|=128,ai(a,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Se(Ie,Ie.current&1|2),t.child}e=e.sibling}a.tail!==null&&Fe()>Vr&&(t.flags|=128,r=!0,ai(a,!1),t.lanes=4194304)}else{if(!r)if(e=sl(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ai(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!je)return Je(t),null}else 2*Fe()-a.renderingStartTime>Vr&&n!==1073741824&&(t.flags|=128,r=!0,ai(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(n=a.last,n!==null?n.sibling=l:t.child=l,a.last=l)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Fe(),t.sibling=null,n=Ie.current,Se(Ie,r?n&1|2:n&1),t):(Je(t),null);case 22:case 23:return su(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?vt&1073741824&&(Je(t),t.subtreeFlags&6&&(t.flags|=8192)):Je(t),null;case 24:return null;case 25:return null}throw Error(O(156,t.tag))}function Dg(e,t){switch(Us(t),t.tag){case 1:return pt(t.type)&&tl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ur(),Ce(ft),Ce(tt),Xs(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ys(t),null;case 13:if(Ce(Ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));$r()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ce(Ie),null;case 4:return Ur(),null;case 10:return Ks(t.type._context),null;case 22:case 23:return su(),null;case 24:return null;default:return null}}var Ea=!1,et=!1,_g=typeof WeakSet=="function"?WeakSet:Set,W=null;function Pr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ne(e,t,r)}else n.current=null}function os(e,t,n){try{n()}catch(r){Ne(e,t,r)}}var Tc=!1;function Ng(e,t){if(Vo=Xa,e=Sf(),$s(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var l=0,o=-1,u=-1,c=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(o=l+i),f!==a||r!==0&&f.nodeType!==3||(u=l+r),f.nodeType===3&&(l+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===n&&++c===i&&(o=l),p===a&&++d===r&&(u=l),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ho={focusedElem:e,selectionRange:n},Xa=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,E=v.memoizedState,g=t.stateNode,h=g.getSnapshotBeforeUpdate(t.elementType===t.type?w:Ot(t.type,w),E);g.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(C){Ne(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return v=Tc,Tc=!1,v}function Si(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&os(t,n,a)}i=i.next}while(i!==r)}}function Il(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ss(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function vp(e){var t=e.alternate;t!==null&&(e.alternate=null,vp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Gt],delete t[Fi],delete t[Qo],delete t[hg],delete t[mg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xp(e){return e.tag===5||e.tag===3||e.tag===4}function Lc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function us(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=el));else if(r!==4&&(e=e.child,e!==null))for(us(e,t,n),e=e.sibling;e!==null;)us(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(cs(e,t,n),e=e.sibling;e!==null;)cs(e,t,n),e=e.sibling}var Qe=null,$t=!1;function xn(e,t,n){for(n=n.child;n!==null;)wp(e,t,n),n=n.sibling}function wp(e,t,n){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(bl,n)}catch{}switch(n.tag){case 5:et||Pr(n,t);case 6:var r=Qe,i=$t;Qe=null,xn(e,t,n),Qe=r,$t=i,Qe!==null&&($t?(e=Qe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Qe.removeChild(n.stateNode));break;case 18:Qe!==null&&($t?(e=Qe,n=n.stateNode,e.nodeType===8?ao(e.parentNode,n):e.nodeType===1&&ao(e,n),_i(e)):ao(Qe,n.stateNode));break;case 4:r=Qe,i=$t,Qe=n.stateNode.containerInfo,$t=!0,xn(e,t,n),Qe=r,$t=i;break;case 0:case 11:case 14:case 15:if(!et&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&os(n,t,l),i=i.next}while(i!==r)}xn(e,t,n);break;case 1:if(!et&&(Pr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Ne(n,t,o)}xn(e,t,n);break;case 21:xn(e,t,n);break;case 22:n.mode&1?(et=(r=et)||n.memoizedState!==null,xn(e,t,n),et=r):xn(e,t,n);break;default:xn(e,t,n)}}function zc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new _g),t.forEach(function(r){var i=Bg.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function At(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:Qe=o.stateNode,$t=!1;break e;case 3:Qe=o.stateNode.containerInfo,$t=!0;break e;case 4:Qe=o.stateNode.containerInfo,$t=!0;break e}o=o.return}if(Qe===null)throw Error(O(160));wp(a,l,i),Qe=null,$t=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Ne(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)bp(t,e),t=t.sibling}function bp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(At(t,e),qt(e),r&4){try{Si(3,e,e.return),Il(3,e)}catch(w){Ne(e,e.return,w)}try{Si(5,e,e.return)}catch(w){Ne(e,e.return,w)}}break;case 1:At(t,e),qt(e),r&512&&n!==null&&Pr(n,n.return);break;case 5:if(At(t,e),qt(e),r&512&&n!==null&&Pr(n,n.return),e.flags&32){var i=e.stateNode;try{Ri(i,"")}catch(w){Ne(e,e.return,w)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,l=n!==null?n.memoizedProps:a,o=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&Ud(i,a),Lo(o,l);var c=Lo(o,a);for(l=0;l<u.length;l+=2){var d=u[l],f=u[l+1];d==="style"?qd(i,f):d==="dangerouslySetInnerHTML"?Hd(i,f):d==="children"?Ri(i,f):Rs(i,d,f,c)}switch(o){case"input":Io(i,a);break;case"textarea":Wd(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Dr(i,!!a.multiple,m,!1):p!==!!a.multiple&&(a.defaultValue!=null?Dr(i,!!a.multiple,a.defaultValue,!0):Dr(i,!!a.multiple,a.multiple?[]:"",!1))}i[Fi]=a}catch(w){Ne(e,e.return,w)}}break;case 6:if(At(t,e),qt(e),r&4){if(e.stateNode===null)throw Error(O(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(w){Ne(e,e.return,w)}}break;case 3:if(At(t,e),qt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_i(t.containerInfo)}catch(w){Ne(e,e.return,w)}break;case 4:At(t,e),qt(e);break;case 13:At(t,e),qt(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(lu=Fe())),r&4&&zc(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(et=(c=et)||d,At(t,e),et=c):At(t,e),qt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(W=e,d=e.child;d!==null;){for(f=W=d;W!==null;){switch(p=W,m=p.child,p.tag){case 0:case 11:case 14:case 15:Si(4,p,p.return);break;case 1:Pr(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(w){Ne(r,n,w)}}break;case 5:Pr(p,p.return);break;case 22:if(p.memoizedState!==null){Ac(f);continue}}m!==null?(m.return=p,W=m):Ac(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,u=f.memoizedProps.style,l=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=Kd("display",l))}catch(w){Ne(e,e.return,w)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(w){Ne(e,e.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:At(t,e),qt(e),r&4&&zc(e);break;case 21:break;default:At(t,e),qt(e)}}function qt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(xp(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ri(i,""),r.flags&=-33);var a=Lc(e);cs(e,a,i);break;case 3:case 4:var l=r.stateNode.containerInfo,o=Lc(e);us(e,o,l);break;default:throw Error(O(161))}}catch(u){Ne(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Tg(e,t,n){W=e,Sp(e)}function Sp(e,t,n){for(var r=(e.mode&1)!==0;W!==null;){var i=W,a=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||Ea;if(!l){var o=i.alternate,u=o!==null&&o.memoizedState!==null||et;o=Ea;var c=et;if(Ea=l,(et=u)&&!c)for(W=i;W!==null;)l=W,u=l.child,l.tag===22&&l.memoizedState!==null?Mc(i):u!==null?(u.return=l,W=u):Mc(i);for(;a!==null;)W=a,Sp(a),a=a.sibling;W=i,Ea=o,et=c}Fc(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,W=a):Fc(e)}}function Fc(e){for(;W!==null;){var t=W;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:et||Il(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!et)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ot(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&wc(t,a,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}wc(t,l,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&_i(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}et||t.flags&512&&ss(t)}catch(p){Ne(t,t.return,p)}}if(t===e){W=null;break}if(n=t.sibling,n!==null){n.return=t.return,W=n;break}W=t.return}}function Ac(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var n=t.sibling;if(n!==null){n.return=t.return,W=n;break}W=t.return}}function Mc(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Il(4,t)}catch(u){Ne(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){Ne(t,i,u)}}var a=t.return;try{ss(t)}catch(u){Ne(t,a,u)}break;case 5:var l=t.return;try{ss(t)}catch(u){Ne(t,l,u)}}}catch(u){Ne(t,t.return,u)}if(t===e){W=null;break}var o=t.sibling;if(o!==null){o.return=t.return,W=o;break}W=t.return}}var Lg=Math.ceil,dl=hn.ReactCurrentDispatcher,iu=hn.ReactCurrentOwner,_t=hn.ReactCurrentBatchConfig,he=0,Ve=null,Me=null,Ge=0,vt=0,Ir=Bn(0),Be=0,Ui=null,sr=0,Dl=0,au=0,Ei=null,ct=null,lu=0,Vr=1/0,an=null,fl=!1,ds=null,Ln=null,ka=!1,Pn=null,pl=0,ki=0,fs=null,Oa=-1,$a=0;function it(){return he&6?Fe():Oa!==-1?Oa:Oa=Fe()}function zn(e){return e.mode&1?he&2&&Ge!==0?Ge&-Ge:yg.transition!==null?($a===0&&($a=lf()),$a):(e=xe,e!==0||(e=window.event,e=e===void 0?16:pf(e.type)),e):1}function Wt(e,t,n,r){if(50<ki)throw ki=0,fs=null,Error(O(185));Qi(e,n,r),(!(he&2)||e!==Ve)&&(e===Ve&&(!(he&2)&&(Dl|=n),Be===4&&kn(e,Ge)),ht(e,r),n===1&&he===0&&!(t.mode&1)&&(Vr=Fe()+500,jl&&Un()))}function ht(e,t){var n=e.callbackNode;ym(e,t);var r=Ya(e,e===Ve?Ge:0);if(r===0)n!==null&&qu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&qu(n),t===1)e.tag===0?gg(Oc.bind(null,e)):Nf(Oc.bind(null,e)),fg(function(){!(he&6)&&Un()}),n=null;else{switch(of(r)){case 1:n=Ns;break;case 4:n=rf;break;case 16:n=Ga;break;case 536870912:n=af;break;default:n=Ga}n=Dp(n,Ep.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ep(e,t){if(Oa=-1,$a=0,he&6)throw Error(O(327));var n=e.callbackNode;if(zr()&&e.callbackNode!==n)return null;var r=Ya(e,e===Ve?Ge:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=hl(e,r);else{t=r;var i=he;he|=2;var a=Cp();(Ve!==e||Ge!==t)&&(an=null,Vr=Fe()+500,rr(e,t));do try{Ag();break}catch(o){kp(e,o)}while(!0);Hs(),dl.current=a,he=i,Me!==null?t=0:(Ve=null,Ge=0,t=Be)}if(t!==0){if(t===2&&(i=Oo(e),i!==0&&(r=i,t=ps(e,i))),t===1)throw n=Ui,rr(e,0),kn(e,r),ht(e,Fe()),n;if(t===6)kn(e,r);else{if(i=e.current.alternate,!(r&30)&&!zg(i)&&(t=hl(e,r),t===2&&(a=Oo(e),a!==0&&(r=a,t=ps(e,a))),t===1))throw n=Ui,rr(e,0),kn(e,r),ht(e,Fe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(O(345));case 2:Yn(e,ct,an);break;case 3:if(kn(e,r),(r&130023424)===r&&(t=lu+500-Fe(),10<t)){if(Ya(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){it(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=qo(Yn.bind(null,e,ct,an),t);break}Yn(e,ct,an);break;case 4:if(kn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var l=31-Ut(r);a=1<<l,l=t[l],l>i&&(i=l),r&=~a}if(r=i,r=Fe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Lg(r/1960))-r,10<r){e.timeoutHandle=qo(Yn.bind(null,e,ct,an),r);break}Yn(e,ct,an);break;case 5:Yn(e,ct,an);break;default:throw Error(O(329))}}}return ht(e,Fe()),e.callbackNode===n?Ep.bind(null,e):null}function ps(e,t){var n=Ei;return e.current.memoizedState.isDehydrated&&(rr(e,t).flags|=256),e=hl(e,t),e!==2&&(t=ct,ct=n,t!==null&&hs(t)),e}function hs(e){ct===null?ct=e:ct.push.apply(ct,e)}function zg(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Vt(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function kn(e,t){for(t&=~au,t&=~Dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ut(t),r=1<<n;e[n]=-1,t&=~r}}function Oc(e){if(he&6)throw Error(O(327));zr();var t=Ya(e,0);if(!(t&1))return ht(e,Fe()),null;var n=hl(e,t);if(e.tag!==0&&n===2){var r=Oo(e);r!==0&&(t=r,n=ps(e,r))}if(n===1)throw n=Ui,rr(e,0),kn(e,t),ht(e,Fe()),n;if(n===6)throw Error(O(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Yn(e,ct,an),ht(e,Fe()),null}function ou(e,t){var n=he;he|=1;try{return e(t)}finally{he=n,he===0&&(Vr=Fe()+500,jl&&Un())}}function ur(e){Pn!==null&&Pn.tag===0&&!(he&6)&&zr();var t=he;he|=1;var n=_t.transition,r=xe;try{if(_t.transition=null,xe=1,e)return e()}finally{xe=r,_t.transition=n,he=t,!(he&6)&&Un()}}function su(){vt=Ir.current,Ce(Ir)}function rr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,dg(n)),Me!==null)for(n=Me.return;n!==null;){var r=n;switch(Us(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&tl();break;case 3:Ur(),Ce(ft),Ce(tt),Xs();break;case 5:Ys(r);break;case 4:Ur();break;case 13:Ce(Ie);break;case 19:Ce(Ie);break;case 10:Ks(r.type._context);break;case 22:case 23:su()}n=n.return}if(Ve=e,Me=e=Fn(e.current,null),Ge=vt=t,Be=0,Ui=null,au=Dl=sr=0,ct=Ei=null,er!==null){for(t=0;t<er.length;t++)if(n=er[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var l=a.next;a.next=i,r.next=l}n.pending=r}er=null}return e}function kp(e,t){do{var n=Me;try{if(Hs(),Fa.current=cl,ul){for(var r=De.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ul=!1}if(or=0,We=$e=De=null,bi=!1,Oi=0,iu.current=null,n===null||n.return===null){Be=1,Ui=t,Me=null;break}e:{var a=e,l=n.return,o=n,u=t;if(t=Ge,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=jc(l);if(m!==null){m.flags&=-257,Rc(m,l,o,a,t),m.mode&1&&Cc(a,c,t),t=m,u=c;var v=t.updateQueue;if(v===null){var w=new Set;w.add(u),t.updateQueue=w}else v.add(u);break e}else{if(!(t&1)){Cc(a,c,t),uu();break e}u=Error(O(426))}}else if(je&&o.mode&1){var E=jc(l);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Rc(E,l,o,a,t),Ws(Wr(u,o));break e}}a=u=Wr(u,o),Be!==4&&(Be=2),Ei===null?Ei=[a]:Ei.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=op(a,u,t);xc(a,g);break e;case 1:o=u;var h=a.type,y=a.stateNode;if(!(a.flags&128)&&(typeof h.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ln===null||!Ln.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t;var C=sp(a,o,t);xc(a,C);break e}}a=a.return}while(a!==null)}Rp(n)}catch(I){t=I,Me===n&&n!==null&&(Me=n=n.return);continue}break}while(!0)}function Cp(){var e=dl.current;return dl.current=cl,e===null?cl:e}function uu(){(Be===0||Be===3||Be===2)&&(Be=4),Ve===null||!(sr&268435455)&&!(Dl&268435455)||kn(Ve,Ge)}function hl(e,t){var n=he;he|=2;var r=Cp();(Ve!==e||Ge!==t)&&(an=null,rr(e,t));do try{Fg();break}catch(i){kp(e,i)}while(!0);if(Hs(),he=n,dl.current=r,Me!==null)throw Error(O(261));return Ve=null,Ge=0,Be}function Fg(){for(;Me!==null;)jp(Me)}function Ag(){for(;Me!==null&&!sm();)jp(Me)}function jp(e){var t=Ip(e.alternate,e,vt);e.memoizedProps=e.pendingProps,t===null?Rp(e):Me=t,iu.current=null}function Rp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Dg(n,t),n!==null){n.flags&=32767,Me=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Be=6,Me=null;return}}else if(n=Ig(n,t,vt),n!==null){Me=n;return}if(t=t.sibling,t!==null){Me=t;return}Me=t=e}while(t!==null);Be===0&&(Be=5)}function Yn(e,t,n){var r=xe,i=_t.transition;try{_t.transition=null,xe=1,Mg(e,t,n,r)}finally{_t.transition=i,xe=r}return null}function Mg(e,t,n,r){do zr();while(Pn!==null);if(he&6)throw Error(O(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(O(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(vm(e,a),e===Ve&&(Me=Ve=null,Ge=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ka||(ka=!0,Dp(Ga,function(){return zr(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=_t.transition,_t.transition=null;var l=xe;xe=1;var o=he;he|=4,iu.current=null,Ng(e,n),bp(n,e),ig(Ho),Xa=!!Vo,Ho=Vo=null,e.current=n,Tg(n),um(),he=o,xe=l,_t.transition=a}else e.current=n;if(ka&&(ka=!1,Pn=e,pl=i),a=e.pendingLanes,a===0&&(Ln=null),fm(n.stateNode),ht(e,Fe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(fl)throw fl=!1,e=ds,ds=null,e;return pl&1&&e.tag!==0&&zr(),a=e.pendingLanes,a&1?e===fs?ki++:(ki=0,fs=e):ki=0,Un(),null}function zr(){if(Pn!==null){var e=of(pl),t=_t.transition,n=xe;try{if(_t.transition=null,xe=16>e?16:e,Pn===null)var r=!1;else{if(e=Pn,Pn=null,pl=0,he&6)throw Error(O(331));var i=he;for(he|=4,W=e.current;W!==null;){var a=W,l=a.child;if(W.flags&16){var o=a.deletions;if(o!==null){for(var u=0;u<o.length;u++){var c=o[u];for(W=c;W!==null;){var d=W;switch(d.tag){case 0:case 11:case 15:Si(8,d,a)}var f=d.child;if(f!==null)f.return=d,W=f;else for(;W!==null;){d=W;var p=d.sibling,m=d.return;if(vp(d),d===c){W=null;break}if(p!==null){p.return=m,W=p;break}W=m}}}var v=a.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var E=w.sibling;w.sibling=null,w=E}while(w!==null)}}W=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,W=l;else e:for(;W!==null;){if(a=W,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Si(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,W=g;break e}W=a.return}}var h=e.current;for(W=h;W!==null;){l=W;var y=l.child;if(l.subtreeFlags&2064&&y!==null)y.return=l,W=y;else e:for(l=h;W!==null;){if(o=W,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Il(9,o)}}catch(I){Ne(o,o.return,I)}if(o===l){W=null;break e}var C=o.sibling;if(C!==null){C.return=o.return,W=C;break e}W=o.return}}if(he=i,Un(),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(bl,e)}catch{}r=!0}return r}finally{xe=n,_t.transition=t}}return!1}function $c(e,t,n){t=Wr(n,t),t=op(e,t,1),e=Tn(e,t,1),t=it(),e!==null&&(Qi(e,1,t),ht(e,t))}function Ne(e,t,n){if(e.tag===3)$c(e,e,n);else for(;t!==null;){if(t.tag===3){$c(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ln===null||!Ln.has(r))){e=Wr(n,e),e=sp(t,e,1),t=Tn(t,e,1),e=it(),t!==null&&(Qi(t,1,e),ht(t,e));break}}t=t.return}}function Og(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=it(),e.pingedLanes|=e.suspendedLanes&n,Ve===e&&(Ge&n)===n&&(Be===4||Be===3&&(Ge&130023424)===Ge&&500>Fe()-lu?rr(e,0):au|=n),ht(e,t)}function Pp(e,t){t===0&&(e.mode&1?(t=ha,ha<<=1,!(ha&130023424)&&(ha=4194304)):t=1);var n=it();e=fn(e,t),e!==null&&(Qi(e,t,n),ht(e,n))}function $g(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Pp(e,n)}function Bg(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(t),Pp(e,n)}var Ip;Ip=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ft.current)dt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return dt=!1,Pg(e,t,n);dt=!!(e.flags&131072)}else dt=!1,je&&t.flags&1048576&&Tf(t,il,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ma(e,t),e=t.pendingProps;var i=Or(t,tt.current);Lr(t,n),i=Js(null,t,r,e,i,n);var a=eu();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pt(r)?(a=!0,nl(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Qs(t),i.updater=Pl,t.stateNode=i,i._reactInternals=t,es(t,r,e,n),t=rs(null,t,r,!0,a,n)):(t.tag=0,je&&a&&Bs(t),rt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ma(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Wg(r),e=Ot(r,e),i){case 0:t=ns(null,t,r,e,n);break e;case 1:t=Dc(null,t,r,e,n);break e;case 11:t=Pc(null,t,r,e,n);break e;case 14:t=Ic(null,t,r,Ot(r.type,e),n);break e}throw Error(O(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ot(r,i),ns(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ot(r,i),Dc(e,t,r,i,n);case 3:e:{if(fp(t),e===null)throw Error(O(387));r=t.pendingProps,a=t.memoizedState,i=a.element,Of(e,t),ol(t,r,null,n);var l=t.memoizedState;if(r=l.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Wr(Error(O(423)),t),t=_c(e,t,r,n,i);break e}else if(r!==i){i=Wr(Error(O(424)),t),t=_c(e,t,r,n,i);break e}else for(wt=Nn(t.stateNode.containerInfo.firstChild),St=t,je=!0,Bt=null,n=Af(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($r(),r===i){t=pn(e,t,n);break e}rt(e,t,r,n)}t=t.child}return t;case 5:return $f(t),e===null&&Xo(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,l=i.children,Ko(r,i)?l=null:a!==null&&Ko(r,a)&&(t.flags|=32),dp(e,t),rt(e,t,l,n),t.child;case 6:return e===null&&Xo(t),null;case 13:return pp(e,t,n);case 4:return Gs(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Br(t,null,r,n):rt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ot(r,i),Pc(e,t,r,i,n);case 7:return rt(e,t,t.pendingProps,n),t.child;case 8:return rt(e,t,t.pendingProps.children,n),t.child;case 12:return rt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,l=i.value,Se(al,r._currentValue),r._currentValue=l,a!==null)if(Vt(a.value,l)){if(a.children===i.children&&!ft.current){t=pn(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){l=a.child;for(var u=o.firstContext;u!==null;){if(u.context===r){if(a.tag===1){u=un(-1,n&-n),u.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),Zo(a.return,n,t),o.lanes|=n;break}u=u.next}}else if(a.tag===10)l=a.type===t.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(O(341));l.lanes|=n,o=l.alternate,o!==null&&(o.lanes|=n),Zo(l,n,t),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===t){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}rt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Lr(t,n),i=Tt(i),r=r(i),t.flags|=1,rt(e,t,r,n),t.child;case 14:return r=t.type,i=Ot(r,t.pendingProps),i=Ot(r.type,i),Ic(e,t,r,i,n);case 15:return up(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ot(r,i),Ma(e,t),t.tag=1,pt(r)?(e=!0,nl(t)):e=!1,Lr(t,n),lp(t,r,i),es(t,r,i,n),rs(null,t,r,!0,e,n);case 19:return hp(e,t,n);case 22:return cp(e,t,n)}throw Error(O(156,t.tag))};function Dp(e,t){return nf(e,t)}function Ug(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(e,t,n,r){return new Ug(e,t,n,r)}function cu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wg(e){if(typeof e=="function")return cu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Is)return 11;if(e===Ds)return 14}return 2}function Fn(e,t){var n=e.alternate;return n===null?(n=Dt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ba(e,t,n,r,i,a){var l=2;if(r=e,typeof e=="function")cu(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case xr:return ir(n.children,i,a,t);case Ps:l=8,i|=8;break;case ko:return e=Dt(12,n,t,i|2),e.elementType=ko,e.lanes=a,e;case Co:return e=Dt(13,n,t,i),e.elementType=Co,e.lanes=a,e;case jo:return e=Dt(19,n,t,i),e.elementType=jo,e.lanes=a,e;case Od:return _l(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ad:l=10;break e;case Md:l=9;break e;case Is:l=11;break e;case Ds:l=14;break e;case bn:l=16,r=null;break e}throw Error(O(130,e==null?e:typeof e,""))}return t=Dt(l,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function ir(e,t,n,r){return e=Dt(7,e,r,t),e.lanes=n,e}function _l(e,t,n,r){return e=Dt(22,e,r,t),e.elementType=Od,e.lanes=n,e.stateNode={isHidden:!1},e}function ho(e,t,n){return e=Dt(6,e,null,t),e.lanes=n,e}function mo(e,t,n){return t=Dt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vg(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ql(0),this.expirationTimes=Ql(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ql(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function du(e,t,n,r,i,a,l,o,u){return e=new Vg(e,t,n,o,u),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Dt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qs(a),e}function Hg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function _p(e){if(!e)return Mn;e=e._reactInternals;e:{if(dr(e)!==e||e.tag!==1)throw Error(O(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(O(171))}if(e.tag===1){var n=e.type;if(pt(n))return _f(e,n,t)}return t}function Np(e,t,n,r,i,a,l,o,u){return e=du(n,r,!0,e,i,a,l,o,u),e.context=_p(null),n=e.current,r=it(),i=zn(n),a=un(r,i),a.callback=t??null,Tn(n,a,i),e.current.lanes=i,Qi(e,i,r),ht(e,r),e}function Nl(e,t,n,r){var i=t.current,a=it(),l=zn(i);return n=_p(n),t.context===null?t.context=n:t.pendingContext=n,t=un(a,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Tn(i,t,l),e!==null&&(Wt(e,i,l,a),za(e,i,l)),l}function ml(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Bc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function fu(e,t){Bc(e,t),(e=e.alternate)&&Bc(e,t)}function Kg(){return null}var Tp=typeof reportError=="function"?reportError:function(e){console.error(e)};function pu(e){this._internalRoot=e}Tl.prototype.render=pu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));Nl(e,t,null,null)};Tl.prototype.unmount=pu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ur(function(){Nl(null,e,null,null)}),t[dn]=null}};function Tl(e){this._internalRoot=e}Tl.prototype.unstable_scheduleHydration=function(e){if(e){var t=cf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<En.length&&t!==0&&t<En[n].priority;n++);En.splice(n,0,e),n===0&&ff(e)}};function hu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ll(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Uc(){}function qg(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=ml(l);a.call(c)}}var l=Np(t,r,e,0,null,!1,!1,"",Uc);return e._reactRootContainer=l,e[dn]=l.current,Li(e.nodeType===8?e.parentNode:e),ur(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=ml(u);o.call(c)}}var u=du(e,0,!1,null,null,!1,!1,"",Uc);return e._reactRootContainer=u,e[dn]=u.current,Li(e.nodeType===8?e.parentNode:e),ur(function(){Nl(t,u,n,r)}),u}function zl(e,t,n,r,i){var a=n._reactRootContainer;if(a){var l=a;if(typeof i=="function"){var o=i;i=function(){var u=ml(l);o.call(u)}}Nl(t,l,e,i)}else l=qg(n,t,e,i,r);return ml(l)}sf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=fi(t.pendingLanes);n!==0&&(Ts(t,n|1),ht(t,Fe()),!(he&6)&&(Vr=Fe()+500,Un()))}break;case 13:ur(function(){var r=fn(e,1);if(r!==null){var i=it();Wt(r,e,1,i)}}),fu(e,1)}};Ls=function(e){if(e.tag===13){var t=fn(e,134217728);if(t!==null){var n=it();Wt(t,e,134217728,n)}fu(e,134217728)}};uf=function(e){if(e.tag===13){var t=zn(e),n=fn(e,t);if(n!==null){var r=it();Wt(n,e,t,r)}fu(e,t)}};cf=function(){return xe};df=function(e,t){var n=xe;try{return xe=e,t()}finally{xe=n}};Fo=function(e,t,n){switch(t){case"input":if(Io(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Cl(r);if(!i)throw Error(O(90));Bd(r),Io(r,i)}}}break;case"textarea":Wd(e,n);break;case"select":t=n.value,t!=null&&Dr(e,!!n.multiple,t,!1)}};Yd=ou;Xd=ur;var Qg={usingClientEntryPoint:!1,Events:[Yi,Er,Cl,Qd,Gd,ou]},li={findFiberByHostInstance:Jn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Gg={bundleType:li.bundleType,version:li.version,rendererPackageName:li.rendererPackageName,rendererConfig:li.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ef(e),e===null?null:e.stateNode},findFiberByHostInstance:li.findFiberByHostInstance||Kg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ca=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ca.isDisabled&&Ca.supportsFiber)try{bl=Ca.inject(Gg),Yt=Ca}catch{}}kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qg;kt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hu(t))throw Error(O(200));return Hg(e,t,null,n)};kt.createRoot=function(e,t){if(!hu(e))throw Error(O(299));var n=!1,r="",i=Tp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=du(e,1,!1,null,null,n,!1,r,i),e[dn]=t.current,Li(e.nodeType===8?e.parentNode:e),new pu(t)};kt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=ef(t),e=e===null?null:e.stateNode,e};kt.flushSync=function(e){return ur(e)};kt.hydrate=function(e,t,n){if(!Ll(t))throw Error(O(200));return zl(null,e,t,!0,n)};kt.hydrateRoot=function(e,t,n){if(!hu(e))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",l=Tp;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=Np(t,null,e,1,n??null,i,!1,a,l),e[dn]=t.current,Li(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Tl(t)};kt.render=function(e,t,n){if(!Ll(t))throw Error(O(200));return zl(null,e,t,!1,n)};kt.unmountComponentAtNode=function(e){if(!Ll(e))throw Error(O(40));return e._reactRootContainer?(ur(function(){zl(null,null,e,!1,function(){e._reactRootContainer=null,e[dn]=null})}),!0):!1};kt.unstable_batchedUpdates=ou;kt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ll(n))throw Error(O(200));if(e==null||e._reactInternals===void 0)throw Error(O(38));return zl(e,t,n,!1,r)};kt.version="18.3.1-next-f1338f8080-20240426";function Lp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lp)}catch(e){console.error(e)}}Lp(),Td.exports=kt;var zp=Td.exports,Wc=zp;So.createRoot=Wc.createRoot,So.hydrateRoot=Wc.hydrateRoot;/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Fp=e=>{throw TypeError(e)},Yg=(e,t,n)=>t.has(e)||Fp("Cannot "+n),go=(e,t,n)=>(Yg(e,t,"read from private field"),n?n.call(e):t.get(e)),Xg=(e,t,n)=>t.has(e)?Fp("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Vc="popstate";function Zg(e={}){function t(i,a){let{pathname:l="/",search:o="",hash:u=""}=mn(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Wi("",{pathname:l,search:o,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let l=i.document.querySelector("base"),o="";if(l&&l.getAttribute("href")){let u=i.location.href,c=u.indexOf("#");o=c===-1?u:u.slice(0,c)}return o+"#"+(typeof a=="string"?a:On(a))}function r(i,a){Ae(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return ey(t,n,r,e)}function de(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ae(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Jg(){return Math.random().toString(36).substring(2,10)}function Hc(e,t){return{usr:e.state,key:e.key,idx:t}}function Wi(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?mn(t):t,state:n,key:t&&t.key||r||Jg()}}function On({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function mn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function ey(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,o="POP",u=null,c=d();c==null&&(c=0,l.replaceState({...l.state,idx:c},""));function d(){return(l.state||{idx:null}).idx}function f(){o="POP";let E=d(),g=E==null?null:E-c;c=E,u&&u({action:o,location:w.location,delta:g})}function p(E,g){o="PUSH";let h=Wi(w.location,E,g);n&&n(h,E),c=d()+1;let y=Hc(h,c),C=w.createHref(h);try{l.pushState(y,"",C)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(C)}a&&u&&u({action:o,location:w.location,delta:1})}function m(E,g){o="REPLACE";let h=Wi(w.location,E,g);n&&n(h,E),c=d();let y=Hc(h,c),C=w.createHref(h);l.replaceState(y,"",C),a&&u&&u({action:o,location:w.location,delta:0})}function v(E){return Ap(E)}let w={get action(){return o},get location(){return e(i,l)},listen(E){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Vc,f),u=E,()=>{i.removeEventListener(Vc,f),u=null}},createHref(E){return t(i,E)},createURL:v,encodeLocation(E){let g=v(E);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:m,go(E){return l.go(E)}};return w}function Ap(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),de(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:On(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var hi,Kc=class{constructor(e){if(Xg(this,hi,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(go(this,hi).has(e))return go(this,hi).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){go(this,hi).set(e,t)}};hi=new WeakMap;var ty=new Set(["lazy","caseSensitive","path","id","index","children"]);function ny(e){return ty.has(e)}var ry=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function iy(e){return ry.has(e)}function ay(e){return e.index===!0}function Vi(e,t,n=[],r={},i=!1){return e.map((a,l)=>{let o=[...n,String(l)],u=typeof a.id=="string"?a.id:o.join("-");if(de(a.index!==!0||!a.children,"Cannot specify children on an index route"),de(i||!r[u],`Found a route id collision on id "${u}".  Route id's must be globally unique within Data Router usages`),ay(a)){let c={...a,...t(a),id:u};return r[u]=c,c}else{let c={...a,...t(a),id:u,children:void 0};return r[u]=c,a.children&&(c.children=Vi(a.children,t,o,r,i)),c}})}function Cn(e,t,n="/"){return Ua(e,t,n,!1)}function Ua(e,t,n,r){let i=typeof t=="string"?mn(t):t,a=zt(i.pathname||"/",n);if(a==null)return null;let l=Mp(e);oy(l);let o=null;for(let u=0;o==null&&u<l.length;++u){let c=vy(a);o=gy(l[u],c,r)}return o}function ly(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],loaderData:t[n.id],handle:n.handle}}function Mp(e,t=[],n=[],r="",i=!1){let a=(l,o,u=i,c)=>{let d={relativePath:c===void 0?l.path||"":c,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&u)return;de(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let f=Zt([r,d.relativePath]),p=n.concat(d);l.children&&l.children.length>0&&(de(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Mp(l.children,t,p,f,u)),!(l.path==null&&!l.index)&&t.push({path:f,score:hy(f,l.index),routesMeta:p})};return e.forEach((l,o)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))a(l,o);else for(let c of Op(l.path))a(l,o,!0,c)}),t}function Op(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=Op(r.join("/")),o=[];return o.push(...l.map(u=>u===""?a:[a,u].join("/"))),i&&o.push(...l),o.map(u=>e.startsWith("/")&&u===""?"/":u)}function oy(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:my(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var sy=/^:[\w-]+$/,uy=3,cy=2,dy=1,fy=10,py=-2,qc=e=>e==="*";function hy(e,t){let n=e.split("/"),r=n.length;return n.some(qc)&&(r+=py),t&&(r+=cy),n.filter(i=>!qc(i)).reduce((i,a)=>i+(sy.test(a)?uy:a===""?dy:fy),r)}function my(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function gy(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",l=[];for(let o=0;o<r.length;++o){let u=r[o],c=o===r.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=gl({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),p=u.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=gl({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),l.push({params:i,pathname:Zt([a,f.pathname]),pathnameBase:Sy(Zt([a,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(a=Zt([a,f.pathnameBase]))}return l}function gl(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=yy(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,{paramName:d,isOptional:f},p)=>{if(d==="*"){let v=o[p]||"";l=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const m=o[p];return f&&!m?c[d]=void 0:c[d]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:l,pattern:e}}function yy(e,t=!1,n=!0){Ae(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,u)=>(r.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function vy(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ae(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function zt(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function xy({basename:e,pathname:t}){return t==="/"?e:Zt([e,t])}function wy(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?mn(e):e;return{pathname:n?n.startsWith("/")?n:by(n,t):t,search:Ey(r),hash:ky(i)}}function by(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function yo(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $p(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function mu(e){let t=$p(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function gu(e,t,n,r=!1){let i;typeof e=="string"?i=mn(e):(i={...e},de(!i.pathname||!i.pathname.includes("?"),yo("?","pathname","search",i)),de(!i.pathname||!i.pathname.includes("#"),yo("#","pathname","hash",i)),de(!i.search||!i.search.includes("#"),yo("#","search","hash",i)));let a=e===""||i.pathname==="",l=a?"/":i.pathname,o;if(l==null)o=n;else{let f=t.length-1;if(!r&&l.startsWith("..")){let p=l.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}o=f>=0?t[f]:"/"}let u=wy(i,o),c=l&&l!=="/"&&l.endsWith("/"),d=(a||l===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}var Zt=e=>e.join("/").replace(/\/\/+/g,"/"),Sy=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ey=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ky=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,yl=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Hi(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Bp=["POST","PUT","PATCH","DELETE"],Cy=new Set(Bp),jy=["GET",...Bp],Ry=new Set(jy),Py=new Set([301,302,303,307,308]),Iy=new Set([307,308]),vo={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Dy={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},oi={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},_y=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yu=e=>_y.test(e),Ny=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Up="remix-router-transitions",Wp=Symbol("ResetLoaderData");function Ty(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";de(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=e.hydrationRouteProperties||[],i=e.mapRouteProperties||Ny,a={},l=Vi(e.routes,i,void 0,a),o,u=e.basename||"/";u.startsWith("/")||(u=`/${u}`);let c=e.dataStrategy||My,d={...e.future},f=null,p=new Set,m=null,v=null,w=null,E=e.hydrationData!=null,g=Cn(l,e.history.location,u),h=!1,y=null,C;if(g==null&&!e.patchRoutesOnNavigation){let S=Rt(404,{pathname:e.history.location.pathname}),{matches:j,route:N}=ja(l);C=!0,g=j,y={[N.id]:S}}else if(g&&!e.hydrationData&&ia(g,l,e.history.location.pathname).active&&(g=null),g)if(g.some(S=>S.route.lazy))C=!1;else if(!g.some(S=>S.route.loader))C=!0;else{let S=e.hydrationData?e.hydrationData.loaderData:null,j=e.hydrationData?e.hydrationData.errors:null;if(j){let N=g.findIndex(M=>j[M.route.id]!==void 0);C=g.slice(0,N+1).every(M=>!gs(M.route,S,j))}else C=g.every(N=>!gs(N.route,S,j))}else{C=!1,g=[];let S=ia(null,l,e.history.location.pathname);S.active&&S.matches&&(h=!0,g=S.matches)}let I,b={historyAction:e.history.action,location:e.history.location,matches:g,initialized:C,navigation:vo,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||y,fetchers:new Map,blockers:new Map},k="POP",_=!1,T,R=!1,z=new Map,ne=null,V=!1,ie=!1,ge=new Set,le=new Map,pe=0,$=-1,L=new Map,A=new Set,X=new Map,re=new Map,ye=new Set,D=new Map,P,F=null;function q(){if(f=e.history.listen(({action:S,location:j,delta:N})=>{if(P){P(),P=void 0;return}Ae(D.size===0||N!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let M=_u({currentLocation:b.location,nextLocation:j,historyAction:S});if(M&&N!=null){let B=new Promise(Q=>{P=Q});e.history.go(N*-1),ra(M,{state:"blocked",location:j,proceed(){ra(M,{state:"proceeding",proceed:void 0,reset:void 0,location:j}),B.then(()=>e.history.go(N))},reset(){let Q=new Map(b.blockers);Q.set(M,oi),te({blockers:Q})}});return}return Le(S,j)}),n){Jy(t,z);let S=()=>ev(t,z);t.addEventListener("pagehide",S),ne=()=>t.removeEventListener("pagehide",S)}return b.initialized||Le("POP",b.location,{initialHydration:!0}),I}function ue(){f&&f(),ne&&ne(),p.clear(),T&&T.abort(),b.fetchers.forEach((S,j)=>Yr(j)),b.blockers.forEach((S,j)=>Du(j))}function ce(S){return p.add(S),()=>p.delete(S)}function te(S,j={}){S.matches&&(S.matches=S.matches.map(B=>{let Q=a[B.route.id],G=B.route;return G.element!==Q.element||G.errorElement!==Q.errorElement||G.hydrateFallbackElement!==Q.hydrateFallbackElement?{...B,route:Q}:B})),b={...b,...S};let N=[],M=[];b.fetchers.forEach((B,Q)=>{B.state==="idle"&&(ye.has(Q)?N.push(Q):M.push(Q))}),ye.forEach(B=>{!b.fetchers.has(B)&&!le.has(B)&&N.push(B)}),[...p].forEach(B=>B(b,{deletedFetchers:N,viewTransitionOpts:j.viewTransitionOpts,flushSync:j.flushSync===!0})),N.forEach(B=>Yr(B)),M.forEach(B=>b.fetchers.delete(B))}function U(S,j,{flushSync:N}={}){var J,K;let M=b.actionData!=null&&b.navigation.formMethod!=null&&ut(b.navigation.formMethod)&&b.navigation.state==="loading"&&((J=S.state)==null?void 0:J._isRedirect)!==!0,B;j.actionData?Object.keys(j.actionData).length>0?B=j.actionData:B=null:M?B=b.actionData:B=null;let Q=j.loaderData?rd(b.loaderData,j.loaderData,j.matches||[],j.errors):b.loaderData,G=b.blockers;G.size>0&&(G=new Map(G),G.forEach((ae,be)=>G.set(be,oi)));let H=V?!1:Tu(S,j.matches||b.matches),Y=_===!0||b.navigation.formMethod!=null&&ut(b.navigation.formMethod)&&((K=S.state)==null?void 0:K._isRedirect)!==!0;o&&(l=o,o=void 0),V||k==="POP"||(k==="PUSH"?e.history.push(S,S.state):k==="REPLACE"&&e.history.replace(S,S.state));let ee;if(k==="POP"){let ae=z.get(b.location.pathname);ae&&ae.has(S.pathname)?ee={currentLocation:b.location,nextLocation:S}:z.has(S.pathname)&&(ee={currentLocation:S,nextLocation:b.location})}else if(R){let ae=z.get(b.location.pathname);ae?ae.add(S.pathname):(ae=new Set([S.pathname]),z.set(b.location.pathname,ae)),ee={currentLocation:b.location,nextLocation:S}}te({...j,actionData:B,loaderData:Q,historyAction:k,location:S,initialized:!0,navigation:vo,revalidation:"idle",restoreScrollPosition:H,preventScrollReset:Y,blockers:G},{viewTransitionOpts:ee,flushSync:N===!0}),k="POP",_=!1,R=!1,V=!1,ie=!1,F==null||F.resolve(),F=null}async function Z(S,j){if(typeof S=="number"){e.history.go(S);return}let N=ms(b.location,b.matches,u,S,j==null?void 0:j.fromRouteId,j==null?void 0:j.relative),{path:M,submission:B,error:Q}=Qc(!1,N,j),G=b.location,H=Wi(b.location,M,j&&j.state);H={...H,...e.history.encodeLocation(H)};let Y=j&&j.replace!=null?j.replace:void 0,ee="PUSH";Y===!0?ee="REPLACE":Y===!1||B!=null&&ut(B.formMethod)&&B.formAction===b.location.pathname+b.location.search&&(ee="REPLACE");let J=j&&"preventScrollReset"in j?j.preventScrollReset===!0:void 0,K=(j&&j.flushSync)===!0,ae=_u({currentLocation:G,nextLocation:H,historyAction:ee});if(ae){ra(ae,{state:"blocked",location:H,proceed(){ra(ae,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),Z(S,j)},reset(){let be=new Map(b.blockers);be.set(ae,oi),te({blockers:be})}});return}await Le(ee,H,{submission:B,pendingError:Q,preventScrollReset:J,replace:j&&j.replace,enableViewTransition:j&&j.viewTransition,flushSync:K})}function He(){F||(F=tv()),st(),te({revalidation:"loading"});let S=F.promise;return b.navigation.state==="submitting"?S:b.navigation.state==="idle"?(Le(b.historyAction,b.location,{startUninterruptedRevalidation:!0}),S):(Le(k||b.historyAction,b.navigation.location,{overrideNavigation:b.navigation,enableViewTransition:R===!0}),S)}async function Le(S,j,N){T&&T.abort(),T=null,k=S,V=(N&&N.startUninterruptedRevalidation)===!0,vh(b.location,b.matches),_=(N&&N.preventScrollReset)===!0,R=(N&&N.enableViewTransition)===!0;let M=o||l,B=N&&N.overrideNavigation,Q=N!=null&&N.initialHydration&&b.matches&&b.matches.length>0&&!h?b.matches:Cn(M,j,u),G=(N&&N.flushSync)===!0;if(Q&&b.initialized&&!ie&&Ky(b.location,j)&&!(N&&N.submission&&ut(N.submission.formMethod))){U(j,{matches:Q},{flushSync:G});return}let H=ia(Q,M,j.pathname);if(H.active&&H.matches&&(Q=H.matches),!Q){let{error:nt,notFoundMatches:Re,route:Ee}=Bl(j.pathname);U(j,{matches:Re,loaderData:{},errors:{[Ee.id]:nt}},{flushSync:G});return}T=new AbortController;let Y=yr(e.history,j,T.signal,N&&N.submission),ee=e.unstable_getContext?await e.unstable_getContext():new Kc,J;if(N&&N.pendingError)J=[jn(Q).route.id,{type:"error",error:N.pendingError}];else if(N&&N.submission&&ut(N.submission.formMethod)){let nt=await oe(Y,j,N.submission,Q,ee,H.active,N&&N.initialHydration===!0,{replace:N.replace,flushSync:G});if(nt.shortCircuited)return;if(nt.pendingActionResult){let[Re,Ee]=nt.pendingActionResult;if(xt(Ee)&&Hi(Ee.error)&&Ee.error.status===404){T=null,U(j,{matches:nt.matches,loaderData:{},errors:{[Re]:Ee.error}});return}}Q=nt.matches||Q,J=nt.pendingActionResult,B=xo(j,N.submission),G=!1,H.active=!1,Y=yr(e.history,Y.url,Y.signal)}let{shortCircuited:K,matches:ae,loaderData:be,errors:Ue}=await ot(Y,j,Q,ee,H.active,B,N&&N.submission,N&&N.fetcherSubmission,N&&N.replace,N&&N.initialHydration===!0,G,J);K||(T=null,U(j,{matches:ae||Q,...id(J),loaderData:be,errors:Ue}))}async function oe(S,j,N,M,B,Q,G,H={}){st();let Y=Xy(j,N);if(te({navigation:Y},{flushSync:H.flushSync===!0}),Q){let K=await aa(M,j.pathname,S.signal);if(K.type==="aborted")return{shortCircuited:!0};if(K.type==="error"){if(K.partialMatches.length===0){let{matches:be,route:Ue}=ja(l);return{matches:be,pendingActionResult:[Ue.id,{type:"error",error:K.error}]}}let ae=jn(K.partialMatches).route.id;return{matches:K.partialMatches,pendingActionResult:[ae,{type:"error",error:K.error}]}}else if(K.matches)M=K.matches;else{let{notFoundMatches:ae,error:be,route:Ue}=Bl(j.pathname);return{matches:ae,pendingActionResult:[Ue.id,{type:"error",error:be}]}}}let ee,J=Wa(M,j);if(!J.route.action&&!J.route.lazy)ee={type:"error",error:Rt(405,{method:S.method,pathname:j.pathname,routeId:J.route.id})};else{let K=Fr(i,a,S,M,J,G?[]:r,B),ae=await Hn(S,K,B,null);if(ee=ae[J.route.id],!ee){for(let be of M)if(ae[be.route.id]){ee=ae[be.route.id];break}}if(S.signal.aborted)return{shortCircuited:!0}}if(nr(ee)){let K;return H&&H.replace!=null?K=H.replace:K=ed(ee.response.headers.get("Location"),new URL(S.url),u)===b.location.pathname+b.location.search,await we(S,ee,!0,{submission:N,replace:K}),{shortCircuited:!0}}if(xt(ee)){let K=jn(M,J.route.id);return(H&&H.replace)!==!0&&(k="PUSH"),{matches:M,pendingActionResult:[K.route.id,ee,J.route.id]}}return{matches:M,pendingActionResult:[J.route.id,ee]}}async function ot(S,j,N,M,B,Q,G,H,Y,ee,J,K){let ae=Q||xo(j,G),be=G||H||ld(ae),Ue=!V&&!ee;if(B){if(Ue){let Xe=Ke(K);te({navigation:ae,...Xe!==void 0?{actionData:Xe}:{}},{flushSync:J})}let me=await aa(N,j.pathname,S.signal);if(me.type==="aborted")return{shortCircuited:!0};if(me.type==="error"){if(me.partialMatches.length===0){let{matches:hr,route:Qn}=ja(l);return{matches:hr,loaderData:{},errors:{[Qn.id]:me.error}}}let Xe=jn(me.partialMatches).route.id;return{matches:me.partialMatches,loaderData:{},errors:{[Xe]:me.error}}}else if(me.matches)N=me.matches;else{let{error:Xe,notFoundMatches:hr,route:Qn}=Bl(j.pathname);return{matches:hr,loaderData:{},errors:{[Qn.id]:Xe}}}}let nt=o||l,{dsMatches:Re,revalidatingFetchers:Ee}=Gc(S,M,i,a,e.history,b,N,be,j,ee?[]:r,ee===!0,ie,ge,ye,X,A,nt,u,e.patchRoutesOnNavigation!=null,K);if($=++pe,!e.dataStrategy&&!Re.some(me=>me.shouldLoad)&&!Re.some(me=>me.route.unstable_middleware)&&Ee.length===0){let me=Pu();return U(j,{matches:N,loaderData:{},errors:K&&xt(K[1])?{[K[0]]:K[1].error}:null,...id(K),...me?{fetchers:new Map(b.fetchers)}:{}},{flushSync:J}),{shortCircuited:!0}}if(Ue){let me={};if(!B){me.navigation=ae;let Xe=Ke(K);Xe!==void 0&&(me.actionData=Xe)}Ee.length>0&&(me.fetchers=ve(Ee)),te(me,{flushSync:J})}Ee.forEach(me=>{yn(me.key),me.controller&&le.set(me.key,me.controller)});let Kn=()=>Ee.forEach(me=>yn(me.key));T&&T.signal.addEventListener("abort",Kn);let{loaderResults:Xr,fetcherResults:vn}=await mt(Re,Ee,S,M);if(S.signal.aborted)return{shortCircuited:!0};T&&T.signal.removeEventListener("abort",Kn),Ee.forEach(me=>le.delete(me.key));let Ht=Ra(Xr);if(Ht)return await we(S,Ht.result,!0,{replace:Y}),{shortCircuited:!0};if(Ht=Ra(vn),Ht)return A.add(Ht.key),await we(S,Ht.result,!0,{replace:Y}),{shortCircuited:!0};let{loaderData:Ul,errors:Zr}=nd(b,N,Xr,K,Ee,vn);ee&&b.errors&&(Zr={...b.errors,...Zr});let qn=Pu(),la=Iu($),oa=qn||la||Ee.length>0;return{matches:N,loaderData:Ul,errors:Zr,...oa?{fetchers:new Map(b.fetchers)}:{}}}function Ke(S){if(S&&!xt(S[1]))return{[S[0]]:S[1].data};if(b.actionData)return Object.keys(b.actionData).length===0?null:b.actionData}function ve(S){return S.forEach(j=>{let N=b.fetchers.get(j.key),M=si(void 0,N?N.data:void 0);b.fetchers.set(j.key,M)}),new Map(b.fetchers)}async function ze(S,j,N,M){yn(S);let B=(M&&M.flushSync)===!0,Q=o||l,G=ms(b.location,b.matches,u,N,j,M==null?void 0:M.relative),H=Cn(Q,G,u),Y=ia(H,Q,G);if(Y.active&&Y.matches&&(H=Y.matches),!H){gt(S,j,Rt(404,{pathname:G}),{flushSync:B});return}let{path:ee,submission:J,error:K}=Qc(!0,G,M);if(K){gt(S,j,K,{flushSync:B});return}let ae=e.unstable_getContext?await e.unstable_getContext():new Kc,be=(M&&M.preventScrollReset)===!0;if(J&&ut(J.formMethod)){await tn(S,j,ee,H,ae,Y.active,B,be,J);return}X.set(S,{routeId:j,path:ee}),await nn(S,j,ee,H,ae,Y.active,B,be,J)}async function tn(S,j,N,M,B,Q,G,H,Y){st(),X.delete(S);let ee=b.fetchers.get(S);Ft(S,Zy(Y,ee),{flushSync:G});let J=new AbortController,K=yr(e.history,N,J.signal,Y);if(Q){let Oe=await aa(M,new URL(K.url).pathname,K.signal,S);if(Oe.type==="aborted")return;if(Oe.type==="error"){gt(S,j,Oe.error,{flushSync:G});return}else if(Oe.matches)M=Oe.matches;else{gt(S,j,Rt(404,{pathname:N}),{flushSync:G});return}}let ae=Wa(M,N);if(!ae.route.action&&!ae.route.lazy){let Oe=Rt(405,{method:Y.formMethod,pathname:N,routeId:j});gt(S,j,Oe,{flushSync:G});return}le.set(S,J);let be=pe,Ue=Fr(i,a,K,M,ae,r,B),Re=(await Hn(K,Ue,B,S))[ae.route.id];if(K.signal.aborted){le.get(S)===J&&le.delete(S);return}if(ye.has(S)){if(nr(Re)||xt(Re)){Ft(S,wn(void 0));return}}else{if(nr(Re))if(le.delete(S),$>be){Ft(S,wn(void 0));return}else return A.add(S),Ft(S,si(Y)),we(K,Re,!1,{fetcherSubmission:Y,preventScrollReset:H});if(xt(Re)){gt(S,j,Re.error);return}}let Ee=b.navigation.location||b.location,Kn=yr(e.history,Ee,J.signal),Xr=o||l,vn=b.navigation.state!=="idle"?Cn(Xr,b.navigation.location,u):b.matches;de(vn,"Didn't find any matches after fetcher action");let Ht=++pe;L.set(S,Ht);let Ul=si(Y,Re.data);b.fetchers.set(S,Ul);let{dsMatches:Zr,revalidatingFetchers:qn}=Gc(Kn,B,i,a,e.history,b,vn,Y,Ee,r,!1,ie,ge,ye,X,A,Xr,u,e.patchRoutesOnNavigation!=null,[ae.route.id,Re]);qn.filter(Oe=>Oe.key!==S).forEach(Oe=>{let sa=Oe.key,Lu=b.fetchers.get(sa),bh=si(void 0,Lu?Lu.data:void 0);b.fetchers.set(sa,bh),yn(sa),Oe.controller&&le.set(sa,Oe.controller)}),te({fetchers:new Map(b.fetchers)});let la=()=>qn.forEach(Oe=>yn(Oe.key));J.signal.addEventListener("abort",la);let{loaderResults:oa,fetcherResults:me}=await mt(Zr,qn,Kn,B);if(J.signal.aborted)return;if(J.signal.removeEventListener("abort",la),L.delete(S),le.delete(S),qn.forEach(Oe=>le.delete(Oe.key)),b.fetchers.has(S)){let Oe=wn(Re.data);b.fetchers.set(S,Oe)}let Xe=Ra(oa);if(Xe)return we(Kn,Xe.result,!1,{preventScrollReset:H});if(Xe=Ra(me),Xe)return A.add(Xe.key),we(Kn,Xe.result,!1,{preventScrollReset:H});let{loaderData:hr,errors:Qn}=nd(b,vn,oa,void 0,qn,me);Iu(Ht),b.navigation.state==="loading"&&Ht>$?(de(k,"Expected pending action"),T&&T.abort(),U(b.navigation.location,{matches:vn,loaderData:hr,errors:Qn,fetchers:new Map(b.fetchers)})):(te({errors:Qn,loaderData:rd(b.loaderData,hr,vn,Qn),fetchers:new Map(b.fetchers)}),ie=!1)}async function nn(S,j,N,M,B,Q,G,H,Y){let ee=b.fetchers.get(S);Ft(S,si(Y,ee?ee.data:void 0),{flushSync:G});let J=new AbortController,K=yr(e.history,N,J.signal);if(Q){let Ee=await aa(M,new URL(K.url).pathname,K.signal,S);if(Ee.type==="aborted")return;if(Ee.type==="error"){gt(S,j,Ee.error,{flushSync:G});return}else if(Ee.matches)M=Ee.matches;else{gt(S,j,Rt(404,{pathname:N}),{flushSync:G});return}}let ae=Wa(M,N);le.set(S,J);let be=pe,Ue=Fr(i,a,K,M,ae,r,B),Re=(await Hn(K,Ue,B,S))[ae.route.id];if(le.get(S)===J&&le.delete(S),!K.signal.aborted){if(ye.has(S)){Ft(S,wn(void 0));return}if(nr(Re))if($>be){Ft(S,wn(void 0));return}else{A.add(S),await we(K,Re,!1,{preventScrollReset:H});return}if(xt(Re)){gt(S,j,Re.error);return}Ft(S,wn(Re.data))}}async function we(S,j,N,{submission:M,fetcherSubmission:B,preventScrollReset:Q,replace:G}={}){j.response.headers.has("X-Remix-Revalidate")&&(ie=!0);let H=j.response.headers.get("Location");de(H,"Expected a Location header on the redirect Response"),H=ed(H,new URL(S.url),u);let Y=Wi(b.location,H,{_isRedirect:!0});if(n){let Ue=!1;if(j.response.headers.has("X-Remix-Reload-Document"))Ue=!0;else if(yu(H)){const nt=Ap(H,!0);Ue=nt.origin!==t.location.origin||zt(nt.pathname,u)==null}if(Ue){G?t.location.replace(H):t.location.assign(H);return}}T=null;let ee=G===!0||j.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:J,formAction:K,formEncType:ae}=b.navigation;!M&&!B&&J&&K&&ae&&(M=ld(b.navigation));let be=M||B;if(Iy.has(j.response.status)&&be&&ut(be.formMethod))await Le(ee,Y,{submission:{...be,formAction:H},preventScrollReset:Q||_,enableViewTransition:N?R:void 0});else{let Ue=xo(Y,M);await Le(ee,Y,{overrideNavigation:Ue,fetcherSubmission:B,preventScrollReset:Q||_,enableViewTransition:N?R:void 0})}}async function Hn(S,j,N,M){let B,Q={};try{B=await $y(c,S,j,M,N,!1)}catch(G){return j.filter(H=>H.shouldLoad).forEach(H=>{Q[H.route.id]={type:"error",error:G}}),Q}if(S.signal.aborted)return Q;for(let[G,H]of Object.entries(B))if(Gy(H)){let Y=H.result;Q[G]={type:"redirect",response:Vy(Y,S,G,j,u)}}else Q[G]=await Wy(H);return Q}async function mt(S,j,N,M){let B=Hn(N,S,M,null),Q=Promise.all(j.map(async Y=>{if(Y.matches&&Y.match&&Y.request&&Y.controller){let J=(await Hn(Y.request,Y.matches,M,Y.key))[Y.match.route.id];return{[Y.key]:J}}else return Promise.resolve({[Y.key]:{type:"error",error:Rt(404,{pathname:Y.path})}})})),G=await B,H=(await Q).reduce((Y,ee)=>Object.assign(Y,ee),{});return{loaderResults:G,fetcherResults:H}}function st(){ie=!0,X.forEach((S,j)=>{le.has(j)&&ge.add(j),yn(j)})}function Ft(S,j,N={}){b.fetchers.set(S,j),te({fetchers:new Map(b.fetchers)},{flushSync:(N&&N.flushSync)===!0})}function gt(S,j,N,M={}){let B=jn(b.matches,j);Yr(S),te({errors:{[B.route.id]:N},fetchers:new Map(b.fetchers)},{flushSync:(M&&M.flushSync)===!0})}function pr(S){return re.set(S,(re.get(S)||0)+1),ye.has(S)&&ye.delete(S),b.fetchers.get(S)||Dy}function Yr(S){let j=b.fetchers.get(S);le.has(S)&&!(j&&j.state==="loading"&&L.has(S))&&yn(S),X.delete(S),L.delete(S),A.delete(S),ye.delete(S),ge.delete(S),b.fetchers.delete(S)}function na(S){let j=(re.get(S)||0)-1;j<=0?(re.delete(S),ye.add(S)):re.set(S,j),te({fetchers:new Map(b.fetchers)})}function yn(S){let j=le.get(S);j&&(j.abort(),le.delete(S))}function Ru(S){for(let j of S){let N=pr(j),M=wn(N.data);b.fetchers.set(j,M)}}function Pu(){let S=[],j=!1;for(let N of A){let M=b.fetchers.get(N);de(M,`Expected fetcher: ${N}`),M.state==="loading"&&(A.delete(N),S.push(N),j=!0)}return Ru(S),j}function Iu(S){let j=[];for(let[N,M]of L)if(M<S){let B=b.fetchers.get(N);de(B,`Expected fetcher: ${N}`),B.state==="loading"&&(yn(N),L.delete(N),j.push(N))}return Ru(j),j.length>0}function gh(S,j){let N=b.blockers.get(S)||oi;return D.get(S)!==j&&D.set(S,j),N}function Du(S){b.blockers.delete(S),D.delete(S)}function ra(S,j){let N=b.blockers.get(S)||oi;de(N.state==="unblocked"&&j.state==="blocked"||N.state==="blocked"&&j.state==="blocked"||N.state==="blocked"&&j.state==="proceeding"||N.state==="blocked"&&j.state==="unblocked"||N.state==="proceeding"&&j.state==="unblocked",`Invalid blocker state transition: ${N.state} -> ${j.state}`);let M=new Map(b.blockers);M.set(S,j),te({blockers:M})}function _u({currentLocation:S,nextLocation:j,historyAction:N}){if(D.size===0)return;D.size>1&&Ae(!1,"A router only supports one blocker at a time");let M=Array.from(D.entries()),[B,Q]=M[M.length-1],G=b.blockers.get(B);if(!(G&&G.state==="proceeding")&&Q({currentLocation:S,nextLocation:j,historyAction:N}))return B}function Bl(S){let j=Rt(404,{pathname:S}),N=o||l,{matches:M,route:B}=ja(N);return{notFoundMatches:M,route:B,error:j}}function yh(S,j,N){if(m=S,w=j,v=N||null,!E&&b.navigation===vo){E=!0;let M=Tu(b.location,b.matches);M!=null&&te({restoreScrollPosition:M})}return()=>{m=null,w=null,v=null}}function Nu(S,j){return v&&v(S,j.map(M=>ly(M,b.loaderData)))||S.key}function vh(S,j){if(m&&w){let N=Nu(S,j);m[N]=w()}}function Tu(S,j){if(m){let N=Nu(S,j),M=m[N];if(typeof M=="number")return M}return null}function ia(S,j,N){if(e.patchRoutesOnNavigation)if(S){if(Object.keys(S[0].params).length>0)return{active:!0,matches:Ua(j,N,u,!0)}}else return{active:!0,matches:Ua(j,N,u,!0)||[]};return{active:!1,matches:null}}async function aa(S,j,N,M){if(!e.patchRoutesOnNavigation)return{type:"success",matches:S};let B=S;for(;;){let Q=o==null,G=o||l,H=a;try{await e.patchRoutesOnNavigation({signal:N,path:j,matches:B,fetcherKey:M,patch:(J,K)=>{N.aborted||Yc(J,K,G,H,i,!1)}})}catch(J){return{type:"error",error:J,partialMatches:B}}finally{Q&&!N.aborted&&(l=[...l])}if(N.aborted)return{type:"aborted"};let Y=Cn(G,j,u);if(Y)return{type:"success",matches:Y};let ee=Ua(G,j,u,!0);if(!ee||B.length===ee.length&&B.every((J,K)=>J.route.id===ee[K].route.id))return{type:"success",matches:null};B=ee}}function xh(S){a={},o=Vi(S,i,void 0,a)}function wh(S,j,N=!1){let M=o==null;Yc(S,j,o||l,a,i,N),M&&(l=[...l],te({}))}return I={get basename(){return u},get future(){return d},get state(){return b},get routes(){return l},get window(){return t},initialize:q,subscribe:ce,enableScrollRestoration:yh,navigate:Z,fetch:ze,revalidate:He,createHref:S=>e.history.createHref(S),encodeLocation:S=>e.history.encodeLocation(S),getFetcher:pr,deleteFetcher:na,dispose:ue,getBlocker:gh,deleteBlocker:Du,patchRoutes:wh,_internalFetchControllers:le,_internalSetRoutes:xh,_internalSetStateDoNotUseOrYouWillBreakYourApp(S){te(S)}},I}function Ly(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function ms(e,t,n,r,i,a){let l,o;if(i){l=[];for(let c of t)if(l.push(c),c.route.id===i){o=c;break}}else l=t,o=t[t.length-1];let u=gu(r||".",mu(l),zt(e.pathname,n)||e.pathname,a==="path");if(r==null&&(u.search=e.search,u.hash=e.hash),(r==null||r===""||r===".")&&o){let c=vu(u.search);if(o.route.index&&!c)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!o.route.index&&c){let d=new URLSearchParams(u.search),f=d.getAll("index");d.delete("index"),f.filter(m=>m).forEach(m=>d.append("index",m));let p=d.toString();u.search=p?`?${p}`:""}}return n!=="/"&&(u.pathname=xy({basename:n,pathname:u.pathname})),On(u)}function Qc(e,t,n){if(!n||!Ly(n))return{path:t};if(n.formMethod&&!Yy(n.formMethod))return{path:t,error:Rt(405,{method:n.formMethod})};let r=()=>({path:t,error:Rt(400,{type:"invalid-body"})}),a=(n.formMethod||"get").toUpperCase(),l=Gp(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!ut(a))return r();let f=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((p,[m,v])=>`${p}${m}=${v}
`,""):String(n.body);return{path:t,submission:{formMethod:a,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:f}}}else if(n.formEncType==="application/json"){if(!ut(a))return r();try{let f=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:a,formAction:l,formEncType:n.formEncType,formData:void 0,json:f,text:void 0}}}catch{return r()}}}de(typeof FormData=="function","FormData is not available in this environment");let o,u;if(n.formData)o=vs(n.formData),u=n.formData;else if(n.body instanceof FormData)o=vs(n.body),u=n.body;else if(n.body instanceof URLSearchParams)o=n.body,u=td(o);else if(n.body==null)o=new URLSearchParams,u=new FormData;else try{o=new URLSearchParams(n.body),u=td(o)}catch{return r()}let c={formMethod:a,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(ut(c.formMethod))return{path:t,submission:c};let d=mn(t);return e&&d.search&&vu(d.search)&&o.append("index",""),d.search=`?${o}`,{path:On(d),submission:c}}function Gc(e,t,n,r,i,a,l,o,u,c,d,f,p,m,v,w,E,g,h,y){var V;let C=y?xt(y[1])?y[1].error:y[1].data:void 0,I=i.createURL(a.location),b=i.createURL(u),k;if(d&&a.errors){let ie=Object.keys(a.errors)[0];k=l.findIndex(ge=>ge.route.id===ie)}else if(y&&xt(y[1])){let ie=y[0];k=l.findIndex(ge=>ge.route.id===ie)-1}let _=y?y[1].statusCode:void 0,T=_&&_>=400,R={currentUrl:I,currentParams:((V=a.matches[0])==null?void 0:V.params)||{},nextUrl:b,nextParams:l[0].params,...o,actionResult:C,actionStatus:_},z=l.map((ie,ge)=>{let{route:le}=ie,pe=null;if(k!=null&&ge>k?pe=!1:le.lazy?pe=!0:le.loader==null?pe=!1:d?pe=gs(le,a.loaderData,a.errors):zy(a.loaderData,a.matches[ge],ie)&&(pe=!0),pe!==null)return ys(n,r,e,ie,c,t,pe);let $=T?!1:f||I.pathname+I.search===b.pathname+b.search||I.search!==b.search||Fy(a.matches[ge],ie),L={...R,defaultShouldRevalidate:$},A=vl(ie,L);return ys(n,r,e,ie,c,t,A,L)}),ne=[];return v.forEach((ie,ge)=>{if(d||!l.some(ye=>ye.route.id===ie.routeId)||m.has(ge))return;let le=a.fetchers.get(ge),pe=le&&le.state!=="idle"&&le.data===void 0,$=Cn(E,ie.path,g);if(!$){if(h&&pe)return;ne.push({key:ge,routeId:ie.routeId,path:ie.path,matches:null,match:null,request:null,controller:null});return}if(w.has(ge))return;let L=Wa($,ie.path),A=new AbortController,X=yr(i,ie.path,A.signal),re=null;if(p.has(ge))p.delete(ge),re=Fr(n,r,X,$,L,c,t);else if(pe)f&&(re=Fr(n,r,X,$,L,c,t));else{let ye={...R,defaultShouldRevalidate:T?!1:f};vl(L,ye)&&(re=Fr(n,r,X,$,L,c,t,ye))}re&&ne.push({key:ge,routeId:ie.routeId,path:ie.path,matches:re,match:L,request:X,controller:A})}),{dsMatches:z,revalidatingFetchers:ne}}function gs(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=t!=null&&e.id in t,i=n!=null&&n[e.id]!==void 0;return!r&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!i}function zy(e,t,n){let r=!t||n.route.id!==t.route.id,i=!e.hasOwnProperty(n.route.id);return r||i}function Fy(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function vl(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function Yc(e,t,n,r,i,a){let l;if(e){let c=r[e];de(c,`No route found to patch children into: routeId = ${e}`),c.children||(c.children=[]),l=c.children}else l=n;let o=[],u=[];if(t.forEach(c=>{let d=l.find(f=>Vp(c,f));d?u.push({existingRoute:d,newRoute:c}):o.push(c)}),o.length>0){let c=Vi(o,i,[e||"_","patch",String((l==null?void 0:l.length)||"0")],r);l.push(...c)}if(a&&u.length>0)for(let c=0;c<u.length;c++){let{existingRoute:d,newRoute:f}=u[c],p=d,[m]=Vi([f],i,[],{},!0);Object.assign(p,{element:m.element?m.element:p.element,errorElement:m.errorElement?m.errorElement:p.errorElement,hydrateFallbackElement:m.hydrateFallbackElement?m.hydrateFallbackElement:p.hydrateFallbackElement})}}function Vp(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>{var i;return(i=t.children)==null?void 0:i.some(a=>Vp(n,a))}):!1}var Xc=new WeakMap,Hp=({key:e,route:t,manifest:n,mapRouteProperties:r})=>{let i=n[t.id];if(de(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let a=i.lazy[e];if(!a)return;let l=Xc.get(i);l||(l={},Xc.set(i,l));let o=l[e];if(o)return o;let u=(async()=>{let c=ny(e),f=i[e]!==void 0&&e!=="hasErrorBoundary";if(c)Ae(!c,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),l[e]=Promise.resolve();else if(f)Ae(!1,`Route "${i.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let p=await a();p!=null&&(Object.assign(i,{[e]:p}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[e]=void 0,Object.values(i.lazy).every(p=>p===void 0)&&(i.lazy=void 0))})();return l[e]=u,u},Zc=new WeakMap;function Ay(e,t,n,r,i){let a=n[e.id];if(de(a,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let d=Zc.get(a);if(d)return{lazyRoutePromise:d,lazyHandlerPromise:d};let f=(async()=>{de(typeof e.lazy=="function","No lazy route function found");let p=await e.lazy(),m={};for(let v in p){let w=p[v];if(w===void 0)continue;let E=iy(v),h=a[v]!==void 0&&v!=="hasErrorBoundary";E?Ae(!E,"Route property "+v+" is not a supported property to be returned from a lazy route function. This property will be ignored."):h?Ae(!h,`Route "${a.id}" has a static property "${v}" defined but its lazy function is also returning a value for this property. The lazy route property "${v}" will be ignored.`):m[v]=w}Object.assign(a,m),Object.assign(a,{...r(a),lazy:void 0})})();return Zc.set(a,f),f.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:f}}let l=Object.keys(e.lazy),o=[],u;for(let d of l){if(i&&i.includes(d))continue;let f=Hp({key:d,route:e,manifest:n,mapRouteProperties:r});f&&(o.push(f),d===t&&(u=f))}let c=o.length>0?Promise.all(o).then(()=>{}):void 0;return c==null||c.catch(()=>{}),u==null||u.catch(()=>{}),{lazyRoutePromise:c,lazyHandlerPromise:u}}async function Jc(e){let t=e.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(t.map(i=>i.resolve()))).forEach((i,a)=>{n[t[a].route.id]=i}),n}async function My(e){return e.matches.some(t=>t.route.unstable_middleware)?Kp(e,()=>Jc(e)):Jc(e)}function Kp(e,t){return Oy(e,t,r=>r,qy,n);function n(r,i,a){if(a)return Promise.resolve(Object.assign(a.value,{[i]:{type:"error",result:r}}));{let{matches:l}=e,o=Math.min(l.findIndex(c=>c.route.id===i)||0,l.findIndex(c=>c.unstable_shouldCallHandler())||0),u=jn(l,l[o].route.id).route.id;return Promise.resolve({[u]:{type:"error",result:r}})}}}async function Oy(e,t,n,r,i){let{matches:a,request:l,params:o,context:u}=e,c=a.flatMap(f=>f.route.unstable_middleware?f.route.unstable_middleware.map(p=>[f.route.id,p]):[]);return await qp({request:l,params:o,context:u},c,t,n,r,i)}async function qp(e,t,n,r,i,a,l=0){let{request:o}=e;if(o.signal.aborted)throw o.signal.reason??new Error(`Request aborted: ${o.method} ${o.url}`);let u=t[l];if(!u)return await n();let[c,d]=u,f,p=async()=>{if(f)throw new Error("You may only call `next()` once per middleware");try{return f={value:await qp(e,t,n,r,i,a,l+1)},f.value}catch(m){return f={value:await a(m,c,f)},f.value}};try{let m=await d(e,p),v=m!=null?r(m):void 0;return i(v)?v:f?v??f.value:(f={value:await p()},f.value)}catch(m){return await a(m,c,f)}}function Qp(e,t,n,r,i){let a=Hp({key:"unstable_middleware",route:r.route,manifest:t,mapRouteProperties:e}),l=Ay(r.route,ut(n.method)?"action":"loader",t,e,i);return{middleware:a,route:l.lazyRoutePromise,handler:l.lazyHandlerPromise}}function ys(e,t,n,r,i,a,l,o=null){let u=!1,c=Qp(e,t,n,r,i);return{...r,_lazyPromises:c,shouldLoad:l,unstable_shouldRevalidateArgs:o,unstable_shouldCallHandler(d){return u=!0,o?typeof d=="boolean"?vl(r,{...o,defaultShouldRevalidate:d}):vl(r,o):l},resolve(d){return u||l||d&&!ut(n.method)&&(r.route.lazy||r.route.loader)?By({request:n,match:r,lazyHandlerPromise:c==null?void 0:c.handler,lazyRoutePromise:c==null?void 0:c.route,handlerOverride:d,scopedContext:a}):Promise.resolve({type:"data",result:void 0})}}}function Fr(e,t,n,r,i,a,l,o=null){return r.map(u=>u.route.id!==i.route.id?{...u,shouldLoad:!1,unstable_shouldRevalidateArgs:o,unstable_shouldCallHandler:()=>!1,_lazyPromises:Qp(e,t,n,u,a),resolve:()=>Promise.resolve({type:"data",result:void 0})}:ys(e,t,n,u,a,l,!0,o))}async function $y(e,t,n,r,i,a){n.some(c=>{var d;return(d=c._lazyPromises)==null?void 0:d.middleware})&&await Promise.all(n.map(c=>{var d;return(d=c._lazyPromises)==null?void 0:d.middleware}));let l={request:t,params:n[0].params,context:i,matches:n},u=await e({...l,fetcherKey:r,unstable_runClientMiddleware:c=>{let d=l;return Kp(d,()=>c({...d,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(c=>{var d,f;return[(d=c._lazyPromises)==null?void 0:d.handler,(f=c._lazyPromises)==null?void 0:f.route]}))}catch{}return u}async function By({request:e,match:t,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:a}){let l,o,u=ut(e.method),c=u?"action":"loader",d=f=>{let p,m=new Promise((E,g)=>p=g);o=()=>p(),e.signal.addEventListener("abort",o);let v=E=>typeof f!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${c}" [routeId: ${t.route.id}]`)):f({request:e,params:t.params,context:a},...E!==void 0?[E]:[]),w=(async()=>{try{return{type:"data",result:await(i?i(g=>v(g)):v())}}catch(E){return{type:"error",result:E}}})();return Promise.race([w,m])};try{let f=u?t.route.action:t.route.loader;if(n||r)if(f){let p,[m]=await Promise.all([d(f).catch(v=>{p=v}),n,r]);if(p!==void 0)throw p;l=m}else{await n;let p=u?t.route.action:t.route.loader;if(p)[l]=await Promise.all([d(p),r]);else if(c==="action"){let m=new URL(e.url),v=m.pathname+m.search;throw Rt(405,{method:e.method,pathname:v,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(f)l=await d(f);else{let p=new URL(e.url),m=p.pathname+p.search;throw Rt(404,{pathname:m})}}catch(f){return{type:"error",result:f}}finally{o&&e.signal.removeEventListener("abort",o)}return l}async function Uy(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function Wy(e){var r,i,a,l,o,u;let{result:t,type:n}=e;if(Yp(t)){let c;try{c=await Uy(t)}catch(d){return{type:"error",error:d}}return n==="error"?{type:"error",error:new yl(t.status,t.statusText,c),statusCode:t.status,headers:t.headers}:{type:"data",data:c,statusCode:t.status,headers:t.headers}}return n==="error"?ad(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(r=t.init)==null?void 0:r.status,headers:(i=t.init)!=null&&i.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new yl(((a=t.init)==null?void 0:a.status)||500,void 0,t.data),statusCode:Hi(t)?t.status:void 0,headers:(l=t.init)!=null&&l.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Hi(t)?t.status:void 0}:ad(t)?{type:"data",data:t.data,statusCode:(o=t.init)==null?void 0:o.status,headers:(u=t.init)!=null&&u.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function Vy(e,t,n,r,i){let a=e.headers.get("Location");if(de(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!yu(a)){let l=r.slice(0,r.findIndex(o=>o.route.id===n)+1);a=ms(new URL(t.url),l,i,a),e.headers.set("Location",a)}return e}function ed(e,t,n){if(yu(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),a=zt(i.pathname,n)!=null;if(i.origin===t.origin&&a)return i.pathname+i.search+i.hash}return e}function yr(e,t,n,r){let i=e.createURL(Gp(t)).toString(),a={signal:n};if(r&&ut(r.formMethod)){let{formMethod:l,formEncType:o}=r;a.method=l.toUpperCase(),o==="application/json"?(a.headers=new Headers({"Content-Type":o}),a.body=JSON.stringify(r.json)):o==="text/plain"?a.body=r.text:o==="application/x-www-form-urlencoded"&&r.formData?a.body=vs(r.formData):a.body=r.formData}return new Request(i,a)}function vs(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function td(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function Hy(e,t,n,r=!1,i=!1){let a={},l=null,o,u=!1,c={},d=n&&xt(n[1])?n[1].error:void 0;return e.forEach(f=>{if(!(f.route.id in t))return;let p=f.route.id,m=t[p];if(de(!nr(m),"Cannot handle redirect results in processLoaderData"),xt(m)){let v=m.error;if(d!==void 0&&(v=d,d=void 0),l=l||{},i)l[p]=v;else{let w=jn(e,p);l[w.route.id]==null&&(l[w.route.id]=v)}r||(a[p]=Wp),u||(u=!0,o=Hi(m.error)?m.error.status:500),m.headers&&(c[p]=m.headers)}else a[p]=m.data,m.statusCode&&m.statusCode!==200&&!u&&(o=m.statusCode),m.headers&&(c[p]=m.headers)}),d!==void 0&&n&&(l={[n[0]]:d},n[2]&&(a[n[2]]=void 0)),{loaderData:a,errors:l,statusCode:o||200,loaderHeaders:c}}function nd(e,t,n,r,i,a){let{loaderData:l,errors:o}=Hy(t,n,r);return i.filter(u=>!u.matches||u.matches.some(c=>c.shouldLoad)).forEach(u=>{let{key:c,match:d,controller:f}=u;if(f&&f.signal.aborted)return;let p=a[c];if(de(p,"Did not find corresponding fetcher result"),xt(p)){let m=jn(e.matches,d==null?void 0:d.route.id);o&&o[m.route.id]||(o={...o,[m.route.id]:p.error}),e.fetchers.delete(c)}else if(nr(p))de(!1,"Unhandled fetcher revalidation redirect");else{let m=wn(p.data);e.fetchers.set(c,m)}}),{loaderData:l,errors:o}}function rd(e,t,n,r){let i=Object.entries(t).filter(([,a])=>a!==Wp).reduce((a,[l,o])=>(a[l]=o,a),{});for(let a of n){let l=a.route.id;if(!t.hasOwnProperty(l)&&e.hasOwnProperty(l)&&a.route.loader&&(i[l]=e[l]),r&&r.hasOwnProperty(l))break}return i}function id(e){return e?xt(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function jn(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function ja(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Rt(e,{pathname:t,routeId:n,method:r,type:i,message:a}={}){let l="Unknown Server Error",o="Unknown @remix-run/router error";return e===400?(l="Bad Request",r&&t&&n?o=`You made a ${r} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(o="Unable to encode submission body")):e===403?(l="Forbidden",o=`Route "${n}" does not match URL "${t}"`):e===404?(l="Not Found",o=`No route matches URL "${t}"`):e===405&&(l="Method Not Allowed",r&&t&&n?o=`You made a ${r.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(o=`Invalid request method "${r.toUpperCase()}"`)),new yl(e||500,l,new Error(o),!0)}function Ra(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,i]=t[n];if(nr(i))return{key:r,result:i}}}function Gp(e){let t=typeof e=="string"?mn(e):e;return On({...t,hash:""})}function Ky(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function qy(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,n])=>typeof t=="string"&&Qy(n))}function Qy(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function Gy(e){return Yp(e.result)&&Py.has(e.result.status)}function xt(e){return e.type==="error"}function nr(e){return(e&&e.type)==="redirect"}function ad(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function Yp(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function Yy(e){return Ry.has(e.toUpperCase())}function ut(e){return Cy.has(e.toUpperCase())}function vu(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Wa(e,t){let n=typeof t=="string"?mn(t).search:t.search;if(e[e.length-1].route.index&&vu(n||""))return e[e.length-1];let r=$p(e);return r[r.length-1]}function ld(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:a,json:l}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(a!=null)return{formMethod:t,formAction:n,formEncType:r,formData:a,json:void 0,text:void 0};if(l!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:l,text:void 0}}}function xo(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Xy(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function si(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Zy(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function wn(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Jy(e,t){try{let n=e.sessionStorage.getItem(Up);if(n){let r=JSON.parse(n);for(let[i,a]of Object.entries(r||{}))a&&Array.isArray(a)&&t.set(i,new Set(a||[]))}}catch{}}function ev(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(Up,JSON.stringify(n))}catch(r){Ae(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function tv(){let e,t,n=new Promise((r,i)=>{e=async a=>{r(a);try{await n}catch{}},t=async a=>{i(a);try{await n}catch{}}});return{promise:n,resolve:e,reject:t}}var fr=x.createContext(null);fr.displayName="DataRouter";var Zi=x.createContext(null);Zi.displayName="DataRouterState";x.createContext(!1);var xu=x.createContext({isTransitioning:!1});xu.displayName="ViewTransition";var Xp=x.createContext(new Map);Xp.displayName="Fetchers";var nv=x.createContext(null);nv.displayName="Await";var Jt=x.createContext(null);Jt.displayName="Navigation";var Fl=x.createContext(null);Fl.displayName="Location";var en=x.createContext({outlet:null,matches:[],isDataRoute:!1});en.displayName="Route";var wu=x.createContext(null);wu.displayName="RouteError";function rv(e,{relative:t}={}){de(Ji(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=x.useContext(Jt),{hash:i,pathname:a,search:l}=ea(e,{relative:t}),o=a;return n!=="/"&&(o=a==="/"?n:Zt([n,a])),r.createHref({pathname:o,search:l,hash:i})}function Ji(){return x.useContext(Fl)!=null}function Wn(){return de(Ji(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Fl).location}var Zp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Jp(e){x.useContext(Jt).static||x.useLayoutEffect(e)}function iv(){let{isDataRoute:e}=x.useContext(en);return e?xv():av()}function av(){de(Ji(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(fr),{basename:t,navigator:n}=x.useContext(Jt),{matches:r}=x.useContext(en),{pathname:i}=Wn(),a=JSON.stringify(mu(r)),l=x.useRef(!1);return Jp(()=>{l.current=!0}),x.useCallback((u,c={})=>{if(Ae(l.current,Zp),!l.current)return;if(typeof u=="number"){n.go(u);return}let d=gu(u,JSON.parse(a),i,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Zt([t,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[t,n,a,i,e])}var lv=x.createContext(null);function ov(e){let t=x.useContext(en).outlet;return t&&x.createElement(lv.Provider,{value:e},t)}function ea(e,{relative:t}={}){let{matches:n}=x.useContext(en),{pathname:r}=Wn(),i=JSON.stringify(mu(n));return x.useMemo(()=>gu(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function sv(e,t,n,r,i){de(Ji(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=x.useContext(Jt),{matches:l}=x.useContext(en),o=l[l.length-1],u=o?o.params:{},c=o?o.pathname:"/",d=o?o.pathnameBase:"/",f=o&&o.route;{let h=f&&f.path||"";eh(c,!f||h.endsWith("*")||h.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${h}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${h}"> to <Route path="${h==="/"?"*":`${h}/*`}">.`)}let p=Wn(),m;m=p;let v=m.pathname||"/",w=v;if(d!=="/"){let h=d.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(h.length).join("/")}let E=Cn(e,{pathname:w});return Ae(f||E!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Ae(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),pv(E&&E.map(h=>Object.assign({},h,{params:Object.assign({},u,h.params),pathname:Zt([d,a.encodeLocation?a.encodeLocation(h.pathname).pathname:h.pathname]),pathnameBase:h.pathnameBase==="/"?d:Zt([d,a.encodeLocation?a.encodeLocation(h.pathnameBase).pathname:h.pathnameBase])})),l,n,r,i)}function uv(){let e=vv(),t=Hi(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=x.createElement(x.Fragment,null,x.createElement("p",null,"💿 Hey developer 👋"),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:a},"ErrorBoundary")," or"," ",x.createElement("code",{style:a},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:i},n):null,l)}var cv=x.createElement(uv,null),dv=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?x.createElement(en.Provider,{value:this.props.routeContext},x.createElement(wu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fv({routeContext:e,match:t,children:n}){let r=x.useContext(fr);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(en.Provider,{value:e},n)}function pv(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=n==null?void 0:n.errors;if(l!=null){let c=a.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);de(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let o=!1,u=-1;if(n)for(let c=0;c<a.length;c++){let d=a[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:f,errors:p}=n,m=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){o=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,d,f)=>{let p,m=!1,v=null,w=null;n&&(p=l&&d.route.id?l[d.route.id]:void 0,v=d.route.errorElement||cv,o&&(u<0&&f===0?(eh("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,w=null):u===f&&(m=!0,w=d.route.hydrateFallbackElement||null)));let E=t.concat(a.slice(0,f+1)),g=()=>{let h;return p?h=v:m?h=w:d.route.Component?h=x.createElement(d.route.Component,null):d.route.element?h=d.route.element:h=c,x.createElement(fv,{match:d,routeContext:{outlet:c,matches:E,isDataRoute:n!=null},children:h})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?x.createElement(dv,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:g(),routeContext:{outlet:null,matches:E,isDataRoute:!0},unstable_onError:r}):g()},null)}function bu(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hv(e){let t=x.useContext(fr);return de(t,bu(e)),t}function mv(e){let t=x.useContext(Zi);return de(t,bu(e)),t}function gv(e){let t=x.useContext(en);return de(t,bu(e)),t}function Su(e){let t=gv(e),n=t.matches[t.matches.length-1];return de(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function yv(){return Su("useRouteId")}function vv(){var r;let e=x.useContext(wu),t=mv("useRouteError"),n=Su("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function xv(){let{router:e}=hv("useNavigate"),t=Su("useNavigate"),n=x.useRef(!1);return Jp(()=>{n.current=!0}),x.useCallback(async(i,a={})=>{Ae(n.current,Zp),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var od={};function eh(e,t,n){!t&&!od[e]&&(od[e]=!0,Ae(!1,n))}var sd={};function ud(e,t){!e&&!sd[t]&&(sd[t]=!0,console.warn(t))}function wv(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Ae(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:x.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Ae(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:x.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Ae(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:x.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var bv=["HydrateFallback","hydrateFallbackElement"],Sv=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",t(n))}})}};function Ev({router:e,flushSync:t,unstable_onError:n}){let[r,i]=x.useState(e.state),[a,l]=x.useState(),[o,u]=x.useState({isTransitioning:!1}),[c,d]=x.useState(),[f,p]=x.useState(),[m,v]=x.useState(),w=x.useRef(new Map),E=x.useCallback(I=>{i(b=>(I.errors&&n&&Object.entries(I.errors).forEach(([k,_])=>{var T;((T=b.errors)==null?void 0:T[k])!==_&&n(_)}),I))},[n]),g=x.useCallback((I,{deletedFetchers:b,flushSync:k,viewTransitionOpts:_})=>{I.fetchers.forEach((R,z)=>{R.data!==void 0&&w.current.set(z,R.data)}),b.forEach(R=>w.current.delete(R)),ud(k===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let T=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(ud(_==null||T,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!_||!T){t&&k?t(()=>E(I)):x.startTransition(()=>E(I));return}if(t&&k){t(()=>{f&&(c&&c.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:_.currentLocation,nextLocation:_.nextLocation})});let R=e.window.document.startViewTransition(()=>{t(()=>E(I))});R.finished.finally(()=>{t(()=>{d(void 0),p(void 0),l(void 0),u({isTransitioning:!1})})}),t(()=>p(R));return}f?(c&&c.resolve(),f.skipTransition(),v({state:I,currentLocation:_.currentLocation,nextLocation:_.nextLocation})):(l(I),u({isTransitioning:!0,flushSync:!1,currentLocation:_.currentLocation,nextLocation:_.nextLocation}))},[e.window,t,f,c,E]);x.useLayoutEffect(()=>e.subscribe(g),[e,g]),x.useEffect(()=>{o.isTransitioning&&!o.flushSync&&d(new Sv)},[o]),x.useEffect(()=>{if(c&&a&&e.window){let I=a,b=c.promise,k=e.window.document.startViewTransition(async()=>{x.startTransition(()=>E(I)),await b});k.finished.finally(()=>{d(void 0),p(void 0),l(void 0),u({isTransitioning:!1})}),p(k)}},[a,c,e.window,E]),x.useEffect(()=>{c&&a&&r.location.key===a.location.key&&c.resolve()},[c,f,r.location,a]),x.useEffect(()=>{!o.isTransitioning&&m&&(l(m.state),u({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),v(void 0))},[o.isTransitioning,m]);let h=x.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:I=>e.navigate(I),push:(I,b,k)=>e.navigate(I,{state:b,preventScrollReset:k==null?void 0:k.preventScrollReset}),replace:(I,b,k)=>e.navigate(I,{replace:!0,state:b,preventScrollReset:k==null?void 0:k.preventScrollReset})}),[e]),y=e.basename||"/",C=x.useMemo(()=>({router:e,navigator:h,static:!1,basename:y,unstable_onError:n}),[e,h,y,n]);return x.createElement(x.Fragment,null,x.createElement(fr.Provider,{value:C},x.createElement(Zi.Provider,{value:r},x.createElement(Xp.Provider,{value:w.current},x.createElement(xu.Provider,{value:o},x.createElement(Rv,{basename:y,location:r.location,navigationType:r.historyAction,navigator:h},x.createElement(kv,{routes:e.routes,future:e.future,state:r,unstable_onError:n})))))),null)}var kv=x.memo(Cv);function Cv({routes:e,future:t,state:n,unstable_onError:r}){return sv(e,void 0,n,r,t)}function jv(e){return ov(e.context)}function Rv({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){de(!Ji(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),o=x.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof n=="string"&&(n=mn(n));let{pathname:u="/",search:c="",hash:d="",state:f=null,key:p="default"}=n,m=x.useMemo(()=>{let v=zt(u,l);return v==null?null:{location:{pathname:v,search:c,hash:d,state:f,key:p},navigationType:r}},[l,u,c,d,f,p,r]);return Ae(m!=null,`<Router basename="${l}"> is not able to match the URL "${u}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:x.createElement(Jt.Provider,{value:o},x.createElement(Fl.Provider,{children:t,value:m}))}var Va="get",Ha="application/x-www-form-urlencoded";function Al(e){return e!=null&&typeof e.tagName=="string"}function Pv(e){return Al(e)&&e.tagName.toLowerCase()==="button"}function Iv(e){return Al(e)&&e.tagName.toLowerCase()==="form"}function Dv(e){return Al(e)&&e.tagName.toLowerCase()==="input"}function _v(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Nv(e,t){return e.button===0&&(!t||t==="_self")&&!_v(e)}var Pa=null;function Tv(){if(Pa===null)try{new FormData(document.createElement("form"),0),Pa=!1}catch{Pa=!0}return Pa}var Lv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wo(e){return e!=null&&!Lv.has(e)?(Ae(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ha}"`),null):e}function zv(e,t){let n,r,i,a,l;if(Iv(e)){let o=e.getAttribute("action");r=o?zt(o,t):null,n=e.getAttribute("method")||Va,i=wo(e.getAttribute("enctype"))||Ha,a=new FormData(e)}else if(Pv(e)||Dv(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||o.getAttribute("action");if(r=u?zt(u,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||Va,i=wo(e.getAttribute("formenctype"))||wo(o.getAttribute("enctype"))||Ha,a=new FormData(o,e),!Tv()){let{name:c,type:d,value:f}=e;if(d==="image"){let p=c?`${c}.`:"";a.append(`${p}x`,"0"),a.append(`${p}y`,"0")}else c&&a.append(c,f)}}else{if(Al(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Va,r=null,i=Ha,l=e}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Eu(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Fv(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&zt(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Av(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Mv(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Ov(e,t,n){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let l=await Av(a,n);return l.links?l.links():[]}return[]}));return Wv(r.flat(1).filter(Mv).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function cd(e,t,n,r,i,a){let l=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,o=(u,c)=>{var d;return n[c].pathname!==u.pathname||((d=n[c].route.path)==null?void 0:d.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return a==="assets"?t.filter((u,c)=>l(u,c)||o(u,c)):a==="data"?t.filter((u,c)=>{var f;let d=r.routes[u.route.id];if(!d||!d.hasLoader)return!1;if(l(u,c)||o(u,c))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function $v(e,t,{includeHydrateFallback:n}={}){return Bv(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function Bv(e){return[...new Set(e)]}function Uv(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function Wv(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let a=JSON.stringify(Uv(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function th(){let e=x.useContext(fr);return Eu(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Vv(){let e=x.useContext(Zi);return Eu(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ku=x.createContext(void 0);ku.displayName="FrameworkContext";function nh(){let e=x.useContext(ku);return Eu(e,"You must render this element inside a <HydratedRouter> element"),e}function Hv(e,t){let n=x.useContext(ku),[r,i]=x.useState(!1),[a,l]=x.useState(!1),{onFocus:o,onBlur:u,onMouseEnter:c,onMouseLeave:d,onTouchStart:f}=t,p=x.useRef(null);x.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let w=g=>{g.forEach(h=>{l(h.isIntersecting)})},E=new IntersectionObserver(w,{threshold:.5});return p.current&&E.observe(p.current),()=>{E.disconnect()}}},[e]),x.useEffect(()=>{if(r){let w=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(w)}}},[r]);let m=()=>{i(!0)},v=()=>{i(!1),l(!1)};return n?e!=="intent"?[a,p,{}]:[a,p,{onFocus:ui(o,m),onBlur:ui(u,v),onMouseEnter:ui(c,m),onMouseLeave:ui(d,v),onTouchStart:ui(f,m)}]:[!1,p,{}]}function ui(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Kv({page:e,...t}){let{router:n}=th(),r=x.useMemo(()=>Cn(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?x.createElement(Qv,{page:e,matches:r,...t}):null}function qv(e){let{manifest:t,routeModules:n}=nh(),[r,i]=x.useState([]);return x.useEffect(()=>{let a=!1;return Ov(e,t,n).then(l=>{a||i(l)}),()=>{a=!0}},[e,t,n]),r}function Qv({page:e,matches:t,...n}){let r=Wn(),{manifest:i,routeModules:a}=nh(),{basename:l}=th(),{loaderData:o,matches:u}=Vv(),c=x.useMemo(()=>cd(e,t,u,i,r,"data"),[e,t,u,i,r]),d=x.useMemo(()=>cd(e,t,u,i,r,"assets"),[e,t,u,i,r]),f=x.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let v=new Set,w=!1;if(t.forEach(g=>{var y;let h=i.routes[g.route.id];!h||!h.hasLoader||(!c.some(C=>C.route.id===g.route.id)&&g.route.id in o&&((y=a[g.route.id])!=null&&y.shouldRevalidate)||h.hasClientLoader?w=!0:v.add(g.route.id))}),v.size===0)return[];let E=Fv(e,l,"data");return w&&v.size>0&&E.searchParams.set("_routes",t.filter(g=>v.has(g.route.id)).map(g=>g.route.id).join(",")),[E.pathname+E.search]},[l,o,r,i,c,t,e,a]),p=x.useMemo(()=>$v(d,i),[d,i]),m=qv(d);return x.createElement(x.Fragment,null,f.map(v=>x.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),p.map(v=>x.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),m.map(({key:v,link:w})=>x.createElement("link",{key:v,nonce:n.nonce,...w})))}function Gv(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var rh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rh&&(window.__reactRouterVersion="7.8.2")}catch{}function Yv(e,t){return Ty({basename:t==null?void 0:t.basename,unstable_getContext:t==null?void 0:t.unstable_getContext,future:t==null?void 0:t.future,history:Zg({window:t==null?void 0:t.window}),hydrationData:Xv(),routes:e,mapRouteProperties:wv,hydrationRouteProperties:bv,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function Xv(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:Zv(e.errors)}),e}function Zv(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new yl(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let a=window[i.__subType];if(typeof a=="function")try{let l=new a(i.message);l.stack="",n[r]=l}catch{}}if(n[r]==null){let a=new Error(i.message);a.stack="",n[r]=a}}else n[r]=i;return n}var ih=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ah=x.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:o,target:u,to:c,preventScrollReset:d,viewTransition:f,...p},m){let{basename:v}=x.useContext(Jt),w=typeof c=="string"&&ih.test(c),E,g=!1;if(typeof c=="string"&&w&&(E=c,rh))try{let T=new URL(window.location.href),R=c.startsWith("//")?new URL(T.protocol+c):new URL(c),z=zt(R.pathname,v);R.origin===T.origin&&z!=null?c=z+R.search+R.hash:g=!0}catch{Ae(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let h=rv(c,{relative:i}),[y,C,I]=Hv(r,p),b=tx(c,{replace:l,state:o,target:u,preventScrollReset:d,relative:i,viewTransition:f});function k(T){t&&t(T),T.defaultPrevented||b(T)}let _=x.createElement("a",{...p,...I,href:E||h,onClick:g||a?t:k,ref:Gv(m,C),target:u,"data-discover":!w&&n==="render"?"true":void 0});return y&&!w?x.createElement(x.Fragment,null,_,x.createElement(Kv,{page:h})):_});ah.displayName="Link";var lh=x.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:o,children:u,...c},d){let f=ea(l,{relative:c.relative}),p=Wn(),m=x.useContext(Zi),{navigator:v,basename:w}=x.useContext(Jt),E=m!=null&&lx(f)&&o===!0,g=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,h=p.pathname,y=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(h=h.toLowerCase(),y=y?y.toLowerCase():null,g=g.toLowerCase()),y&&w&&(y=zt(y,w)||y);const C=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let I=h===g||!i&&h.startsWith(g)&&h.charAt(C)==="/",b=y!=null&&(y===g||!i&&y.startsWith(g)&&y.charAt(g.length)==="/"),k={isActive:I,isPending:b,isTransitioning:E},_=I?t:void 0,T;typeof r=="function"?T=r(k):T=[r,I?"active":null,b?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let R=typeof a=="function"?a(k):a;return x.createElement(ah,{...c,"aria-current":_,className:T,ref:d,style:R,to:l,viewTransition:o},typeof u=="function"?u(k):u)});lh.displayName="NavLink";var Jv=x.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:l=Va,action:o,onSubmit:u,relative:c,preventScrollReset:d,viewTransition:f,...p},m)=>{let v=ix(),w=ax(o,{relative:c}),E=l.toLowerCase()==="get"?"get":"post",g=typeof o=="string"&&ih.test(o),h=y=>{if(u&&u(y),y.defaultPrevented)return;y.preventDefault();let C=y.nativeEvent.submitter,I=(C==null?void 0:C.getAttribute("formmethod"))||l;v(C||y.currentTarget,{fetcherKey:t,method:I,navigate:n,replace:i,state:a,relative:c,preventScrollReset:d,viewTransition:f})};return x.createElement("form",{ref:m,method:E,action:w,onSubmit:r?u:h,...p,"data-discover":!g&&e==="render"?"true":void 0})});Jv.displayName="Form";function ex(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oh(e){let t=x.useContext(fr);return de(t,ex(e)),t}function tx(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let o=iv(),u=Wn(),c=ea(e,{relative:a});return x.useCallback(d=>{if(Nv(d,t)){d.preventDefault();let f=n!==void 0?n:On(u)===On(c);o(e,{replace:f,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[u,o,c,n,r,t,e,i,a,l])}var nx=0,rx=()=>`__${String(++nx)}__`;function ix(){let{router:e}=oh("useSubmit"),{basename:t}=x.useContext(Jt),n=yv();return x.useCallback(async(r,i={})=>{let{action:a,method:l,encType:o,formData:u,body:c}=zv(r,t);if(i.navigate===!1){let d=i.fetcherKey||rx();await e.fetch(d,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||l,formEncType:i.encType||o,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||l,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function ax(e,{relative:t}={}){let{basename:n}=x.useContext(Jt),r=x.useContext(en);de(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...ea(e||".",{relative:t})},l=Wn();if(e==null){a.search=l.search;let o=new URLSearchParams(a.search),u=o.getAll("index");if(u.some(d=>d==="")){o.delete("index"),u.filter(f=>f).forEach(f=>o.append("index",f));let d=o.toString();a.search=d?`?${d}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Zt([n,a.pathname])),On(a)}function lx(e,{relative:t}={}){let n=x.useContext(xu);de(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=oh("useViewTransitionState"),i=ea(e,{relative:t});if(!n.isTransitioning)return!1;let a=zt(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=zt(n.nextLocation.pathname,r)||n.nextLocation.pathname;return gl(i.pathname,l)!=null||gl(i.pathname,a)!=null}function ox(e){return x.createElement(Ev,{flushSync:zp.flushSync,...e})}const sx="modulepreload",ux=function(e,t){return new URL(e,t).href},dd={},Ar=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){const l=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),u=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=ux(c,r),c in dd)return;dd[c]=!0;const d=c.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(!!r)for(let v=l.length-1;v>=0;v--){const w=l[v];if(w.href===c&&(!d||w.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${f}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":sx,d||(m.as="script"),m.crossOrigin="",m.href=c,u&&m.setAttribute("nonce",u),document.head.appendChild(m),d)return new Promise((v,w)=>{m.addEventListener("load",v),m.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return i.then(l=>{for(const o of l||[])o.status==="rejected"&&a(o.reason);return t().catch(a)})};class bo{static async log(t,n="info"){try{const i=`[${new Date().toISOString()}] ${n.toUpperCase()}: ${t}`;console.log(i)}catch(r){console.error("Logging failed:",r)}}static async logError(t,n){const r=t instanceof Error?t.message:t,i=n?`${n}: ${r}`:r;await this.log(i,"error")}}const yt=class yt{static toSQL(t){if(!t||typeof t!="object")return t;const n={};for(const[r,i]of Object.entries(t)){const a=yt.JS_TO_SQL_MAPPINGS[r]||r;n[a]=i}return n}static fromSQL(t){if(!t||typeof t!="object")return t;const n={};for(const[r,i]of Object.entries(t)){const a=yt.SQL_TO_JS_MAPPINGS[r]||r;n[a]=i}return n}static convertQuery(t){let n=t;for(const[r,i]of Object.entries(yt.JS_TO_SQL_MAPPINGS)){const a=new RegExp(`\\b${r}\\b`,"g");n=n.replace(a,i)}return n}static fromSQLArray(t){return Array.isArray(t)?t.map(n=>yt.fromSQL(n)):t}static getMappings(){return{jsToSql:{...yt.JS_TO_SQL_MAPPINGS},sqlToJs:{...yt.SQL_TO_JS_MAPPINGS}}}static hasMapping(t,n){return n==="js-to-sql"?t in yt.JS_TO_SQL_MAPPINGS:t in yt.SQL_TO_JS_MAPPINGS}};Kt(yt,"JS_TO_SQL_MAPPINGS",{createdAt:"created_at",updatedAt:"updated_at",companyName:"company_name",contactPerson:"contact_person",addressStreet:"address_street",addressCity:"address_city",addressZip:"address_zip",addressCountry:"address_country",taxNumber:"tax_number",customerId:"customer_id",offerId:"offer_id",totalAmount:"total_amount",taxRate:"tax_rate",validUntil:"valid_until",dueDate:"due_date",paidAt:"paid_at",lastNumber:"last_number"}),Kt(yt,"SQL_TO_JS_MAPPINGS",Object.fromEntries(Object.entries(yt.JS_TO_SQL_MAPPINGS).map(([t,n])=>[n,t])));let Hr=yt;const qe=Hr.toSQL,Mt=Hr.fromSQL,mi=Hr.fromSQLArray,jt=Hr.convertQuery,Xn=class Xn{constructor(){var t,n;if(!((n=(t=window.rawalite)==null?void 0:t.db)!=null&&n.query))throw new Error("Database API not available - check preload script")}static getInstance(){return Xn.instance||(Xn.instance=new Xn),Xn.instance}async query(t,n){try{const r=jt(t),i=n;console.log("DbClient.query",{originalSQL:t,mappedSQL:r,params:i});const a=await window.rawalite.db.query(r,i),l=mi(a);return console.log("DbClient.query result",{rawCount:a.length,mappedCount:l.length}),l}catch(r){throw await bo.logError(r,"DbClient.query failed"),r}}async exec(t,n){try{const r=jt(t),i=n;console.log("DbClient.exec",{originalSQL:t,mappedSQL:r,params:i});const a=await window.rawalite.db.exec(r,i);return console.log("DbClient.exec result",a),a}catch(r){throw await bo.logError(r,"DbClient.exec failed"),r}}async transaction(t){try{const n=t.map(i=>({sql:jt(i.sql),params:i.params}));console.log("DbClient.transaction",{originalQueryCount:t.length,mappedQueryCount:n.length});const r=await window.rawalite.db.transaction(n);return console.log("DbClient.transaction results",{resultCount:r.length}),r}catch(n){throw await bo.logError(n,"DbClient.transaction failed"),n}}async insert(t,n){const r=qe(n),i=Object.keys(r),a=Object.values(r),l=i.map(()=>"?").join(", "),o=`INSERT INTO ${t} (${i.join(", ")}) VALUES (${l})`;return(await this.exec(o,a)).lastInsertRowid}async updateById(t,n,r){const i=qe(r),a=Object.keys(i),l=Object.values(i),o=a.map(d=>`${d} = ?`).join(", "),u=`UPDATE ${t} SET ${o} WHERE id = ?`;return(await this.exec(u,[...l,n])).changes}async deleteById(t,n){const r=`DELETE FROM ${t} WHERE id = ?`;return(await this.exec(r,[n])).changes}async getById(t,n){const r=await this.query(`SELECT * FROM ${t} WHERE id = ? LIMIT 1`,[n]);return r.length>0?r[0]:null}async getAll(t,n){const r=`SELECT * FROM ${t}${n?` ORDER BY ${n}`:""}`;return await this.query(r)}async count(t,n,r){var l;const i=`SELECT COUNT(*) as count FROM ${t}${n?` WHERE ${n}`:""}`;return((l=(await this.query(i,r))[0])==null?void 0:l.count)||0}async exists(t,n,r){return await this.count(t,n,r)>0}};Kt(Xn,"instance",null);let xl=Xn;function rn(){return new Date().toISOString()}class fd{constructor(){Kt(this,"client");this.client=xl.getInstance()}async ready(){}async getSettings(){const t=jt("SELECT * FROM settings WHERE id = 1");return(await this.client.query(t))[0]}async updateSettings(t){const r={...await this.getSettings(),...t,updatedAt:rn()},i=qe(r);return await this.client.transaction([{sql:`
          UPDATE settings SET
            company_name = ?, street = ?, zip = ?, city = ?, tax_id = ?,
            kleinunternehmer = ?, next_customer_number = ?, next_offer_number = ?, next_invoice_number = ?,
            updated_at = ?
          WHERE id = 1
        `,params:[i.company_name??null,i.street??null,i.zip??null,i.city??null,i.tax_id??null,i.kleinunternehmer?1:0,i.next_customer_number??1,i.next_offer_number??1,i.next_invoice_number??1,i.updated_at]}]),r}async listCustomers(){const t=jt("SELECT * FROM customers ORDER BY createdAt DESC"),n=await this.client.query(t);return mi(n)}async getCustomer(t){const n=jt("SELECT * FROM customers WHERE id = ?"),r=await this.client.query(n,[t]);return r.length===0?null:Mt(r[0])}async createCustomer(t){const n=rn(),r=qe({...t,createdAt:n,updatedAt:n}),i=await this.client.exec(`
      INSERT INTO customers (number, name, email, phone, street, zip, city, notes, created_at, updated_at)
      VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
    `,[r.number,r.name,r.email??null,r.phone??null,r.street??null,r.zip??null,r.city??null,r.notes??null,r.created_at,r.updated_at]),a=await this.getCustomer(i.lastInsertRowid);if(!a)throw new Error("Customer creation failed");return a}async updateCustomer(t,n){const r=await this.getCustomer(t);if(!r)throw new Error("Customer not found");const i={...r,...n,updatedAt:rn()},a=qe(i);await this.client.exec(`
      UPDATE customers SET
        number = ?, name = ?, email = ?, phone = ?, street = ?, zip = ?, city = ?, notes = ?, updated_at = ?
      WHERE id = ?
    `,[a.number,a.name,a.email??null,a.phone??null,a.street??null,a.zip??null,a.city??null,a.notes??null,a.updated_at,t]);const l=await this.getCustomer(t);if(!l)throw new Error("Customer update failed");return l}async deleteCustomer(t){await this.client.exec("DELETE FROM customers WHERE id = ?",[t])}async listPackages(){const t=jt("SELECT * FROM packages ORDER BY createdAt DESC"),n=await this.client.query(t),r=mi(n),i=[];for(const a of r){const l=await this.client.query("SELECT id, title, quantity, amount, parent_item_id, description FROM package_line_items WHERE package_id = ? ORDER BY id",[a.id]),o=mi(l).map(u=>({id:u.id,title:u.title,quantity:u.quantity,amount:u.amount,parentItemId:u.parentItemId||void 0,description:u.description||void 0}));i.push({...a,lineItems:o})}return i}async getPackage(t){const n=jt("SELECT * FROM packages WHERE id = ?"),r=await this.client.query(n,[t]);if(r.length===0)return null;const i=Mt(r[0]),a=await this.client.query("SELECT id, title, quantity, amount, parent_item_id, description FROM package_line_items WHERE package_id = ? ORDER BY id",[t]),l=mi(a).map(o=>({id:o.id,title:o.title,quantity:o.quantity,amount:o.amount,parentItemId:o.parentItemId||void 0,description:o.description||void 0}));return{...i,lineItems:l}}async createPackage(t){const n=rn(),r=qe({...t,createdAt:n,updatedAt:n}),i=[{sql:`
          INSERT INTO packages (internal_title, parent_package_id, total, add_vat, created_at, updated_at)
          VALUES (?, ?, ?, ?, ?, ?)
        `,params:[r.internal_title,r.parent_package_id??null,r.total,r.add_vat?1:0,r.created_at,r.updated_at]}];await this.client.transaction(i);const l=(await this.client.query("SELECT id FROM packages WHERE internal_title = ? AND created_at = ? ORDER BY id DESC LIMIT 1",[r.internal_title,r.created_at]))[0].id;for(const u of t.lineItems){const c=qe(u);await this.client.exec("INSERT INTO package_line_items (package_id, title, quantity, amount, parent_item_id, description) VALUES (?, ?, ?, ?, ?, ?)",[l,c.title,c.quantity,c.amount,c.parent_item_id||null,c.description||null])}const o=await this.getPackage(l);if(!o)throw new Error("Package creation failed");return o}async updatePackage(t,n){const r=await this.getPackage(t);if(!r)throw new Error("Package not found");const i={...r,...n,updatedAt:rn()},a=qe(i);if(await this.client.exec(`
      UPDATE packages SET
        internal_title = ?, parent_package_id = ?, total = ?, add_vat = ?, updated_at = ?
      WHERE id = ?
    `,[a.internal_title,a.parent_package_id??null,a.total,a.add_vat?1:0,a.updated_at,t]),n.lineItems){await this.client.exec("DELETE FROM package_line_items WHERE package_id = ?",[t]);for(const o of n.lineItems){const u=qe(o);await this.client.exec("INSERT INTO package_line_items (package_id, title, quantity, amount, parent_item_id, description) VALUES (?, ?, ?, ?, ?, ?)",[t,u.title,u.quantity,u.amount,u.parent_item_id||null,u.description||null])}}const l=await this.getPackage(t);if(!l)throw new Error("Package update failed");return l}async deletePackage(t){await this.client.transaction([{sql:"DELETE FROM package_line_items WHERE package_id = ?",params:[t]},{sql:"DELETE FROM packages WHERE id = ?",params:[t]}])}async listOffers(){const t=jt("SELECT * FROM offers ORDER BY createdAt DESC"),n=await this.client.query(t),r=[];for(const i of n){const a=Mt(i),o=await this.client.query("SELECT id, title, description, quantity, unit_price, total, parent_item_id FROM offer_line_items WHERE offer_id = ? ORDER BY id",[i.id]);r.push({...a,lineItems:o.map(u=>{const c=Mt(u);return{id:c.id,title:c.title,description:c.description||void 0,quantity:c.quantity,unitPrice:c.unitPrice,total:c.total,parentItemId:c.parentItemId||void 0}})})}return r}async getOffer(t){const n=jt("SELECT * FROM offers WHERE id = ?"),r=await this.client.query(n,[t]);if(!r[0])return null;const i=Mt(r[0]),l=await this.client.query("SELECT id, title, description, quantity, unit_price, total, parent_item_id FROM offer_line_items WHERE offer_id = ? ORDER BY id",[t]);return{...i,lineItems:l.map(o=>{const u=Mt(o);return{id:u.id,title:u.title,description:u.description||void 0,quantity:u.quantity,unitPrice:u.unitPrice,total:u.total,parentItemId:u.parentItemId||void 0}})}}async createOffer(t){const n=rn(),r=qe({...t,createdAt:n,updatedAt:n}),a=(await this.client.exec(`
      INSERT INTO offers (offer_number, customer_id, title, status, valid_until, subtotal, vat_rate, vat_amount, total, notes, created_at, updated_at)
      VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
    `,[r.offer_number,r.customer_id,r.title,r.status,r.valid_until,r.subtotal,r.vat_rate,r.vat_amount,r.total,r.notes||null,r.created_at,r.updated_at])).lastInsertRowid;for(const o of t.lineItems){const u=qe(o);await this.client.exec("INSERT INTO offer_line_items (offer_id, title, description, quantity, unit_price, total, parent_item_id) VALUES (?, ?, ?, ?, ?, ?, ?)",[a,u.title,u.description||null,u.quantity,u.unit_price,u.total,u.parent_item_id||null])}const l=await this.getOffer(a);if(!l)throw new Error("Offer creation failed");return l}async updateOffer(t,n){const r=await this.getOffer(t);if(!r)throw new Error("Offer not found");const i={...r,...n,updatedAt:rn()},a=qe(i);if(await this.client.exec(`
      UPDATE offers SET
        offer_number = ?, customer_id = ?, title = ?, status = ?, valid_until = ?, 
        subtotal = ?, vat_rate = ?, vat_amount = ?, total = ?, notes = ?, updated_at = ?
      WHERE id = ?
    `,[a.offer_number,a.customer_id,a.title,a.status,a.valid_until,a.subtotal,a.vat_rate,a.vat_amount,a.total,a.notes||null,a.updated_at,t]),n.lineItems){await this.client.exec("DELETE FROM offer_line_items WHERE offer_id = ?",[t]);for(const o of n.lineItems){const u=qe(o);await this.client.exec("INSERT INTO offer_line_items (offer_id, title, description, quantity, unit_price, total, parent_item_id) VALUES (?, ?, ?, ?, ?, ?, ?)",[t,u.title,u.description||null,u.quantity,u.unit_price,u.total,u.parent_item_id||null])}}const l=await this.getOffer(t);if(!l)throw new Error("Offer update failed");return l}async deleteOffer(t){await this.client.transaction([{sql:"DELETE FROM offer_line_items WHERE offer_id = ?",params:[t]},{sql:"DELETE FROM offers WHERE id = ?",params:[t]}])}async listInvoices(){const t=jt("SELECT * FROM invoices ORDER BY createdAt DESC"),n=await this.client.query(t),r=[];for(const i of n){const a=Mt(i),o=await this.client.query("SELECT id, title, description, quantity, unit_price, total, parent_item_id FROM invoice_line_items WHERE invoice_id = ? ORDER BY id",[i.id]);r.push({...a,lineItems:o.map(u=>{const c=Mt(u);return{id:c.id,title:c.title,description:c.description||void 0,quantity:c.quantity,unitPrice:c.unitPrice,total:c.total,parentItemId:c.parentItemId||void 0}})})}return r}async getInvoice(t){const n=jt("SELECT * FROM invoices WHERE id = ?"),r=await this.client.query(n,[t]);if(!r[0])return null;const i=Mt(r[0]),l=await this.client.query("SELECT id, title, description, quantity, unit_price, total, parent_item_id FROM invoice_line_items WHERE invoice_id = ? ORDER BY id",[t]);return{...i,lineItems:l.map(o=>{const u=Mt(o);return{id:u.id,title:u.title,description:u.description||void 0,quantity:u.quantity,unitPrice:u.unitPrice,total:u.total,parentItemId:u.parentItemId||void 0}})}}async createInvoice(t){const n=rn(),r=qe({...t,createdAt:n,updatedAt:n}),a=(await this.client.exec(`
      INSERT INTO invoices (invoice_number, customer_id, offer_id, title, status, due_date, subtotal, vat_rate, vat_amount, total, notes, created_at, updated_at)
      VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
    `,[r.invoice_number,r.customer_id,r.offer_id||null,r.title,r.status,r.due_date,r.subtotal,r.vat_rate,r.vat_amount,r.total,r.notes||null,r.created_at,r.updated_at])).lastInsertRowid;for(const o of t.lineItems){const u=qe(o);await this.client.exec("INSERT INTO invoice_line_items (invoice_id, title, description, quantity, unit_price, total, parent_item_id) VALUES (?, ?, ?, ?, ?, ?, ?)",[a,u.title,u.description||null,u.quantity,u.unit_price,u.total,u.parent_item_id||null])}const l=await this.getInvoice(a);if(!l)throw new Error("Invoice creation failed");return l}async updateInvoice(t,n){const r=await this.getInvoice(t);if(!r)throw new Error("Invoice not found");const i={...r,...n,updatedAt:rn()},a=qe(i);if(await this.client.exec(`
      UPDATE invoices SET
        invoice_number = ?, customer_id = ?, offer_id = ?, title = ?, status = ?, due_date = ?, 
        subtotal = ?, vat_rate = ?, vat_amount = ?, total = ?, notes = ?, updated_at = ?
      WHERE id = ?
    `,[a.invoice_number,a.customer_id,a.offer_id||null,a.title,a.status,a.due_date,a.subtotal,a.vat_rate,a.vat_amount,a.total,a.notes||null,a.updated_at,t]),n.lineItems){await this.client.exec("DELETE FROM invoice_line_items WHERE invoice_id = ?",[t]);for(const o of n.lineItems){const u=qe(o);await this.client.exec("INSERT INTO invoice_line_items (invoice_id, title, description, quantity, unit_price, total, parent_item_id) VALUES (?, ?, ?, ?, ?, ?, ?)",[t,u.title,u.description||null,u.quantity,u.unit_price,u.total,u.parent_item_id||null])}}const l=await this.getInvoice(t);if(!l)throw new Error("Invoice update failed");return l}async deleteInvoice(t){await this.client.transaction([{sql:"DELETE FROM invoice_line_items WHERE invoice_id = ?",params:[t]},{sql:"DELETE FROM invoices WHERE id = ?",params:[t]}])}}xl.getInstance();const pd=(e,t=[])=>{throw new Error("Legacy sync all() not supported. Use DbClient.query() instead.")},cx=(e,t=[])=>{throw new Error("Legacy sync run() not supported. Use DbClient.exec() instead.")},hd=e=>{throw new Error("Legacy withTx() not supported. Use DbClient.transaction() instead.")},dx=()=>Promise.resolve(),bt={companyData:{name:"RawaLite",street:"",postalCode:"",city:"",phone:"",email:"",website:"",taxNumber:"",vatId:"",kleinunternehmer:!1,bankName:"",bankAccount:"",bankBic:"",logo:""},numberingCircles:[{id:"customers",name:"Kunden",prefix:"K-",digits:4,current:0,resetMode:"never"},{id:"offers",name:"Angebote",prefix:"AN-",digits:4,current:0,resetMode:"yearly"},{id:"invoices",name:"Rechnungen",prefix:"RE-",digits:4,current:0,resetMode:"yearly"},{id:"packages",name:"Pakete",prefix:"PAK-",digits:3,current:0,resetMode:"never"}]};class sh{async getSettings(){await dx();const n=pd()[0];let r;if(n){const a=Mt(n);r={name:a.companyName||"",street:a.street||"",postalCode:a.zip||"",city:a.city||"",phone:a.phone||"",email:a.email||"",website:a.website||"",taxNumber:a.taxId||"",vatId:a.vatId||"",kleinunternehmer:!!a.kleinunternehmer,bankName:a.bankName||"",bankAccount:a.bankAccount||"",bankBic:a.bankBic||"",logo:a.logo||""}}else r=bt.companyData;let i;try{const a=pd(`
        SELECT id, name, prefix, digits, current, resetMode, lastResetYear
        FROM numbering_circles
        ORDER BY name
      `);a.length>0?i=a.map(l=>({id:l.id,name:l.name,prefix:l.prefix,digits:l.digits,current:l.current,resetMode:l.resetMode,lastResetYear:l.lastResetYear??void 0})):i=bt.numberingCircles}catch(a){console.warn("Error loading numbering circles from SQLite, trying localStorage fallback:",a);try{const l=localStorage.getItem("rawalite-numbering");l?i=JSON.parse(l):i=bt.numberingCircles}catch(l){console.warn("LocalStorage fallback failed:",l),i=bt.numberingCircles}}return{companyData:r,numberingCircles:i}}async updateCompanyData(t){await hd()}async updateNumberingCircles(t){try{await hd(async()=>{for(const n of t)cx(`
            INSERT OR REPLACE INTO numbering_circles 
            (id, name, prefix, digits, current, resetMode, lastResetYear, createdAt, updatedAt)
            VALUES (?, ?, ?, ?, ?, ?, ?, 
              COALESCE((SELECT createdAt FROM numbering_circles WHERE id = ?), datetime('now')),
              datetime('now')
            )
          `,[n.id,n.name,n.prefix,n.digits,n.current,n.resetMode,n.lastResetYear??null,n.id])}),console.log("✅ Nummernkreise in SQLite gespeichert")}catch(n){console.error("Error saving numbering circles to SQLite:",n);try{localStorage.setItem("rawalite-numbering",JSON.stringify(t)),console.warn("⚠️ Fallback: Nummernkreise in localStorage gespeichert")}catch(r){throw console.error("LocalStorage fallback failed:",r),n}}}async getNextNumber(t){const{NummernkreisService:n}=await Ar(async()=>{const{NummernkreisService:r}=await import("./NummernkreisService-DFZSVNp4.js");return{NummernkreisService:r}},[],import.meta.url);return await n.getNextNumber(t)}}const uh=x.createContext(null),Ia=new sh;function fx({children:e}){const[t,n]=x.useState(bt),[r,i]=x.useState(!0),[a,l]=x.useState(null),o=async()=>{try{i(!0);const p=await Ia.getSettings();n(p),l(null)}catch(p){console.error("Error loading settings from SQLite:",p),l("Fehler beim Laden der Einstellungen")}finally{i(!1)}};x.useEffect(()=>{o()},[]);const f={settings:t,loading:r,error:a,updateCompanyData:async p=>{try{i(!0),await Ia.updateCompanyData(p),await o()}catch(m){throw console.error("Error saving company data:",m),l("Fehler beim Speichern der Unternehmensdaten"),m}},updateNumberingCircles:async p=>{try{i(!0),await Ia.updateNumberingCircles(p),await o(),l(null)}catch(m){throw console.error("Error saving numbering circles:",m),l("Fehler beim Speichern der Nummernkreise"),m}},getNextNumber:async p=>{try{const m=await Ia.getNextNumber(p);return await o(),m}catch(m){throw console.error("Error getting next number:",m),m}},refreshSettings:o};return s.jsx(uh.Provider,{value:f,children:e})}function ch(){const e=x.useContext(uh);if(!e)throw new Error("useSettings must be used within a SettingsProvider");return e}const dh=x.createContext({adapter:null,ready:!1});function Vn(){const e=x.useContext(dh);if(!e)throw new Error("usePersistence must be used within PersistenceProvider");return e}const gr=new sh;function ta(){const[e,t]=x.useState(bt),[n,r]=x.useState(!0),[i,a]=x.useState(null);return x.useEffect(()=>{async function c(){try{r(!0);const d=await gr.getSettings();t(d),a(null)}catch(d){console.error("Error loading settings from SQLite:",d),a("Fehler beim Laden der Einstellungen")}finally{r(!1)}}c()},[]),{settings:e,loading:n,error:i,updateCompanyData:async c=>{try{r(!0),await gr.updateCompanyData(c);const d=await gr.getSettings();t(d),a(null)}catch(d){throw console.error("Error saving company data:",d),a("Fehler beim Speichern der Unternehmensdaten"),d}finally{r(!1)}},updateNumberingCircles:async c=>{try{r(!0),await gr.updateNumberingCircles(c),t(d=>({...d,numberingCircles:c})),a(null)}catch(d){throw console.error("Error saving numbering circles:",d),a("Fehler beim Speichern der Nummernkreise"),d}finally{r(!1)}},getNextNumber:async c=>{try{const d=await gr.getNextNumber(c),f=await gr.getSettings();return t(f),d}catch(d){throw console.error("Error getting next number:",d),d}}}}class Ci extends Error{constructor(t,n,r){super(t),this.code=n,this.originalError=r,this.name="AppError"}}class Nt extends Ci{constructor(t,n){super(t,"DATABASE_ERROR",n),this.name="DatabaseError"}}class se extends Ci{constructor(t,n){super(t,"VALIDATION_ERROR"),this.field=n,this.name="ValidationError"}}function Te(e){return e instanceof Ci?e:e instanceof Error?new Ci(e.message,"UNKNOWN_ERROR",e):new Ci(String(e),"UNKNOWN_ERROR",e)}function px(e){switch(e.code){case"DATABASE_ERROR":return"Es gab ein Problem mit der Datenbank. Bitte versuchen Sie es erneut.";case"VALIDATION_ERROR":return e.message;case"SETTINGS_ERROR":return"Fehler beim Laden oder Speichern der Einstellungen.";default:return"Ein unerwarteter Fehler ist aufgetreten. Bitte versuchen Sie es erneut."}}function Ml(){const{adapter:e}=Vn(),{getNextNumber:t}=ta(),[n,r]=x.useState([]),[i,a]=x.useState(!0),[l,o]=x.useState(null);async function u(){if(e){a(!0),o(null);try{const p=await e.listOffers();r(p)}catch(p){const m=Te(p);o(m.message),console.error("Error loading offers:",m)}finally{a(!1)}}}x.useEffect(()=>{u()},[e]);async function c(p){var E;if(!e)throw new Nt("Datenbank-Adapter nicht verfügbar");if(!((E=p.title)!=null&&E.trim()))throw new se("Angebots-Titel ist erforderlich","title");if(!p.customerId)throw new se("Kunde ist erforderlich","customerId");if(!p.lineItems||p.lineItems.length===0)throw new se("Mindestens eine Position ist erforderlich","lineItems");let m=0;p.lineItems.forEach((g,h)=>{var C;if(!((C=g.title)!=null&&C.trim()))throw new se(`Titel für Position ${h+1} ist erforderlich`,`lineItems.${h}.title`);if(g.quantity<=0)throw new se(`Menge für Position ${h+1} muss größer als 0 sein`,`lineItems.${h}.quantity`);if(g.unitPrice<0)throw new se(`Preis für Position ${h+1} darf nicht negativ sein`,`lineItems.${h}.unitPrice`);const y=g.quantity*g.unitPrice;m+=y,g.total=y});const v=m*(p.vatRate/100),w=m+v;o(null);try{let g;try{g=await t("offers")}catch(y){console.warn("Settings not available, using fallback numbering:",y);const C=new Date().getFullYear(),I=Date.now().toString().slice(-4);g=`AN-${C}-${I}`}const h=await e.createOffer({...p,offerNumber:g,subtotal:m,vatAmount:v,total:w});return await u(),h}catch(g){const h=Te(g);throw o(h.message),console.error("Error creating offer:",h),h}}async function d(p,m){if(!e)throw new Nt("Datenbank-Adapter nicht verfügbar");if(m.title!==void 0&&!m.title.trim())throw new se("Angebots-Titel ist erforderlich","title");if(m.lineItems!==void 0){if(m.lineItems.length===0)throw new se("Mindestens eine Position ist erforderlich","lineItems");let v=0;m.lineItems.forEach((h,y)=>{var I;if(!((I=h.title)!=null&&I.trim()))throw new se(`Titel für Position ${y+1} ist erforderlich`,`lineItems.${y}.title`);if(h.quantity<=0)throw new se(`Menge für Position ${y+1} muss größer als 0 sein`,`lineItems.${y}.quantity`);if(h.unitPrice<0)throw new se(`Preis für Position ${y+1} darf nicht negativ sein`,`lineItems.${y}.unitPrice`);const C=h.quantity*h.unitPrice;v+=C,h.total=C});const w=m.vatRate??19,E=v*(w/100),g=v+E;m.subtotal=v,m.vatAmount=E,m.total=g}o(null);try{const v=await e.updateOffer(p,m);return await u(),v}catch(v){const w=Te(v);throw o(w.message),console.error("Error updating offer:",w),w}}async function f(p){if(!e)throw new Nt("Datenbank-Adapter nicht verfügbar");o(null);try{return await e.deleteOffer(p),await u(),!0}catch(m){const v=Te(m);throw o(v.message),console.error("Error deleting offer:",v),v}}return{offers:n,loading:i,error:l,createOffer:c,updateOffer:d,deleteOffer:f,refresh:u}}function Cu(){const{adapter:e}=Vn(),{getNextNumber:t}=ta(),[n,r]=x.useState([]),[i,a]=x.useState(!0),[l,o]=x.useState(null);async function u(){if(e){a(!0),o(null);try{const p=await e.listInvoices();r(p)}catch(p){const m=Te(p);o(m.message),console.error("Error loading invoices:",m)}finally{a(!1)}}}x.useEffect(()=>{u()},[e]);async function c(p){var E;if(!e)throw new Nt("Datenbank-Adapter nicht verfügbar");if(!((E=p.title)!=null&&E.trim()))throw new se("Rechnungs-Titel ist erforderlich","title");if(!p.customerId)throw new se("Kunde ist erforderlich","customerId");if(!p.lineItems||p.lineItems.length===0)throw new se("Mindestens eine Position ist erforderlich","lineItems");let m=0;p.lineItems.forEach((g,h)=>{var C;if(!((C=g.title)!=null&&C.trim()))throw new se(`Titel für Position ${h+1} ist erforderlich`,`lineItems.${h}.title`);if(g.quantity<=0)throw new se(`Menge für Position ${h+1} muss größer als 0 sein`,`lineItems.${h}.quantity`);if(g.unitPrice<0)throw new se(`Preis für Position ${h+1} darf nicht negativ sein`,`lineItems.${h}.unitPrice`);const y=g.quantity*g.unitPrice;m+=y,g.total=y});const v=m*(p.vatRate/100),w=m+v;o(null);try{let g;try{g=await t("invoices")}catch(y){console.warn("Settings not available, using fallback numbering:",y);const C=new Date().getFullYear(),I=Date.now().toString().slice(-4);g=`RE-${C}-${I}`}const h=await e.createInvoice({...p,invoiceNumber:g,subtotal:m,vatAmount:v,total:w});return await u(),h}catch(g){const h=Te(g);throw o(h.message),console.error("Error creating invoice:",h),h}}async function d(p,m){if(!e)throw new Nt("Datenbank-Adapter nicht verfügbar");if(m.title!==void 0&&!m.title.trim())throw new se("Rechnungs-Titel ist erforderlich","title");if(m.lineItems!==void 0){if(m.lineItems.length===0)throw new se("Mindestens eine Position ist erforderlich","lineItems");let v=0;m.lineItems.forEach((h,y)=>{var I;if(!((I=h.title)!=null&&I.trim()))throw new se(`Titel für Position ${y+1} ist erforderlich`,`lineItems.${y}.title`);if(h.quantity<=0)throw new se(`Menge für Position ${y+1} muss größer als 0 sein`,`lineItems.${y}.quantity`);if(h.unitPrice<0)throw new se(`Preis für Position ${y+1} darf nicht negativ sein`,`lineItems.${y}.unitPrice`);const C=h.quantity*h.unitPrice;v+=C,h.total=C});const w=m.vatRate??19,E=v*(w/100),g=v+E;m.subtotal=v,m.vatAmount=E,m.total=g}o(null);try{const v=await e.updateInvoice(p,m);return await u(),v}catch(v){const w=Te(v);throw o(w.message),console.error("Error updating invoice:",w),w}}async function f(p){if(!e)throw new Nt("Datenbank-Adapter nicht verfügbar");o(null);try{return await e.deleteInvoice(p),await u(),!0}catch(m){const v=Te(m);throw o(v.message),console.error("Error deleting invoice:",v),v}}return{invoices:n,loading:i,error:l,createInvoice:c,updateInvoice:d,deleteInvoice:f,refresh:u}}const hx=""+new URL("rawalite-logo-D3IvfwpA.png",import.meta.url).href;function mx(){var o,u,c,d;const{settings:e,loading:t,error:n}=ch(),{offers:r}=Ml(),{invoices:i}=Cu(),a={totalOffers:r.length,pendingOffers:r.filter(f=>f.status==="draft").length,acceptedOffers:r.filter(f=>f.status==="accepted").length,totalInvoices:i.length,paidInvoices:i.filter(f=>f.status==="paid").length,unpaidInvoices:i.filter(f=>f.status==="draft"||f.status==="sent"||f.status==="overdue").length,totalOfferValue:r.reduce((f,p)=>f+p.total,0),paidAmount:i.filter(f=>f.status==="paid").reduce((f,p)=>f+p.total,0),unpaidAmount:i.filter(f=>f.status!=="paid").reduce((f,p)=>f+p.total,0)},l=[{to:"/",label:"Dashboard"},{to:"/kunden",label:"Kunden"},{to:"/pakete",label:"Pakete"},{to:"/angebote",label:"Angebote"},{to:"/rechnungen",label:"Rechnungen"},{to:"/updates",label:"Updates"},{to:"/einstellungen",label:"Einstellungen"}];return s.jsxs("aside",{className:"sidebar",children:[s.jsx("div",{style:{marginBottom:"20px"},children:s.jsx("div",{style:{width:"100%",textAlign:"center",padding:"16px 8px",marginBottom:"16px"},children:s.jsx("img",{src:hx,alt:"RawaLite",style:{width:"100%",maxWidth:"180px",height:"auto",objectFit:"contain",filter:"drop-shadow(0 2px 8px rgba(0,0,0,0.3))"}})})}),s.jsx("ul",{className:"nav",children:l.map(f=>s.jsx("li",{children:s.jsx(lh,{to:f.to,end:f.to==="/",children:f.label})},f.to))}),s.jsxs("div",{style:{marginTop:"20px",padding:"16px 12px",backgroundColor:"rgba(255,255,255,0.04)",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.08)"},children:[!t&&((o=e.companyData)!=null&&o.logo)?s.jsx("div",{style:{width:"100%",textAlign:"center",marginBottom:"12px"},children:s.jsx("img",{src:e.companyData.logo,alt:"Firmenlogo",style:{maxWidth:"100%",maxHeight:"60px",objectFit:"contain",borderRadius:"6px",filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.2))"},onError:f=>{console.error("Firmenlogo konnte nicht geladen werden"),f.currentTarget.style.display="none"}})}):s.jsxs("div",{style:{width:"100%",textAlign:"center",marginBottom:"12px",padding:"16px 10px",backgroundColor:"rgba(255,255,255,0.02)",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)"},children:[s.jsx("div",{style:{fontSize:"20px",marginBottom:"4px",opacity:.4},children:"⚪"}),s.jsx("div",{style:{fontSize:"10px",color:"rgba(255,255,255,0.4)",fontWeight:"normal"},children:"Kein Logo"})]}),s.jsx("div",{style:{fontSize:"16px",color:!t&&((u=e.companyData)!=null&&u.name)?"rgba(255,255,255,0.95)":"rgba(255,255,255,0.6)",fontWeight:"600",textAlign:"center",marginBottom:"16px",fontStyle:!t&&((c=e.companyData)!=null&&c.name)?"normal":"italic"},children:!t&&((d=e.companyData)!=null&&d.name)?e.companyData.name:"[Ihr Firmenname]"}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginBottom:"12px"},children:[s.jsxs("div",{style:{padding:"8px 10px",backgroundColor:"rgba(255,255,255,0.03)",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.08)"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"3px"},children:[s.jsx("span",{style:{fontSize:"12px",color:"rgba(255,255,255,0.7)",fontWeight:"500"},children:"📋 Angebote"}),s.jsx("span",{style:{fontSize:"13px",color:"rgba(255,255,255,0.9)",fontWeight:"600"},children:a.totalOffers})]}),s.jsxs("div",{style:{fontSize:"10px",color:"rgba(255,255,255,0.5)",display:"flex",justifyContent:"space-between"},children:[s.jsxs("span",{children:[a.pendingOffers," Entwürfe"]}),s.jsxs("span",{children:[a.acceptedOffers," Angenommen"]})]})]}),s.jsxs("div",{style:{padding:"8px 10px",backgroundColor:"rgba(255,255,255,0.03)",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.08)"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"3px"},children:[s.jsx("span",{style:{fontSize:"12px",color:"rgba(255,255,255,0.7)",fontWeight:"500"},children:"🧾 Rechnungen"}),s.jsx("span",{style:{fontSize:"13px",color:"rgba(255,255,255,0.9)",fontWeight:"600"},children:a.totalInvoices})]}),s.jsxs("div",{style:{fontSize:"10px",color:"rgba(255,255,255,0.5)",display:"flex",justifyContent:"space-between"},children:[s.jsxs("span",{children:[a.paidInvoices," Bezahlt"]}),s.jsxs("span",{children:[a.unpaidInvoices," Offen"]})]})]})]}),s.jsxs("div",{style:{padding:"8px 10px",backgroundColor:"rgba(255,255,255,0.03)",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.08)"},children:[s.jsx("div",{style:{fontSize:"12px",color:"rgba(255,255,255,0.7)",fontWeight:"500",marginBottom:"6px",textAlign:"center"},children:"💰 Finanzen"}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"3px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"10px"},children:[s.jsx("span",{style:{color:"rgba(255,255,255,0.6)"},children:"Bezahlt:"}),s.jsxs("span",{style:{color:"rgba(255,255,255,0.8)",fontWeight:"600"},children:["€",a.paidAmount.toLocaleString("de-DE",{minimumFractionDigits:0,maximumFractionDigits:0})]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"10px"},children:[s.jsx("span",{style:{color:"rgba(255,255,255,0.6)"},children:"Offen:"}),s.jsxs("span",{style:{color:"rgba(255,255,255,0.8)",fontWeight:"600"},children:["€",a.unpaidAmount.toLocaleString("de-DE",{minimumFractionDigits:0,maximumFractionDigits:0})]})]})]})]})]})]})}const gx={"/":"Dashboard","/kunden":"Kunden","/pakete":"Pakete","/angebote":"Angebote","/rechnungen":"Rechnungen","/einstellungen":"Einstellungen"};function fh({title:e,right:t}={}){const{pathname:n}=Wn(),r=e??gx[n]??"RaWaLite";return s.jsxs("header",{className:"header",children:[s.jsx("div",{className:"title",children:r}),t&&s.jsx("div",{className:"header-right",children:t}),s.jsx("div",{style:{opacity:.7},children:"v0.1 UI-Fix"})]})}function yx(){return s.jsxs("div",{className:"app",children:[s.jsx(mx,{}),s.jsx(fh,{}),s.jsx("main",{className:"main",children:s.jsx(jv,{})})]})}function vx({children:e,mode:t="sqlite"}){const[n,r]=x.useState(null),[i,a]=x.useState(!1),[l,o]=x.useState(),u=x.useMemo(()=>t==="sqlite"?new fd:new fd,[t]);return x.useEffect(()=>{let c=!0;return(async()=>{try{if(await u.ready(),!c)return;r(u),a(!0)}catch(d){o(String((d==null?void 0:d.message)??d))}})(),()=>{c=!1}},[u]),s.jsx(dh.Provider,{value:{adapter:n,ready:i,error:l},children:e})}const ph=x.createContext(void 0);function xx({children:e}){const[t,n]=x.useState(!1),[r,i]=x.useState(),a=(o,u)=>{n(o),i(u)},l=async(o,u)=>{a(!0,u);try{return await o()}finally{a(!1)}};return s.jsx(ph.Provider,{value:{isLoading:t,loadingMessage:r,setLoading:a,withLoading:l},children:e})}function Gr(){const e=x.useContext(ph);if(e===void 0)throw new Error("useLoading must be used within a LoadingProvider");return e}function wx({message:e}){return s.jsxs("div",{className:"loading-container",children:[s.jsx("div",{className:"loading-spinner"}),e&&s.jsx("p",{className:"loading-message",children:e})]})}function bx(){const{isLoading:e,loadingMessage:t}=Gr();return e?s.jsx("div",{className:"loading-overlay",children:s.jsx(wx,{message:t})}):null}const hh=x.createContext(void 0);function Sx({children:e}){const[t,n]=x.useState([]),r=x.useCallback(o=>{n(u=>u.filter(c=>c.id!==o))},[]),i=x.useCallback((o,u,c=5e3)=>{const d=Date.now().toString(),f={id:d,type:o,message:u,duration:c};n(p=>[...p,f]),c>0&&setTimeout(()=>r(d),c)},[r]),a=x.useCallback(o=>{const u=typeof o=="string"?o:px(o);i("error",u)},[i]),l=x.useCallback(o=>{i("success",o)},[i]);return s.jsx(hh.Provider,{value:{notifications:t,showNotification:i,showError:a,showSuccess:l,removeNotification:r},children:e})}function gn(){const e=x.useContext(hh);if(e===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return e}function Ex({notification:e,onRemove:t}){return s.jsx("div",{className:`notification-toast notification-${e.type}`,children:s.jsxs("div",{className:"notification-content",children:[s.jsx("span",{className:"notification-message",children:e.message}),s.jsx("button",{className:"notification-close",onClick:()=>t(e.id),"aria-label":"Schließen",children:"×"})]})})}function kx(){const{notifications:e,removeNotification:t}=gn();return s.jsx("div",{className:"notification-container",children:e.map(n=>s.jsx(Ex,{notification:n,onRemove:t},n.id))})}function md(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function Ol(){const{adapter:e,ready:t,error:n}=Vn(),{getNextNumber:r}=ta(),[i,a]=x.useState([]),[l,o]=x.useState(!1),[u,c]=x.useState(null),d=async()=>{if(e){o(!0),c(null);try{const v=await e.listCustomers();a(v)}catch(v){const w=Te(v);c(w.message),console.error("Error loading customers:",w)}finally{o(!1)}}};return x.useEffect(()=>{!t||!e||d()},[t,e]),{customers:i,loading:l,error:n||u,createCustomer:async v=>{var w;if(!e)throw new Nt("Datenbank-Adapter nicht verfügbar");if(!((w=v.name)!=null&&w.trim()))throw new se("Kundenname ist erforderlich","name");if(v.email&&!md(v.email))throw new se("Ungültige E-Mail-Adresse","email");c(null);try{console.log("Creating customer...");let E;try{console.log("Getting next customer number..."),E=await r("customers"),console.log("Got customer number:",E)}catch(g){console.warn("Settings not available, using fallback numbering:",g),E=`K-${Date.now()}`}return console.log("Creating customer with data:",{...v,number:E}),await e.createCustomer({...v,number:E}),console.log("Customer created successfully, refreshing data..."),await d(),console.log("Data refreshed"),!0}catch(E){const g=Te(E);throw c(g.message),console.error("Error creating customer:",g),g}},updateCustomer:async(v,w)=>{if(console.log("useCustomers updateCustomer called with:",v,w),!e)throw new Nt("Datenbank-Adapter nicht verfügbar");if(w.name!==void 0&&!w.name.trim())throw new se("Kundenname ist erforderlich","name");if(w.email!==void 0&&w.email&&!md(w.email))throw new se("Ungültige E-Mail-Adresse","email");c(null);try{return console.log("Updating customer with adapter..."),await e.updateCustomer(v,w),console.log("Customer updated successfully"),await d(),!0}catch(E){console.error("Error in updateCustomer:",E);const g=Te(E);throw c(g.message),console.error("Error updating customer:",g),g}},deleteCustomer:async v=>{if(console.log("useCustomers deleteCustomer called with:",v),!e)throw new Nt("Datenbank-Adapter nicht verfügbar");c(null);try{return console.log("Deleting customer with adapter..."),await e.deleteCustomer(v),console.log("Customer deleted successfully"),await d(),!0}catch(w){console.error("Error in deleteCustomer:",w);const E=Te(w);throw c(E.message),console.error("Error deleting customer:",E),E}},refresh:d}}function ju(){const{adapter:e}=Vn(),[t,n]=x.useState([]),[r,i]=x.useState(!0),[a,l]=x.useState(null);async function o(){if(e){i(!0),l(null);try{const f=await e.listPackages();n(f)}catch(f){const p=Te(f);l(p.message),console.error("Error loading packages:",p)}finally{i(!1)}}}x.useEffect(()=>{o()},[e]);async function u(f){var m;if(!e)throw new Nt("Datenbank-Adapter nicht verfügbar");if(!((m=f.internalTitle)!=null&&m.trim()))throw new se("Paket-Titel ist erforderlich","internalTitle");if(!f.lineItems||f.lineItems.length===0)throw new se("Mindestens eine Position ist erforderlich","lineItems");f.lineItems.forEach((v,w)=>{var E;if(!((E=v.title)!=null&&E.trim()))throw new se(`Titel für Position ${w+1} ist erforderlich`,`lineItems.${w}.title`);if(v.quantity<=0)throw new se(`Menge für Position ${w+1} muss größer als 0 sein`,`lineItems.${w}.quantity`);if(v.amount<0)throw new se(`Preis für Position ${w+1} darf nicht negativ sein`,`lineItems.${w}.amount`)});const p=f.lineItems.reduce((v,w)=>w.parentItemId?v:v+w.quantity*w.amount,0);l(null);try{const v=await e.createPackage({...f,total:p});return await o(),v}catch(v){const w=Te(v);throw l(w.message),console.error("Error creating package:",w),w}}async function c(f,p){if(!e)throw new Nt("Datenbank-Adapter nicht verfügbar");if(p.internalTitle!==void 0&&!p.internalTitle.trim())throw new se("Paket-Titel ist erforderlich","internalTitle");if(p.lineItems!==void 0){if(p.lineItems.length===0)throw new se("Mindestens eine Position ist erforderlich","lineItems");p.lineItems.forEach((v,w)=>{var E;if(!((E=v.title)!=null&&E.trim()))throw new se(`Titel für Position ${w+1} ist erforderlich`,`lineItems.${w}.title`);if(v.quantity<=0)throw new se(`Menge für Position ${w+1} muss größer als 0 sein`,`lineItems.${w}.quantity`);if(v.amount<0)throw new se(`Preis für Position ${w+1} darf nicht negativ sein`,`lineItems.${w}.amount`)});const m=p.lineItems.reduce((v,w)=>w.parentItemId?v:v+w.quantity*w.amount,0);p.total=m}l(null);try{const m=await e.updatePackage(f,p);return await o(),m}catch(m){const v=Te(m);throw l(v.message),console.error("Error updating package:",v),v}}async function d(f){if(!e)throw new Nt("Datenbank-Adapter nicht verfügbar");l(null);try{return await e.deletePackage(f),await o(),!0}catch(p){const m=Te(p);throw l(m.message),console.error("Error deleting package:",m),m}}return{packages:t,loading:r,error:a,createPackage:u,updatePackage:c,deletePackage:d,refresh:o}}function Cx({title:e="Dashboard"}){const{customers:t}=Ol(),{offers:n}=Ml(),{invoices:r}=Cu(),{packages:i}=ju(),a={totalCustomers:t.length,totalOffers:n.length,totalInvoices:r.length,totalPackages:i.length,pendingOffers:n.filter(d=>d.status==="draft").length,acceptedOffers:n.filter(d=>d.status==="accepted").length,paidInvoices:r.filter(d=>d.status==="paid").length,unpaidInvoices:r.filter(d=>d.status==="draft"||d.status==="sent"||d.status==="overdue").length,totalOfferValue:n.reduce((d,f)=>d+f.total,0),totalInvoiceValue:r.reduce((d,f)=>d+f.total,0),paidAmount:r.filter(d=>d.status==="paid").reduce((d,f)=>d+f.total,0),unpaidAmount:r.filter(d=>d.status!=="paid").reduce((d,f)=>d+f.total,0)},l=n.sort((d,f)=>new Date(f.createdAt).getTime()-new Date(d.createdAt).getTime()).slice(0,5),o=r.sort((d,f)=>new Date(f.createdAt).getTime()-new Date(d.createdAt).getTime()).slice(0,5),u=d=>{switch(d){case"paid":return"#22c55e";case"accepted":return"#22c55e";case"sent":return"#f59e0b";case"draft":return"#6b7280";case"rejected":return"#ef4444";case"overdue":return"#ef4444";case"cancelled":return"#6b7280";default:return"#6b7280"}},c=d=>{switch(d){case"paid":return"Bezahlt";case"accepted":return"Angenommen";case"sent":return"Versendet";case"draft":return"Entwurf";case"rejected":return"Abgelehnt";case"overdue":return"Überfällig";case"cancelled":return"Storniert";default:return d}};return s.jsxs("div",{className:"card",children:[s.jsx("h2",{style:{marginTop:0},children:e}),s.jsx("p",{children:"Willkommen in RaWaLite. Hier ist deine Übersicht:"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(220px,1fr))",gap:16,marginBottom:24},children:[s.jsx("div",{className:"card",style:{background:"linear-gradient(135deg, #1e40af 0%, #3b82f6 100%)"},children:s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"24px",fontWeight:"600",color:"white"},children:a.totalCustomers}),s.jsx("div",{style:{opacity:.9,color:"white"},children:"Kunden"})]}),s.jsx("div",{style:{fontSize:"32px",opacity:.7},children:"👥"})]})}),s.jsxs("div",{className:"card",style:{background:"linear-gradient(135deg, #059669 0%, #10b981 100%)"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"24px",fontWeight:"600",color:"white"},children:a.totalOffers}),s.jsx("div",{style:{opacity:.9,color:"white"},children:"Angebote"})]}),s.jsx("div",{style:{fontSize:"32px",opacity:.7},children:"📋"})]}),s.jsxs("div",{style:{marginTop:8,fontSize:"12px",opacity:.8,color:"white"},children:[a.pendingOffers," Entwürfe, ",a.acceptedOffers," Angenommen"]})]}),s.jsxs("div",{className:"card",style:{background:"linear-gradient(135deg, #dc2626 0%, #ef4444 100%)"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"24px",fontWeight:"600",color:"white"},children:a.totalInvoices}),s.jsx("div",{style:{opacity:.9,color:"white"},children:"Rechnungen"})]}),s.jsx("div",{style:{fontSize:"32px",opacity:.7},children:"🧾"})]}),s.jsxs("div",{style:{marginTop:8,fontSize:"12px",opacity:.8,color:"white"},children:[a.paidInvoices," Bezahlt, ",a.unpaidInvoices," Offen"]})]}),s.jsx("div",{className:"card",style:{background:"linear-gradient(135deg, #7c3aed 0%, #8b5cf6 100%)"},children:s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"24px",fontWeight:"600",color:"white"},children:a.totalPackages}),s.jsx("div",{style:{opacity:.9,color:"white"},children:"Pakete"})]}),s.jsx("div",{style:{fontSize:"32px",opacity:.7},children:"📦"})]})})]}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(300px,1fr))",gap:16,marginBottom:24},children:s.jsxs("div",{className:"card",children:[s.jsx("h3",{style:{marginTop:0},children:"💰 Finanzübersicht"}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{children:"Angebotswert gesamt:"}),s.jsxs("span",{style:{fontWeight:"600"},children:["€",a.totalOfferValue.toFixed(2)]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{children:"Rechnungswert gesamt:"}),s.jsxs("span",{style:{fontWeight:"600"},children:["€",a.totalInvoiceValue.toFixed(2)]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",color:"#22c55e"},children:[s.jsx("span",{children:"Bezahlt:"}),s.jsxs("span",{style:{fontWeight:"600"},children:["€",a.paidAmount.toFixed(2)]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",color:"#f59e0b"},children:[s.jsx("span",{children:"Offen:"}),s.jsxs("span",{style:{fontWeight:"600"},children:["€",a.unpaidAmount.toFixed(2)]})]})]})]})}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(400px,1fr))",gap:16},children:[s.jsxs("div",{className:"card",children:[s.jsx("h3",{style:{marginTop:0},children:"📋 Letzte Angebote"}),l.length>0?s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:l.map(d=>s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 12px",background:"rgba(255,255,255,0.03)",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.1)"},children:[s.jsxs("div",{children:[s.jsxs("div",{style:{fontWeight:"500"},children:["#",d.offerNumber]}),s.jsx("div",{style:{fontSize:"12px",opacity:.7},children:new Date(d.createdAt).toLocaleDateString("de-DE")})]}),s.jsxs("div",{style:{textAlign:"right"},children:[s.jsxs("div",{style:{fontWeight:"600"},children:["€",d.total.toFixed(2)]}),s.jsx("div",{style:{fontSize:"12px",color:u(d.status),fontWeight:"500"},children:c(d.status)})]})]},d.id))}):s.jsx("p",{style:{opacity:.7,fontStyle:"italic"},children:"Noch keine Angebote vorhanden."})]}),s.jsxs("div",{className:"card",children:[s.jsx("h3",{style:{marginTop:0},children:"🧾 Letzte Rechnungen"}),o.length>0?s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:o.map(d=>s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 12px",background:"rgba(255,255,255,0.03)",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.1)"},children:[s.jsxs("div",{children:[s.jsxs("div",{style:{fontWeight:"500"},children:["#",d.invoiceNumber]}),s.jsx("div",{style:{fontSize:"12px",opacity:.7},children:new Date(d.createdAt).toLocaleDateString("de-DE")})]}),s.jsxs("div",{style:{textAlign:"right"},children:[s.jsxs("div",{style:{fontWeight:"600"},children:["€",d.total.toFixed(2)]}),s.jsx("div",{style:{fontSize:"12px",color:u(d.status),fontWeight:"500"},children:c(d.status)})]})]},d.id))}):s.jsx("p",{style:{opacity:.7,fontStyle:"italic"},children:"Noch keine Rechnungen vorhanden."})]})]})]})}function $l({columns:e,data:t,emptyMessage:n}){return s.jsx("div",{className:"card",children:s.jsxs("table",{className:"table",children:[s.jsx("thead",{children:s.jsx("tr",{children:e.map(r=>s.jsx("th",{style:{width:r.width},children:r.header},String(r.key)))})}),s.jsx("tbody",{children:t.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:e.length,style:{opacity:.8,padding:"16px 8px"},children:n??"Keine Einträge vorhanden."})}):t.map((r,i)=>s.jsx("tr",{children:e.map(a=>s.jsx("td",{children:a.render?a.render(r):String(r[a.key])},String(a.key)))},i))})]})})}function gd({initial:e,onSubmit:t,onCancel:n,submitLabel:r="Speichern"}){const[i,a]=x.useState(e??{name:""}),[l,o]=x.useState({}),[u,c]=x.useState(!1),{showError:d,showSuccess:f}=gn(),{withLoading:p}=Gr();x.useEffect(()=>{a(e??{name:""}),o({})},[e]);function m(E,g){a(h=>({...h,[E]:g})),l[E]&&o(h=>({...h,[E]:""}))}function v(){const E={};return(!i.name||i.name.trim().length<2)&&(E.name="Bitte einen gültigen Namen angeben (min. 2 Zeichen)."),i.email&&i.email.trim()&&!/\S+@\S+\.\S+/.test(i.email)&&(E.email="Bitte eine gültige E-Mail-Adresse eingeben."),o(E),Object.keys(E).length===0}async function w(E){var h,y,C,I,b,k;if(E.preventDefault(),console.log("CustomerForm handleSubmit called"),!v()){console.log("Form validation failed");return}if(u){console.log("Already submitting, preventing double submission");return}const g={name:i.name.trim(),email:((h=i.email)==null?void 0:h.trim())||void 0,phone:((y=i.phone)==null?void 0:y.trim())||void 0,street:((C=i.street)==null?void 0:C.trim())||void 0,zip:((I=i.zip)==null?void 0:I.trim())||void 0,city:((b=i.city)==null?void 0:b.trim())||void 0,notes:((k=i.notes)==null?void 0:k.trim())||void 0};console.log("CustomerForm submitting data:",g);try{c(!0),console.log("Calling onSubmit with withLoading wrapper"),await p(async()=>{console.log("Inside withLoading, calling onSubmit"),await t(g),console.log("onSubmit completed successfully")},`${r}...`),f(`Kunde wurde erfolgreich ${r==="Speichern"?"gespeichert":"aktualisiert"}.`)}catch(_){console.error("Error in handleSubmit:",_);const T=Te(_);T instanceof se&&T.field?o(R=>({...R,[T.field]:T.message})):d(T)}finally{c(!1)}}return s.jsxs("form",{onSubmit:w,className:"customer-form",style:{display:"grid",gap:12,maxWidth:680},children:[s.jsxs("div",{style:{display:"grid",gap:6},children:[s.jsx("label",{children:"Name*"}),s.jsx("input",{type:"text",value:i.name,onChange:E=>m("name",E.target.value),placeholder:"Max Mustermann",required:!0,disabled:u,className:l.name?"error":""}),l.name&&s.jsx("span",{className:"field-error",children:l.name})]}),s.jsxs("div",{style:{display:"grid",gap:6},children:[s.jsx("label",{children:"E-Mail"}),s.jsx("input",{type:"email",value:i.email??"",onChange:E=>m("email",E.target.value),placeholder:"max@example.com",disabled:u,className:l.email?"error":""}),l.email&&s.jsx("span",{className:"field-error",children:l.email})]}),s.jsxs("div",{style:{display:"grid",gap:6},children:[s.jsx("label",{children:"Telefon"}),s.jsx("input",{type:"tel",value:i.phone??"",onChange:E=>m("phone",E.target.value),placeholder:"+49 30 12345678",disabled:u})]}),s.jsxs("div",{style:{display:"grid",gap:6},children:[s.jsx("label",{children:"Straße"}),s.jsx("input",{type:"text",value:i.street??"",onChange:E=>m("street",E.target.value),placeholder:"Musterstraße 123",disabled:u})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 2fr",gap:8},children:[s.jsxs("div",{style:{display:"grid",gap:6},children:[s.jsx("label",{children:"PLZ"}),s.jsx("input",{type:"text",value:i.zip??"",onChange:E=>m("zip",E.target.value),placeholder:"12345",disabled:u})]}),s.jsxs("div",{style:{display:"grid",gap:6},children:[s.jsx("label",{children:"Ort"}),s.jsx("input",{type:"text",value:i.city??"",onChange:E=>m("city",E.target.value),placeholder:"Berlin",disabled:u})]})]}),s.jsxs("div",{style:{display:"grid",gap:6},children:[s.jsx("label",{children:"Notizen"}),s.jsx("textarea",{value:i.notes??"",onChange:E=>m("notes",E.target.value),placeholder:"Weitere Informationen zum Kunden...",disabled:u,rows:3})]}),s.jsxs("div",{style:{display:"flex",gap:8,marginTop:"16px"},children:[s.jsx("button",{type:"submit",disabled:u,className:"btn btn-primary",style:{padding:"12px 24px",fontSize:"14px",fontWeight:"500",minWidth:"120px"},children:u?"Wird gespeichert...":r}),n&&s.jsx("button",{type:"button",onClick:n,disabled:u,className:"btn btn-secondary",style:{padding:"12px 24px",fontSize:"14px",fontWeight:"500",minWidth:"120px"},children:"Abbrechen"})]}),s.jsx("style",{children:`
        .customer-form input, .customer-form textarea { 
          background: rgba(255,255,255,.06); 
          color: white; 
          border: 1px solid rgba(255,255,255,.15); 
          padding: 10px 12px; 
          border-radius: 8px; 
          font-size: 14px;
          width: 100%;
          box-sizing: border-box;
          font-family: inherit;
        }
        .customer-form input:focus, .customer-form textarea:focus { 
          outline: 2px solid rgba(96,165,250,.5);
          background: rgba(255,255,255,.08);
        }
        .customer-form input.error, .customer-form textarea.error {
          border-color: rgba(239, 68, 68, 0.5);
          background: rgba(239, 68, 68, 0.1);
        }
        .customer-form input:disabled, .customer-form textarea:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }
        .customer-form label {
          font-weight: 500;
          margin-bottom: 4px;
          color: rgba(255,255,255,.9);
        }
        .field-error {
          color: rgba(239, 68, 68, 0.9);
          font-size: 0.8rem;
          margin-top: 4px;
        }
        .customer-form textarea {
          resize: vertical;
          min-height: 60px;
        }
      `})]})}const jx=typeof window<"u"&&window.electronAPI,Pe={join:(...e)=>e.filter(t=>t&&t.length>0).join("/").replace(/\/+/g,"/").replace(/\\/g,"/")},Zn=class Zn{constructor(){Kt(this,"_appDataPath",null);Kt(this,"_documentsPath",null);Kt(this,"_downloadsPath",null)}static getInstance(){return Zn.instance||(Zn.instance=new Zn),Zn.instance}async getElectronPath(t){if(!jx)throw new Error(`Electron API not available for path type: ${t}`);try{return await window.rawalite.paths.get(t)}catch(n){throw console.error(`Failed to get ${t} path via IPC:`,n),n}}async getAppDataPath(){return this._appDataPath?this._appDataPath:(this._appDataPath=await this.getElectronPath("userData"),this._appDataPath)}async getDocumentsPath(){return this._documentsPath?this._documentsPath:(this._documentsPath=await this.getElectronPath("documents"),this._documentsPath)}async getDownloadsPath(){return this._downloadsPath?this._downloadsPath:(this._downloadsPath=await this.getElectronPath("downloads"),this._downloadsPath)}resetCache(){this._appDataPath=null,this._documentsPath=null,this._downloadsPath=null}};Kt(Zn,"instance");let xs=Zn;class ws{static async DATABASE_DIR(){const t=await this.pathManager.getAppDataPath();return Pe.join(t,"database")}static async DATABASE_FILE(){const t=await this.DATABASE_DIR();return Pe.join(t,"rawalite.db")}static async DATABASE_BACKUP_FILE(){const t=await this.DATABASE_DIR(),n=new Date().toISOString().replace(/[:.]/g,"-");return Pe.join(t,"backups",`backup-${n}.db`)}static async LOGS_DIR(){const t=await this.pathManager.getAppDataPath();return Pe.join(t,"logs")}static async LOG_FILE(){const t=await this.LOGS_DIR(),n=new Date().toISOString().split("T")[0];return Pe.join(t,`rawalite-${n}.log`)}static async ERROR_LOG_FILE(){const t=await this.LOGS_DIR();return Pe.join(t,"errors.log")}static async SETTINGS_DIR(){const t=await this.pathManager.getAppDataPath();return Pe.join(t,"settings")}static async SETTINGS_FILE(){const t=await this.SETTINGS_DIR();return Pe.join(t,"app-settings.json")}static async USER_PREFERENCES_FILE(){const t=await this.SETTINGS_DIR();return Pe.join(t,"user-preferences.json")}static async TEMPLATES_DIR(){const t=await this.pathManager.getAppDataPath();return Pe.join(t,"templates")}static async INVOICE_TEMPLATE_FILE(){const t=await this.TEMPLATES_DIR();return Pe.join(t,"invoice-template.html")}static async OFFER_TEMPLATE_FILE(){const t=await this.TEMPLATES_DIR();return Pe.join(t,"offer-template.html")}static async BACKUPS_DIR(){const t=await this.pathManager.getDocumentsPath();return Pe.join(t,"RawaLite-Backups")}static async FULL_BACKUP_FILE(){const t=await this.BACKUPS_DIR(),n=new Date().toISOString().replace(/[:.]/g,"-");return Pe.join(t,`rawalite-full-backup-${n}.zip`)}static async DATA_EXPORT_FILE(t){const n=await this.BACKUPS_DIR(),r=new Date().toISOString().split("T")[0];return Pe.join(n,`${t}-export-${r}.csv`)}static async EXPORTS_DIR(){const t=await this.pathManager.getDownloadsPath();return Pe.join(t,"RawaLite-Exports")}static async PDF_EXPORT_FILE(t,n){const r=await this.EXPORTS_DIR(),i=new Date().toISOString().split("T")[0];return Pe.join(r,`${t}-${n}-${i}.pdf`)}static async CSV_EXPORT_FILE(t){const n=await this.EXPORTS_DIR(),r=new Date().toISOString().split("T")[0];return Pe.join(n,`${t}-${r}.csv`)}static async ASSETS_DIR(){const t=await this.pathManager.getAppDataPath();return Pe.join(t,"assets")}static async COMPANY_LOGO_FILE(){const t=await this.ASSETS_DIR();return Pe.join(t,"company-logo.png")}static async USER_UPLOADS_DIR(){const t=await this.ASSETS_DIR();return Pe.join(t,"uploads")}static async TEST_DATA_DIR(){throw new Error("TEST_DATA_DIR only available in test environment")}static async TEMP_DIR(){const t=await this.pathManager.getAppDataPath();return Pe.join(t,"temp")}static async ensureDir(t){try{await window.rawalite.fs.ensureDir(t)}catch(n){throw new Error(`Failed to create directory: ${t} - ${n}`)}}static async cleanTempDir(){try{const t=await this.TEMP_DIR();await this.ensureDir(t);const n=await window.rawalite.fs.readDir(t),r=Date.now()-24*60*60*1e3;for(const i of n){const a=Pe.join(t,i);(await window.rawalite.fs.stat(a)).mtime<r&&await window.rawalite.fs.unlink(a)}}catch(t){console.warn("Failed to clean temp directory:",t)}}static resetCache(){this.pathManager.resetCache()}static async getAllPaths(){return{appData:await this.pathManager.getAppDataPath(),documents:await this.pathManager.getDocumentsPath(),downloads:await this.pathManager.getDownloadsPath(),database:await this.DATABASE_FILE(),logs:await this.LOGS_DIR(),backups:await this.BACKUPS_DIR(),exports:await this.EXPORTS_DIR(),templates:await this.TEMPLATES_DIR(),settings:await this.SETTINGS_DIR(),assets:await this.ASSETS_DIR()}}}Kt(ws,"pathManager",xs.getInstance());class Ki{static exportCustomersToCSV(t){const r=[["ID","Nummer","Name","E-Mail","Telefon","Straße","PLZ","Ort","Notizen","Erstellt","Aktualisiert"].join(";"),...t.map(i=>[i.id,i.number,i.name,i.email||"",i.phone||"",i.street||"",i.zip||"",i.city||"",i.notes||"",i.createdAt,i.updatedAt].map(a=>`"${String(a).replace(/"/g,'""')}"`).join(";"))].join(`
`);this.downloadFile(r,`kunden_${new Date().toISOString().split("T")[0]}.csv`,"text/csv")}static async exportOfferToPDF(t,n,r,i=!1){const a=this.generateOfferHTML(t,n,r);await this.htmlToPDF(a,`angebot_${t.offerNumber}.pdf`,i)}static async exportInvoiceToPDF(t,n,r,i=!1){const a=this.generateInvoiceHTML(t,n,r);await this.htmlToPDF(a,`rechnung_${t.invoiceNumber}.pdf`,i)}static generateOfferHTML(t,n,r){var l,o,u,c,d,f,p,m;const i=new Date().toLocaleDateString("de-DE"),a=new Date(t.validUntil).toLocaleDateString("de-DE");return`
      <!DOCTYPE html>
      <html>
      <head>
        <meta charset="utf-8">
        <title>Angebot ${t.offerNumber}</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 40px; color: #333; }
          .header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 40px; }
          .company { font-weight: bold; }
          .logo { max-width: 200px; max-height: 80px; }
          .customer { margin-bottom: 30px; }
          .document-title { font-size: 24px; font-weight: bold; margin: 30px 0; }
          .meta-info { margin-bottom: 30px; }
          table { width: 100%; border-collapse: collapse; margin: 20px 0; }
          th, td { padding: 10px; text-align: left; border-bottom: 1px solid #ddd; }
          th { background-color: #f5f5f5; font-weight: bold; }
          .sub-item { padding-left: 20px; font-style: italic; color: #666; }
          .totals { margin-top: 30px; text-align: right; }
          .total-row { font-weight: bold; font-size: 18px; }
          .notes { margin-top: 40px; }
        </style>
      </head>
      <body>
        <div class="header">
          <div class="company">
            ${((l=r.companyData)==null?void 0:l.name)||"Ihr Unternehmen"}<br>
            ${((o=r.companyData)==null?void 0:o.street)||""}<br>
            ${((u=r.companyData)==null?void 0:u.postalCode)||""} ${((c=r.companyData)==null?void 0:c.city)||""}
          </div>
          ${(d=r.companyData)!=null&&d.logo?`<img src="${r.companyData.logo}" alt="Logo" class="logo">`:""}
        </div>

        <div class="customer">
          <strong>${n.name}</strong><br>
          ${n.street||""}<br>
          ${n.zip||""} ${n.city||""}<br>
        </div>

        <div class="document-title">Angebot ${t.offerNumber}</div>

        <div class="meta-info">
          <strong>Datum:</strong> ${i}<br>
          <strong>Gültig bis:</strong> ${a}<br>
          <strong>Betreff:</strong> ${t.title}
        </div>

        <table>
          <thead>
            <tr>
              <th>Position</th>
              <th>Menge</th>
              <th>Einzelpreis</th>
              <th>Gesamt</th>
            </tr>
          </thead>
          <tbody>
            ${t.lineItems.map(v=>`
              <tr class="${v.parentItemId?"sub-item":""}">
                <td>
                  ${v.parentItemId?"↳ ":""}${v.title}
                  ${v.description?`<br><small>${v.description}</small>`:""}
                </td>
                <td>${v.quantity}</td>
                <td>€${v.unitPrice.toFixed(2)}</td>
                <td>€${v.total.toFixed(2)}</td>
              </tr>
            `).join("")}
          </tbody>
        </table>

        <div class="totals">
          <div>Zwischensumme: €${((f=t.subtotal)==null?void 0:f.toFixed(2))||t.total.toFixed(2)}</div>
          ${!((p=r==null?void 0:r.companyData)!=null&&p.kleinunternehmer)&&t.vatAmount&&t.vatAmount>0?`<div>MwSt. (${t.vatRate||19}%): €${t.vatAmount.toFixed(2)}</div>`:""}
          ${(m=r==null?void 0:r.companyData)!=null&&m.kleinunternehmer?'<div style="font-size: 12px; color: #666;">Umsatzsteuerbefreit nach §19 UStG</div>':""}
          <div class="total-row">Gesamtbetrag: €${t.total.toFixed(2)}</div>
        </div>

        ${t.notes?`<div class="notes"><strong>Anmerkungen:</strong><br>${t.notes}</div>`:""}
      </body>
      </html>
    `}static generateInvoiceHTML(t,n,r){var l,o,u,c,d,f,p,m;const i=new Date().toLocaleDateString("de-DE"),a=new Date(t.dueDate).toLocaleDateString("de-DE");return`
      <!DOCTYPE html>
      <html>
      <head>
        <meta charset="utf-8">
        <title>Rechnung ${t.invoiceNumber}</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 40px; color: #333; }
          .header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 40px; }
          .company { font-weight: bold; }
          .logo { max-width: 200px; max-height: 80px; }
          .customer { margin-bottom: 30px; }
          .document-title { font-size: 24px; font-weight: bold; margin: 30px 0; }
          .meta-info { margin-bottom: 30px; }
          table { width: 100%; border-collapse: collapse; margin: 20px 0; }
          th, td { padding: 10px; text-align: left; border-bottom: 1px solid #ddd; }
          th { background-color: #f5f5f5; font-weight: bold; }
          .sub-item { padding-left: 20px; font-style: italic; color: #666; }
          .totals { margin-top: 30px; text-align: right; }
          .total-row { font-weight: bold; font-size: 18px; }
          .notes { margin-top: 40px; }
        </style>
      </head>
      <body>
        <div class="header">
          <div class="company">
            ${((l=r.companyData)==null?void 0:l.name)||"Ihr Unternehmen"}<br>
            ${((o=r.companyData)==null?void 0:o.street)||""}<br>
            ${((u=r.companyData)==null?void 0:u.postalCode)||""} ${((c=r.companyData)==null?void 0:c.city)||""}
          </div>
          ${(d=r.companyData)!=null&&d.logo?`<img src="${r.companyData.logo}" alt="Logo" class="logo">`:""}
        </div>

        <div class="customer">
          <strong>${n.name}</strong><br>
          ${n.street||""}<br>
          ${n.zip||""} ${n.city||""}<br>
        </div>

        <div class="document-title">Rechnung ${t.invoiceNumber}</div>

        <div class="meta-info">
          <strong>Rechnungsdatum:</strong> ${i}<br>
          <strong>Fällig am:</strong> ${a}<br>
          <strong>Betreff:</strong> ${t.title}
        </div>

        <table>
          <thead>
            <tr>
              <th>Position</th>
              <th>Menge</th>
              <th>Einzelpreis</th>
              <th>Gesamt</th>
            </tr>
          </thead>
          <tbody>
            ${t.lineItems.map(v=>`
              <tr class="${v.parentItemId?"sub-item":""}">
                <td>
                  ${v.parentItemId?"↳ ":""}${v.title}
                  ${v.description?`<br><small>${v.description}</small>`:""}
                </td>
                <td>${v.quantity}</td>
                <td>€${v.unitPrice.toFixed(2)}</td>
                <td>€${v.total.toFixed(2)}</td>
              </tr>
            `).join("")}
          </tbody>
        </table>

        <div class="totals">
          <div>Zwischensumme: €${((f=t.subtotal)==null?void 0:f.toFixed(2))||t.total.toFixed(2)}</div>
          ${!((p=r==null?void 0:r.companyData)!=null&&p.kleinunternehmer)&&t.vatAmount&&t.vatAmount>0?`<div>MwSt. (${t.vatRate||19}%): €${t.vatAmount.toFixed(2)}</div>`:""}
          ${(m=r==null?void 0:r.companyData)!=null&&m.kleinunternehmer?'<div style="font-size: 12px; color: #666;">Umsatzsteuerbefreit nach §19 UStG</div>':""}
          <div class="total-row">Gesamtbetrag: €${t.total.toFixed(2)}</div>
        </div>

        ${t.notes?`<div class="notes"><strong>Anmerkungen:</strong><br>${t.notes}</div>`:""}
      </body>
      </html>
    `}static async htmlToPDF(t,n,r=!1){try{const{jsPDF:i}=await Ar(async()=>{const{jsPDF:o}=await import("./jspdf.es.min-B0dzd1OU.js").then(u=>u.j);return{jsPDF:o}},[],import.meta.url),a=(await Ar(async()=>{const{default:o}=await import("./html2canvas.esm-CBrSDip1.js");return{default:o}},[],import.meta.url)).default,l=document.createElement("div");l.innerHTML=t,l.style.position="absolute",l.style.left="-9999px",l.style.top="-9999px",l.style.width="210mm",l.style.background="white",l.style.padding="20px",document.body.appendChild(l);try{const o=await a(l,{scale:2,useCORS:!0,backgroundColor:"#ffffff",width:794,height:1123}),u=new i("p","mm","a4"),c=210,d=o.height*c/o.width,f=o.toDataURL("image/png");if(u.addImage(f,"PNG",0,0,c,d),r){const p=u.output("blob"),m=URL.createObjectURL(p),v=window.open(m,"_blank","width=800,height=600,scrollbars=yes,resizable=yes");v?(console.log(`✅ PDF preview "${n}" opened in new tab`),v.addEventListener("beforeunload",()=>{URL.revokeObjectURL(m)})):confirm(`🔍 PDF-Vorschau benötigt ein Popup!

Möchten Sie:
- "OK" → Popup erlauben und Vorschau öffnen
- "Abbrechen" → PDF direkt herunterladen`)?this.showInlinePDFPreview(p,n):u.save(n)}else u.save(n),console.log(`✅ PDF "${n}" downloaded successfully`)}finally{document.body.removeChild(l)}}catch(i){console.warn("Modern PDF generation failed, falling back to print dialog:",i);const a=window.open("","_blank","width=800,height=600");if(!a){const l=document.createElement("div");l.innerHTML=t,l.style.position="fixed",l.style.top="-1000px",l.style.left="-1000px",l.style.width="210mm",l.style.height="297mm",document.body.appendChild(l),window.focus(),window.print(),setTimeout(()=>{document.body.removeChild(l)},1e3);return}a.document.write(t),a.document.close(),a.onload=()=>{a.focus(),setTimeout(()=>{a.print()},1e3)}}}static showInlinePDFPreview(t,n){const r=document.createElement("div");r.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      z-index: 10000;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
      box-sizing: border-box;
    `;const i=document.createElement("div");i.style.cssText=`
      background: white;
      border-radius: 12px;
      box-shadow: 0 25px 50px rgba(0,0,0,0.25);
      display: flex;
      flex-direction: column;
      width: 80vw;
      height: 80vh;
      min-width: 600px;
      min-height: 400px;
      max-width: 95vw;
      max-height: 95vh;
      resize: both;
      overflow: hidden;
      border: 1px solid #e2e8f0;
    `;const a=document.createElement("div");a.style.cssText=`
      background: linear-gradient(160deg, #1e3a2e 0%, #0f2419 40%, #0a1b0f 100%);
      color: white;
      padding: 16px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-radius: 12px 12px 0 0;
      cursor: move;
      user-select: none;
      border-bottom: 1px solid #e2e8f0;
    `;const l=document.createElement("div");l.style.cssText="display: flex; align-items: center; gap: 12px;";const o=document.createElement("span");o.textContent="📄",o.style.fontSize="20px";const u=document.createElement("h3");u.textContent=`PDF Vorschau: ${n}`,u.style.cssText="margin: 0; font-size: 16px; font-weight: 600;",l.appendChild(o),l.appendChild(u);const c=document.createElement("div");c.style.cssText="display: flex; gap: 8px; align-items: center;";const d=document.createElement("button");d.textContent="⬜",d.title="Maximieren",d.style.cssText=`
      background: rgba(255,255,255,0.2);
      color: white;
      border: none;
      border-radius: 6px;
      width: 32px;
      height: 32px;
      cursor: pointer;
      font-size: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background-color 0.2s;
    `;const f=document.createElement("button");f.textContent="✕",f.title="Schließen",f.style.cssText=`
      background: rgba(239,68,68,0.2);
      color: white;
      border: none;
      border-radius: 6px;
      width: 32px;
      height: 32px;
      cursor: pointer;
      font-size: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background-color 0.2s;
    `;const p=document.createElement("div");p.style.cssText=`
      flex: 1;
      display: flex;
      flex-direction: column;
      overflow: hidden;
      background: #f8fafc;
    `;const m=document.createElement("div");m.style.cssText=`
      padding: 12px 20px;
      background: white;
      border-bottom: 1px solid #e2e8f0;
      display: flex;
      gap: 12px;
      align-items: center;
      flex-wrap: wrap;
    `;const v=document.createElement("button");v.innerHTML="💾 Herunterladen",v.style.cssText=`
      background: #1e3a2e;
      color: white;
      border: none;
      border-radius: 8px;
      padding: 10px 16px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 6px;
      transition: all 0.2s;
      box-shadow: 0 2px 4px rgba(30,58,46,0.3);
    `;const w=document.createElement("div");w.style.cssText=`
      flex: 1;
      padding: 20px;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      overflow: auto;
    `;const E=document.createElement("iframe"),g=URL.createObjectURL(t);E.src=g,E.style.cssText=`
      width: 100%;
      height: 100%;
      border: 1px solid #d1d5db;
      border-radius: 8px;
      background: white;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    `;const h=document.createElement("div");h.style.cssText=`
      padding: 8px 20px;
      background: #f1f5f9;
      border-top: 1px solid #e2e8f0;
      font-size: 12px;
      color: #64748b;
      border-radius: 0 0 12px 12px;
    `,h.textContent=`Dateigröße: ${(t.size/1024).toFixed(1)} KB`;let y=!1,C="";d.onclick=()=>{y?(i.style.cssText=C,d.textContent="⬜",d.title="Maximieren",y=!1):(C=i.style.cssText,i.style.cssText=`
          position: fixed;
          top: 20px;
          left: 20px;
          right: 20px;
          bottom: 20px;
          width: auto;
          height: auto;
          background: white;
          border-radius: 12px;
          box-shadow: 0 25px 50px rgba(0,0,0,0.25);
          display: flex;
          flex-direction: column;
          border: 1px solid #e2e8f0;
          resize: none;
        `,d.textContent="🗗",d.title="Wiederherstellen",y=!0)},f.onclick=()=>{document.body.removeChild(r),URL.revokeObjectURL(g)},v.onclick=()=>{const T=document.createElement("a");T.href=g,T.download=n,T.click()};let I=!1,b={x:0,y:0},k={x:0,y:0};a.onmousedown=T=>{if(y)return;I=!0,b={x:T.clientX,y:T.clientY};const R=i.getBoundingClientRect();k={x:R.left,y:R.top},a.style.cursor="grabbing"},document.onmousemove=T=>{if(!I||y)return;const R=T.clientX-b.x,z=T.clientY-b.y;i.style.left=k.x+R+"px",i.style.top=k.y+z+"px",i.style.position="absolute"},document.onmouseup=()=>{I=!1,a.style.cursor="move"};const _=T=>{T.key==="Escape"&&(document.body.removeChild(r),URL.revokeObjectURL(g),document.removeEventListener("keydown",_))};document.addEventListener("keydown",_),d.onmouseenter=()=>d.style.background="rgba(255,255,255,0.3)",d.onmouseleave=()=>d.style.background="rgba(255,255,255,0.2)",f.onmouseenter=()=>f.style.background="rgba(239,68,68,0.4)",f.onmouseleave=()=>f.style.background="rgba(239,68,68,0.2)",v.onmouseenter=()=>{v.style.background="#0f2419",v.style.transform="translateY(-1px)"},v.onmouseleave=()=>{v.style.background="#1e3a2e",v.style.transform="translateY(0)"},c.appendChild(d),c.appendChild(f),a.appendChild(l),a.appendChild(c),m.appendChild(v),w.appendChild(E),p.appendChild(m),p.appendChild(w),i.appendChild(a),i.appendChild(p),i.appendChild(h),r.appendChild(i),document.body.appendChild(r)}static async downloadFile(t,n,r){try{const i=await ws.EXPORTS_DIR();await ws.ensureDir(i);const a=new Blob([t],{type:r}),l=URL.createObjectURL(a),o=document.createElement("a");o.href=l,o.download=n,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(l),console.log(`✅ File exported: ${n} (fallback browser download)`)}catch(i){throw console.error("Failed to export file:",i),i}}}function Rx({title:e="Kunden"}){const{customers:t,loading:n,error:r,createCustomer:i,updateCustomer:a,deleteCustomer:l}=Ol(),[o,u]=x.useState("list"),[c,d]=x.useState(null),{showError:f,showSuccess:p}=gn(),{withLoading:m}=Gr(),v=x.useMemo(()=>[{key:"number",header:"Nummer"},{key:"name",header:"Name"},{key:"email",header:"E-Mail",render:y=>y.email||s.jsx("em",{style:{opacity:.6},children:"kein Eintrag"})},{key:"city",header:"Ort",render:y=>y.city||s.jsx("em",{style:{opacity:.6},children:"kein Eintrag"})},{key:"phone",header:"Telefon",render:y=>y.phone||s.jsx("em",{style:{opacity:.6},children:"kein Eintrag"})},{key:"id",header:"Aktionen",render:y=>s.jsxs("div",{style:{display:"flex",gap:8},children:[s.jsx("button",{className:"btn btn-secondary",style:{padding:"4px 8px",fontSize:"12px"},onClick:()=>{d(y),u("edit")},disabled:n,children:"Bearbeiten"}),s.jsx("button",{className:"btn btn-danger",style:{padding:"4px 8px",fontSize:"12px"},onClick:()=>{confirm("Diesen Kunden wirklich löschen?")&&g(y.id)},disabled:n,children:"Löschen"})]})}],[n]);async function w(y){try{await i({name:y.name,email:y.email,phone:y.phone,street:y.street,zip:y.zip,city:y.city,notes:y.notes}),u("list")}catch(C){console.error("Error creating customer:",C)}}async function E(y){if(c)try{await a(c.id,{name:y.name,email:y.email,phone:y.phone,street:y.street,zip:y.zip,city:y.city,notes:y.notes}),u("list"),d(null)}catch(C){console.error("Error updating customer:",C)}}async function g(y){try{await m(()=>l(y),"Kunde wird gelöscht..."),p("Kunde wurde erfolgreich gelöscht.")}catch(C){const I=Te(C);f(I)}}async function h(){try{await m(()=>Promise.resolve(Ki.exportCustomersToCSV(t)),"CSV wird erstellt..."),p("CSV-Export wurde erfolgreich erstellt.")}catch(y){const C=Te(y);f("Fehler beim CSV-Export: "+C.message)}}return n&&t.length===0?s.jsx("div",{className:"card",children:s.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[s.jsx("div",{className:"loading-spinner",style:{margin:"0 auto 1rem"}}),s.jsx("p",{children:"Kundendaten werden geladen..."})]})}):r&&t.length===0?s.jsx("div",{className:"card",children:s.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[s.jsxs("p",{style:{color:"rgba(239, 68, 68, 0.9)",marginBottom:"1rem"},children:["Fehler beim Laden der Kundendaten: ",r]}),s.jsx("button",{className:"btn btn-primary",onClick:()=>window.location.reload(),children:"Seite neu laden"})]})}):s.jsxs("div",{className:"card",children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[s.jsxs("div",{children:[s.jsx("h2",{style:{margin:"0 0 4px 0"},children:e}),s.jsx("div",{style:{opacity:.7},children:"Verwalte deine Kunden. Daten werden lokal gespeichert."})]}),s.jsxs("div",{style:{display:"flex",gap:"8px"},children:[s.jsx("button",{className:"btn btn-success",onClick:h,disabled:n||t.length===0,children:"CSV Export"}),s.jsx("button",{className:`btn ${o==="create"?"btn-secondary":"btn-primary"}`,onClick:()=>u(o==="create"?"list":"create"),disabled:n,children:o==="create"?"Abbrechen":"Neuer Kunde"})]})]}),s.jsx($l,{columns:v,data:t,emptyMessage:"Noch keine Kunden angelegt."}),o==="create"&&s.jsxs("div",{style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid rgba(0,0,0,.1)"},children:[s.jsxs("div",{style:{marginBottom:"16px"},children:[s.jsx("h3",{style:{margin:"0 0 4px 0"},children:"Neuer Kunde"}),s.jsx("div",{style:{opacity:.7},children:"Erstelle einen neuen Kunden."})]}),s.jsx(gd,{onSubmit:w,onCancel:()=>u("list"),submitLabel:"Erstellen"})]}),o==="edit"&&c&&s.jsxs("div",{style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid rgba(0,0,0,.1)"},children:[s.jsxs("div",{style:{marginBottom:"16px"},children:[s.jsx("h3",{style:{margin:"0 0 4px 0"},children:"Kunde bearbeiten"}),s.jsxs("div",{style:{opacity:.7},children:["Bearbeite die Kundendaten von ",c.name,"."]})]}),s.jsx(gd,{initial:{name:c.name,email:c.email||"",phone:c.phone||"",street:c.street||"",zip:c.zip||"",city:c.city||"",notes:c.notes||""},onSubmit:E,onCancel:()=>{u("list"),d(null)},submitLabel:"Aktualisieren"})]})]})}const yd=({offer:e,customers:t,packages:n,onSave:r,onCancel:i,submitLabel:a="Erstellen"})=>{var ye,D;const{adapter:l}=Vn(),{settings:o}=ta(),{showError:u,showSuccess:c}=gn(),{withLoading:d}=Gr(),[f,p]=x.useState(((ye=e==null?void 0:e.customerId)==null?void 0:ye.toString())||""),[m,v]=x.useState((e==null?void 0:e.title)||""),[w,E]=x.useState((e==null?void 0:e.notes)||""),[g,h]=x.useState(e!=null&&e.validUntil?new Date(e.validUntil).toISOString().split("T")[0]:""),[y,C]=x.useState((e==null?void 0:e.lineItems)||[]),[I,b]=x.useState((e==null?void 0:e.vatRate)||19),[k,_]=x.useState({}),[T,R]=x.useState(!1),z=((D=o==null?void 0:o.companyData)==null?void 0:D.kleinunternehmer)||!1,ne=y.reduce((P,F)=>P+F.total,0),V=z?0:ne*I/100,ie=ne+V,ge=()=>{const P={id:Date.now(),title:"",description:"",quantity:1,unitPrice:0,total:0,parentItemId:void 0};C([...y,P])},le=P=>{const F={id:Date.now(),title:"",description:"",quantity:1,unitPrice:0,total:0,parentItemId:P};C([...y,F])},pe=(P,F,q)=>{C(ue=>ue.map(ce=>{if(ce.id===P){const te={...ce,[F]:q};return(F==="quantity"||F==="unitPrice")&&(te.total=te.quantity*te.unitPrice),te}return ce}))},$=P=>{C(F=>F.filter(q=>q.id!==P&&q.parentItemId!==P))},L=async P=>{if(l)try{const F=await l.getPackage(P);if(!F)return;const q=F.lineItems.map(ue=>({id:Date.now()+Math.random(),title:ue.title,description:ue.description,quantity:ue.quantity,unitPrice:ue.amount,total:ue.quantity*ue.amount,parentItemId:ue.parentItemId}));C([...y,...q])}catch(F){console.error("Error adding package:",F)}};function A(){const P={};return f||(P.customerId="Kunde ist erforderlich"),m!=null&&m.trim()||(P.title="Angebots-Titel ist erforderlich"),y.length===0&&(P.lineItems="Mindestens eine Position ist erforderlich"),y.forEach((F,q)=>{var ue;(ue=F.title)!=null&&ue.trim()||(P[`lineItem_${q}_title`]=`Titel für Position ${q+1} ist erforderlich`),F.quantity<=0&&(P[`lineItem_${q}_quantity`]=`Menge für Position ${q+1} muss größer als 0 sein`),F.unitPrice<0&&(P[`lineItem_${q}_unitPrice`]=`Preis für Position ${q+1} darf nicht negativ sein`)}),_(P),Object.keys(P).length===0}const X=async P=>{if(P.preventDefault(),T)return;if(!f||!m.trim()){alert("❌ Pflichtfelder fehlen:\\n\\n"+(f?"":"• Bitte wählen Sie einen Kunden aus\\n")+(m.trim()?"":"• Bitte geben Sie einen Titel ein\\n"));return}if(!A())return;const F={offerNumber:(e==null?void 0:e.offerNumber)||`AN-${Date.now()}`,customerId:parseInt(f),title:m.trim(),notes:w.trim(),validUntil:g,lineItems:y,subtotal:ne,vatRate:I,vatAmount:V,total:ie,status:(e==null?void 0:e.status)||"draft"};try{R(!0),await d(()=>r(F),`${a}...`),c(`Angebot wurde erfolgreich ${a==="Erstellen"?"erstellt":"aktualisiert"}.`)}catch(q){const ue=Te(q);ue instanceof se&&ue.field?_(ce=>({...ce,[ue.field]:ue.message})):u(ue)}finally{R(!1)}},re=y.filter(P=>!P.parentItemId);return s.jsxs("div",{className:"card",style:{maxWidth:"800px",margin:"0 auto"},children:[s.jsx("h2",{style:{margin:"0 0 16px 0"},children:e?"Angebot bearbeiten":"Neues Angebot"}),s.jsxs("form",{onSubmit:X,style:{display:"flex",flexDirection:"column",gap:"16px"},children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"Kunde *"}),s.jsxs("select",{value:f,onChange:P=>{p(P.target.value),k.customerId&&_(F=>({...F,customerId:""}))},style:{width:"100%",padding:"8px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"6px",background:"rgba(17,24,39,.8)",color:"var(--muted)"},required:!0,disabled:T,className:k.customerId?"error":"",children:[s.jsx("option",{value:"",children:"Kunde auswählen"}),t.map(P=>s.jsx("option",{value:P.id,children:P.name},P.id))]}),k.customerId&&s.jsx("div",{className:"field-error",children:k.customerId})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"Gültig bis"}),s.jsx("input",{type:"date",value:g,onChange:P=>h(P.target.value),style:{width:"100%",padding:"8px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"6px",background:"rgba(17,24,39,.8)",color:"var(--muted)"}})]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"Titel *"}),s.jsx("input",{type:"text",value:m,onChange:P=>{v(P.target.value),k.title&&_(F=>({...F,title:""}))},style:{width:"100%",padding:"8px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"6px",background:"rgba(17,24,39,.8)",color:"var(--muted)"},required:!0,disabled:T,className:k.title?"error":""}),k.title&&s.jsx("div",{className:"field-error",children:k.title})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"Anmerkungen"}),s.jsx("textarea",{value:w,onChange:P=>E(P.target.value),rows:3,style:{width:"100%",padding:"8px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"6px",background:"rgba(17,24,39,.8)",color:"var(--muted)",resize:"vertical"}})]}),s.jsxs("div",{style:{borderTop:"1px solid rgba(255,255,255,.1)",paddingTop:"16px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[s.jsx("h3",{style:{margin:"0",fontSize:"16px",fontWeight:"600"},children:"Positionen"}),s.jsxs("select",{onChange:P=>{P.target.value&&(L(parseInt(P.target.value)),P.target.value="")},style:{padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},disabled:T,children:[s.jsx("option",{value:"",children:"Paket hinzufügen"}),n.map(P=>s.jsx("option",{value:P.id,children:P.internalTitle},P.id))]}),s.jsx("button",{type:"button",onClick:ge,disabled:T,className:"btn btn-success",style:{fontSize:"14px",padding:"6px 12px"},children:"Position hinzufügen"})]}),k.lineItems&&s.jsx("div",{className:"field-error",style:{marginBottom:"12px"},children:k.lineItems}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:re.map(P=>s.jsxs("div",{children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr 1fr auto",gap:"8px",alignItems:"start",padding:"12px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"6px",background:"rgba(17,24,39,.4)"},children:[s.jsxs("div",{children:[s.jsx("input",{type:"text",placeholder:"Titel",value:P.title,onChange:F=>pe(P.id,"title",F.target.value),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px",marginBottom:"4px"}}),s.jsx("input",{type:"text",placeholder:"Beschreibung",value:P.description||"",onChange:F=>pe(P.id,"description",F.target.value),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"}})]}),s.jsx("div",{children:s.jsx("input",{type:"number",placeholder:"Menge",value:P.quantity,onChange:F=>pe(P.id,"quantity",parseFloat(F.target.value)||0),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},min:"0",step:"0.01"})}),s.jsx("div",{children:s.jsx("input",{type:"number",placeholder:"Einzelpreis",value:P.unitPrice,onChange:F=>pe(P.id,"unitPrice",parseFloat(F.target.value)||0),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},min:"0",step:"0.01"})}),s.jsxs("div",{style:{padding:"6px",fontSize:"14px",fontWeight:"500"},children:["€",P.total.toFixed(2)]}),s.jsxs("div",{style:{display:"flex",gap:"4px"},children:[s.jsx("button",{type:"button",onClick:()=>le(P.id),style:{backgroundColor:"var(--ok)",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Sub"}),s.jsx("button",{type:"button",onClick:()=>$(P.id),style:{backgroundColor:"var(--danger)",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"✕"})]})]}),y.filter(F=>F.parentItemId===P.id).map(F=>s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr 1fr auto",gap:"8px",alignItems:"start",padding:"12px",marginLeft:"24px",border:"1px solid rgba(96,165,250,.3)",borderLeft:"4px solid var(--accent)",borderRadius:"6px",background:"rgba(96,165,250,.1)",marginTop:"4px"},children:[s.jsxs("div",{children:[s.jsx("input",{type:"text",placeholder:"Sub-Titel",value:F.title,onChange:q=>pe(F.id,"title",q.target.value),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px",marginBottom:"4px"}}),s.jsx("input",{type:"text",placeholder:"Sub-Beschreibung",value:F.description||"",onChange:q=>pe(F.id,"description",q.target.value),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"}})]}),s.jsx("div",{children:s.jsx("input",{type:"number",placeholder:"Menge",value:F.quantity,onChange:q=>pe(F.id,"quantity",parseFloat(q.target.value)||0),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},min:"0",step:"0.01"})}),s.jsx("div",{children:s.jsx("input",{type:"number",placeholder:"Einzelpreis",value:F.unitPrice,onChange:q=>pe(F.id,"unitPrice",parseFloat(q.target.value)||0),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},min:"0",step:"0.01"})}),s.jsxs("div",{style:{padding:"6px",fontSize:"14px",fontWeight:"500"},children:["€",F.total.toFixed(2)]}),s.jsx("div",{children:s.jsx("button",{type:"button",onClick:()=>$(F.id),style:{backgroundColor:"var(--danger)",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"✕"})})]},F.id))]},P.id))})]}),s.jsx("div",{style:{borderTop:"1px solid rgba(255,255,255,.1)",paddingTop:"16px"},children:s.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:s.jsxs("div",{style:{width:"300px",display:"flex",flexDirection:"column",gap:"8px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{children:"Zwischensumme:"}),s.jsxs("span",{children:["€",ne.toFixed(2)]})]}),!z&&s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx("span",{children:"MwSt.:"}),s.jsx("input",{type:"number",value:I,onChange:P=>b(parseFloat(P.target.value)||0),style:{width:"60px",padding:"4px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},min:"0",max:"100",step:"0.1"}),s.jsx("span",{children:"%"})]}),s.jsxs("span",{children:["€",V.toFixed(2)]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"600",fontSize:"16px",borderTop:"1px solid rgba(255,255,255,.1)",paddingTop:"8px"},children:[s.jsx("span",{children:"Gesamtbetrag:"}),s.jsxs("span",{children:["€",ie.toFixed(2)]})]})]})})}),s.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",marginTop:"16px"},children:[s.jsx("button",{type:"button",onClick:i,disabled:T,className:"btn btn-secondary",style:{padding:"12px 24px",fontSize:"14px",fontWeight:"500",minWidth:"120px"},children:"Abbrechen"}),s.jsx("button",{type:"submit",disabled:T,className:"btn btn-primary",style:{padding:"12px 24px",fontSize:"14px",fontWeight:"500",minWidth:"120px"},children:T?"Wird gespeichert...":a})]}),s.jsx("style",{children:`
          .field-error {
            color: rgba(239, 68, 68, 0.9);
            font-size: 0.8rem;
            margin-top: 4px;
          }
          .error {
            border-color: rgba(239, 68, 68, 0.5) !important;
            background: rgba(239, 68, 68, 0.1) !important;
          }
        `})]})]})},vd="rawalite-settings";function mh(){const[e,t]=x.useState(bt),[n,r]=x.useState(!0),[i,a]=x.useState(null);x.useEffect(()=>{try{const d=localStorage.getItem(vd);if(d){const f=JSON.parse(d);t({...bt,...f,companyData:{...bt.companyData,...f.companyData},numberingCircles:f.numberingCircles||bt.numberingCircles})}}catch(d){console.error("Error loading settings:",d),a("Fehler beim Laden der Einstellungen")}finally{r(!1)}},[]);const l=async d=>{try{r(!0),localStorage.setItem(vd,JSON.stringify(d)),t(d),a(null)}catch(f){throw console.error("Error saving settings:",f),a("Fehler beim Speichern der Einstellungen"),f}finally{r(!1)}};return{settings:e,loading:n,error:i,updateCompanyData:async d=>{const f={...e,companyData:d};await l(f)},updateNumberingCircles:async d=>{const f={...e,numberingCircles:d};await l(f)},getNextNumber:d=>{const f=e.numberingCircles.find(w=>w.id===d);if(!f)throw new Error(`Nummernkreis '${d}' nicht gefunden`);const p=new Date().getFullYear();let m=f.current+1;f.resetMode==="yearly"&&f.lastResetYear!==p&&(m=1);const v=e.numberingCircles.map(w=>w.id===d?{...w,current:m,lastResetYear:p}:w);return l({...e,numberingCircles:v}),`${f.prefix}${m.toString().padStart(f.digits,"0")}`},saveSettings:l}}function Px({title:e="Angebote"}){const{offers:t,loading:n,error:r,createOffer:i,updateOffer:a,deleteOffer:l}=Ml(),{customers:o}=Ol(),{packages:u}=ju(),{settings:c}=mh(),{showSuccess:d,showError:f}=gn(),[p,m]=x.useState("list"),[v,w]=x.useState(null),E=x.useMemo(()=>[{key:"offerNumber",header:"Nummer"},{key:"customerId",header:"Kunde",render:k=>{const _=o.find(T=>T.id===k.customerId);return(_==null?void 0:_.name)||`Kunde #${k.customerId}`}},{key:"title",header:"Titel"},{key:"status",header:"Status",render:k=>{const _={draft:"#6b7280",sent:"#3b82f6",accepted:"#10b981",rejected:"#ef4444"},T={draft:"Entwurf",sent:"Versendet",accepted:"Angenommen",rejected:"Abgelehnt"},R=_[k.status]||"#6b7280",z=T[k.status]||k.status;return s.jsx("span",{style:{padding:"4px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"500",backgroundColor:R+"20",color:R},children:z})}},{key:"total",header:"Gesamtbetrag",render:k=>`€${k.total.toFixed(2)}`},{key:"validUntil",header:"Gültig bis",render:k=>k.validUntil?new Date(k.validUntil).toLocaleDateString("de-DE"):"-"},{key:"id",header:"Aktionen",render:k=>s.jsxs("div",{style:{display:"flex",gap:"4px"},children:[s.jsx("button",{className:"btn btn-info",onClick:()=>b(k),style:{padding:"4px 8px",fontSize:"12px"},title:"PDF Vorschau anzeigen",children:"👁️ Vorschau"}),s.jsx("button",{className:"btn btn-warning",onClick:()=>I(k),style:{padding:"4px 8px",fontSize:"12px"},title:"PDF herunterladen",children:"💾 PDF"}),s.jsx("button",{className:"btn btn-secondary",style:{padding:"4px 8px",fontSize:"12px"},onClick:()=>{w(k),m("edit")},children:"Bearbeiten"}),s.jsxs("select",{value:k.status,onChange:_=>y(k.id,_.target.value),style:{padding:"4px 8px",fontSize:"12px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",cursor:"pointer"},children:[s.jsx("option",{value:"draft",children:"Entwurf"}),s.jsx("option",{value:"sent",children:"Gesendet"}),s.jsx("option",{value:"accepted",children:"Angenommen"}),s.jsx("option",{value:"rejected",children:"Abgelehnt"})]}),s.jsx("button",{className:"btn btn-danger",style:{padding:"4px 8px",fontSize:"12px"},onClick:()=>{confirm("Dieses Angebot wirklich löschen?")&&C(k.id)},children:"Löschen"})]})}],[o]);async function g(k){await i(k),m("list")}async function h(k){v&&(await a(v.id,k),m("list"),w(null))}async function y(k,_){try{const T=t.find(V=>V.id===k);if(!T)return;const R=new Date().toISOString(),z={};switch(_){case"sent":z.sentAt=R;break;case"accepted":z.acceptedAt=R;break;case"rejected":z.rejectedAt=R;break}await a(k,{...T,status:_,...z}),d(`Angebot-Status auf "${{draft:"Entwurf",sent:"Gesendet",accepted:"Angenommen",rejected:"Abgelehnt"}[_]}" geändert`)}catch{f("Fehler beim Ändern des Status")}}async function C(k){await l(k)}const I=async k=>{const _=o.find(T=>T.id===k.customerId);if(!_){alert("Kunde nicht gefunden");return}try{await Ki.exportOfferToPDF(k,_,c,!1)}catch(T){console.error("PDF Export failed:",T),alert("PDF Export fehlgeschlagen: "+(T instanceof Error?T.message:"Unbekannter Fehler"))}},b=async k=>{const _=o.find(T=>T.id===k.customerId);if(!_){alert("Kunde nicht gefunden");return}try{await Ki.exportOfferToPDF(k,_,c,!0)}catch(T){console.error("PDF Preview failed:",T),alert("PDF Vorschau fehlgeschlagen: "+(T instanceof Error?T.message:"Unbekannter Fehler"))}};return n?s.jsx("div",{className:"card",children:"Lade Angebote..."}):r?s.jsxs("div",{className:"card",children:["Fehler: ",r]}):s.jsxs("div",{className:"card",children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[s.jsxs("div",{children:[s.jsx("h2",{style:{margin:"0 0 4px 0"},children:e}),s.jsx("div",{style:{opacity:.7},children:"Verwalte deine Angebote und exportiere sie als PDF."})]}),s.jsx("button",{className:`btn ${p==="create"?"btn-secondary":"btn-primary"}`,onClick:()=>m(p==="create"?"list":"create"),children:p==="create"?"Abbrechen":"Neues Angebot"})]}),s.jsx($l,{columns:E,data:t,emptyMessage:"Noch keine Angebote erstellt."}),p==="create"&&s.jsxs("div",{style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid rgba(255,255,255,.1)"},children:[s.jsxs("div",{style:{marginBottom:"16px"},children:[s.jsx("h3",{style:{margin:"0 0 4px 0"},children:"Neues Angebot"}),s.jsx("div",{style:{opacity:.7},children:"Erstelle ein neues Angebot."})]}),s.jsx(yd,{customers:o,packages:u,onSave:g,onCancel:()=>m("list"),submitLabel:"Erstellen"})]}),p==="edit"&&v&&s.jsxs("div",{style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid rgba(255,255,255,.1)"},children:[s.jsxs("div",{style:{marginBottom:"16px"},children:[s.jsx("h3",{style:{margin:"0 0 4px 0"},children:"Angebot bearbeiten"}),s.jsxs("div",{style:{opacity:.7},children:['Bearbeite das Angebot "',v.title,'".']})]}),s.jsx(yd,{offer:v,customers:o,packages:u,onSave:h,onCancel:()=>{m("list"),w(null)},submitLabel:"Aktualisieren"})]})]})}function Ix({}){const{adapter:e,ready:t,error:n}=Vn(),[r,i]=x.useState([]),[a,l]=x.useState(!1),[o,u]=x.useState("");x.useEffect(()=>{if(!t||!e)return;let d=!0;return(async()=>{l(!0);try{const f=await e.listCustomers();d&&i(f)}finally{d&&l(!1)}})(),()=>{d=!1}},[t,e]);async function c(){if(!e)return;const d=o.trim();if(!d)return;const f=`K-${String(Date.now()).slice(-6)}`;await e.createCustomer({number:f,name:d});const p=await e.listCustomers();i(p),u("")}return s.jsxs("div",{className:"p-4 space-y-6",children:[s.jsx("header",{className:"flex items-center justify-between",children:s.jsx("h1",{className:"text-2xl font-semibold",children:"Angebot – Details"})}),!t&&s.jsx("div",{className:"text-sm text-gray-500",children:"Initialisiere Persistenz…"}),n&&s.jsxs("div",{className:"text-sm text-red-600",children:["Persistenzfehler: ",String(n)]}),s.jsxs("section",{className:"space-y-3",children:[s.jsx("h2",{className:"text-lg font-medium",children:"Schnell-Kunde anlegen"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{value:o,onChange:d=>u(d.target.value),placeholder:"Kundenname",className:"flex-1 px-3 py-2 border rounded"}),s.jsx("button",{onClick:c,disabled:!o.trim()||!e,className:"px-4 py-2 bg-blue-600 text-white rounded disabled:bg-gray-400",children:"Hinzufügen"})]})]}),s.jsxs("section",{className:"space-y-3",children:[s.jsxs("h2",{className:"text-lg font-medium",children:["Kunden (",r.length,")"]}),a?s.jsx("div",{className:"text-sm text-gray-500",children:"Lade Kunden…"}):s.jsx("div",{className:"grid gap-2",children:r.map(d=>s.jsxs("div",{className:"p-3 border rounded",children:[s.jsx("div",{className:"font-medium",children:d.name}),s.jsx("div",{className:"text-sm text-gray-600",children:d.number})]},d.id))})]})]})}function xd({initial:e,onSubmit:t,onCancel:n,submitLabel:r="Speichern",packages:i=[]}){const[a,l]=x.useState(e??{internalTitle:"",lineItems:[],addVat:!1}),[o,u]=x.useState({title:"",quantity:1,amount:0,parentItemId:void 0,description:""}),[c,d]=x.useState(""),[f,p]=x.useState({}),[m,v]=x.useState(!1),{showError:w,showSuccess:E}=gn(),{withLoading:g}=Gr();function h(){var ne;if(!o.title.trim()){d("Bitte einen Titel für die Position eingeben"),setTimeout(()=>{const V=document.querySelector('input[placeholder*="Position"]');V==null||V.focus()},100);return}d("");const R={title:o.title.trim(),quantity:o.quantity,amount:o.amount,parentItemId:o.parentItemId,description:((ne=o.description)==null?void 0:ne.trim())||void 0};l(V=>({...V,lineItems:[...V.lineItems,R]}));const z=o.parentItemId;u({title:"",quantity:1,amount:0,parentItemId:z,description:""}),setTimeout(()=>{const V=document.querySelector('input[placeholder*="Position"]');V==null||V.focus()},100)}function y(R){l(z=>({...z,lineItems:z.lineItems.filter((ne,V)=>V!==R)}))}function C(R,z,ne){l(V=>({...V,lineItems:V.lineItems.map((ie,ge)=>ge===R?{...ie,[z]:ne}:ie)}))}function I(){const R={};return a.internalTitle.trim()||(R.internalTitle="Bitte einen internen Titel eingeben"),a.lineItems.length===0&&(R.lineItems="Bitte mindestens eine Position hinzufügen"),a.lineItems.forEach((z,ne)=>{z.title.trim()||(R[`item_${ne}_title`]="Titel ist erforderlich"),z.quantity<=0&&(R[`item_${ne}_quantity`]="Menge muss größer als 0 sein"),z.amount<0&&(R[`item_${ne}_amount`]="Betrag darf nicht negativ sein")}),p(R),Object.keys(R).length===0}const b=a.lineItems.reduce((R,z)=>z.parentItemId?R:R+z.quantity*z.amount,0);async function k(R){if(R.preventDefault(),!I()||m)return;const z={...a,internalTitle:a.internalTitle.trim()};try{v(!0),await g(()=>t(z),`${r}...`),E(`Paket wurde erfolgreich ${r==="Speichern"?"gespeichert":"aktualisiert"}.`)}catch(ne){const V=Te(ne);V instanceof se&&V.field?p(ie=>({...ie,[V.field]:V.message})):w(V)}finally{v(!1)}}const _=i.filter(R=>!R.parentPackageId),T=a.lineItems.length>0||_.length>0;return s.jsxs("form",{onSubmit:k,className:"package-form",style:{display:"grid",gap:16},children:[s.jsxs("div",{style:{display:"grid",gap:6},children:[s.jsx("label",{children:"Paket-Name*"}),s.jsx("input",{value:a.internalTitle,onChange:R=>{l(z=>({...z,internalTitle:R.target.value})),f.internalTitle&&p(z=>({...z,internalTitle:""}))},placeholder:"Webdesign-Paket",disabled:m,className:f.internalTitle?"error":""}),f.internalTitle&&s.jsx("span",{className:"field-error",children:f.internalTitle})]}),T&&s.jsxs("div",{style:{display:"grid",gap:6},children:[s.jsx("label",{children:"Als Subpaket zu (optional)"}),s.jsxs("select",{value:a.parentPackageId||"",onChange:R=>l(z=>({...z,parentPackageId:R.target.value?Number(R.target.value):void 0})),disabled:m,children:[s.jsx("option",{value:"",children:"-- Hauptpaket --"}),_.length>0?_.map(R=>s.jsx("option",{value:R.id,children:R.internalTitle},R.id)):s.jsx("option",{disabled:!0,style:{fontStyle:"italic",opacity:.7},children:"Speichere zuerst ein Hauptpaket, um Subpakete erstellen zu können"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{style:{margin:"0 0 12px 0"},children:"Leistungspositionen"}),f.lineItems&&s.jsx("div",{className:"field-error",style:{marginBottom:"12px"},children:f.lineItems}),a.lineItems.map((R,z)=>{const ne=!!R.parentItemId;return s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto 120px auto",gap:8,alignItems:"center",padding:"8px 0",paddingLeft:ne?"20px":"0",borderBottom:"1px solid rgba(255,255,255,.1)",borderLeft:ne?"2px solid rgba(96,165,250,.5)":"none"},children:[s.jsxs("div",{children:[ne&&s.jsx("span",{style:{opacity:.7,fontSize:"12px"},children:"↳ "}),s.jsx("input",{value:R.title,onChange:V=>C(z,"title",V.target.value),placeholder:ne?"Sub-Position":"Hauptposition",disabled:m,className:f[`item_${z}_title`]?"error":""}),f[`item_${z}_title`]&&s.jsx("div",{className:"field-error",style:{fontSize:"10px"},children:f[`item_${z}_title`]}),ne&&s.jsx("input",{value:R.description||"",onChange:V=>C(z,"description",V.target.value),placeholder:"Beschreibung (optional)",style:{marginTop:"4px",fontSize:"12px",opacity:.8},disabled:m})]}),s.jsx("input",{type:"number",value:R.quantity,onChange:V=>C(z,"quantity",Number(V.target.value)),style:{width:"60px"},min:"1",disabled:m,className:f[`item_${z}_quantity`]?"error":""}),s.jsx("input",{type:"number",value:R.amount,onChange:V=>C(z,"amount",Number(V.target.value)),placeholder:ne?"0":"1000",step:"0.01",disabled:m,className:f[`item_${z}_amount`]?"error":""}),s.jsxs("div",{style:{display:"flex",gap:"4px"},children:[!ne&&s.jsx("button",{type:"button",onClick:()=>{u(V=>({...V,parentItemId:z,title:"",description:""})),setTimeout(()=>{const V=document.querySelector('input[placeholder*="Position"]');V==null||V.focus()},100)},disabled:m,style:{backgroundColor:"rgba(96,165,250,.8)",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},title:"Sub-Item zu dieser Position hinzufügen",children:"+ Sub"}),s.jsx("button",{type:"button",onClick:()=>y(z),disabled:m,style:{backgroundColor:"rgba(239,68,68,.8)",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"🗑️"})]})]},z)}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto 120px auto auto",gap:8,alignItems:"center",padding:"12px 0",borderTop:"2px solid rgba(96,165,250,.3)",marginTop:"8px"},children:[s.jsxs("div",{children:[a.lineItems.filter(R=>!R.parentItemId).length>0&&s.jsxs("select",{value:o.parentItemId||"",onChange:R=>u(z=>({...z,parentItemId:R.target.value?Number(R.target.value):void 0})),style:{marginBottom:"4px",width:"100%"},disabled:m,children:[s.jsx("option",{value:"",children:"-- Hauptposition --"}),a.lineItems.filter(R=>!R.parentItemId).map((R,z)=>s.jsxs("option",{value:z,children:["↳ Sub-Item zu: ",R.title]},z))]}),s.jsx("input",{value:o.title,onChange:R=>{u(z=>({...z,title:R.target.value})),c&&d("")},placeholder:o.parentItemId!==void 0?"Sub-Position...":"Neue Position...",style:{width:"100%",border:c?"1px solid #ff6b6b":"1px solid rgba(255,255,255,.15)"},disabled:m}),o.parentItemId!==void 0&&s.jsx("input",{value:o.description,onChange:R=>u(z=>({...z,description:R.target.value})),placeholder:"Beschreibung (optional)",style:{marginTop:"4px",fontSize:"12px",opacity:.8,width:"100%"},disabled:m}),c&&s.jsx("div",{className:"field-error",children:c})]}),s.jsx("input",{type:"number",value:o.quantity,onChange:R=>u(z=>({...z,quantity:Number(R.target.value)})),style:{width:"60px"},min:"1",disabled:m}),s.jsx("input",{type:"number",value:o.amount,onChange:R=>u(z=>({...z,amount:Number(R.target.value)})),placeholder:"0",step:"0.01",disabled:m}),o.parentItemId!==void 0&&s.jsx("button",{type:"button",onClick:()=>u(R=>({...R,parentItemId:void 0})),disabled:m,style:{backgroundColor:"rgba(156,163,175,.8)",color:"white",border:"none",padding:"8px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},title:"Zu Hauptposition wechseln",children:"Haupt"}),s.jsx("button",{type:"button",onClick:h,disabled:m,style:{backgroundColor:"rgba(34,197,94,.8)",color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"+ Position hinzufügen"})]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",borderTop:"1px solid rgba(255,255,255,.2)",paddingTop:"12px"},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[s.jsx("input",{type:"checkbox",checked:a.addVat,onChange:R=>l(z=>({...z,addVat:R.target.checked})),disabled:m}),"MwSt. hinzufügen"]}),s.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold"},children:["Total: €",b.toFixed(2),a.addVat&&s.jsx("span",{style:{fontSize:"12px",opacity:.8,display:"block"},children:"zzgl. MwSt."})]})]}),s.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[s.jsx("button",{type:"submit",disabled:m,className:"btn btn-primary",style:{padding:"12px 24px",fontSize:"14px",fontWeight:"500",minWidth:"120px"},children:m?"Wird gespeichert...":r}),n&&s.jsx("button",{type:"button",onClick:n,disabled:m,className:"btn btn-secondary",style:{padding:"12px 24px",fontSize:"14px",fontWeight:"500",minWidth:"120px"},children:"Abbrechen"})]}),s.jsx("style",{children:`
        .package-form input, 
        .package-form select { 
          background: rgba(255,255,255,.06); 
          color: white; 
          border: 1px solid rgba(255,255,255,.15); 
          padding: 10px 12px; 
          border-radius: 10px; 
          font-family: inherit;
        }
        
        .package-form select option {
          background: #1a1a1a;
          color: white;
          padding: 8px;
        }
        
        .package-form input:focus, 
        .package-form select:focus { 
          outline: 2px solid rgba(96,165,250,.5);
          background: rgba(255,255,255,.08);
        }
        
        .package-form input.error {
          border-color: rgba(239, 68, 68, 0.5);
          background: rgba(239, 68, 68, 0.1);
        }
        
        .package-form input:disabled, 
        .package-form select:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }
        
        .package-form label {
          font-weight: 500;
          color: rgba(255,255,255,.9);
        }
        
        .field-error {
          color: rgba(239, 68, 68, 0.9);
          font-size: 0.8rem;
          margin-top: 4px;
        }
        
        .package-form input[type="checkbox"] {
          width: auto;
          margin: 0;
        }
      `})]})}function Dx({title:e="Pakete"}){const{packages:t,loading:n,error:r,createPackage:i,updatePackage:a,deletePackage:l}=ju(),[o,u]=x.useState("list"),[c,d]=x.useState(null),{showError:f,showSuccess:p}=gn(),{withLoading:m}=Gr();t.filter(h=>!h.parentPackageId),t.filter(h=>h.parentPackageId);const v=x.useMemo(()=>[{key:"internalTitle",header:"Bezeichnung"},{key:"total",header:"Preis",render:h=>`€${h.total.toFixed(2)}`},{key:"lineItems",header:"Positionen",render:h=>`${h.lineItems.length} Position(en)`},{key:"parentPackageId",header:"Typ",render:h=>h.parentPackageId?s.jsx("em",{style:{opacity:.7},children:"Subpaket"}):s.jsx("strong",{children:"Hauptpaket"})},{key:"id",header:"Aktionen",render:h=>s.jsxs("div",{style:{display:"flex",gap:8},children:[s.jsx("button",{className:"btn btn-secondary",style:{padding:"4px 8px",fontSize:"12px"},onClick:()=>{d(h),u("edit")},disabled:n,children:"Bearbeiten"}),s.jsx("button",{className:"btn btn-danger",style:{padding:"4px 8px",fontSize:"12px"},onClick:()=>{confirm("Dieses Paket wirklich löschen?")&&g(h.id)},disabled:n,children:"Löschen"})]})}],[n]);async function w(h){try{await i({internalTitle:h.internalTitle,lineItems:h.lineItems.map((y,C)=>({...y,id:C+1})),parentPackageId:h.parentPackageId,addVat:h.addVat}),u("list")}catch(y){console.error("Error creating package:",y)}}async function E(h){if(c)try{await a(c.id,{internalTitle:h.internalTitle,lineItems:h.lineItems.map((y,C)=>({...y,id:C+1})),parentPackageId:h.parentPackageId,addVat:h.addVat}),u("list"),d(null)}catch(y){console.error("Error updating package:",y)}}async function g(h){try{await m(()=>l(h),"Paket wird gelöscht..."),p("Paket wurde erfolgreich gelöscht.")}catch(y){const C=Te(y);f(C)}}return n&&t.length===0?s.jsx("div",{className:"card",children:s.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[s.jsx("div",{className:"loading-spinner",style:{margin:"0 auto 1rem"}}),s.jsx("p",{children:"Pakete werden geladen..."})]})}):r&&t.length===0?s.jsx("div",{className:"card",children:s.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[s.jsxs("p",{style:{color:"rgba(239, 68, 68, 0.9)",marginBottom:"1rem"},children:["Fehler beim Laden der Pakete: ",r]}),s.jsx("button",{className:"btn btn-primary",onClick:()=>window.location.reload(),children:"Seite neu laden"})]})}):s.jsxs("div",{className:"card",children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[s.jsxs("div",{children:[s.jsx("h2",{style:{margin:"0 0 4px 0"},children:e}),s.jsx("div",{style:{opacity:.7},children:"Definiere Leistungspakete, die du in Angeboten/Rechnungen verwenden kannst."})]}),s.jsx("button",{className:`btn ${o==="create"?"btn-secondary":"btn-primary"}`,onClick:()=>u(o==="create"?"list":"create"),disabled:n,children:o==="create"?"Abbrechen":"Neues Paket"})]}),s.jsx($l,{columns:v,data:t,emptyMessage:"Noch keine Pakete definiert."}),o==="create"&&s.jsxs("div",{style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid rgba(255,255,255,.1)"},children:[s.jsxs("div",{style:{marginBottom:"16px"},children:[s.jsx("h3",{style:{margin:"0 0 4px 0"},children:"Neues Paket"}),s.jsx("div",{style:{opacity:.7},children:"Erstelle ein neues Leistungspaket."})]}),s.jsx(xd,{onSubmit:w,onCancel:()=>u("list"),submitLabel:"Paket erstellen",packages:t})]}),o==="edit"&&c&&s.jsxs("div",{style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid rgba(255,255,255,.1)"},children:[s.jsxs("div",{style:{marginBottom:"16px"},children:[s.jsx("h3",{style:{margin:"0 0 4px 0"},children:"Paket bearbeiten"}),s.jsxs("div",{style:{opacity:.7},children:['Bearbeite das Paket "',c.internalTitle,'".']})]}),s.jsx(xd,{initial:{internalTitle:c.internalTitle,lineItems:c.lineItems.map(h=>({title:h.title,quantity:h.quantity,amount:h.amount,parentItemId:h.parentItemId,description:h.description})),addVat:c.addVat,parentPackageId:c.parentPackageId},onSubmit:E,onCancel:()=>{u("list"),d(null)},submitLabel:"Paket aktualisieren",packages:t})]})]})}const wd=({invoice:e,customers:t,offers:n,onSave:r,onCancel:i})=>{var le,pe,$;const{adapter:a}=Vn(),{settings:l}=ta(),[o,u]=x.useState(((le=e==null?void 0:e.customerId)==null?void 0:le.toString())||""),[c,d]=x.useState(((pe=e==null?void 0:e.offerId)==null?void 0:pe.toString())||""),[f,p]=x.useState((e==null?void 0:e.title)||""),[m,v]=x.useState((e==null?void 0:e.notes)||""),[w,E]=x.useState(e!=null&&e.dueDate?new Date(e.dueDate).toISOString().split("T")[0]:""),[g,h]=x.useState((e==null?void 0:e.lineItems)||[]),[y,C]=x.useState((e==null?void 0:e.vatRate)||19),I=(($=l==null?void 0:l.companyData)==null?void 0:$.kleinunternehmer)||!1,b=g.reduce((L,A)=>L+A.total,0),k=I?0:b*(y/100),_=b+k,T=()=>{const L={id:Date.now(),title:"",description:"",quantity:1,unitPrice:0,total:0,parentItemId:void 0};h([...g,L])},R=L=>{const A={id:Date.now(),title:"",description:"",quantity:1,unitPrice:0,total:0,parentItemId:L};h([...g,A])},z=(L,A,X)=>{h(re=>re.map(ye=>{if(ye.id===L){const D={...ye,[A]:X};return(A==="quantity"||A==="unitPrice")&&(D.total=D.quantity*D.unitPrice),D}return ye}))},ne=L=>{h(A=>A.filter(X=>X.id!==L&&X.parentItemId!==L))},V=async L=>{if(a)try{const A=await a.getOffer(L);if(!A)return;const X=A.lineItems.map(re=>({id:Date.now()+Math.random(),title:re.title,description:re.description,quantity:re.quantity,unitPrice:re.unitPrice,total:re.total,parentItemId:re.parentItemId}));h(X),u(A.customerId.toString()),p(A.title),C(A.vatRate)}catch(A){console.error("Error adding offer:",A)}},ie=L=>{if(L.preventDefault(),!o||!f.trim()){alert("❌ Pflichtfelder fehlen:\\n\\n"+(o?"":"• Bitte wählen Sie einen Kunden aus\\n")+(f.trim()?"":"• Bitte geben Sie einen Titel ein\\n"));return}const A={invoiceNumber:(e==null?void 0:e.invoiceNumber)||`RE-${Date.now()}`,customerId:parseInt(o),offerId:c?parseInt(c):void 0,title:f,notes:m,dueDate:w,lineItems:g,subtotal:b,vatRate:y,vatAmount:k,total:_,status:(e==null?void 0:e.status)||"draft"};r(A)},ge=g.filter(L=>!L.parentItemId);return s.jsxs("div",{className:"card",style:{maxWidth:"800px",margin:"0 auto"},children:[s.jsx("h2",{style:{margin:"0 0 16px 0"},children:e?"Rechnung bearbeiten":"Neue Rechnung"}),s.jsxs("form",{onSubmit:ie,style:{display:"flex",flexDirection:"column",gap:"16px"},children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"Kunde *"}),s.jsxs("select",{value:o,onChange:L=>u(L.target.value),style:{width:"100%",padding:"8px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"6px",background:"rgba(17,24,39,.8)",color:"var(--muted)"},required:!0,children:[s.jsx("option",{value:"",children:"Kunde auswählen"}),t.map(L=>s.jsx("option",{value:L.id,children:L.name},L.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"Fällig am"}),s.jsx("input",{type:"date",value:w,onChange:L=>E(L.target.value),style:{width:"100%",padding:"8px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"6px",background:"rgba(17,24,39,.8)",color:"var(--muted)"}})]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"Titel *"}),s.jsx("input",{type:"text",value:f,onChange:L=>p(L.target.value),style:{width:"100%",padding:"8px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"6px",background:"rgba(17,24,39,.8)",color:"var(--muted)"},required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"Anmerkungen"}),s.jsx("textarea",{value:m,onChange:L=>v(L.target.value),rows:3,style:{width:"100%",padding:"8px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"6px",background:"rgba(17,24,39,.8)",color:"var(--muted)",resize:"vertical"}})]}),s.jsxs("div",{style:{borderTop:"1px solid rgba(255,255,255,.1)",paddingTop:"16px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[s.jsx("h3",{style:{margin:"0",fontSize:"16px",fontWeight:"600"},children:"Positionen"}),s.jsxs("select",{value:c,onChange:L=>{d(L.target.value),L.target.value&&V(parseInt(L.target.value))},style:{padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},children:[s.jsx("option",{value:"",children:"Aus Angebot übernehmen"}),n.filter(L=>!o||L.customerId===parseInt(o)).map(L=>s.jsxs("option",{value:L.id,children:[L.offerNumber," - ",L.title]},L.id))]}),s.jsx("button",{type:"button",onClick:T,style:{backgroundColor:"var(--accent)",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"Position hinzufügen"})]}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:ge.map(L=>s.jsxs("div",{children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr 1fr auto",gap:"8px",alignItems:"start",padding:"12px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"6px",background:"rgba(17,24,39,.4)"},children:[s.jsxs("div",{children:[s.jsx("input",{type:"text",placeholder:"Titel",value:L.title,onChange:A=>z(L.id,"title",A.target.value),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px",marginBottom:"4px"}}),s.jsx("input",{type:"text",placeholder:"Beschreibung",value:L.description||"",onChange:A=>z(L.id,"description",A.target.value),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"}})]}),s.jsx("div",{children:s.jsx("input",{type:"number",placeholder:"Menge",value:L.quantity,onChange:A=>z(L.id,"quantity",parseFloat(A.target.value)||0),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},min:"0",step:"0.01"})}),s.jsx("div",{children:s.jsx("input",{type:"number",placeholder:"Einzelpreis",value:L.unitPrice,onChange:A=>z(L.id,"unitPrice",parseFloat(A.target.value)||0),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},min:"0",step:"0.01"})}),s.jsxs("div",{style:{padding:"6px",fontSize:"14px",fontWeight:"500"},children:["€",L.total.toFixed(2)]}),s.jsxs("div",{style:{display:"flex",gap:"4px"},children:[s.jsx("button",{type:"button",onClick:()=>R(L.id),style:{backgroundColor:"var(--ok)",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Sub"}),s.jsx("button",{type:"button",onClick:()=>ne(L.id),style:{backgroundColor:"var(--danger)",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"✕"})]})]}),g.filter(A=>A.parentItemId===L.id).map(A=>s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr 1fr auto",gap:"8px",alignItems:"start",padding:"12px",marginLeft:"24px",border:"1px solid rgba(96,165,250,.3)",borderLeft:"4px solid var(--accent)",borderRadius:"6px",background:"rgba(96,165,250,.1)",marginTop:"4px"},children:[s.jsxs("div",{children:[s.jsx("input",{type:"text",placeholder:"Sub-Titel",value:A.title,onChange:X=>z(A.id,"title",X.target.value),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px",marginBottom:"4px"}}),s.jsx("input",{type:"text",placeholder:"Sub-Beschreibung",value:A.description||"",onChange:X=>z(A.id,"description",X.target.value),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"}})]}),s.jsx("div",{children:s.jsx("input",{type:"number",placeholder:"Menge",value:A.quantity,onChange:X=>z(A.id,"quantity",parseFloat(X.target.value)||0),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},min:"0",step:"0.01"})}),s.jsx("div",{children:s.jsx("input",{type:"number",placeholder:"Einzelpreis",value:A.unitPrice,onChange:X=>z(A.id,"unitPrice",parseFloat(X.target.value)||0),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},min:"0",step:"0.01"})}),s.jsxs("div",{style:{padding:"6px",fontSize:"14px",fontWeight:"500"},children:["€",A.total.toFixed(2)]}),s.jsx("div",{children:s.jsx("button",{type:"button",onClick:()=>ne(A.id),style:{backgroundColor:"var(--danger)",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"✕"})})]},A.id))]},L.id))})]}),s.jsx("div",{style:{borderTop:"1px solid rgba(255,255,255,.1)",paddingTop:"16px"},children:s.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:s.jsxs("div",{style:{width:"300px",display:"flex",flexDirection:"column",gap:"8px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{children:"Zwischensumme:"}),s.jsxs("span",{children:["€",b.toFixed(2)]})]}),!I&&s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx("span",{children:"MwSt.:"}),s.jsx("input",{type:"number",value:y,onChange:L=>C(parseFloat(L.target.value)||0),style:{width:"60px",padding:"4px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},min:"0",max:"100",step:"0.1"}),s.jsx("span",{children:"%"})]}),s.jsxs("span",{children:["€",k.toFixed(2)]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"600",fontSize:"16px",borderTop:"1px solid rgba(255,255,255,.1)",paddingTop:"8px"},children:[s.jsx("span",{children:"Gesamtbetrag:"}),s.jsxs("span",{children:["€",_.toFixed(2)]})]})]})})}),s.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",marginTop:"16px"},children:[s.jsx("button",{type:"button",onClick:i,style:{padding:"8px 16px",border:"1px solid rgba(255,255,255,.2)",background:"transparent",color:"var(--muted)",borderRadius:"6px",cursor:"pointer"},children:"Abbrechen"}),s.jsx("button",{type:"submit",style:{backgroundColor:"var(--accent)",color:"white",border:"none",padding:"8px 16px",borderRadius:"6px",cursor:"pointer",fontWeight:"500"},children:e?"Aktualisieren":"Erstellen"})]})]})]})};function _x({title:e="Rechnungen"}){const{invoices:t,loading:n,error:r,createInvoice:i,updateInvoice:a,deleteInvoice:l}=Cu(),{customers:o}=Ol(),{offers:u}=Ml(),{settings:c}=mh(),{showSuccess:d,showError:f}=gn(),[p,m]=x.useState("list"),[v,w]=x.useState(null),E=x.useMemo(()=>[{key:"invoiceNumber",header:"Nummer"},{key:"customerId",header:"Kunde",render:k=>{const _=o.find(T=>T.id===k.customerId);return(_==null?void 0:_.name)||`Kunde #${k.customerId}`}},{key:"title",header:"Titel"},{key:"status",header:"Status",render:k=>{const _={draft:"#6b7280",sent:"#3b82f6",paid:"#10b981",overdue:"#ef4444",cancelled:"#ef4444"},T={draft:"Entwurf",sent:"Versendet",paid:"Bezahlt",overdue:"Überfällig",cancelled:"Storniert"},R=_[k.status]||"#6b7280",z=T[k.status]||k.status;return s.jsx("span",{style:{padding:"4px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"500",backgroundColor:R+"20",color:R},children:z})}},{key:"total",header:"Gesamtbetrag",render:k=>`€${k.total.toFixed(2)}`},{key:"dueDate",header:"Fällig am",render:k=>k.dueDate?new Date(k.dueDate).toLocaleDateString("de-DE"):"-"},{key:"id",header:"Aktionen",render:k=>s.jsxs("div",{style:{display:"flex",gap:"4px"},children:[s.jsx("button",{className:"btn btn-info",onClick:()=>b(k),style:{padding:"4px 8px",fontSize:"12px"},title:"PDF Vorschau anzeigen",children:"👁️ Vorschau"}),s.jsx("button",{className:"btn btn-warning",onClick:()=>I(k),style:{padding:"4px 8px",fontSize:"12px"},title:"PDF herunterladen",children:"💾 PDF"}),s.jsx("button",{className:"btn btn-secondary",style:{padding:"4px 8px",fontSize:"12px"},onClick:()=>{w(k),m("edit")},children:"Bearbeiten"}),s.jsxs("select",{value:k.status,onChange:_=>y(k.id,_.target.value),style:{padding:"4px 8px",fontSize:"12px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",cursor:"pointer"},children:[s.jsx("option",{value:"draft",children:"Entwurf"}),s.jsx("option",{value:"sent",children:"Gesendet"}),s.jsx("option",{value:"paid",children:"Bezahlt"}),s.jsx("option",{value:"overdue",children:"Überfällig"}),s.jsx("option",{value:"cancelled",children:"Storniert"})]}),s.jsx("button",{className:"btn btn-danger",style:{padding:"4px 8px",fontSize:"12px"},onClick:()=>{confirm("Diese Rechnung wirklich löschen?")&&C(k.id)},children:"Löschen"})]})}],[o]);async function g(k){await i(k),m("list")}async function h(k){v&&(await a(v.id,k),m("list"),w(null))}async function y(k,_){try{const T=t.find(V=>V.id===k);if(!T)return;const R=new Date().toISOString(),z={};switch(_){case"sent":z.sentAt=R;break;case"paid":z.paidAt=R;break;case"overdue":z.overdueAt=R;break;case"cancelled":z.cancelledAt=R;break}await a(k,{...T,status:_,...z}),d(`Rechnungs-Status auf "${{draft:"Entwurf",sent:"Gesendet",paid:"Bezahlt",overdue:"Überfällig",cancelled:"Storniert"}[_]}" geändert`)}catch{f("Fehler beim Ändern des Status")}}async function C(k){await l(k)}const I=async k=>{const _=o.find(T=>T.id===k.customerId);if(!_){alert("Kunde nicht gefunden");return}try{await Ki.exportInvoiceToPDF(k,_,c,!1)}catch(T){console.error("PDF Export failed:",T),alert("PDF Export fehlgeschlagen: "+(T instanceof Error?T.message:"Unbekannter Fehler"))}},b=async k=>{const _=o.find(T=>T.id===k.customerId);if(!_){alert("Kunde nicht gefunden");return}try{await Ki.exportInvoiceToPDF(k,_,c,!0)}catch(T){console.error("PDF Preview failed:",T),alert("PDF Vorschau fehlgeschlagen: "+(T instanceof Error?T.message:"Unbekannter Fehler"))}};return n?s.jsx("div",{className:"card",children:"Lade Rechnungen..."}):r?s.jsxs("div",{className:"card",children:["Fehler: ",r]}):s.jsxs("div",{className:"card",children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[s.jsxs("div",{children:[s.jsx("h2",{style:{margin:"0 0 4px 0"},children:e}),s.jsx("div",{style:{opacity:.7},children:"Verwalte deine Rechnungen und exportiere sie als PDF."})]}),s.jsx("button",{className:"btn",onClick:()=>m(p==="create"?"list":"create"),children:p==="create"?"Abbrechen":"Neue Rechnung"})]}),s.jsx($l,{columns:E,data:t,emptyMessage:"Noch keine Rechnungen erstellt."}),p==="create"&&s.jsxs("div",{style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid rgba(255,255,255,.1)"},children:[s.jsxs("div",{style:{marginBottom:"16px"},children:[s.jsx("h3",{style:{margin:"0 0 4px 0"},children:"Neue Rechnung"}),s.jsx("div",{style:{opacity:.7},children:"Erstelle eine neue Rechnung."})]}),s.jsx(wd,{customers:o,offers:u,onSave:g,onCancel:()=>m("list")})]}),p==="edit"&&v&&s.jsxs("div",{style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid rgba(255,255,255,.1)"},children:[s.jsxs("div",{style:{marginBottom:"16px"},children:[s.jsx("h3",{style:{margin:"0 0 4px 0"},children:"Rechnung bearbeiten"}),s.jsxs("div",{style:{opacity:.7},children:['Bearbeite die Rechnung "',v.title,'".']})]}),s.jsx(wd,{invoice:v,customers:o,offers:u,onSave:h,onCancel:()=>{m("list"),w(null)}})]})]})}function Nx({title:e="Einstellungen"}){const{settings:t,loading:n,error:r,updateCompanyData:i,updateNumberingCircles:a,getNextNumber:l}=ch(),{adapter:o}=Vn(),{showError:u,showSuccess:c}=gn(),[d,f]=x.useState("company"),[p,m]=x.useState(t.companyData),[v,w]=x.useState(t.numberingCircles),[E,g]=x.useState(!1),[h,y]=x.useState(!1),[C,I]=x.useState("customers"),[b,k]=x.useState(null);_d.useEffect(()=>{var D;console.log("🔍 Settings loaded - Logo length:",((D=t.companyData.logo)==null?void 0:D.length)||0),m(t.companyData),w(t.numberingCircles)},[t]);const _=async D=>{var ue;const P=(ue=D.target.files)==null?void 0:ue[0];if(!P)return;if(!P.type.startsWith("image/")){alert("❌ Fehler: Bitte wählen Sie eine Bilddatei aus (PNG, JPG, GIF, etc.)"),D.target.value="";return}const F=2,q=P.size/(1024*1024);if(P.size>F*1024*1024){alert(`❌ Datei zu groß: ${q.toFixed(2)} MB

Maximum erlaubt: ${F} MB
Bitte verkleinern Sie das Bild oder wählen Sie eine andere Datei.`),D.target.value="";return}try{y(!0),c(`✅ Logo wird hochgeladen... (${q.toFixed(2)} MB)`);const ce=new FileReader;ce.onload=()=>{const te=ce.result;m(U=>({...U,logo:te})),c("Logo erfolgreich geladen! Vergessen Sie nicht zu speichern.")},ce.onerror=()=>{u("Fehler beim Lesen der Datei"),D.target.value=""},ce.readAsDataURL(P)}catch{u("Fehler beim Verarbeiten des Logos"),D.target.value=""}finally{y(!1)}},T=()=>{m(D=>({...D,logo:""}))},R=async D=>{D.preventDefault(),console.log("🏢 Company form submitted with data:",p);try{g(!0),await i(p),c("Unternehmensdaten gespeichert!")}catch(P){console.error("Company save error:",P),u("Fehler beim Speichern der Unternehmensdaten")}finally{g(!1)}},z=async D=>{D.preventDefault(),console.log("Tax form submitted, NOT calling clear data");try{g(!0),await i(p),c("Steuerliche Einstellungen gespeichert!")}catch(P){console.error("Tax settings save error:",P),u("Fehler beim Speichern der steuerlichen Einstellungen")}finally{g(!1)}},ne=async D=>{D.preventDefault(),console.log("🖼️ Logo form submitted, saving logo only");try{g(!0),await i(p),c("Logo erfolgreich gespeichert!")}catch(P){console.error("Logo save error:",P),u("Fehler beim Speichern des Logos")}finally{g(!1)}},V=async D=>{D.preventDefault(),console.log("🏦 Bank form submitted, saving bank data only");try{g(!0),await i(p),c("Bankverbindung erfolgreich gespeichert!")}catch(P){console.error("Bank save error:",P),u("Fehler beim Speichern der Bankverbindung")}finally{g(!1)}},ie=D=>{console.log("🔧 Kleinunternehmer checkbox changed to:",D.target.checked,"NOT deleting any data"),D.stopPropagation(),m({...p,kleinunternehmer:D.target.checked})},ge=async D=>{D.preventDefault();try{g(!0),await a(v),c("Nummernkreise gespeichert!")}catch{u("Fehler beim Speichern der Nummernkreise")}finally{g(!1)}},le=(D,P,F)=>{const q=[...v];q[D]={...q[D],[P]:F},w(q)},pe=async()=>{try{if(g(!0),!o){alert("Fehler: Datenbankadapter nicht verfügbar");return}const[D,P,F,q]=await Promise.all([o.listCustomers(),o.listInvoices(),o.listOffers(),o.listPackages()]),{VersionService:ue}=await Ar(async()=>{const{VersionService:ve}=await import("./VersionService-DDyPFKMS.js");return{VersionService:ve}},[],import.meta.url),ce=ue.getBackupVersionInfo(),te={companyData:t.companyData,numberingCircles:t.numberingCircles,customers:D,invoices:P,offers:F,packages:q,exportDate:ce.timestamp,version:ce.version,buildInfo:ce.buildInfo},U=(await Ar(async()=>{const{default:ve}=await import("./jszip.min-De_bojqU.js").then(ze=>ze.j);return{default:ve}},[],import.meta.url)).default,Z=new U;Z.file("backup.json",JSON.stringify(te,null,2)),Z.file("README.txt",`RawaLite Backup
Erstellt am: ${new Date().toLocaleDateString("de-DE")}
Version: ${te.version}
Build: ${te.buildInfo}

Diese Datei enthält alle Ihre RawaLite-Daten und kann über die Datensicherungs-Funktion importiert werden.

Enthaltene Daten:
- Kunden: ${D.length}
- Rechnungen: ${P.length}
- Angebote: ${F.length}
- Pakete: ${q.length}
- Unternehmenseinstellungen
- Nummernkreise`);const He=await Z.generateAsync({type:"blob"}),Le=window.URL.createObjectURL(He),oe=document.createElement("a");oe.href=Le;const ot=new Date,Ke=ot.toISOString().split("T")[0]+"_"+ot.toTimeString().split(" ")[0].replace(/:/g,"-");oe.download=`rawalite-backup-${Ke}.zip`,document.body.appendChild(oe),oe.click(),document.body.removeChild(oe),window.URL.revokeObjectURL(Le),alert(`Backup erfolgreich erstellt!
      
Enthalten:
- ${D.length} Kunden
- ${P.length} Rechnungen  
- ${F.length} Angebote
- ${q.length} Pakete`)}catch(D){console.error("Backup error:",D),alert("Fehler beim Erstellen des Backups: "+D)}finally{g(!1)}},$=async D=>{try{if(g(!0),!o){alert("Fehler: Datenbankadapter nicht verfügbar");return}let P=[],F="",q=[];switch(D){case"customers":P=await o.listCustomers(),F="kunden",q=["ID","Nummer","Name","E-Mail","Telefon","Straße","PLZ","Ort","Notizen","Erstellt"];break;case"invoices":P=await o.listInvoices(),F="rechnungen",q=["ID","Nummer","Kunde ID","Titel","Status","Fällig am","Zwischensumme","MwSt-Satz","MwSt-Betrag","Gesamt","Notizen","Erstellt"];break;case"offers":P=await o.listOffers(),F="angebote",q=["ID","Nummer","Kunde ID","Titel","Status","Gültig bis","Zwischensumme","MwSt-Satz","MwSt-Betrag","Gesamt","Notizen","Erstellt"];break;case"packages":P=await o.listPackages(),F="pakete",q=["ID","Name","Beschreibung","Preis","Erstellt"];break}if(P.length===0){alert(`Keine ${F} zum Exportieren gefunden.`);return}const ue=[q.join(";"),...P.map(Le=>q.map(oe=>{const ot=L(Le,oe);return`"${String(ot).replace(/"/g,'""')}"`}).join(";"))].join(`
`),ce=new Blob(["\uFEFF"+ue],{type:"text/csv;charset=utf-8;"}),te=window.URL.createObjectURL(ce),U=document.createElement("a");U.href=te;const Z=new Date,He=Z.toISOString().split("T")[0]+"_"+Z.toTimeString().split(" ")[0].replace(/:/g,"-");U.download=`${F}-${He}.csv`,document.body.appendChild(U),U.click(),document.body.removeChild(U),window.URL.revokeObjectURL(te),alert(`${P.length} ${F} erfolgreich als CSV exportiert!`)}catch(P){console.error("CSV Export error:",P),alert("Fehler beim CSV-Export: "+P)}finally{g(!1)}},L=(D,P)=>{switch(P){case"ID":return D.id||"";case"Nummer":return D.number||D.invoiceNumber||D.offerNumber||"";case"Name":return D.name||"";case"E-Mail":return D.email||"";case"Telefon":return D.phone||"";case"Straße":return D.street||"";case"PLZ":return D.zip||"";case"Ort":return D.city||"";case"Notizen":return D.notes||"";case"Kunde ID":return D.customerId||"";case"Titel":return D.title||"";case"Status":return D.status||"";case"Fällig am":return D.dueDate||"";case"Gültig bis":return D.validUntil||"";case"Zwischensumme":return D.subtotal||"";case"MwSt-Satz":return D.vatRate||"";case"MwSt-Betrag":return D.vatAmount||"";case"Gesamt":return D.total||"";case"Beschreibung":return D.description||"";case"Preis":return D.price||"";case"Erstellt":return D.createdAt||"";default:return""}},A=async D=>{var F,q,ue,ce,te;const P=(F=D.target.files)==null?void 0:F[0];if(P){if(!P.name.endsWith(".zip")){alert("Bitte wählen Sie eine ZIP-Datei aus.");return}if(!o){alert("Fehler: Datenbankadapter nicht verfügbar");return}try{g(!0);const U=(await Ar(async()=>{const{default:ve}=await import("./jszip.min-De_bojqU.js").then(ze=>ze.j);return{default:ve}},[],import.meta.url)).default,Le=(await new U().loadAsync(P)).file("backup.json");if(!Le){alert("Ungültige Backup-Datei: backup.json nicht gefunden.");return}const oe=JSON.parse(await Le.async("text")),ot=`⚠️ ACHTUNG: DATEN WERDEN ÜBERSCHRIEBEN ⚠️

Das Backup enthält:
- ${((q=oe.customers)==null?void 0:q.length)||0} Kunden
- ${((ue=oe.invoices)==null?void 0:ue.length)||0} Rechnungen
- ${((ce=oe.offers)==null?void 0:ce.length)||0} Angebote
- ${((te=oe.packages)==null?void 0:te.length)||0} Pakete

WARNUNG: Der Import wird ALLE aktuellen Daten löschen und durch die Backup-Daten ersetzen!

Möchten Sie wirklich fortfahren?`;if(!confirm(ot)||!confirm("LETZTE WARNUNG: Alle aktuellen Daten werden unwiderruflich gelöscht! Fortfahren?"))return;try{const[ve,ze,tn,nn]=await Promise.all([o.listCustomers(),o.listInvoices(),o.listOffers(),o.listPackages()]);await Promise.all([...ve.map(we=>o.deleteCustomer(we.id)),...ze.map(we=>o.deleteInvoice(we.id)),...tn.map(we=>o.deleteOffer(we.id)),...nn.map(we=>o.deletePackage(we.id))])}catch(ve){console.warn("Fehler beim Löschen existierender Daten:",ve)}let Ke={customers:0,invoices:0,offers:0,packages:0};if(oe.customers&&Array.isArray(oe.customers))for(const ve of oe.customers)try{const{id:ze,createdAt:tn,updatedAt:nn,...we}=ve;await o.createCustomer(we),Ke.customers++}catch(ze){console.warn("Fehler beim Importieren von Kunde:",ve,ze)}if(oe.offers&&Array.isArray(oe.offers))for(const ve of oe.offers)try{const{id:ze,createdAt:tn,updatedAt:nn,...we}=ve;await o.createOffer(we),Ke.offers++}catch(ze){console.warn("Fehler beim Importieren von Angebot:",ve,ze)}if(oe.invoices&&Array.isArray(oe.invoices))for(const ve of oe.invoices)try{const{id:ze,createdAt:tn,updatedAt:nn,...we}=ve;await o.createInvoice(we),Ke.invoices++}catch(ze){console.warn("Fehler beim Importieren von Rechnung:",ve,ze)}if(oe.packages&&Array.isArray(oe.packages))for(const ve of oe.packages)try{const{id:ze,createdAt:tn,updatedAt:nn,...we}=ve;await o.createPackage(we),Ke.packages++}catch(ze){console.warn("Fehler beim Importieren von Paket:",ve,ze)}if(oe.companyData)try{console.log("🏢 Importing company data..."),await i(oe.companyData),console.log("✅ Company data imported successfully")}catch(ve){console.warn("Error importing company data:",ve)}if(oe.numberingCircles)try{console.log("🔢 Analyzing imported data for intelligent numbering...");const[ve,ze,tn,nn]=await Promise.all([o.listCustomers(),o.listInvoices(),o.listOffers(),o.listPackages()]),we=(mt,st)=>{const Ft=new Set;mt.forEach(pr=>{if(pr.number&&pr.number.startsWith(st)){const Yr=pr.number.replace(st,""),na=parseInt(Yr,10);isNaN(na)||Ft.add(na)}});let gt=1;for(;Ft.has(gt);)gt++;return Math.max(0,gt-1)},Hn=oe.numberingCircles.map(mt=>{let st=0;switch(mt.id){case"customers":st=we(ve,mt.prefix);break;case"invoices":st=we(ze,mt.prefix);break;case"offers":st=we(tn,mt.prefix);break;case"packages":st=we(nn,mt.prefix);break}return console.log(`📊 ${mt.id}: Next free number will be ${mt.prefix}${(st+1).toString().padStart(3,"0")}, setting current to ${st}`),{...mt,current:st}});console.log("🔢 Importing intelligent numbering circles..."),await a(Hn),console.log("✅ Intelligent numbering circles imported successfully")}catch(ve){console.warn("Error importing intelligent numbering circles:",ve),await a(oe.numberingCircles)}c(`✅ Backup erfolgreich importiert!

Importierte Daten:
- ${Ke.customers} Kunden
- ${Ke.invoices} Rechnungen
- ${Ke.offers} Angebote
- ${Ke.packages} Pakete
- Unternehmenseinstellungen
- Intelligente Nummernkreise (angepasst an vorhandene Daten)

🔄 Die Anwendung wurde aktualisiert. Sie können jetzt mit den importierten Daten arbeiten.`),console.log("✅ Backup import completed successfully")}catch(U){console.error("Import error:",U),alert("Fehler beim Importieren des Backups: "+U)}finally{g(!1),D.target.value="",k(null)}}},X=D=>{var F;const P=(F=D.target.files)==null?void 0:F[0];if(!P){k(null);return}if(!P.name.endsWith(".csv")){u("Bitte wählen Sie eine CSV-Datei aus."),k(null);return}k(P)},re=async()=>{if(!b){u("Bitte wählen Sie zuerst eine CSV-Datei aus.");return}if(!o){u("Fehler: Datenbankadapter nicht verfügbar");return}try{g(!0);const P=(await b.text()).split(`
`).filter(te=>te.trim());if(P.length<2){u("CSV-Datei ist leer oder hat keine Daten.");return}const F=P[0].split(";").map(te=>te.trim().replace(/^"|"$/g,"")),q=P.slice(1);console.log("CSV Headers:",F),console.log("CSV Data lines:",q.length);let ue=0,ce=0;if(C==="customers"){for(const te of q)try{const U=te.split(";").map(He=>He.trim().replace(/^"|"$/g,"")),Z={};if(U[0]&&(Z.name=U[0]),U[1]&&(Z.email=U[1]),U[2]&&(Z.phone=U[2]),U[3]&&(Z.street=U[3]),U[4]&&(Z.zip=U[4]),U[5]&&(Z.city=U[5]),U[6]&&(Z.notes=U[6]),!Z.name){console.warn("Überspringe Zeile ohne Namen:",U),ce++;continue}try{Z.number=await l("customers")}catch{Z.number=`K-${Date.now()}-${Math.floor(Math.random()*1e3)}`}await o.createCustomer(Z),ue++}catch(U){console.warn("Fehler beim Importieren einer CSV-Zeile:",te,U),ce++}c(`✅ CSV-Import abgeschlossen!
        
Erfolgreich importiert: ${ue} Kunden
${ce>0?`Fehler: ${ce}`:""}

CSV-Format: Name;Email;Telefon;Straße;PLZ;Ort;Notizen`)}else if(C==="offers"){for(const te of q)try{const U=te.split(";").map(oe=>oe.trim().replace(/^"|"$/g,"")),Z={};if(U[0]&&(Z.title=U[0]),U[1]&&(Z.customerName=U[1]),U[2]&&(Z.total=parseFloat(U[2])||0),U[3]&&(Z.validUntil=U[3]),U[4]&&(Z.notes=U[4]),!Z.title){console.warn("Überspringe Zeile ohne Titel:",U),ce++;continue}let He=null;if(Z.customerName){const ot=(await o.listCustomers()).find(Ke=>Ke.name.toLowerCase()===Z.customerName.toLowerCase());ot&&(He=ot.id)}if(!He){console.warn("Kunde nicht gefunden für Angebot:",Z.customerName),ce++;continue}try{Z.offerNumber=await l("offers")}catch{Z.offerNumber=`A-${Date.now()}-${Math.floor(Math.random()*1e3)}`}const Le={...Z,customerId:He,lineItems:[],subtotal:Z.total,vatAmount:0,vatRate:19,status:"draft"};delete Le.customerName,await o.createOffer(Le),ue++}catch(U){console.warn("Fehler beim Importieren einer CSV-Zeile:",te,U),ce++}c(`✅ CSV-Import abgeschlossen!
        
Erfolgreich importiert: ${ue} Angebote
${ce>0?`Fehler: ${ce}`:""}

CSV-Format: Titel;Kundenname;Gesamtbetrag;Gültig bis (YYYY-MM-DD);Notizen`)}else if(C==="invoices"){for(const te of q)try{const U=te.split(";").map(oe=>oe.trim().replace(/^"|"$/g,"")),Z={};if(U[0]&&(Z.title=U[0]),U[1]&&(Z.customerName=U[1]),U[2]&&(Z.total=parseFloat(U[2])||0),U[3]&&(Z.dueDate=U[3]),U[4]&&(Z.notes=U[4]),!Z.title){console.warn("Überspringe Zeile ohne Titel:",U),ce++;continue}let He=null;if(Z.customerName){const ot=(await o.listCustomers()).find(Ke=>Ke.name.toLowerCase()===Z.customerName.toLowerCase());ot&&(He=ot.id)}if(!He){console.warn("Kunde nicht gefunden für Rechnung:",Z.customerName),ce++;continue}try{Z.invoiceNumber=await l("invoices")}catch{Z.invoiceNumber=`R-${Date.now()}-${Math.floor(Math.random()*1e3)}`}const Le={...Z,customerId:He,lineItems:[],subtotal:Z.total,vatAmount:0,vatRate:19,status:"draft"};delete Le.customerName,await o.createInvoice(Le),ue++}catch(U){console.warn("Fehler beim Importieren einer CSV-Zeile:",te,U),ce++}c(`✅ CSV-Import abgeschlossen!
        
Erfolgreich importiert: ${ue} Rechnungen
${ce>0?`Fehler: ${ce}`:""}

CSV-Format: Titel;Kundenname;Gesamtbetrag;Fällig am (YYYY-MM-DD);Notizen`)}else u(`CSV-Import für "${C}" ist noch nicht implementiert.`)}catch(D){console.error("CSV Import error:",D),u("Fehler beim CSV-Import: "+D)}finally{g(!1),k(null)}},ye=async()=>{if(console.log("🚨 CRITICAL: handleClearAllData was called! This should only happen from the Clear All Data button!"),console.trace("Call stack:"),!!confirm("WARNUNG: Alle Daten werden unwiderruflich gelöscht! Sind Sie sicher?")&&confirm("Letzte Warnung: Haben Sie ein Backup erstellt? Alle Daten gehen verloren!")){if(!o){alert("Fehler: Datenbankadapter nicht verfügbar");return}try{g(!0);let D=0;try{const P=await o.listCustomers();for(const F of P)await o.deleteCustomer(F.id),D++}catch(P){console.warn("Error deleting customers:",P)}try{const P=await o.listInvoices();for(const F of P)await o.deleteInvoice(F.id),D++}catch(P){console.warn("Error deleting invoices:",P)}try{const P=await o.listOffers();for(const F of P)await o.deleteOffer(F.id),D++}catch(P){console.warn("Error deleting offers:",P)}try{const P=await o.listPackages();for(const F of P)await o.deletePackage(F.id),D++}catch(P){console.warn("Error deleting packages:",P)}try{console.log("🔄 Resetting numbering circles to default values"),localStorage.removeItem("rawalite-numbering"),console.log("🗑️ Cleared localStorage numbering data");const P=bt.numberingCircles.map(F=>({...F,current:0,lastResetYear:void 0}));console.log("📝 Setting numbering circles to:",P),await a(P),console.log("✅ Numbering circles reset successfully")}catch(P){console.warn("Error resetting numbering circles:",P),localStorage.removeItem("rawalite-numbering"),localStorage.setItem("rawalite-numbering",JSON.stringify(bt.numberingCircles))}try{console.log("🔄 Resetting company data to defaults"),await i(bt.companyData),console.log("✅ Company data reset successfully")}catch(P){console.warn("Error resetting company data:",P)}c(`${D} Datensätze wurden gelöscht und alle Nummernkreise zurückgesetzt. Die Anwendung wird neu geladen...`),setTimeout(()=>{window.location.reload()},2e3)}catch(D){console.error("Clear data error:",D),alert("Fehler beim Löschen der Daten: "+D)}finally{g(!1)}}};return n?s.jsx("div",{className:"card",children:"Lade Einstellungen..."}):r?s.jsxs("div",{className:"card",children:["Fehler beim Laden der Einstellungen: ",r]}):s.jsxs("div",{className:"card",children:[s.jsxs("div",{style:{marginBottom:"24px"},children:[s.jsx("h2",{style:{margin:"0 0 4px 0"},children:e}),s.jsx("div",{style:{opacity:.7},children:"Konfiguriere deine Unternehmensdaten und Nummernkreise."})]}),s.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"24px",borderBottom:"1px solid rgba(0,0,0,.15)",flexWrap:"wrap"},children:[s.jsx("button",{onClick:()=>f("company"),style:{backgroundColor:d==="company"?"#1e3a2e":"rgba(255,255,255,0.8)",color:d==="company"?"white":"#374151",border:d==="company"?"1px solid #1e3a2e":"1px solid rgba(0,0,0,.2)",padding:"8px 16px",borderRadius:"8px 8px 0 0",cursor:"pointer",borderBottom:d==="company"?"2px solid #1e3a2e":"2px solid transparent",transition:"all 0.2s ease",fontWeight:d==="company"?"600":"500"},children:"Stammdaten"}),s.jsx("button",{onClick:()=>f("logo"),style:{backgroundColor:d==="logo"?"#1e3a2e":"rgba(255,255,255,0.8)",color:d==="logo"?"white":"#374151",border:d==="logo"?"1px solid #1e3a2e":"1px solid rgba(0,0,0,.2)",padding:"8px 16px",borderRadius:"8px 8px 0 0",cursor:"pointer",borderBottom:d==="logo"?"2px solid #1e3a2e":"2px solid transparent",transition:"all 0.2s ease",fontWeight:d==="logo"?"600":"500"},children:"Logo & Design"}),s.jsx("button",{onClick:()=>f("tax"),style:{backgroundColor:d==="tax"?"#1e3a2e":"rgba(255,255,255,0.8)",color:d==="tax"?"white":"#374151",border:d==="tax"?"1px solid #1e3a2e":"1px solid rgba(0,0,0,.2)",padding:"8px 16px",borderRadius:"8px 8px 0 0",cursor:"pointer",borderBottom:d==="tax"?"2px solid #1e3a2e":"2px solid transparent",transition:"all 0.2s ease",fontWeight:d==="tax"?"600":"500"},children:"Steuerliche Angaben"}),s.jsx("button",{onClick:()=>f("bank"),style:{backgroundColor:d==="bank"?"#1e3a2e":"rgba(255,255,255,0.8)",color:d==="bank"?"white":"#374151",border:d==="bank"?"1px solid #1e3a2e":"1px solid rgba(0,0,0,.2)",padding:"8px 16px",borderRadius:"8px 8px 0 0",cursor:"pointer",borderBottom:d==="bank"?"2px solid #1e3a2e":"2px solid transparent",transition:"all 0.2s ease",fontWeight:d==="bank"?"600":"500"},children:"Bankverbindung"}),s.jsx("button",{onClick:()=>f("numbering"),style:{backgroundColor:d==="numbering"?"#1e3a2e":"rgba(255,255,255,0.8)",color:d==="numbering"?"white":"#374151",border:d==="numbering"?"1px solid #1e3a2e":"1px solid rgba(0,0,0,.2)",padding:"8px 16px",borderRadius:"8px 8px 0 0",cursor:"pointer",borderBottom:d==="numbering"?"2px solid #1e3a2e":"2px solid transparent",transition:"all 0.2s ease",fontWeight:d==="numbering"?"600":"500"},children:"Nummernkreise"}),s.jsx("button",{onClick:()=>f("maintenance"),style:{backgroundColor:d==="maintenance"?"#1e3a2e":"rgba(255,255,255,0.8)",color:d==="maintenance"?"white":"#374151",border:d==="maintenance"?"1px solid #1e3a2e":"1px solid rgba(0,0,0,.2)",padding:"8px 16px",borderRadius:"8px 8px 0 0",cursor:"pointer",borderBottom:d==="maintenance"?"2px solid #1e3a2e":"2px solid transparent",transition:"all 0.2s ease",fontWeight:d==="maintenance"?"600":"500"},children:"Datensicherung"})]}),d==="company"&&s.jsx("form",{onSubmit:R,children:s.jsxs("div",{style:{display:"grid",gap:"16px",gridTemplateColumns:"1fr 1fr"},children:[s.jsx("div",{style:{gridColumn:"1 / -1"},children:s.jsx("h3",{style:{margin:"0 0 16px 0",color:"var(--accent)"},children:"Stammdaten"})}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Firmenname *"}),s.jsx("input",{type:"text",value:p.name,onChange:D=>m({...p,name:D.target.value}),required:!0,style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"E-Mail"}),s.jsx("input",{type:"email",value:p.email,onChange:D=>m({...p,email:D.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Straße"}),s.jsx("input",{type:"text",value:p.street,onChange:D=>m({...p,street:D.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Telefon"}),s.jsx("input",{type:"tel",value:p.phone,onChange:D=>m({...p,phone:D.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"PLZ"}),s.jsx("input",{type:"text",value:p.postalCode,onChange:D=>m({...p,postalCode:D.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Ort"}),s.jsx("input",{type:"text",value:p.city,onChange:D=>m({...p,city:D.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Website"}),s.jsx("input",{type:"url",value:p.website,onChange:D=>m({...p,website:D.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),s.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"24px"},children:s.jsx("button",{type:"submit",disabled:E,style:{backgroundColor:"var(--accent)",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",cursor:"pointer",fontWeight:"500"},children:E?"Speichere...":"Stammdaten speichern"})})]})}),d==="logo"&&s.jsx("form",{onSubmit:ne,children:s.jsxs("div",{style:{display:"grid",gap:"16px",maxWidth:"600px"},children:[s.jsx("div",{children:s.jsx("h3",{style:{margin:"0 0 16px 0",color:"var(--accent)"},children:"Logo & Design"})}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Firmenlogo"}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[p.logo&&s.jsxs("div",{style:{position:"relative",display:"inline-block",maxWidth:"300px",padding:"16px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"8px",backgroundColor:"rgba(255,255,255,.05)"},children:[s.jsx("img",{src:p.logo,alt:"Firmenlogo",style:{maxWidth:"100%",maxHeight:"120px",objectFit:"contain",display:"block"}}),s.jsx("button",{type:"button",onClick:T,style:{position:"absolute",top:"-8px",right:"-8px",background:"#ef4444",color:"white",border:"none",borderRadius:"50%",width:"24px",height:"24px",fontSize:"14px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"Logo entfernen",children:"×"})]}),s.jsx("input",{type:"file",accept:"image/*",onChange:_,disabled:h,style:{padding:"12px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)",cursor:"pointer"}}),s.jsxs("div",{style:{fontSize:"14px",opacity:.7,lineHeight:"1.4"},children:[s.jsx("strong",{children:"Empfehlungen:"}),s.jsx("br",{}),"• Dateiformate: PNG, JPG, GIF",s.jsx("br",{}),"• Maximale Dateigröße: 2MB",s.jsx("br",{}),"• Empfohlene Größe: 200x80px",s.jsx("br",{}),"• Transparenter Hintergrund für beste Ergebnisse"]})]})]}),s.jsx("div",{style:{marginTop:"24px"},children:s.jsx("button",{type:"submit",disabled:E||h,style:{backgroundColor:"var(--accent)",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",cursor:"pointer",fontWeight:"500"},children:E?"Speichere...":"Logo speichern"})})]})}),d==="tax"&&s.jsx("form",{onSubmit:z,children:s.jsxs("div",{style:{display:"grid",gap:"16px",gridTemplateColumns:"1fr 1fr"},children:[s.jsx("div",{style:{gridColumn:"1 / -1"},children:s.jsx("h3",{style:{margin:"0 0 16px 0",color:"var(--accent)"},children:"Steuerliche Angaben"})}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Steuernummer"}),s.jsx("input",{type:"text",value:p.taxNumber,onChange:D=>m({...p,taxNumber:D.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Umsatzsteuer-ID"}),s.jsx("input",{type:"text",value:p.vatId,onChange:D=>m({...p,vatId:D.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),s.jsxs("div",{style:{gridColumn:"1 / -1"},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:p.kleinunternehmer,onChange:ie,style:{cursor:"pointer"}}),s.jsx("span",{style:{fontWeight:"500"},children:"Kleinunternehmer (§19 UStG)"})]}),s.jsx("div",{style:{fontSize:"12px",opacity:.7,marginTop:"4px",marginLeft:"28px"},children:"Als Kleinunternehmer weisen Sie keine Umsatzsteuer aus und sind nicht zum Vorsteuerabzug berechtigt."})]}),s.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"24px"},children:s.jsx("button",{type:"submit",disabled:E,style:{backgroundColor:"var(--accent)",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",cursor:"pointer",fontWeight:"500"},children:E?"Speichere...":"Steuerliche Angaben speichern"})})]})}),d==="bank"&&s.jsx("form",{onSubmit:V,children:s.jsxs("div",{style:{display:"grid",gap:"16px",gridTemplateColumns:"1fr 1fr"},children:[s.jsx("div",{style:{gridColumn:"1 / -1"},children:s.jsx("h3",{style:{margin:"0 0 16px 0",color:"var(--accent)"},children:"Bankverbindung"})}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Bank"}),s.jsx("input",{type:"text",value:p.bankName,onChange:D=>m({...p,bankName:D.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"BIC"}),s.jsx("input",{type:"text",value:p.bankBic,onChange:D=>m({...p,bankBic:D.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),s.jsxs("div",{style:{gridColumn:"1 / -1"},children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"IBAN"}),s.jsx("input",{type:"text",value:p.bankAccount,onChange:D=>m({...p,bankAccount:D.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),s.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"24px"},children:s.jsx("button",{type:"submit",disabled:E,style:{backgroundColor:"var(--accent)",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",cursor:"pointer",fontWeight:"500"},children:E?"Speichere...":"Bankverbindung speichern"})})]})}),d==="numbering"&&s.jsxs("form",{onSubmit:ge,children:[s.jsxs("div",{children:[s.jsx("h3",{style:{margin:"0 0 16px 0",color:"var(--accent)"},children:"Nummernkreise"}),s.jsx("p",{style:{opacity:.7,marginBottom:"24px"},children:"Verwalte die automatische Nummerierung für verschiedene Dokumenttypen."}),v.map((D,P)=>s.jsxs("div",{style:{marginBottom:"24px",padding:"16px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"8px",backgroundColor:"rgba(255,255,255,.02)"},children:[s.jsx("h4",{style:{margin:"0 0 16px 0",color:"var(--accent)"},children:D.name}),s.jsxs("div",{style:{display:"grid",gap:"16px",gridTemplateColumns:"1fr 1fr 1fr 1fr"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Präfix"}),s.jsx("input",{type:"text",value:D.prefix,onChange:F=>le(P,"prefix",F.target.value),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Stellen"}),s.jsx("input",{type:"number",min:"1",max:"10",value:D.digits,onChange:F=>le(P,"digits",parseInt(F.target.value)||1),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Aktuell"}),s.jsx("input",{type:"number",min:"0",value:D.current,onChange:F=>le(P,"current",parseInt(F.target.value)||0),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Reset"}),s.jsxs("select",{value:D.resetMode,onChange:F=>le(P,"resetMode",F.target.value),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"},children:[s.jsx("option",{value:"never",children:"Nie"}),s.jsx("option",{value:"yearly",children:"Jährlich"})]})]})]}),s.jsxs("div",{style:{marginTop:"12px",fontSize:"14px",opacity:.7},children:[s.jsx("strong",{children:"Vorschau nächste Nummer:"})," ",D.prefix,(D.current+1).toString().padStart(D.digits,"0")]})]},D.id))]}),s.jsx("div",{style:{marginTop:"24px"},children:s.jsx("button",{type:"submit",disabled:E,style:{backgroundColor:"var(--accent)",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",cursor:E?"not-allowed":"pointer",fontWeight:"500",opacity:E?.6:1},children:E?"Speichere...":"Nummernkreise speichern"})})]}),d==="maintenance"&&s.jsxs("div",{children:[s.jsx("h3",{style:{margin:"0 0 16px 0",color:"var(--accent)"},children:"Datensicherung & Datenmanagement"}),s.jsxs("div",{style:{marginBottom:"32px"},children:[s.jsx("h4",{style:{margin:"0 0 12px 0",color:"#374151"},children:"Backup erstellen"}),s.jsx("p",{style:{margin:"0 0 16px 0",color:"#6b7280",fontSize:"14px"},children:"Erstellen Sie ein vollständiges Backup aller Ihrer Daten als ZIP-Datei."}),s.jsx("button",{type:"button",onClick:pe,disabled:E,className:"btn",style:{backgroundColor:"var(--accent)",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",cursor:E?"not-allowed":"pointer",fontWeight:"500",opacity:E?.6:1},children:E?"Erstelle Backup...":"📦 Backup erstellen (ZIP)"})]}),s.jsxs("div",{style:{marginBottom:"32px"},children:[s.jsx("h4",{style:{margin:"0 0 12px 0",color:"#374151"},children:"Daten exportieren"}),s.jsx("p",{style:{margin:"0 0 16px 0",color:"#6b7280",fontSize:"14px"},children:"Exportieren Sie Ihre Daten als CSV-Dateien für die Verwendung in anderen Programmen."}),s.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[s.jsx("button",{type:"button",onClick:()=>$("customers"),disabled:E,className:"btn btn-secondary",style:{backgroundColor:"#6b7280",color:"white",border:"none",padding:"10px 20px",borderRadius:"6px",cursor:E?"not-allowed":"pointer",fontWeight:"500",opacity:E?.6:1},children:"📄 Kunden exportieren (CSV)"}),s.jsx("button",{type:"button",onClick:()=>$("invoices"),disabled:E,className:"btn btn-secondary",style:{backgroundColor:"#6b7280",color:"white",border:"none",padding:"10px 20px",borderRadius:"6px",cursor:E?"not-allowed":"pointer",fontWeight:"500",opacity:E?.6:1},children:"🧾 Rechnungen exportieren (CSV)"}),s.jsx("button",{type:"button",onClick:()=>$("offers"),disabled:E,className:"btn btn-secondary",style:{backgroundColor:"#6b7280",color:"white",border:"none",padding:"10px 20px",borderRadius:"6px",cursor:E?"not-allowed":"pointer",fontWeight:"500",opacity:E?.6:1},children:"📋 Angebote exportieren (CSV)"}),s.jsx("button",{type:"button",onClick:()=>$("packages"),disabled:E,className:"btn btn-secondary",style:{backgroundColor:"#6b7280",color:"white",border:"none",padding:"10px 20px",borderRadius:"6px",cursor:E?"not-allowed":"pointer",fontWeight:"500",opacity:E?.6:1},children:"📦 Pakete exportieren (CSV)"})]})]}),s.jsxs("div",{style:{marginBottom:"32px"},children:[s.jsx("h4",{style:{margin:"0 0 12px 0",color:"#374151"},children:"Daten importieren"}),s.jsx("p",{style:{margin:"0 0 16px 0",color:"#6b7280",fontSize:"14px"},children:"Importieren Sie Backup-Dateien oder CSV-Daten zurück in die Anwendung."}),s.jsxs("div",{style:{marginBottom:"20px"},children:[s.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#374151"},children:"Backup importieren (ZIP)"}),s.jsx("input",{type:"file",accept:".zip",onChange:A,style:{padding:"8px",border:"1px solid rgba(0,0,0,.2)",borderRadius:"6px",backgroundColor:"rgba(255,255,255,0.9)",width:"100%",maxWidth:"400px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#374151"},children:"CSV importieren"}),s.jsxs("div",{style:{display:"grid",gap:"12px",gridTemplateColumns:"auto 1fr auto",alignItems:"end"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"12px",color:"#6b7280"},children:"Datentyp"}),s.jsxs("select",{value:C,onChange:D=>I(D.target.value),style:{padding:"8px",border:"1px solid rgba(0,0,0,.2)",borderRadius:"6px",backgroundColor:"rgba(255,255,255,0.9)",minWidth:"120px"},children:[s.jsx("option",{value:"customers",children:"Kunden"}),s.jsx("option",{value:"invoices",children:"Rechnungen"}),s.jsx("option",{value:"offers",children:"Angebote"})]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"12px",color:"#6b7280"},children:"CSV-Datei auswählen"}),s.jsx("input",{type:"file",accept:".csv",onChange:X,style:{padding:"8px",border:"1px solid rgba(0,0,0,.2)",borderRadius:"6px",backgroundColor:"rgba(255,255,255,0.9)",width:"100%"}})]}),s.jsx("div",{children:s.jsx("button",{type:"button",onClick:re,disabled:!b||E,className:"btn btn-secondary",style:{backgroundColor:b?"#059669":"#6b7280",color:"white",border:"none",padding:"10px 20px",borderRadius:"6px",cursor:b&&!E?"pointer":"not-allowed",fontWeight:"500",opacity:b&&!E?1:.6,whiteSpace:"nowrap"},children:E?"Importiere...":"Import starten"})})]}),b&&s.jsxs("div",{style:{marginTop:"8px",fontSize:"14px",color:"#059669"},children:["📄 Ausgewählte Datei: ",b.name," (",Math.round(b.size/1024),"KB)"]})]})]}),s.jsxs("div",{style:{marginTop:"40px",padding:"20px",border:"2px solid #ef4444",borderRadius:"8px",backgroundColor:"rgba(239, 68, 68, 0.05)"},children:[s.jsx("h4",{style:{margin:"0 0 12px 0",color:"#ef4444"},children:"⚠️ Gefahrenbereich"}),s.jsx("p",{style:{margin:"0 0 16px 0",color:"#6b7280",fontSize:"14px"},children:"Diese Aktionen können nicht rückgängig gemacht werden. Erstellen Sie vorher ein Backup!"}),s.jsx("button",{type:"button",onClick:ye,className:"btn btn-danger",style:{backgroundColor:"#ef4444",color:"white",border:"none",padding:"10px 20px",borderRadius:"6px",cursor:"pointer",fontWeight:"500"},children:"🗑️ Alle Daten löschen"})]})]})]})}function Tx(){return s.jsxs("div",{className:"page",style:{padding:"20px"},children:[s.jsxs("div",{className:"page-header",style:{marginBottom:"24px"},children:[s.jsx("h1",{style:{margin:0,color:"var(--accent)",fontSize:"24px",fontWeight:"600"},children:"Updates & Changelog"}),s.jsx("p",{style:{margin:"8px 0 0 0",color:"var(--muted)",fontSize:"14px"},children:"Neue Funktionen, Verbesserungen und Fehlerbehebungen"})]}),s.jsxs("div",{className:"card",style:{textAlign:"center",padding:"60px 40px"},children:[s.jsx("div",{style:{fontSize:"48px",marginBottom:"16px",opacity:.6},children:"🚧"}),s.jsx("h3",{style:{color:"var(--accent)",marginBottom:"12px"},children:"In Entwicklung"}),s.jsxs("p",{style:{color:"var(--muted)",marginBottom:"20px",lineHeight:"1.5"},children:["Die Update-Funktionalität wird derzeit entwickelt.",s.jsx("br",{}),"Hier werden zukünftig alle Änderungen und neuen Features angezeigt."]}),s.jsxs("div",{style:{background:"rgba(30, 58, 46, 0.1)",border:"1px solid var(--accent)",borderRadius:"8px",padding:"16px",textAlign:"left",marginTop:"32px"},children:[s.jsx("h4",{style:{color:"var(--accent)",margin:"0 0 12px 0"},children:"📋 Geplante Features:"}),s.jsxs("ul",{style:{color:"var(--muted)",margin:0,paddingLeft:"20px"},children:[s.jsx("li",{children:"Automatische Update-Benachrichtigungen"}),s.jsx("li",{children:"Changelog mit Versionsverlauf"}),s.jsx("li",{children:"Feature-Ankündigungen"}),s.jsx("li",{children:"Download-Links für neue Versionen"}),s.jsx("li",{children:"Installations-Anweisungen"})]})]})]})]})}const Lx=()=>s.jsxs("div",{children:[s.jsx(fh,{title:"Seite nicht gefunden"}),s.jsx("div",{className:"card",children:s.jsx("p",{children:"Der angeforderte Pfad existiert nicht."})})]}),zx=[{path:"/",element:s.jsx(yx,{}),children:[{index:!0,element:s.jsx(Cx,{})},{path:"kunden",element:s.jsx(Rx,{})},{path:"angebote",element:s.jsx(Px,{})},{path:"angebote/:id",element:s.jsx(Ix,{})},{path:"pakete",element:s.jsx(Dx,{})},{path:"rechnungen",element:s.jsx(_x,{})},{path:"einstellungen",element:s.jsx(Nx,{})},{path:"updates",element:s.jsx(Tx,{})},{path:"*",element:s.jsx(Lx,{})}]}],Fx=Yv(zx);So.createRoot(document.getElementById("root")).render(s.jsx(_d.StrictMode,{children:s.jsx(xx,{children:s.jsx(Sx,{children:s.jsx(vx,{mode:"sqlite",children:s.jsxs(fx,{children:[s.jsx(ox,{router:Fx}),s.jsx(bx,{}),s.jsx(kx,{})]})})})})}));export{xl as D,Ar as _,jt as a,Mx as c,kh as g,mi as m};
