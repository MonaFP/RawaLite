# electron-builder.yml
appId: com.rawalite.app           # KONSTANT lassen
productName: RawaLite

directories:
  output: release                 # <- NEU: Builder schreibt in release/

# ðŸ”„ CRITICAL FIX: GitHub Auto-Update Integration
publish:
  provider: github
  owner: MonaFP
  repo: RawaLite
  private: false
  releaseType: release

files:
  - dist/**                       # Renderer-Bundle von Vite
  - dist-electron/**              # Main/Preload
  - package.json
  # SicherheitsausschlÃ¼sse (falls doch mal was in dist liegt):
  - "!dist/win-unpacked{,/**}"
  - "!dist/*.exe"
  - "!dist/*.blockmap"
  - "!dist/latest.yml"
  - "!dist/builder-*.yml"
  # generische AusschlÃ¼sse:
  - "!node_modules"
  - "!src"
  - "!public"
  - "!electron"
  - "!tests"

extraResources:
  # reicht:
  - from: assets/
    to: app/assets/
  - from: templates/
    to: app/templates/
  # Den Einzeleintrag aus public/rawalite-logo.png kannst du entfernen
  # (liegt bereits in assets/ und wird doppelt).
  
nsis:
  oneClick: false
  perMachine: false
  deleteAppDataOnUninstall: false
  createDesktopShortcut: true
  createStartMenuShortcut: true
  installerIcon: assets/icon.ico
  uninstallerIcon: assets/icon.ico
  artifactName: "RawaLite-Setup-${version}.${ext}"
