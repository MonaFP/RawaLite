/* ðŸŽ¯ LAYOUT GRID STYLES - Database-Theme-System Integration */
/* ðŸ“… Erstellt: 2025-10-19 | Updated: 2025-10-19 - Theme Variables Integration */
/* ðŸŽ¨ CSS Grid Layouts fÃ¼r Navigation Modi */
/* ðŸŽ¨ FIX-016/017/018 Compliant: Database-Theme-System CSS Variables */

/* =========================================
   NAVIGATION MODES CSS VARIABLES - REDESIGNED
   ========================================= */

/* Navigation Mode Dimensions - Database Theme Configurable */
:root {
  /* Grid Layout Theme Variables */
  --theme-grid-bg: var(--bg);
  --theme-grid-text: var(--foreground);
  
  /* Footer Theme Variables */
  --theme-footer-bg: var(--secondary);
  --theme-footer-border: var(--border);
  --theme-footer-text: var(--foreground);
  --theme-footer-height: 60px;
  
  /* mode-dashboard-view (was: HEADER-STATISTICS) - Statistics Header + Compact Navigation Sidebar */
  --mode-dashboard-view-sidebar-width: 240px;
  --mode-dashboard-view-header-height: 80px; /* FIXED: Compact Header wie mode-compact-focus */
  
  /* MODE-DATA-PANEL (was: HEADER-NAVIGATION) - Navigation Header + Company Statistics Sidebar */
  --mode-data-panel-sidebar-width: 240px; /* CORRECTED: CompactSidebar like Dashboard View */
  --mode-data-panel-header-height: 80px; /* FIXED: Compact Header wie mode-compact-focus */
  
  /* MODE-COMPACT-FOCUS (was: FULL-SIDEBAR) - Minimal Header + Full Sidebar */
  --mode-compact-focus-sidebar-width: 240px;
  --mode-compact-focus-header-height: 80px; /* BASELINE: Funktionierendes Compact Header */
}

/* Base App Grid Layout - Database-Theme Integration */
.app {
  display: grid;
  min-height: 100vh;
  background: var(--theme-grid-bg, var(--bg));
  color: var(--theme-grid-text, var(--foreground));
  width: 100%;
  /* FIXED: Removed height: 100vh - allows flexible content growth */
  overflow: auto; /* FIXED: Changed from hidden to auto - enables content flexibility */
  position: relative;
}

/* Main Content Area - Flex Container for Footer Positioning (CORRECTED) */
.app .main-content,
.app [data-area="main"],
.app main {
  grid-area: main;
  display: flex;
  flex-direction: column;
  min-height: 0; /* Wichtig fÃ¼r CSS Grid overflow */
  overflow: auto; /* Main scrollt, nicht Container */
  position: relative;
}

/* Content Area within Main - Flexible content grows */
.app main .main-content,
.app main > *:not(.footer-area):not(footer) {
  flex: 1 1 auto; /* Grows to fill available space, can shrink */
  overflow: auto; /* Content scrolling within this area */
  min-height: 0; /* Allow shrinking for flex */
}

/* Footer positioned via Flex, not Grid - exactly like DevTools test */
.app main .footer-area,
.app main footer,
.app main .app-footer {
  flex: 0 0 auto; /* Fixed size, no grow */
  margin-top: auto; /* Pushes footer to bottom */
  align-self: stretch; /* Full width */
  position: static; /* Override any absolute/sticky positioning */
  grid-area: unset; /* Remove any grid-area assignment */
}

/* Footer Area - Flex-based positioning (NO MORE GRID) - DevTools-Test-Compliant */
.footer-area,
.app .footer,
.app footer,
.app-footer {
  /* REMOVED: grid-area: footer; - Footer is now positioned via Flex */
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 16px;
  background: var(--theme-footer-bg, var(--secondary));
  border-top: 1px solid var(--theme-footer-border, var(--border));
  color: var(--theme-footer-text, var(--foreground));
  min-height: 60px;
  height: 60px;
  box-sizing: border-box;
  
  /* Flex positioning - attaches to bottom of main (DevTools-Test pattern) */
  margin-top: auto;
  align-self: stretch; /* Full width */
  position: static; /* No fixed/sticky positioning */
  grid-area: unset; /* Remove any grid area assignment */
}

/* Footer Area - Consistent Flex setup (DevTools-Test-Compliant) */
.footer-area {
  /* REMOVED: grid-area: footer; - Now uses Flex positioning */
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 16px;
  background: var(--theme-footer-bg, var(--secondary));
  border-top: 1px solid var(--theme-footer-border, var(--border));
  color: var(--theme-footer-text, var(--foreground));
  height: 60px;
  min-height: 60px;
  max-height: 60px;
  
  /* Flex positioning instead of Grid (DevTools-Test pattern) */
  margin-top: auto;
  align-self: stretch;
  position: static;
  grid-area: unset;
}

/* Footer Content Styles */
.footer-content {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  height: 100%;
}

.footer-status {
  display: flex;
  align-items: center;
  gap: 16px;
  flex: 1;
}

.footer-status-item {
  font-size: 12px;
  color: var(--muted-foreground);
  padding: 2px 8px;
  border-radius: 4px;
  background: var(--accent/10);
}

.footer-focus-indicator {
  background: var(--accent);
  color: var(--accent-foreground);
  font-weight: 500;
}

.footer-focus-controls {
  display: flex;
  align-items: center;
  gap: 12px;
  flex: 0 0 auto;
}

.footer-focus-btn {
  padding: 6px 12px;
  border: 1px solid var(--border);
  border-radius: 6px;
  background: var(--background);
  color: var(--foreground);
  font-size: 12px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.footer-focus-btn:hover {
  background: var(--accent);
  color: var(--accent-foreground);
}

.footer-focus-variants {
  display: flex;
  align-items: center;
  gap: 8px;
}

.footer-focus-variant-label {
  font-size: 12px;
  color: var(--muted-foreground);
}

.footer-actions {
  display: flex;
  align-items: center;
  gap: 12px;
  flex: 1;
  justify-content: flex-end;
}

.footer-version {
  font-size: 11px;
  color: var(--muted-foreground);
  font-family: monospace;
}

/* =========================================
   COMPONENT STYLES PER NAVIGATION MODE
   ========================================= */

/* ðŸŽ¯ Dashboard View Mode Components */
[data-navigation-mode="mode-dashboard-view"] .header {
  grid-area: header;
  /* Header mit Statistics und Dashboard Features */
}

[data-navigation-mode="mode-dashboard-view"] .compact-sidebar {
  grid-area: sidebar;
  /* Kompakte Navigation */
}

/* ðŸŽ¯ Data Panel Mode Components */
[data-navigation-mode="mode-data-panel"] .header {
  grid-area: header;
  /* Header mit integrierter Navigation */
}

[data-navigation-mode="mode-data-panel"] .navigation-only-sidebar {
  grid-area: sidebar;
  /* Reine Navigation im Sidebar */
}

/* ðŸŽ¯ Compact Focus Mode Components */
[data-navigation-mode="mode-compact-focus"] .header {
  grid-area: header;
  /* Standard Header fÃ¼r mode-compact-focus Mode */
}

[data-navigation-mode="mode-compact-focus"] .sidebar {
  grid-area: sidebar;
  /* Full Sidebar fÃ¼r mode-compact-focus Mode */
}

/* =========================================
   NAVIGATION MODES GRID LAYOUTS - DATABASE-FIRST KI-SAFE
   ========================================= */

/* ðŸŽ¯ mode-dashboard-view Mode - Statistics Header + Compact Navigation Sidebar (FLEX-FOOTER FIX) */
/* ðŸ”§ SPECIFICITY FIX: html .app selector increases specificity to override Body CSS */
/* ðŸš¨ CRITICAL FIX: CSS Fallback Values corrected from '240px 1fr' to '240px 889px' for consistency */
html .app[data-navigation-mode="mode-dashboard-view"] {
  grid-template-columns: var(--db-mode-dashboard-view-grid-template-columns, 240px 889px) !important;
  grid-template-rows: var(--db-mode-dashboard-view-grid-template-rows, var(--mode-dashboard-view-header-height, 80px) 1fr) !important;
  grid-template-areas: var(--db-mode-dashboard-view-grid-template-areas, 
    "sidebar header"
    "sidebar main") !important;
}

/* ðŸŽ¯ MODE-DATA-PANEL Mode - Navigation Header + Compact Statistics Sidebar (FLEX-FOOTER FIX) */
/* ðŸ”§ SPECIFICITY FIX: html .app selector increases specificity to override Body CSS */
/* ðŸš¨ CRITICAL FIX: CSS Fallback Values corrected from '280px 1fr' to '280px 849px' */
html .app[data-navigation-mode="mode-data-panel"] {
  grid-template-columns: var(--db-mode-data-panel-grid-template-columns, 240px 849px) !important;
  grid-template-rows: var(--db-mode-data-panel-grid-template-rows, var(--mode-data-panel-header-height, 80px) 1fr) !important;
  grid-template-areas: var(--db-mode-data-panel-grid-template-areas,
    "sidebar header"
    "sidebar main") !important;
}

/* ðŸŽ¯ MODE-COMPACT-FOCUS Mode - Minimal Header + Full Sidebar (FLEX-FOOTER FIX) */
/* ðŸ”§ SPECIFICITY FIX: html .app selector increases specificity to override Body CSS */
/* ðŸš¨ CRITICAL FIX: CSS Fallback Values corrected from '240px 1fr' to '240px 889px' for consistency */
html .app[data-navigation-mode="mode-compact-focus"] {
  grid-template-columns: var(--db-mode-compact-focus-grid-template-columns, 240px 889px) !important;
  grid-template-rows: var(--db-mode-compact-focus-grid-template-rows, var(--mode-compact-focus-header-height, 80px) 1fr) !important; /* âœ… FIXED: 80px statt 36px */
  grid-template-areas: var(--db-mode-compact-focus-grid-template-areas,
    "sidebar header"
    "sidebar main") !important;
}
