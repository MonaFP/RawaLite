var jh=Object.defineProperty;var Rh=(i,a,l)=>a in i?jh(i,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[a]=l;var xn=(i,a,l)=>Rh(i,typeof a!="symbol"?a+"":a,l);(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))u(d);new MutationObserver(d=>{for(const f of d)if(f.type==="childList")for(const p of f.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&u(p)}).observe(document,{childList:!0,subtree:!0});function l(d){const f={};return d.integrity&&(f.integrity=d.integrity),d.referrerPolicy&&(f.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?f.credentials="include":d.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function u(d){if(d.ep)return;d.ep=!0;const f=l(d);fetch(d.href,f)}})();var Ly=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function of(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Ss={exports:{}},na={},ks={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ed;function Ih(){if(Ed)return Ae;Ed=1;var i=Symbol.for("react.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.iterator;function S(R){return R===null||typeof R!="object"?null:(R=x&&R[x]||R["@@iterator"],typeof R=="function"?R:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,F={};function D(R,$,de){this.props=R,this.context=$,this.refs=F,this.updater=de||w}D.prototype.isReactComponent={},D.prototype.setState=function(R,$){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,$,"setState")},D.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function H(){}H.prototype=D.prototype;function O(R,$,de){this.props=R,this.context=$,this.refs=F,this.updater=de||w}var L=O.prototype=new H;L.constructor=O,_(L,D.prototype),L.isPureReactComponent=!0;var K=Array.isArray,le=Object.prototype.hasOwnProperty,k={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function J(R,$,de){var xe,G={},ne=null,be=null;if($!=null)for(xe in $.ref!==void 0&&(be=$.ref),$.key!==void 0&&(ne=""+$.key),$)le.call($,xe)&&!V.hasOwnProperty(xe)&&(G[xe]=$[xe]);var Ee=arguments.length-2;if(Ee===1)G.children=de;else if(1<Ee){for(var $e=Array(Ee),z=0;z<Ee;z++)$e[z]=arguments[z+2];G.children=$e}if(R&&R.defaultProps)for(xe in Ee=R.defaultProps,Ee)G[xe]===void 0&&(G[xe]=Ee[xe]);return{$$typeof:i,type:R,key:ne,ref:be,props:G,_owner:k.current}}function Q(R,$){return{$$typeof:i,type:R.type,key:$,ref:R.ref,props:R.props,_owner:R._owner}}function W(R){return typeof R=="object"&&R!==null&&R.$$typeof===i}function te(R){var $={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(de){return $[de]})}var Se=/\/+/g;function ue(R,$){return typeof R=="object"&&R!==null&&R.key!=null?te(""+R.key):$.toString(36)}function Ie(R,$,de,xe,G){var ne=typeof R;(ne==="undefined"||ne==="boolean")&&(R=null);var be=!1;if(R===null)be=!0;else switch(ne){case"string":case"number":be=!0;break;case"object":switch(R.$$typeof){case i:case a:be=!0}}if(be)return be=R,G=G(be),R=xe===""?"."+ue(be,0):xe,K(G)?(de="",R!=null&&(de=R.replace(Se,"$&/")+"/"),Ie(G,$,de,"",function(z){return z})):G!=null&&(W(G)&&(G=Q(G,de+(!G.key||be&&be.key===G.key?"":(""+G.key).replace(Se,"$&/")+"/")+R)),$.push(G)),1;if(be=0,xe=xe===""?".":xe+":",K(R))for(var Ee=0;Ee<R.length;Ee++){ne=R[Ee];var $e=xe+ue(ne,Ee);be+=Ie(ne,$,de,$e,G)}else if($e=S(R),typeof $e=="function")for(R=$e.call(R),Ee=0;!(ne=R.next()).done;)ne=ne.value,$e=xe+ue(ne,Ee++),be+=Ie(ne,$,de,$e,G);else if(ne==="object")throw $=String(R),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return be}function Fe(R,$,de){if(R==null)return R;var xe=[],G=0;return Ie(R,xe,"","",function(ne){return $.call(de,ne,G++)}),xe}function Le(R){if(R._status===-1){var $=R._result;$=$(),$.then(function(de){(R._status===0||R._status===-1)&&(R._status=1,R._result=de)},function(de){(R._status===0||R._status===-1)&&(R._status=2,R._result=de)}),R._status===-1&&(R._status=0,R._result=$)}if(R._status===1)return R._result.default;throw R._result}var ke={current:null},ee={transition:null},U={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:ee,ReactCurrentOwner:k};function B(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:Fe,forEach:function(R,$,de){Fe(R,function(){$.apply(this,arguments)},de)},count:function(R){var $=0;return Fe(R,function(){$++}),$},toArray:function(R){return Fe(R,function($){return $})||[]},only:function(R){if(!W(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Ae.Component=D,Ae.Fragment=l,Ae.Profiler=d,Ae.PureComponent=O,Ae.StrictMode=u,Ae.Suspense=h,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,Ae.act=B,Ae.cloneElement=function(R,$,de){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var xe=_({},R.props),G=R.key,ne=R.ref,be=R._owner;if($!=null){if($.ref!==void 0&&(ne=$.ref,be=k.current),$.key!==void 0&&(G=""+$.key),R.type&&R.type.defaultProps)var Ee=R.type.defaultProps;for($e in $)le.call($,$e)&&!V.hasOwnProperty($e)&&(xe[$e]=$[$e]===void 0&&Ee!==void 0?Ee[$e]:$[$e])}var $e=arguments.length-2;if($e===1)xe.children=de;else if(1<$e){Ee=Array($e);for(var z=0;z<$e;z++)Ee[z]=arguments[z+2];xe.children=Ee}return{$$typeof:i,type:R.type,key:G,ref:ne,props:xe,_owner:be}},Ae.createContext=function(R){return R={$$typeof:p,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:f,_context:R},R.Consumer=R},Ae.createElement=J,Ae.createFactory=function(R){var $=J.bind(null,R);return $.type=R,$},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(R){return{$$typeof:g,render:R}},Ae.isValidElement=W,Ae.lazy=function(R){return{$$typeof:y,_payload:{_status:-1,_result:R},_init:Le}},Ae.memo=function(R,$){return{$$typeof:v,type:R,compare:$===void 0?null:$}},Ae.startTransition=function(R){var $=ee.transition;ee.transition={};try{R()}finally{ee.transition=$}},Ae.unstable_act=B,Ae.useCallback=function(R,$){return ke.current.useCallback(R,$)},Ae.useContext=function(R){return ke.current.useContext(R)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(R){return ke.current.useDeferredValue(R)},Ae.useEffect=function(R,$){return ke.current.useEffect(R,$)},Ae.useId=function(){return ke.current.useId()},Ae.useImperativeHandle=function(R,$,de){return ke.current.useImperativeHandle(R,$,de)},Ae.useInsertionEffect=function(R,$){return ke.current.useInsertionEffect(R,$)},Ae.useLayoutEffect=function(R,$){return ke.current.useLayoutEffect(R,$)},Ae.useMemo=function(R,$){return ke.current.useMemo(R,$)},Ae.useReducer=function(R,$,de){return ke.current.useReducer(R,$,de)},Ae.useRef=function(R){return ke.current.useRef(R)},Ae.useState=function(R){return ke.current.useState(R)},Ae.useSyncExternalStore=function(R,$,de){return ke.current.useSyncExternalStore(R,$,de)},Ae.useTransition=function(){return ke.current.useTransition()},Ae.version="18.3.1",Ae}var Cd;function $s(){return Cd||(Cd=1,ks.exports=Ih()),ks.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jd;function Ph(){if(jd)return na;jd=1;var i=$s(),a=Symbol.for("react.element"),l=Symbol.for("react.fragment"),u=Object.prototype.hasOwnProperty,d=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function p(g,h,v){var y,x={},S=null,w=null;v!==void 0&&(S=""+v),h.key!==void 0&&(S=""+h.key),h.ref!==void 0&&(w=h.ref);for(y in h)u.call(h,y)&&!f.hasOwnProperty(y)&&(x[y]=h[y]);if(g&&g.defaultProps)for(y in h=g.defaultProps,h)x[y]===void 0&&(x[y]=h[y]);return{$$typeof:a,type:g,key:S,ref:w,props:x,_owner:d.current}}return na.Fragment=l,na.jsx=p,na.jsxs=p,na}var Rd;function Dh(){return Rd||(Rd=1,Ss.exports=Ph()),Ss.exports}var s=Dh(),E=$s();const Ls=of(E);var bl={},Es={exports:{}},qt={},Cs={exports:{}},js={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Id;function _h(){return Id||(Id=1,(function(i){function a(ee,U){var B=ee.length;ee.push(U);e:for(;0<B;){var R=B-1>>>1,$=ee[R];if(0<d($,U))ee[R]=U,ee[B]=$,B=R;else break e}}function l(ee){return ee.length===0?null:ee[0]}function u(ee){if(ee.length===0)return null;var U=ee[0],B=ee.pop();if(B!==U){ee[0]=B;e:for(var R=0,$=ee.length,de=$>>>1;R<de;){var xe=2*(R+1)-1,G=ee[xe],ne=xe+1,be=ee[ne];if(0>d(G,B))ne<$&&0>d(be,G)?(ee[R]=be,ee[ne]=B,R=ne):(ee[R]=G,ee[xe]=B,R=xe);else if(ne<$&&0>d(be,B))ee[R]=be,ee[ne]=B,R=ne;else break e}}return U}function d(ee,U){var B=ee.sortIndex-U.sortIndex;return B!==0?B:ee.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;i.unstable_now=function(){return f.now()}}else{var p=Date,g=p.now();i.unstable_now=function(){return p.now()-g}}var h=[],v=[],y=1,x=null,S=3,w=!1,_=!1,F=!1,D=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(ee){for(var U=l(v);U!==null;){if(U.callback===null)u(v);else if(U.startTime<=ee)u(v),U.sortIndex=U.expirationTime,a(h,U);else break;U=l(v)}}function K(ee){if(F=!1,L(ee),!_)if(l(h)!==null)_=!0,Le(le);else{var U=l(v);U!==null&&ke(K,U.startTime-ee)}}function le(ee,U){_=!1,F&&(F=!1,H(J),J=-1),w=!0;var B=S;try{for(L(U),x=l(h);x!==null&&(!(x.expirationTime>U)||ee&&!te());){var R=x.callback;if(typeof R=="function"){x.callback=null,S=x.priorityLevel;var $=R(x.expirationTime<=U);U=i.unstable_now(),typeof $=="function"?x.callback=$:x===l(h)&&u(h),L(U)}else u(h);x=l(h)}if(x!==null)var de=!0;else{var xe=l(v);xe!==null&&ke(K,xe.startTime-U),de=!1}return de}finally{x=null,S=B,w=!1}}var k=!1,V=null,J=-1,Q=5,W=-1;function te(){return!(i.unstable_now()-W<Q)}function Se(){if(V!==null){var ee=i.unstable_now();W=ee;var U=!0;try{U=V(!0,ee)}finally{U?ue():(k=!1,V=null)}}else k=!1}var ue;if(typeof O=="function")ue=function(){O(Se)};else if(typeof MessageChannel<"u"){var Ie=new MessageChannel,Fe=Ie.port2;Ie.port1.onmessage=Se,ue=function(){Fe.postMessage(null)}}else ue=function(){D(Se,0)};function Le(ee){V=ee,k||(k=!0,ue())}function ke(ee,U){J=D(function(){ee(i.unstable_now())},U)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ee){ee.callback=null},i.unstable_continueExecution=function(){_||w||(_=!0,Le(le))},i.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<ee?Math.floor(1e3/ee):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_getFirstCallbackNode=function(){return l(h)},i.unstable_next=function(ee){switch(S){case 1:case 2:case 3:var U=3;break;default:U=S}var B=S;S=U;try{return ee()}finally{S=B}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ee,U){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var B=S;S=ee;try{return U()}finally{S=B}},i.unstable_scheduleCallback=function(ee,U,B){var R=i.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?R+B:R):B=R,ee){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=B+$,ee={id:y++,callback:U,priorityLevel:ee,startTime:B,expirationTime:$,sortIndex:-1},B>R?(ee.sortIndex=B,a(v,ee),l(h)===null&&ee===l(v)&&(F?(H(J),J=-1):F=!0,ke(K,B-R))):(ee.sortIndex=$,a(h,ee),_||w||(_=!0,Le(le))),ee},i.unstable_shouldYield=te,i.unstable_wrapCallback=function(ee){var U=S;return function(){var B=S;S=U;try{return ee.apply(this,arguments)}finally{S=B}}}})(js)),js}var Pd;function Nh(){return Pd||(Pd=1,Cs.exports=_h()),Cs.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dd;function Lh(){if(Dd)return qt;Dd=1;var i=$s(),a=Nh();function l(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=new Set,d={};function f(e,t){p(e,t),p(e+"Capture",t)}function p(e,t){for(d[e]=t,e=0;e<t.length;e++)u.add(t[e])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},x={};function S(e){return h.call(x,e)?!0:h.call(y,e)?!1:v.test(e)?x[e]=!0:(y[e]=!0,!1)}function w(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _(e,t,n,r){if(t===null||typeof t>"u"||w(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function F(e,t,n,r,o,c,m){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=c,this.removeEmptyString=m}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){D[e]=new F(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];D[t]=new F(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){D[e]=new F(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){D[e]=new F(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){D[e]=new F(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){D[e]=new F(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){D[e]=new F(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){D[e]=new F(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){D[e]=new F(e,5,!1,e.toLowerCase(),null,!1,!1)});var H=/[\-:]([a-z])/g;function O(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(H,O);D[t]=new F(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(H,O);D[t]=new F(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(H,O);D[t]=new F(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){D[e]=new F(e,1,!1,e.toLowerCase(),null,!1,!1)}),D.xlinkHref=new F("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){D[e]=new F(e,1,!1,e.toLowerCase(),null,!0,!0)});function L(e,t,n,r){var o=D.hasOwnProperty(t)?D[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_(t,n,o,r)&&(n=null),r||o===null?S(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var K=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,le=Symbol.for("react.element"),k=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),te=Symbol.for("react.context"),Se=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),Ie=Symbol.for("react.suspense_list"),Fe=Symbol.for("react.memo"),Le=Symbol.for("react.lazy"),ke=Symbol.for("react.offscreen"),ee=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=ee&&e[ee]||e["@@iterator"],typeof e=="function"?e:null)}var B=Object.assign,R;function $(e){if(R===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return`
`+R+e}var de=!1;function xe(e,t){if(!e||de)return"";de=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(A){var r=A}Reflect.construct(e,[],t)}else{try{t.call()}catch(A){r=A}e.call(t.prototype)}else{try{throw Error()}catch(A){r=A}e()}}catch(A){if(A&&r&&typeof A.stack=="string"){for(var o=A.stack.split(`
`),c=r.stack.split(`
`),m=o.length-1,b=c.length-1;1<=m&&0<=b&&o[m]!==c[b];)b--;for(;1<=m&&0<=b;m--,b--)if(o[m]!==c[b]){if(m!==1||b!==1)do if(m--,b--,0>b||o[m]!==c[b]){var j=`
`+o[m].replace(" at new "," at ");return e.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",e.displayName)),j}while(1<=m&&0<=b);break}}}finally{de=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$(e):""}function G(e){switch(e.tag){case 5:return $(e.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return e=xe(e.type,!1),e;case 11:return e=xe(e.type.render,!1),e;case 1:return e=xe(e.type,!0),e;default:return""}}function ne(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case V:return"Fragment";case k:return"Portal";case Q:return"Profiler";case J:return"StrictMode";case ue:return"Suspense";case Ie:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case te:return(e.displayName||"Context")+".Consumer";case W:return(e._context.displayName||"Context")+".Provider";case Se:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Fe:return t=e.displayName||null,t!==null?t:ne(e.type)||"Memo";case Le:t=e._payload,e=e._init;try{return ne(e(t))}catch{}}return null}function be(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ne(t);case 8:return t===J?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ee(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $e(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function z(e){var t=$e(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,c=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(m){r=""+m,c.call(this,m)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(m){r=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ie(e){e._valueTracker||(e._valueTracker=z(e))}function Pe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$e(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ve(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ye(e,t){var n=t.checked;return B({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Be(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ee(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ke(e,t){t=t.checked,t!=null&&L(e,"checked",t,!1)}function se(e,t){Ke(e,t);var n=Ee(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ft(e,t.type,n):t.hasOwnProperty("defaultValue")&&ft(e,t.type,Ee(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ce(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ft(e,t,n){(t!=="number"||Ve(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var pt=Array.isArray;function ze(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ee(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function it(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(l(91));return B({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function lt(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(l(92));if(pt(n)){if(1<n.length)throw Error(l(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ee(n)}}function Ue(e,t){var n=Ee(t.value),r=Ee(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function qe(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function xt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ht(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?xt(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Je,Ur=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Je=Je||document.createElement("div"),Je.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Je.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ot(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ct={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bt=["Webkit","ms","Moz","O"];Object.keys(Ct).forEach(function(e){Bt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ct[t]=Ct[e]})});function Dn(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ct.hasOwnProperty(e)&&Ct[e]?(""+t).trim():t+"px"}function _n(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Dn(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Wr=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qn(e,t){if(t){if(Wr[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(l(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(l(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(l(61))}if(t.style!=null&&typeof t.style!="object")throw Error(l(62))}}function Vr(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qn=null;function Hr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var br=null,Gn=null,Nn=null;function ma(e){if(e=Bi(e)){if(typeof br!="function")throw Error(l(280));var t=e.stateNode;t&&(t=Fa(t),br(e.stateNode,e.type,t))}}function bi(e){Gn?Nn?Nn.push(e):Nn=[e]:Gn=e}function Sr(){if(Gn){var e=Gn,t=Nn;if(Nn=Gn=null,ma(e),t)for(e=0;e<t.length;e++)ma(t[e])}}function kr(e,t){return e(t)}function ga(){}var Si=!1;function C(e,t,n){if(Si)return e(t,n);Si=!0;try{return kr(e,t,n)}finally{Si=!1,(Gn!==null||Nn!==null)&&(ga(),Sr())}}function P(e,t){var n=e.stateNode;if(n===null)return null;var r=Fa(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(l(231,t,typeof n));return n}var M=!1;if(g)try{var X={};Object.defineProperty(X,"passive",{get:function(){M=!0}}),window.addEventListener("test",X,X),window.removeEventListener("test",X,X)}catch{M=!1}function ae(e,t,n,r,o,c,m,b,j){var A=Array.prototype.slice.call(arguments,3);try{t.apply(n,A)}catch(Y){this.onError(Y)}}var he=!1,ge=null,fe=!1,we=null,_e={onError:function(e){he=!0,ge=e}};function De(e,t,n,r,o,c,m,b,j){he=!1,ge=null,ae.apply(_e,arguments)}function ve(e,t,n,r,o,c,m,b,j){if(De.apply(this,arguments),he){if(he){var A=ge;he=!1,ge=null}else throw Error(l(198));fe||(fe=!0,we=A)}}function Ne(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Qe(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function mt(e){if(Ne(e)!==e)throw Error(l(188))}function _t(e){var t=e.alternate;if(!t){if(t=Ne(e),t===null)throw Error(l(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var c=o.alternate;if(c===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===c.child){for(c=o.child;c;){if(c===n)return mt(o),e;if(c===r)return mt(o),t;c=c.sibling}throw Error(l(188))}if(n.return!==r.return)n=o,r=c;else{for(var m=!1,b=o.child;b;){if(b===n){m=!0,n=o,r=c;break}if(b===r){m=!0,r=o,n=c;break}b=b.sibling}if(!m){for(b=c.child;b;){if(b===n){m=!0,n=c,r=o;break}if(b===r){m=!0,r=c,n=o;break}b=b.sibling}if(!m)throw Error(l(189))}}if(n.alternate!==r)throw Error(l(190))}if(n.tag!==3)throw Error(l(188));return n.stateNode.current===n?e:t}function Ze(e){return e=_t(e),e!==null?Xe(e):null}function Xe(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Xe(e);if(t!==null)return t;e=e.sibling}return null}var bn=a.unstable_scheduleCallback,Yn=a.unstable_cancelCallback,Sn=a.unstable_shouldYield,tn=a.unstable_requestPaint,tt=a.unstable_now,Er=a.unstable_getCurrentPriorityLevel,dn=a.unstable_ImmediatePriority,Cr=a.unstable_UserBlockingPriority,Ln=a.unstable_NormalPriority,Oe=a.unstable_LowPriority,St=a.unstable_IdlePriority,fn=null,jt=null;function gt(e){if(jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(fn,e,void 0,(e.current.flags&128)===128)}catch{}}var Tt=Math.clz32?Math.clz32:Vf,ya=Math.log,Bl=Math.LN2;function Vf(e){return e>>>=0,e===0?32:31-(ya(e)/Bl|0)|0}var va=64,xa=4194304;function ki(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function wa(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,c=e.pingedLanes,m=n&268435455;if(m!==0){var b=m&~o;b!==0?r=ki(b):(c&=m,c!==0&&(r=ki(c)))}else m=n&~o,m!==0?r=ki(m):c!==0&&(r=ki(c));if(r===0)return 0;if(t!==0&&t!==r&&(t&o)===0&&(o=r&-r,c=t&-t,o>=c||o===16&&(c&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Tt(t),o=1<<n,r|=e[n],t&=~o;return r}function Hf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kf(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,c=e.pendingLanes;0<c;){var m=31-Tt(c),b=1<<m,j=o[m];j===-1?((b&n)===0||(b&r)!==0)&&(o[m]=Hf(b,t)):j<=t&&(e.expiredLanes|=b),c&=~b}}function Ul(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function tu(){var e=va;return va<<=1,(va&4194240)===0&&(va=64),e}function Wl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ei(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Tt(t),e[t]=n}function qf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Tt(n),c=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~c}}function Vl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Tt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Ge=0;function nu(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var ru,Hl,iu,au,lu,Kl=!1,ba=[],Jn=null,Xn=null,Zn=null,Ci=new Map,ji=new Map,er=[],Qf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ou(e,t){switch(e){case"focusin":case"focusout":Jn=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":Ci.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ji.delete(t.pointerId)}}function Ri(e,t,n,r,o,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:c,targetContainers:[o]},t!==null&&(t=Bi(t),t!==null&&Hl(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Gf(e,t,n,r,o){switch(t){case"focusin":return Jn=Ri(Jn,e,t,n,r,o),!0;case"dragenter":return Xn=Ri(Xn,e,t,n,r,o),!0;case"mouseover":return Zn=Ri(Zn,e,t,n,r,o),!0;case"pointerover":var c=o.pointerId;return Ci.set(c,Ri(Ci.get(c)||null,e,t,n,r,o)),!0;case"gotpointercapture":return c=o.pointerId,ji.set(c,Ri(ji.get(c)||null,e,t,n,r,o)),!0}return!1}function su(e){var t=jr(e.target);if(t!==null){var n=Ne(t);if(n!==null){if(t=n.tag,t===13){if(t=Qe(n),t!==null){e.blockedOn=t,lu(e.priority,function(){iu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ql(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Qn=r,n.target.dispatchEvent(r),Qn=null}else return t=Bi(n),t!==null&&Hl(t),e.blockedOn=n,!1;t.shift()}return!0}function uu(e,t,n){Sa(e)&&n.delete(t)}function Yf(){Kl=!1,Jn!==null&&Sa(Jn)&&(Jn=null),Xn!==null&&Sa(Xn)&&(Xn=null),Zn!==null&&Sa(Zn)&&(Zn=null),Ci.forEach(uu),ji.forEach(uu)}function Ii(e,t){e.blockedOn===t&&(e.blockedOn=null,Kl||(Kl=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Yf)))}function Pi(e){function t(o){return Ii(o,e)}if(0<ba.length){Ii(ba[0],e);for(var n=1;n<ba.length;n++){var r=ba[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Jn!==null&&Ii(Jn,e),Xn!==null&&Ii(Xn,e),Zn!==null&&Ii(Zn,e),Ci.forEach(t),ji.forEach(t),n=0;n<er.length;n++)r=er[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<er.length&&(n=er[0],n.blockedOn===null);)su(n),n.blockedOn===null&&er.shift()}var Kr=K.ReactCurrentBatchConfig,ka=!0;function Jf(e,t,n,r){var o=Ge,c=Kr.transition;Kr.transition=null;try{Ge=1,ql(e,t,n,r)}finally{Ge=o,Kr.transition=c}}function Xf(e,t,n,r){var o=Ge,c=Kr.transition;Kr.transition=null;try{Ge=4,ql(e,t,n,r)}finally{Ge=o,Kr.transition=c}}function ql(e,t,n,r){if(ka){var o=Ql(e,t,n,r);if(o===null)fo(e,t,r,Ea,n),ou(e,r);else if(Gf(o,e,t,n,r))r.stopPropagation();else if(ou(e,r),t&4&&-1<Qf.indexOf(e)){for(;o!==null;){var c=Bi(o);if(c!==null&&ru(c),c=Ql(e,t,n,r),c===null&&fo(e,t,r,Ea,n),c===o)break;o=c}o!==null&&r.stopPropagation()}else fo(e,t,r,null,n)}}var Ea=null;function Ql(e,t,n,r){if(Ea=null,e=Hr(r),e=jr(e),e!==null)if(t=Ne(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Qe(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ea=e,null}function cu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Er()){case dn:return 1;case Cr:return 4;case Ln:case Oe:return 16;case St:return 536870912;default:return 16}default:return 16}}var tr=null,Gl=null,Ca=null;function du(){if(Ca)return Ca;var e,t=Gl,n=t.length,r,o="value"in tr?tr.value:tr.textContent,c=o.length;for(e=0;e<n&&t[e]===o[e];e++);var m=n-e;for(r=1;r<=m&&t[n-r]===o[c-r];r++);return Ca=o.slice(e,1<r?1-r:void 0)}function ja(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ra(){return!0}function fu(){return!1}function Gt(e){function t(n,r,o,c,m){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=c,this.target=m,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(n=e[b],this[b]=n?n(c):c[b]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Ra:fu,this.isPropagationStopped=fu,this}return B(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ra)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ra)},persist:function(){},isPersistent:Ra}),t}var qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yl=Gt(qr),Di=B({},qr,{view:0,detail:0}),Zf=Gt(Di),Jl,Xl,_i,Ia=B({},Di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_i&&(_i&&e.type==="mousemove"?(Jl=e.screenX-_i.screenX,Xl=e.screenY-_i.screenY):Xl=Jl=0,_i=e),Jl)},movementY:function(e){return"movementY"in e?e.movementY:Xl}}),pu=Gt(Ia),ep=B({},Ia,{dataTransfer:0}),tp=Gt(ep),np=B({},Di,{relatedTarget:0}),Zl=Gt(np),rp=B({},qr,{animationName:0,elapsedTime:0,pseudoElement:0}),ip=Gt(rp),ap=B({},qr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lp=Gt(ap),op=B({},qr,{data:0}),hu=Gt(op),sp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},up={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cp[e])?!!t[e]:!1}function eo(){return dp}var fp=B({},Di,{key:function(e){if(e.key){var t=sp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ja(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?up[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eo,charCode:function(e){return e.type==="keypress"?ja(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ja(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pp=Gt(fp),hp=B({},Ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mu=Gt(hp),mp=B({},Di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eo}),gp=Gt(mp),yp=B({},qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),vp=Gt(yp),xp=B({},Ia,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wp=Gt(xp),bp=[9,13,27,32],to=g&&"CompositionEvent"in window,Ni=null;g&&"documentMode"in document&&(Ni=document.documentMode);var Sp=g&&"TextEvent"in window&&!Ni,gu=g&&(!to||Ni&&8<Ni&&11>=Ni),yu=" ",vu=!1;function xu(e,t){switch(e){case"keyup":return bp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qr=!1;function kp(e,t){switch(e){case"compositionend":return wu(t);case"keypress":return t.which!==32?null:(vu=!0,yu);case"textInput":return e=t.data,e===yu&&vu?null:e;default:return null}}function Ep(e,t){if(Qr)return e==="compositionend"||!to&&xu(e,t)?(e=du(),Ca=Gl=tr=null,Qr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gu&&t.locale!=="ko"?null:t.data;default:return null}}var Cp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Cp[e.type]:t==="textarea"}function Su(e,t,n,r){bi(r),t=La(t,"onChange"),0<t.length&&(n=new Yl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Li=null,Ti=null;function jp(e){$u(e,0)}function Pa(e){var t=Zr(e);if(Pe(t))return e}function Rp(e,t){if(e==="change")return t}var ku=!1;if(g){var no;if(g){var ro="oninput"in document;if(!ro){var Eu=document.createElement("div");Eu.setAttribute("oninput","return;"),ro=typeof Eu.oninput=="function"}no=ro}else no=!1;ku=no&&(!document.documentMode||9<document.documentMode)}function Cu(){Li&&(Li.detachEvent("onpropertychange",ju),Ti=Li=null)}function ju(e){if(e.propertyName==="value"&&Pa(Ti)){var t=[];Su(t,Ti,e,Hr(e)),C(jp,t)}}function Ip(e,t,n){e==="focusin"?(Cu(),Li=t,Ti=n,Li.attachEvent("onpropertychange",ju)):e==="focusout"&&Cu()}function Pp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pa(Ti)}function Dp(e,t){if(e==="click")return Pa(t)}function _p(e,t){if(e==="input"||e==="change")return Pa(t)}function Np(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pn=typeof Object.is=="function"?Object.is:Np;function zi(e,t){if(pn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!h.call(t,o)||!pn(e[o],t[o]))return!1}return!0}function Ru(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Iu(e,t){var n=Ru(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ru(n)}}function Pu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Pu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Du(){for(var e=window,t=Ve();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ve(e.document)}return t}function io(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Lp(e){var t=Du(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Pu(n.ownerDocument.documentElement,n)){if(r!==null&&io(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,c=Math.min(r.start,o);r=r.end===void 0?c:Math.min(r.end,o),!e.extend&&c>r&&(o=r,r=c,c=o),o=Iu(n,c);var m=Iu(n,r);o&&m&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==m.node||e.focusOffset!==m.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),c>r?(e.addRange(t),e.extend(m.node,m.offset)):(t.setEnd(m.node,m.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Tp=g&&"documentMode"in document&&11>=document.documentMode,Gr=null,ao=null,Fi=null,lo=!1;function _u(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lo||Gr==null||Gr!==Ve(r)||(r=Gr,"selectionStart"in r&&io(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Fi&&zi(Fi,r)||(Fi=r,r=La(ao,"onSelect"),0<r.length&&(t=new Yl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Gr)))}function Da(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Yr={animationend:Da("Animation","AnimationEnd"),animationiteration:Da("Animation","AnimationIteration"),animationstart:Da("Animation","AnimationStart"),transitionend:Da("Transition","TransitionEnd")},oo={},Nu={};g&&(Nu=document.createElement("div").style,"AnimationEvent"in window||(delete Yr.animationend.animation,delete Yr.animationiteration.animation,delete Yr.animationstart.animation),"TransitionEvent"in window||delete Yr.transitionend.transition);function _a(e){if(oo[e])return oo[e];if(!Yr[e])return e;var t=Yr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Nu)return oo[e]=t[n];return e}var Lu=_a("animationend"),Tu=_a("animationiteration"),zu=_a("animationstart"),Fu=_a("transitionend"),Au=new Map,Mu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nr(e,t){Au.set(e,t),f(t,[e])}for(var so=0;so<Mu.length;so++){var uo=Mu[so],zp=uo.toLowerCase(),Fp=uo[0].toUpperCase()+uo.slice(1);nr(zp,"on"+Fp)}nr(Lu,"onAnimationEnd"),nr(Tu,"onAnimationIteration"),nr(zu,"onAnimationStart"),nr("dblclick","onDoubleClick"),nr("focusin","onFocus"),nr("focusout","onBlur"),nr(Fu,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),f("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),f("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),f("onBeforeInput",["compositionend","keypress","textInput","paste"]),f("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ai="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ap=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ai));function Ou(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ve(r,t,void 0,e),e.currentTarget=null}function $u(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var c=void 0;if(t)for(var m=r.length-1;0<=m;m--){var b=r[m],j=b.instance,A=b.currentTarget;if(b=b.listener,j!==c&&o.isPropagationStopped())break e;Ou(o,b,A),c=j}else for(m=0;m<r.length;m++){if(b=r[m],j=b.instance,A=b.currentTarget,b=b.listener,j!==c&&o.isPropagationStopped())break e;Ou(o,b,A),c=j}}}if(fe)throw e=we,fe=!1,we=null,e}function nt(e,t){var n=t[vo];n===void 0&&(n=t[vo]=new Set);var r=e+"__bubble";n.has(r)||(Bu(t,e,2,!1),n.add(r))}function co(e,t,n){var r=0;t&&(r|=4),Bu(n,e,r,t)}var Na="_reactListening"+Math.random().toString(36).slice(2);function Mi(e){if(!e[Na]){e[Na]=!0,u.forEach(function(n){n!=="selectionchange"&&(Ap.has(n)||co(n,!1,e),co(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Na]||(t[Na]=!0,co("selectionchange",!1,t))}}function Bu(e,t,n,r){switch(cu(t)){case 1:var o=Jf;break;case 4:o=Xf;break;default:o=ql}n=o.bind(null,t,n,e),o=void 0,!M||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function fo(e,t,n,r,o){var c=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var m=r.tag;if(m===3||m===4){var b=r.stateNode.containerInfo;if(b===o||b.nodeType===8&&b.parentNode===o)break;if(m===4)for(m=r.return;m!==null;){var j=m.tag;if((j===3||j===4)&&(j=m.stateNode.containerInfo,j===o||j.nodeType===8&&j.parentNode===o))return;m=m.return}for(;b!==null;){if(m=jr(b),m===null)return;if(j=m.tag,j===5||j===6){r=c=m;continue e}b=b.parentNode}}r=r.return}C(function(){var A=c,Y=Hr(n),Z=[];e:{var q=Au.get(e);if(q!==void 0){var oe=Yl,pe=e;switch(e){case"keypress":if(ja(n)===0)break e;case"keydown":case"keyup":oe=pp;break;case"focusin":pe="focus",oe=Zl;break;case"focusout":pe="blur",oe=Zl;break;case"beforeblur":case"afterblur":oe=Zl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=pu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=tp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=gp;break;case Lu:case Tu:case zu:oe=ip;break;case Fu:oe=vp;break;case"scroll":oe=Zf;break;case"wheel":oe=wp;break;case"copy":case"cut":case"paste":oe=lp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=mu}var me=(t&4)!==0,yt=!me&&e==="scroll",N=me?q!==null?q+"Capture":null:q;me=[];for(var I=A,T;I!==null;){T=I;var re=T.stateNode;if(T.tag===5&&re!==null&&(T=re,N!==null&&(re=P(I,N),re!=null&&me.push(Oi(I,re,T)))),yt)break;I=I.return}0<me.length&&(q=new oe(q,pe,null,n,Y),Z.push({event:q,listeners:me}))}}if((t&7)===0){e:{if(q=e==="mouseover"||e==="pointerover",oe=e==="mouseout"||e==="pointerout",q&&n!==Qn&&(pe=n.relatedTarget||n.fromElement)&&(jr(pe)||pe[Tn]))break e;if((oe||q)&&(q=Y.window===Y?Y:(q=Y.ownerDocument)?q.defaultView||q.parentWindow:window,oe?(pe=n.relatedTarget||n.toElement,oe=A,pe=pe?jr(pe):null,pe!==null&&(yt=Ne(pe),pe!==yt||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(oe=null,pe=A),oe!==pe)){if(me=pu,re="onMouseLeave",N="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(me=mu,re="onPointerLeave",N="onPointerEnter",I="pointer"),yt=oe==null?q:Zr(oe),T=pe==null?q:Zr(pe),q=new me(re,I+"leave",oe,n,Y),q.target=yt,q.relatedTarget=T,re=null,jr(Y)===A&&(me=new me(N,I+"enter",pe,n,Y),me.target=T,me.relatedTarget=yt,re=me),yt=re,oe&&pe)t:{for(me=oe,N=pe,I=0,T=me;T;T=Jr(T))I++;for(T=0,re=N;re;re=Jr(re))T++;for(;0<I-T;)me=Jr(me),I--;for(;0<T-I;)N=Jr(N),T--;for(;I--;){if(me===N||N!==null&&me===N.alternate)break t;me=Jr(me),N=Jr(N)}me=null}else me=null;oe!==null&&Uu(Z,q,oe,me,!1),pe!==null&&yt!==null&&Uu(Z,yt,pe,me,!0)}}e:{if(q=A?Zr(A):window,oe=q.nodeName&&q.nodeName.toLowerCase(),oe==="select"||oe==="input"&&q.type==="file")var ye=Rp;else if(bu(q))if(ku)ye=_p;else{ye=Pp;var je=Ip}else(oe=q.nodeName)&&oe.toLowerCase()==="input"&&(q.type==="checkbox"||q.type==="radio")&&(ye=Dp);if(ye&&(ye=ye(e,A))){Su(Z,ye,n,Y);break e}je&&je(e,q,A),e==="focusout"&&(je=q._wrapperState)&&je.controlled&&q.type==="number"&&ft(q,"number",q.value)}switch(je=A?Zr(A):window,e){case"focusin":(bu(je)||je.contentEditable==="true")&&(Gr=je,ao=A,Fi=null);break;case"focusout":Fi=ao=Gr=null;break;case"mousedown":lo=!0;break;case"contextmenu":case"mouseup":case"dragend":lo=!1,_u(Z,n,Y);break;case"selectionchange":if(Tp)break;case"keydown":case"keyup":_u(Z,n,Y)}var Re;if(to)e:{switch(e){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Qr?xu(e,n)&&(Te="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Te="onCompositionStart");Te&&(gu&&n.locale!=="ko"&&(Qr||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Qr&&(Re=du()):(tr=Y,Gl="value"in tr?tr.value:tr.textContent,Qr=!0)),je=La(A,Te),0<je.length&&(Te=new hu(Te,e,null,n,Y),Z.push({event:Te,listeners:je}),Re?Te.data=Re:(Re=wu(n),Re!==null&&(Te.data=Re)))),(Re=Sp?kp(e,n):Ep(e,n))&&(A=La(A,"onBeforeInput"),0<A.length&&(Y=new hu("onBeforeInput","beforeinput",null,n,Y),Z.push({event:Y,listeners:A}),Y.data=Re))}$u(Z,t)})}function Oi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function La(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,c=o.stateNode;o.tag===5&&c!==null&&(o=c,c=P(e,n),c!=null&&r.unshift(Oi(e,c,o)),c=P(e,t),c!=null&&r.push(Oi(e,c,o))),e=e.return}return r}function Jr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Uu(e,t,n,r,o){for(var c=t._reactName,m=[];n!==null&&n!==r;){var b=n,j=b.alternate,A=b.stateNode;if(j!==null&&j===r)break;b.tag===5&&A!==null&&(b=A,o?(j=P(n,c),j!=null&&m.unshift(Oi(n,j,b))):o||(j=P(n,c),j!=null&&m.push(Oi(n,j,b)))),n=n.return}m.length!==0&&e.push({event:t,listeners:m})}var Mp=/\r\n?/g,Op=/\u0000|\uFFFD/g;function Wu(e){return(typeof e=="string"?e:""+e).replace(Mp,`
`).replace(Op,"")}function Ta(e,t,n){if(t=Wu(t),Wu(e)!==t&&n)throw Error(l(425))}function za(){}var po=null,ho=null;function mo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var go=typeof setTimeout=="function"?setTimeout:void 0,$p=typeof clearTimeout=="function"?clearTimeout:void 0,Vu=typeof Promise=="function"?Promise:void 0,Bp=typeof queueMicrotask=="function"?queueMicrotask:typeof Vu<"u"?function(e){return Vu.resolve(null).then(e).catch(Up)}:go;function Up(e){setTimeout(function(){throw e})}function yo(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Pi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Pi(t)}function rr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Hu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Xr=Math.random().toString(36).slice(2),kn="__reactFiber$"+Xr,$i="__reactProps$"+Xr,Tn="__reactContainer$"+Xr,vo="__reactEvents$"+Xr,Wp="__reactListeners$"+Xr,Vp="__reactHandles$"+Xr;function jr(e){var t=e[kn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Tn]||n[kn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Hu(e);e!==null;){if(n=e[kn])return n;e=Hu(e)}return t}e=n,n=e.parentNode}return null}function Bi(e){return e=e[kn]||e[Tn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Zr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(l(33))}function Fa(e){return e[$i]||null}var xo=[],ei=-1;function ir(e){return{current:e}}function rt(e){0>ei||(e.current=xo[ei],xo[ei]=null,ei--)}function et(e,t){ei++,xo[ei]=e.current,e.current=t}var ar={},zt=ir(ar),Ut=ir(!1),Rr=ar;function ti(e,t){var n=e.type.contextTypes;if(!n)return ar;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},c;for(c in n)o[c]=t[c];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Wt(e){return e=e.childContextTypes,e!=null}function Aa(){rt(Ut),rt(zt)}function Ku(e,t,n){if(zt.current!==ar)throw Error(l(168));et(zt,t),et(Ut,n)}function qu(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(l(108,be(e)||"Unknown",o));return B({},n,r)}function Ma(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ar,Rr=zt.current,et(zt,e),et(Ut,Ut.current),!0}function Qu(e,t,n){var r=e.stateNode;if(!r)throw Error(l(169));n?(e=qu(e,t,Rr),r.__reactInternalMemoizedMergedChildContext=e,rt(Ut),rt(zt),et(zt,e)):rt(Ut),et(Ut,n)}var zn=null,Oa=!1,wo=!1;function Gu(e){zn===null?zn=[e]:zn.push(e)}function Hp(e){Oa=!0,Gu(e)}function lr(){if(!wo&&zn!==null){wo=!0;var e=0,t=Ge;try{var n=zn;for(Ge=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}zn=null,Oa=!1}catch(o){throw zn!==null&&(zn=zn.slice(e+1)),bn(dn,lr),o}finally{Ge=t,wo=!1}}return null}var ni=[],ri=0,$a=null,Ba=0,nn=[],rn=0,Ir=null,Fn=1,An="";function Pr(e,t){ni[ri++]=Ba,ni[ri++]=$a,$a=e,Ba=t}function Yu(e,t,n){nn[rn++]=Fn,nn[rn++]=An,nn[rn++]=Ir,Ir=e;var r=Fn;e=An;var o=32-Tt(r)-1;r&=~(1<<o),n+=1;var c=32-Tt(t)+o;if(30<c){var m=o-o%5;c=(r&(1<<m)-1).toString(32),r>>=m,o-=m,Fn=1<<32-Tt(t)+o|n<<o|r,An=c+e}else Fn=1<<c|n<<o|r,An=e}function bo(e){e.return!==null&&(Pr(e,1),Yu(e,1,0))}function So(e){for(;e===$a;)$a=ni[--ri],ni[ri]=null,Ba=ni[--ri],ni[ri]=null;for(;e===Ir;)Ir=nn[--rn],nn[rn]=null,An=nn[--rn],nn[rn]=null,Fn=nn[--rn],nn[rn]=null}var Yt=null,Jt=null,at=!1,hn=null;function Ju(e,t){var n=sn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Xu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Yt=e,Jt=rr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Yt=e,Jt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ir!==null?{id:Fn,overflow:An}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=sn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Yt=e,Jt=null,!0):!1;default:return!1}}function ko(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eo(e){if(at){var t=Jt;if(t){var n=t;if(!Xu(e,t)){if(ko(e))throw Error(l(418));t=rr(n.nextSibling);var r=Yt;t&&Xu(e,t)?Ju(r,n):(e.flags=e.flags&-4097|2,at=!1,Yt=e)}}else{if(ko(e))throw Error(l(418));e.flags=e.flags&-4097|2,at=!1,Yt=e}}}function Zu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Yt=e}function Ua(e){if(e!==Yt)return!1;if(!at)return Zu(e),at=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!mo(e.type,e.memoizedProps)),t&&(t=Jt)){if(ko(e))throw ec(),Error(l(418));for(;t;)Ju(e,t),t=rr(t.nextSibling)}if(Zu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Jt=rr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Jt=null}}else Jt=Yt?rr(e.stateNode.nextSibling):null;return!0}function ec(){for(var e=Jt;e;)e=rr(e.nextSibling)}function ii(){Jt=Yt=null,at=!1}function Co(e){hn===null?hn=[e]:hn.push(e)}var Kp=K.ReactCurrentBatchConfig;function Ui(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(l(309));var r=n.stateNode}if(!r)throw Error(l(147,e));var o=r,c=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===c?t.ref:(t=function(m){var b=o.refs;m===null?delete b[c]:b[c]=m},t._stringRef=c,t)}if(typeof e!="string")throw Error(l(284));if(!n._owner)throw Error(l(290,e))}return e}function Wa(e,t){throw e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function tc(e){var t=e._init;return t(e._payload)}function nc(e){function t(N,I){if(e){var T=N.deletions;T===null?(N.deletions=[I],N.flags|=16):T.push(I)}}function n(N,I){if(!e)return null;for(;I!==null;)t(N,I),I=I.sibling;return null}function r(N,I){for(N=new Map;I!==null;)I.key!==null?N.set(I.key,I):N.set(I.index,I),I=I.sibling;return N}function o(N,I){return N=hr(N,I),N.index=0,N.sibling=null,N}function c(N,I,T){return N.index=T,e?(T=N.alternate,T!==null?(T=T.index,T<I?(N.flags|=2,I):T):(N.flags|=2,I)):(N.flags|=1048576,I)}function m(N){return e&&N.alternate===null&&(N.flags|=2),N}function b(N,I,T,re){return I===null||I.tag!==6?(I=gs(T,N.mode,re),I.return=N,I):(I=o(I,T),I.return=N,I)}function j(N,I,T,re){var ye=T.type;return ye===V?Y(N,I,T.props.children,re,T.key):I!==null&&(I.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Le&&tc(ye)===I.type)?(re=o(I,T.props),re.ref=Ui(N,I,T),re.return=N,re):(re=pl(T.type,T.key,T.props,null,N.mode,re),re.ref=Ui(N,I,T),re.return=N,re)}function A(N,I,T,re){return I===null||I.tag!==4||I.stateNode.containerInfo!==T.containerInfo||I.stateNode.implementation!==T.implementation?(I=ys(T,N.mode,re),I.return=N,I):(I=o(I,T.children||[]),I.return=N,I)}function Y(N,I,T,re,ye){return I===null||I.tag!==7?(I=Ar(T,N.mode,re,ye),I.return=N,I):(I=o(I,T),I.return=N,I)}function Z(N,I,T){if(typeof I=="string"&&I!==""||typeof I=="number")return I=gs(""+I,N.mode,T),I.return=N,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case le:return T=pl(I.type,I.key,I.props,null,N.mode,T),T.ref=Ui(N,null,I),T.return=N,T;case k:return I=ys(I,N.mode,T),I.return=N,I;case Le:var re=I._init;return Z(N,re(I._payload),T)}if(pt(I)||U(I))return I=Ar(I,N.mode,T,null),I.return=N,I;Wa(N,I)}return null}function q(N,I,T,re){var ye=I!==null?I.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return ye!==null?null:b(N,I,""+T,re);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case le:return T.key===ye?j(N,I,T,re):null;case k:return T.key===ye?A(N,I,T,re):null;case Le:return ye=T._init,q(N,I,ye(T._payload),re)}if(pt(T)||U(T))return ye!==null?null:Y(N,I,T,re,null);Wa(N,T)}return null}function oe(N,I,T,re,ye){if(typeof re=="string"&&re!==""||typeof re=="number")return N=N.get(T)||null,b(I,N,""+re,ye);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case le:return N=N.get(re.key===null?T:re.key)||null,j(I,N,re,ye);case k:return N=N.get(re.key===null?T:re.key)||null,A(I,N,re,ye);case Le:var je=re._init;return oe(N,I,T,je(re._payload),ye)}if(pt(re)||U(re))return N=N.get(T)||null,Y(I,N,re,ye,null);Wa(I,re)}return null}function pe(N,I,T,re){for(var ye=null,je=null,Re=I,Te=I=0,Pt=null;Re!==null&&Te<T.length;Te++){Re.index>Te?(Pt=Re,Re=null):Pt=Re.sibling;var He=q(N,Re,T[Te],re);if(He===null){Re===null&&(Re=Pt);break}e&&Re&&He.alternate===null&&t(N,Re),I=c(He,I,Te),je===null?ye=He:je.sibling=He,je=He,Re=Pt}if(Te===T.length)return n(N,Re),at&&Pr(N,Te),ye;if(Re===null){for(;Te<T.length;Te++)Re=Z(N,T[Te],re),Re!==null&&(I=c(Re,I,Te),je===null?ye=Re:je.sibling=Re,je=Re);return at&&Pr(N,Te),ye}for(Re=r(N,Re);Te<T.length;Te++)Pt=oe(Re,N,Te,T[Te],re),Pt!==null&&(e&&Pt.alternate!==null&&Re.delete(Pt.key===null?Te:Pt.key),I=c(Pt,I,Te),je===null?ye=Pt:je.sibling=Pt,je=Pt);return e&&Re.forEach(function(mr){return t(N,mr)}),at&&Pr(N,Te),ye}function me(N,I,T,re){var ye=U(T);if(typeof ye!="function")throw Error(l(150));if(T=ye.call(T),T==null)throw Error(l(151));for(var je=ye=null,Re=I,Te=I=0,Pt=null,He=T.next();Re!==null&&!He.done;Te++,He=T.next()){Re.index>Te?(Pt=Re,Re=null):Pt=Re.sibling;var mr=q(N,Re,He.value,re);if(mr===null){Re===null&&(Re=Pt);break}e&&Re&&mr.alternate===null&&t(N,Re),I=c(mr,I,Te),je===null?ye=mr:je.sibling=mr,je=mr,Re=Pt}if(He.done)return n(N,Re),at&&Pr(N,Te),ye;if(Re===null){for(;!He.done;Te++,He=T.next())He=Z(N,He.value,re),He!==null&&(I=c(He,I,Te),je===null?ye=He:je.sibling=He,je=He);return at&&Pr(N,Te),ye}for(Re=r(N,Re);!He.done;Te++,He=T.next())He=oe(Re,N,Te,He.value,re),He!==null&&(e&&He.alternate!==null&&Re.delete(He.key===null?Te:He.key),I=c(He,I,Te),je===null?ye=He:je.sibling=He,je=He);return e&&Re.forEach(function(Ch){return t(N,Ch)}),at&&Pr(N,Te),ye}function yt(N,I,T,re){if(typeof T=="object"&&T!==null&&T.type===V&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case le:e:{for(var ye=T.key,je=I;je!==null;){if(je.key===ye){if(ye=T.type,ye===V){if(je.tag===7){n(N,je.sibling),I=o(je,T.props.children),I.return=N,N=I;break e}}else if(je.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Le&&tc(ye)===je.type){n(N,je.sibling),I=o(je,T.props),I.ref=Ui(N,je,T),I.return=N,N=I;break e}n(N,je);break}else t(N,je);je=je.sibling}T.type===V?(I=Ar(T.props.children,N.mode,re,T.key),I.return=N,N=I):(re=pl(T.type,T.key,T.props,null,N.mode,re),re.ref=Ui(N,I,T),re.return=N,N=re)}return m(N);case k:e:{for(je=T.key;I!==null;){if(I.key===je)if(I.tag===4&&I.stateNode.containerInfo===T.containerInfo&&I.stateNode.implementation===T.implementation){n(N,I.sibling),I=o(I,T.children||[]),I.return=N,N=I;break e}else{n(N,I);break}else t(N,I);I=I.sibling}I=ys(T,N.mode,re),I.return=N,N=I}return m(N);case Le:return je=T._init,yt(N,I,je(T._payload),re)}if(pt(T))return pe(N,I,T,re);if(U(T))return me(N,I,T,re);Wa(N,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,I!==null&&I.tag===6?(n(N,I.sibling),I=o(I,T),I.return=N,N=I):(n(N,I),I=gs(T,N.mode,re),I.return=N,N=I),m(N)):n(N,I)}return yt}var ai=nc(!0),rc=nc(!1),Va=ir(null),Ha=null,li=null,jo=null;function Ro(){jo=li=Ha=null}function Io(e){var t=Va.current;rt(Va),e._currentValue=t}function Po(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function oi(e,t){Ha=e,jo=li=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Vt=!0),e.firstContext=null)}function an(e){var t=e._currentValue;if(jo!==e)if(e={context:e,memoizedValue:t,next:null},li===null){if(Ha===null)throw Error(l(308));li=e,Ha.dependencies={lanes:0,firstContext:e}}else li=li.next=e;return t}var Dr=null;function Do(e){Dr===null?Dr=[e]:Dr.push(e)}function ic(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Do(t)):(n.next=o.next,o.next=n),t.interleaved=n,Mn(e,r)}function Mn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var or=!1;function _o(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ac(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function On(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function sr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(We&2)!==0){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Mn(e,n)}return o=r.interleaved,o===null?(t.next=t,Do(r)):(t.next=o.next,o.next=t),r.interleaved=t,Mn(e,n)}function Ka(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Vl(e,n)}}function lc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var m={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};c===null?o=c=m:c=c.next=m,n=n.next}while(n!==null);c===null?o=c=t:c=c.next=t}else o=c=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:c,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qa(e,t,n,r){var o=e.updateQueue;or=!1;var c=o.firstBaseUpdate,m=o.lastBaseUpdate,b=o.shared.pending;if(b!==null){o.shared.pending=null;var j=b,A=j.next;j.next=null,m===null?c=A:m.next=A,m=j;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,b=Y.lastBaseUpdate,b!==m&&(b===null?Y.firstBaseUpdate=A:b.next=A,Y.lastBaseUpdate=j))}if(c!==null){var Z=o.baseState;m=0,Y=A=j=null,b=c;do{var q=b.lane,oe=b.eventTime;if((r&q)===q){Y!==null&&(Y=Y.next={eventTime:oe,lane:0,tag:b.tag,payload:b.payload,callback:b.callback,next:null});e:{var pe=e,me=b;switch(q=t,oe=n,me.tag){case 1:if(pe=me.payload,typeof pe=="function"){Z=pe.call(oe,Z,q);break e}Z=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=me.payload,q=typeof pe=="function"?pe.call(oe,Z,q):pe,q==null)break e;Z=B({},Z,q);break e;case 2:or=!0}}b.callback!==null&&b.lane!==0&&(e.flags|=64,q=o.effects,q===null?o.effects=[b]:q.push(b))}else oe={eventTime:oe,lane:q,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Y===null?(A=Y=oe,j=Z):Y=Y.next=oe,m|=q;if(b=b.next,b===null){if(b=o.shared.pending,b===null)break;q=b,b=q.next,q.next=null,o.lastBaseUpdate=q,o.shared.pending=null}}while(!0);if(Y===null&&(j=Z),o.baseState=j,o.firstBaseUpdate=A,o.lastBaseUpdate=Y,t=o.shared.interleaved,t!==null){o=t;do m|=o.lane,o=o.next;while(o!==t)}else c===null&&(o.shared.lanes=0);Lr|=m,e.lanes=m,e.memoizedState=Z}}function oc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(l(191,o));o.call(r)}}}var Wi={},En=ir(Wi),Vi=ir(Wi),Hi=ir(Wi);function _r(e){if(e===Wi)throw Error(l(174));return e}function No(e,t){switch(et(Hi,t),et(Vi,e),et(En,Wi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ht(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ht(t,e)}rt(En),et(En,t)}function si(){rt(En),rt(Vi),rt(Hi)}function sc(e){_r(Hi.current);var t=_r(En.current),n=ht(t,e.type);t!==n&&(et(Vi,e),et(En,n))}function Lo(e){Vi.current===e&&(rt(En),rt(Vi))}var st=ir(0);function Qa(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var To=[];function zo(){for(var e=0;e<To.length;e++)To[e]._workInProgressVersionPrimary=null;To.length=0}var Ga=K.ReactCurrentDispatcher,Fo=K.ReactCurrentBatchConfig,Nr=0,ut=null,kt=null,Rt=null,Ya=!1,Ki=!1,qi=0,qp=0;function Ft(){throw Error(l(321))}function Ao(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!pn(e[n],t[n]))return!1;return!0}function Mo(e,t,n,r,o,c){if(Nr=c,ut=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ga.current=e===null||e.memoizedState===null?Jp:Xp,e=n(r,o),Ki){c=0;do{if(Ki=!1,qi=0,25<=c)throw Error(l(301));c+=1,Rt=kt=null,t.updateQueue=null,Ga.current=Zp,e=n(r,o)}while(Ki)}if(Ga.current=Za,t=kt!==null&&kt.next!==null,Nr=0,Rt=kt=ut=null,Ya=!1,t)throw Error(l(300));return e}function Oo(){var e=qi!==0;return qi=0,e}function Cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?ut.memoizedState=Rt=e:Rt=Rt.next=e,Rt}function ln(){if(kt===null){var e=ut.alternate;e=e!==null?e.memoizedState:null}else e=kt.next;var t=Rt===null?ut.memoizedState:Rt.next;if(t!==null)Rt=t,kt=e;else{if(e===null)throw Error(l(310));kt=e,e={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Rt===null?ut.memoizedState=Rt=e:Rt=Rt.next=e}return Rt}function Qi(e,t){return typeof t=="function"?t(e):t}function $o(e){var t=ln(),n=t.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=e;var r=kt,o=r.baseQueue,c=n.pending;if(c!==null){if(o!==null){var m=o.next;o.next=c.next,c.next=m}r.baseQueue=o=c,n.pending=null}if(o!==null){c=o.next,r=r.baseState;var b=m=null,j=null,A=c;do{var Y=A.lane;if((Nr&Y)===Y)j!==null&&(j=j.next={lane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),r=A.hasEagerState?A.eagerState:e(r,A.action);else{var Z={lane:Y,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null};j===null?(b=j=Z,m=r):j=j.next=Z,ut.lanes|=Y,Lr|=Y}A=A.next}while(A!==null&&A!==c);j===null?m=r:j.next=b,pn(r,t.memoizedState)||(Vt=!0),t.memoizedState=r,t.baseState=m,t.baseQueue=j,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do c=o.lane,ut.lanes|=c,Lr|=c,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Bo(e){var t=ln(),n=t.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,c=t.memoizedState;if(o!==null){n.pending=null;var m=o=o.next;do c=e(c,m.action),m=m.next;while(m!==o);pn(c,t.memoizedState)||(Vt=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),n.lastRenderedState=c}return[c,r]}function uc(){}function cc(e,t){var n=ut,r=ln(),o=t(),c=!pn(r.memoizedState,o);if(c&&(r.memoizedState=o,Vt=!0),r=r.queue,Uo(pc.bind(null,n,r,e),[e]),r.getSnapshot!==t||c||Rt!==null&&Rt.memoizedState.tag&1){if(n.flags|=2048,Gi(9,fc.bind(null,n,r,o,t),void 0,null),It===null)throw Error(l(349));(Nr&30)!==0||dc(n,t,o)}return o}function dc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ut.updateQueue,t===null?(t={lastEffect:null,stores:null},ut.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function fc(e,t,n,r){t.value=n,t.getSnapshot=r,hc(t)&&mc(e)}function pc(e,t,n){return n(function(){hc(t)&&mc(e)})}function hc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!pn(e,n)}catch{return!0}}function mc(e){var t=Mn(e,1);t!==null&&vn(t,e,1,-1)}function gc(e){var t=Cn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:e},t.queue=e,e=e.dispatch=Yp.bind(null,ut,e),[t.memoizedState,e]}function Gi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ut.updateQueue,t===null?(t={lastEffect:null,stores:null},ut.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function yc(){return ln().memoizedState}function Ja(e,t,n,r){var o=Cn();ut.flags|=e,o.memoizedState=Gi(1|t,n,void 0,r===void 0?null:r)}function Xa(e,t,n,r){var o=ln();r=r===void 0?null:r;var c=void 0;if(kt!==null){var m=kt.memoizedState;if(c=m.destroy,r!==null&&Ao(r,m.deps)){o.memoizedState=Gi(t,n,c,r);return}}ut.flags|=e,o.memoizedState=Gi(1|t,n,c,r)}function vc(e,t){return Ja(8390656,8,e,t)}function Uo(e,t){return Xa(2048,8,e,t)}function xc(e,t){return Xa(4,2,e,t)}function wc(e,t){return Xa(4,4,e,t)}function bc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Sc(e,t,n){return n=n!=null?n.concat([e]):null,Xa(4,4,bc.bind(null,t,e),n)}function Wo(){}function kc(e,t){var n=ln();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ec(e,t){var n=ln();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Cc(e,t,n){return(Nr&21)===0?(e.baseState&&(e.baseState=!1,Vt=!0),e.memoizedState=n):(pn(n,t)||(n=tu(),ut.lanes|=n,Lr|=n,e.baseState=!0),t)}function Qp(e,t){var n=Ge;Ge=n!==0&&4>n?n:4,e(!0);var r=Fo.transition;Fo.transition={};try{e(!1),t()}finally{Ge=n,Fo.transition=r}}function jc(){return ln().memoizedState}function Gp(e,t,n){var r=fr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Rc(e))Ic(t,n);else if(n=ic(e,t,n,r),n!==null){var o=$t();vn(n,e,r,o),Pc(n,t,r)}}function Yp(e,t,n){var r=fr(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Rc(e))Ic(t,o);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var m=t.lastRenderedState,b=c(m,n);if(o.hasEagerState=!0,o.eagerState=b,pn(b,m)){var j=t.interleaved;j===null?(o.next=o,Do(t)):(o.next=j.next,j.next=o),t.interleaved=o;return}}catch{}finally{}n=ic(e,t,o,r),n!==null&&(o=$t(),vn(n,e,r,o),Pc(n,t,r))}}function Rc(e){var t=e.alternate;return e===ut||t!==null&&t===ut}function Ic(e,t){Ki=Ya=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Pc(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Vl(e,n)}}var Za={readContext:an,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},Jp={readContext:an,useCallback:function(e,t){return Cn().memoizedState=[e,t===void 0?null:t],e},useContext:an,useEffect:vc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ja(4194308,4,bc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ja(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ja(4,2,e,t)},useMemo:function(e,t){var n=Cn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Cn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gp.bind(null,ut,e),[r.memoizedState,e]},useRef:function(e){var t=Cn();return e={current:e},t.memoizedState=e},useState:gc,useDebugValue:Wo,useDeferredValue:function(e){return Cn().memoizedState=e},useTransition:function(){var e=gc(!1),t=e[0];return e=Qp.bind(null,e[1]),Cn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ut,o=Cn();if(at){if(n===void 0)throw Error(l(407));n=n()}else{if(n=t(),It===null)throw Error(l(349));(Nr&30)!==0||dc(r,t,n)}o.memoizedState=n;var c={value:n,getSnapshot:t};return o.queue=c,vc(pc.bind(null,r,c,e),[e]),r.flags|=2048,Gi(9,fc.bind(null,r,c,n,t),void 0,null),n},useId:function(){var e=Cn(),t=It.identifierPrefix;if(at){var n=An,r=Fn;n=(r&~(1<<32-Tt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=qi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=qp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xp={readContext:an,useCallback:kc,useContext:an,useEffect:Uo,useImperativeHandle:Sc,useInsertionEffect:xc,useLayoutEffect:wc,useMemo:Ec,useReducer:$o,useRef:yc,useState:function(){return $o(Qi)},useDebugValue:Wo,useDeferredValue:function(e){var t=ln();return Cc(t,kt.memoizedState,e)},useTransition:function(){var e=$o(Qi)[0],t=ln().memoizedState;return[e,t]},useMutableSource:uc,useSyncExternalStore:cc,useId:jc,unstable_isNewReconciler:!1},Zp={readContext:an,useCallback:kc,useContext:an,useEffect:Uo,useImperativeHandle:Sc,useInsertionEffect:xc,useLayoutEffect:wc,useMemo:Ec,useReducer:Bo,useRef:yc,useState:function(){return Bo(Qi)},useDebugValue:Wo,useDeferredValue:function(e){var t=ln();return kt===null?t.memoizedState=e:Cc(t,kt.memoizedState,e)},useTransition:function(){var e=Bo(Qi)[0],t=ln().memoizedState;return[e,t]},useMutableSource:uc,useSyncExternalStore:cc,useId:jc,unstable_isNewReconciler:!1};function mn(e,t){if(e&&e.defaultProps){t=B({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Vo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:B({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var el={isMounted:function(e){return(e=e._reactInternals)?Ne(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$t(),o=fr(e),c=On(r,o);c.payload=t,n!=null&&(c.callback=n),t=sr(e,c,o),t!==null&&(vn(t,e,o,r),Ka(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$t(),o=fr(e),c=On(r,o);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=sr(e,c,o),t!==null&&(vn(t,e,o,r),Ka(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$t(),r=fr(e),o=On(n,r);o.tag=2,t!=null&&(o.callback=t),t=sr(e,o,r),t!==null&&(vn(t,e,r,n),Ka(t,e,r))}};function Dc(e,t,n,r,o,c,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,c,m):t.prototype&&t.prototype.isPureReactComponent?!zi(n,r)||!zi(o,c):!0}function _c(e,t,n){var r=!1,o=ar,c=t.contextType;return typeof c=="object"&&c!==null?c=an(c):(o=Wt(t)?Rr:zt.current,r=t.contextTypes,c=(r=r!=null)?ti(e,o):ar),t=new t(n,c),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=el,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=c),t}function Nc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&el.enqueueReplaceState(t,t.state,null)}function Ho(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},_o(e);var c=t.contextType;typeof c=="object"&&c!==null?o.context=an(c):(c=Wt(t)?Rr:zt.current,o.context=ti(e,c)),o.state=e.memoizedState,c=t.getDerivedStateFromProps,typeof c=="function"&&(Vo(e,t,c,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&el.enqueueReplaceState(o,o.state,null),qa(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function ui(e,t){try{var n="",r=t;do n+=G(r),r=r.return;while(r);var o=n}catch(c){o=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:t,stack:o,digest:null}}function Ko(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function qo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var eh=typeof WeakMap=="function"?WeakMap:Map;function Lc(e,t,n){n=On(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ol||(ol=!0,ss=r),qo(e,t)},n}function Tc(e,t,n){n=On(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){qo(e,t)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(n.callback=function(){qo(e,t),typeof r!="function"&&(cr===null?cr=new Set([this]):cr.add(this));var m=t.stack;this.componentDidCatch(t.value,{componentStack:m!==null?m:""})}),n}function zc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new eh;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=hh.bind(null,e,t,n),t.then(e,e))}function Fc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ac(e,t,n,r,o){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=On(-1,1),t.tag=2,sr(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var th=K.ReactCurrentOwner,Vt=!1;function Ot(e,t,n,r){t.child=e===null?rc(t,null,n,r):ai(t,e.child,n,r)}function Mc(e,t,n,r,o){n=n.render;var c=t.ref;return oi(t,o),r=Mo(e,t,n,r,c,o),n=Oo(),e!==null&&!Vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,$n(e,t,o)):(at&&n&&bo(t),t.flags|=1,Ot(e,t,r,o),t.child)}function Oc(e,t,n,r,o){if(e===null){var c=n.type;return typeof c=="function"&&!ms(c)&&c.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=c,$c(e,t,c,r,o)):(e=pl(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,(e.lanes&o)===0){var m=c.memoizedProps;if(n=n.compare,n=n!==null?n:zi,n(m,r)&&e.ref===t.ref)return $n(e,t,o)}return t.flags|=1,e=hr(c,r),e.ref=t.ref,e.return=t,t.child=e}function $c(e,t,n,r,o){if(e!==null){var c=e.memoizedProps;if(zi(c,r)&&e.ref===t.ref)if(Vt=!1,t.pendingProps=r=c,(e.lanes&o)!==0)(e.flags&131072)!==0&&(Vt=!0);else return t.lanes=e.lanes,$n(e,t,o)}return Qo(e,t,n,r,o)}function Bc(e,t,n){var r=t.pendingProps,o=r.children,c=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(di,Xt),Xt|=n;else{if((n&1073741824)===0)return e=c!==null?c.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,et(di,Xt),Xt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=c!==null?c.baseLanes:n,et(di,Xt),Xt|=r}else c!==null?(r=c.baseLanes|n,t.memoizedState=null):r=n,et(di,Xt),Xt|=r;return Ot(e,t,o,n),t.child}function Uc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Qo(e,t,n,r,o){var c=Wt(n)?Rr:zt.current;return c=ti(t,c),oi(t,o),n=Mo(e,t,n,r,c,o),r=Oo(),e!==null&&!Vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,$n(e,t,o)):(at&&r&&bo(t),t.flags|=1,Ot(e,t,n,o),t.child)}function Wc(e,t,n,r,o){if(Wt(n)){var c=!0;Ma(t)}else c=!1;if(oi(t,o),t.stateNode===null)nl(e,t),_c(t,n,r),Ho(t,n,r,o),r=!0;else if(e===null){var m=t.stateNode,b=t.memoizedProps;m.props=b;var j=m.context,A=n.contextType;typeof A=="object"&&A!==null?A=an(A):(A=Wt(n)?Rr:zt.current,A=ti(t,A));var Y=n.getDerivedStateFromProps,Z=typeof Y=="function"||typeof m.getSnapshotBeforeUpdate=="function";Z||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==r||j!==A)&&Nc(t,m,r,A),or=!1;var q=t.memoizedState;m.state=q,qa(t,r,m,o),j=t.memoizedState,b!==r||q!==j||Ut.current||or?(typeof Y=="function"&&(Vo(t,n,Y,r),j=t.memoizedState),(b=or||Dc(t,n,b,r,q,j,A))?(Z||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(t.flags|=4194308)):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=j),m.props=r,m.state=j,m.context=A,r=b):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{m=t.stateNode,ac(e,t),b=t.memoizedProps,A=t.type===t.elementType?b:mn(t.type,b),m.props=A,Z=t.pendingProps,q=m.context,j=n.contextType,typeof j=="object"&&j!==null?j=an(j):(j=Wt(n)?Rr:zt.current,j=ti(t,j));var oe=n.getDerivedStateFromProps;(Y=typeof oe=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==Z||q!==j)&&Nc(t,m,r,j),or=!1,q=t.memoizedState,m.state=q,qa(t,r,m,o);var pe=t.memoizedState;b!==Z||q!==pe||Ut.current||or?(typeof oe=="function"&&(Vo(t,n,oe,r),pe=t.memoizedState),(A=or||Dc(t,n,A,r,q,pe,j)||!1)?(Y||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(r,pe,j),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(r,pe,j)),typeof m.componentDidUpdate=="function"&&(t.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=pe),m.props=r,m.state=pe,m.context=j,r=A):(typeof m.componentDidUpdate!="function"||b===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),r=!1)}return Go(e,t,n,r,c,o)}function Go(e,t,n,r,o,c){Uc(e,t);var m=(t.flags&128)!==0;if(!r&&!m)return o&&Qu(t,n,!1),$n(e,t,c);r=t.stateNode,th.current=t;var b=m&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&m?(t.child=ai(t,e.child,null,c),t.child=ai(t,null,b,c)):Ot(e,t,b,c),t.memoizedState=r.state,o&&Qu(t,n,!0),t.child}function Vc(e){var t=e.stateNode;t.pendingContext?Ku(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ku(e,t.context,!1),No(e,t.containerInfo)}function Hc(e,t,n,r,o){return ii(),Co(o),t.flags|=256,Ot(e,t,n,r),t.child}var Yo={dehydrated:null,treeContext:null,retryLane:0};function Jo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Kc(e,t,n){var r=t.pendingProps,o=st.current,c=!1,m=(t.flags&128)!==0,b;if((b=m)||(b=e!==null&&e.memoizedState===null?!1:(o&2)!==0),b?(c=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),et(st,o&1),e===null)return Eo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(m=r.children,e=r.fallback,c?(r=t.mode,c=t.child,m={mode:"hidden",children:m},(r&1)===0&&c!==null?(c.childLanes=0,c.pendingProps=m):c=hl(m,r,0,null),e=Ar(e,r,n,null),c.return=t,e.return=t,c.sibling=e,t.child=c,t.child.memoizedState=Jo(n),t.memoizedState=Yo,e):Xo(t,m));if(o=e.memoizedState,o!==null&&(b=o.dehydrated,b!==null))return nh(e,t,m,r,b,o,n);if(c){c=r.fallback,m=t.mode,o=e.child,b=o.sibling;var j={mode:"hidden",children:r.children};return(m&1)===0&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=j,t.deletions=null):(r=hr(o,j),r.subtreeFlags=o.subtreeFlags&14680064),b!==null?c=hr(b,c):(c=Ar(c,m,n,null),c.flags|=2),c.return=t,r.return=t,r.sibling=c,t.child=r,r=c,c=t.child,m=e.child.memoizedState,m=m===null?Jo(n):{baseLanes:m.baseLanes|n,cachePool:null,transitions:m.transitions},c.memoizedState=m,c.childLanes=e.childLanes&~n,t.memoizedState=Yo,r}return c=e.child,e=c.sibling,r=hr(c,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Xo(e,t){return t=hl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function tl(e,t,n,r){return r!==null&&Co(r),ai(t,e.child,null,n),e=Xo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function nh(e,t,n,r,o,c,m){if(n)return t.flags&256?(t.flags&=-257,r=Ko(Error(l(422))),tl(e,t,m,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(c=r.fallback,o=t.mode,r=hl({mode:"visible",children:r.children},o,0,null),c=Ar(c,o,m,null),c.flags|=2,r.return=t,c.return=t,r.sibling=c,t.child=r,(t.mode&1)!==0&&ai(t,e.child,null,m),t.child.memoizedState=Jo(m),t.memoizedState=Yo,c);if((t.mode&1)===0)return tl(e,t,m,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var b=r.dgst;return r=b,c=Error(l(419)),r=Ko(c,r,void 0),tl(e,t,m,r)}if(b=(m&e.childLanes)!==0,Vt||b){if(r=It,r!==null){switch(m&-m){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=(o&(r.suspendedLanes|m))!==0?0:o,o!==0&&o!==c.retryLane&&(c.retryLane=o,Mn(e,o),vn(r,e,o,-1))}return hs(),r=Ko(Error(l(421))),tl(e,t,m,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=mh.bind(null,e),o._reactRetry=t,null):(e=c.treeContext,Jt=rr(o.nextSibling),Yt=t,at=!0,hn=null,e!==null&&(nn[rn++]=Fn,nn[rn++]=An,nn[rn++]=Ir,Fn=e.id,An=e.overflow,Ir=t),t=Xo(t,r.children),t.flags|=4096,t)}function qc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Po(e.return,t,n)}function Zo(e,t,n,r,o){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=r,c.tail=n,c.tailMode=o)}function Qc(e,t,n){var r=t.pendingProps,o=r.revealOrder,c=r.tail;if(Ot(e,t,r.children,n),r=st.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qc(e,n,t);else if(e.tag===19)qc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(et(st,r),(t.mode&1)===0)t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Qa(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Zo(t,!1,o,n,c);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Qa(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Zo(t,!0,n,null,c);break;case"together":Zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function nl(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $n(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Lr|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,n=hr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=hr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function rh(e,t,n){switch(t.tag){case 3:Vc(t),ii();break;case 5:sc(t);break;case 1:Wt(t.type)&&Ma(t);break;case 4:No(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;et(Va,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(et(st,st.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?Kc(e,t,n):(et(st,st.current&1),e=$n(e,t,n),e!==null?e.sibling:null);et(st,st.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return Qc(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),et(st,st.current),r)break;return null;case 22:case 23:return t.lanes=0,Bc(e,t,n)}return $n(e,t,n)}var Gc,es,Yc,Jc;Gc=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},es=function(){},Yc=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,_r(En.current);var c=null;switch(n){case"input":o=Ye(e,o),r=Ye(e,r),c=[];break;case"select":o=B({},o,{value:void 0}),r=B({},r,{value:void 0}),c=[];break;case"textarea":o=it(e,o),r=it(e,r),c=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=za)}qn(n,r);var m;n=null;for(A in o)if(!r.hasOwnProperty(A)&&o.hasOwnProperty(A)&&o[A]!=null)if(A==="style"){var b=o[A];for(m in b)b.hasOwnProperty(m)&&(n||(n={}),n[m]="")}else A!=="dangerouslySetInnerHTML"&&A!=="children"&&A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(d.hasOwnProperty(A)?c||(c=[]):(c=c||[]).push(A,null));for(A in r){var j=r[A];if(b=o!=null?o[A]:void 0,r.hasOwnProperty(A)&&j!==b&&(j!=null||b!=null))if(A==="style")if(b){for(m in b)!b.hasOwnProperty(m)||j&&j.hasOwnProperty(m)||(n||(n={}),n[m]="");for(m in j)j.hasOwnProperty(m)&&b[m]!==j[m]&&(n||(n={}),n[m]=j[m])}else n||(c||(c=[]),c.push(A,n)),n=j;else A==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,b=b?b.__html:void 0,j!=null&&b!==j&&(c=c||[]).push(A,j)):A==="children"?typeof j!="string"&&typeof j!="number"||(c=c||[]).push(A,""+j):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&(d.hasOwnProperty(A)?(j!=null&&A==="onScroll"&&nt("scroll",e),c||b===j||(c=[])):(c=c||[]).push(A,j))}n&&(c=c||[]).push("style",n);var A=c;(t.updateQueue=A)&&(t.flags|=4)}},Jc=function(e,t,n,r){n!==r&&(t.flags|=4)};function Yi(e,t){if(!at)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function At(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ih(e,t,n){var r=t.pendingProps;switch(So(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(t),null;case 1:return Wt(t.type)&&Aa(),At(t),null;case 3:return r=t.stateNode,si(),rt(Ut),rt(zt),zo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ua(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,hn!==null&&(ds(hn),hn=null))),es(e,t),At(t),null;case 5:Lo(t);var o=_r(Hi.current);if(n=t.type,e!==null&&t.stateNode!=null)Yc(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(l(166));return At(t),null}if(e=_r(En.current),Ua(t)){r=t.stateNode,n=t.type;var c=t.memoizedProps;switch(r[kn]=t,r[$i]=c,e=(t.mode&1)!==0,n){case"dialog":nt("cancel",r),nt("close",r);break;case"iframe":case"object":case"embed":nt("load",r);break;case"video":case"audio":for(o=0;o<Ai.length;o++)nt(Ai[o],r);break;case"source":nt("error",r);break;case"img":case"image":case"link":nt("error",r),nt("load",r);break;case"details":nt("toggle",r);break;case"input":Be(r,c),nt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!c.multiple},nt("invalid",r);break;case"textarea":lt(r,c),nt("invalid",r)}qn(n,c),o=null;for(var m in c)if(c.hasOwnProperty(m)){var b=c[m];m==="children"?typeof b=="string"?r.textContent!==b&&(c.suppressHydrationWarning!==!0&&Ta(r.textContent,b,e),o=["children",b]):typeof b=="number"&&r.textContent!==""+b&&(c.suppressHydrationWarning!==!0&&Ta(r.textContent,b,e),o=["children",""+b]):d.hasOwnProperty(m)&&b!=null&&m==="onScroll"&&nt("scroll",r)}switch(n){case"input":ie(r),Ce(r,c,!0);break;case"textarea":ie(r),qe(r);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(r.onclick=za)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{m=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=xt(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=m.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=m.createElement(n,{is:r.is}):(e=m.createElement(n),n==="select"&&(m=e,r.multiple?m.multiple=!0:r.size&&(m.size=r.size))):e=m.createElementNS(e,n),e[kn]=t,e[$i]=r,Gc(e,t,!1,!1),t.stateNode=e;e:{switch(m=Vr(n,r),n){case"dialog":nt("cancel",e),nt("close",e),o=r;break;case"iframe":case"object":case"embed":nt("load",e),o=r;break;case"video":case"audio":for(o=0;o<Ai.length;o++)nt(Ai[o],e);o=r;break;case"source":nt("error",e),o=r;break;case"img":case"image":case"link":nt("error",e),nt("load",e),o=r;break;case"details":nt("toggle",e),o=r;break;case"input":Be(e,r),o=Ye(e,r),nt("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=B({},r,{value:void 0}),nt("invalid",e);break;case"textarea":lt(e,r),o=it(e,r),nt("invalid",e);break;default:o=r}qn(n,o),b=o;for(c in b)if(b.hasOwnProperty(c)){var j=b[c];c==="style"?_n(e,j):c==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&Ur(e,j)):c==="children"?typeof j=="string"?(n!=="textarea"||j!=="")&&ot(e,j):typeof j=="number"&&ot(e,""+j):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(d.hasOwnProperty(c)?j!=null&&c==="onScroll"&&nt("scroll",e):j!=null&&L(e,c,j,m))}switch(n){case"input":ie(e),Ce(e,r,!1);break;case"textarea":ie(e),qe(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ee(r.value));break;case"select":e.multiple=!!r.multiple,c=r.value,c!=null?ze(e,!!r.multiple,c,!1):r.defaultValue!=null&&ze(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=za)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return At(t),null;case 6:if(e&&t.stateNode!=null)Jc(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(l(166));if(n=_r(Hi.current),_r(En.current),Ua(t)){if(r=t.stateNode,n=t.memoizedProps,r[kn]=t,(c=r.nodeValue!==n)&&(e=Yt,e!==null))switch(e.tag){case 3:Ta(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ta(r.nodeValue,n,(e.mode&1)!==0)}c&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[kn]=t,t.stateNode=r}return At(t),null;case 13:if(rt(st),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(at&&Jt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)ec(),ii(),t.flags|=98560,c=!1;else if(c=Ua(t),r!==null&&r.dehydrated!==null){if(e===null){if(!c)throw Error(l(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(l(317));c[kn]=t}else ii(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;At(t),c=!1}else hn!==null&&(ds(hn),hn=null),c=!0;if(!c)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(st.current&1)!==0?Et===0&&(Et=3):hs())),t.updateQueue!==null&&(t.flags|=4),At(t),null);case 4:return si(),es(e,t),e===null&&Mi(t.stateNode.containerInfo),At(t),null;case 10:return Io(t.type._context),At(t),null;case 17:return Wt(t.type)&&Aa(),At(t),null;case 19:if(rt(st),c=t.memoizedState,c===null)return At(t),null;if(r=(t.flags&128)!==0,m=c.rendering,m===null)if(r)Yi(c,!1);else{if(Et!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(m=Qa(e),m!==null){for(t.flags|=128,Yi(c,!1),r=m.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)c=n,e=r,c.flags&=14680066,m=c.alternate,m===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=m.childLanes,c.lanes=m.lanes,c.child=m.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=m.memoizedProps,c.memoizedState=m.memoizedState,c.updateQueue=m.updateQueue,c.type=m.type,e=m.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return et(st,st.current&1|2),t.child}e=e.sibling}c.tail!==null&&tt()>fi&&(t.flags|=128,r=!0,Yi(c,!1),t.lanes=4194304)}else{if(!r)if(e=Qa(m),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Yi(c,!0),c.tail===null&&c.tailMode==="hidden"&&!m.alternate&&!at)return At(t),null}else 2*tt()-c.renderingStartTime>fi&&n!==1073741824&&(t.flags|=128,r=!0,Yi(c,!1),t.lanes=4194304);c.isBackwards?(m.sibling=t.child,t.child=m):(n=c.last,n!==null?n.sibling=m:t.child=m,c.last=m)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=tt(),t.sibling=null,n=st.current,et(st,r?n&1|2:n&1),t):(At(t),null);case 22:case 23:return ps(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(Xt&1073741824)!==0&&(At(t),t.subtreeFlags&6&&(t.flags|=8192)):At(t),null;case 24:return null;case 25:return null}throw Error(l(156,t.tag))}function ah(e,t){switch(So(t),t.tag){case 1:return Wt(t.type)&&Aa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return si(),rt(Ut),rt(zt),zo(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Lo(t),null;case 13:if(rt(st),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));ii()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return rt(st),null;case 4:return si(),null;case 10:return Io(t.type._context),null;case 22:case 23:return ps(),null;case 24:return null;default:return null}}var rl=!1,Mt=!1,lh=typeof WeakSet=="function"?WeakSet:Set,ce=null;function ci(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){dt(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){dt(e,t,r)}}var Xc=!1;function oh(e,t){if(po=ka,e=Du(),io(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,c=r.focusNode;r=r.focusOffset;try{n.nodeType,c.nodeType}catch{n=null;break e}var m=0,b=-1,j=-1,A=0,Y=0,Z=e,q=null;t:for(;;){for(var oe;Z!==n||o!==0&&Z.nodeType!==3||(b=m+o),Z!==c||r!==0&&Z.nodeType!==3||(j=m+r),Z.nodeType===3&&(m+=Z.nodeValue.length),(oe=Z.firstChild)!==null;)q=Z,Z=oe;for(;;){if(Z===e)break t;if(q===n&&++A===o&&(b=m),q===c&&++Y===r&&(j=m),(oe=Z.nextSibling)!==null)break;Z=q,q=Z.parentNode}Z=oe}n=b===-1||j===-1?null:{start:b,end:j}}else n=null}n=n||{start:0,end:0}}else n=null;for(ho={focusedElem:e,selectionRange:n},ka=!1,ce=t;ce!==null;)if(t=ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ce=e;else for(;ce!==null;){t=ce;try{var pe=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var me=pe.memoizedProps,yt=pe.memoizedState,N=t.stateNode,I=N.getSnapshotBeforeUpdate(t.elementType===t.type?me:mn(t.type,me),yt);N.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var T=t.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(l(163))}}catch(re){dt(t,t.return,re)}if(e=t.sibling,e!==null){e.return=t.return,ce=e;break}ce=t.return}return pe=Xc,Xc=!1,pe}function Ji(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var c=o.destroy;o.destroy=void 0,c!==void 0&&ts(t,n,c)}o=o.next}while(o!==r)}}function il(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ns(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Zc(e){var t=e.alternate;t!==null&&(e.alternate=null,Zc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[kn],delete t[$i],delete t[vo],delete t[Wp],delete t[Vp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ed(e){return e.tag===5||e.tag===3||e.tag===4}function td(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ed(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rs(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=za));else if(r!==4&&(e=e.child,e!==null))for(rs(e,t,n),e=e.sibling;e!==null;)rs(e,t,n),e=e.sibling}function is(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(is(e,t,n),e=e.sibling;e!==null;)is(e,t,n),e=e.sibling}var Nt=null,gn=!1;function ur(e,t,n){for(n=n.child;n!==null;)nd(e,t,n),n=n.sibling}function nd(e,t,n){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(fn,n)}catch{}switch(n.tag){case 5:Mt||ci(n,t);case 6:var r=Nt,o=gn;Nt=null,ur(e,t,n),Nt=r,gn=o,Nt!==null&&(gn?(e=Nt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Nt.removeChild(n.stateNode));break;case 18:Nt!==null&&(gn?(e=Nt,n=n.stateNode,e.nodeType===8?yo(e.parentNode,n):e.nodeType===1&&yo(e,n),Pi(e)):yo(Nt,n.stateNode));break;case 4:r=Nt,o=gn,Nt=n.stateNode.containerInfo,gn=!0,ur(e,t,n),Nt=r,gn=o;break;case 0:case 11:case 14:case 15:if(!Mt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var c=o,m=c.destroy;c=c.tag,m!==void 0&&((c&2)!==0||(c&4)!==0)&&ts(n,t,m),o=o.next}while(o!==r)}ur(e,t,n);break;case 1:if(!Mt&&(ci(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(b){dt(n,t,b)}ur(e,t,n);break;case 21:ur(e,t,n);break;case 22:n.mode&1?(Mt=(r=Mt)||n.memoizedState!==null,ur(e,t,n),Mt=r):ur(e,t,n);break;default:ur(e,t,n)}}function rd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new lh),t.forEach(function(r){var o=gh.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function yn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var c=e,m=t,b=m;e:for(;b!==null;){switch(b.tag){case 5:Nt=b.stateNode,gn=!1;break e;case 3:Nt=b.stateNode.containerInfo,gn=!0;break e;case 4:Nt=b.stateNode.containerInfo,gn=!0;break e}b=b.return}if(Nt===null)throw Error(l(160));nd(c,m,o),Nt=null,gn=!1;var j=o.alternate;j!==null&&(j.return=null),o.return=null}catch(A){dt(o,t,A)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)id(t,e),t=t.sibling}function id(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yn(t,e),jn(e),r&4){try{Ji(3,e,e.return),il(3,e)}catch(me){dt(e,e.return,me)}try{Ji(5,e,e.return)}catch(me){dt(e,e.return,me)}}break;case 1:yn(t,e),jn(e),r&512&&n!==null&&ci(n,n.return);break;case 5:if(yn(t,e),jn(e),r&512&&n!==null&&ci(n,n.return),e.flags&32){var o=e.stateNode;try{ot(o,"")}catch(me){dt(e,e.return,me)}}if(r&4&&(o=e.stateNode,o!=null)){var c=e.memoizedProps,m=n!==null?n.memoizedProps:c,b=e.type,j=e.updateQueue;if(e.updateQueue=null,j!==null)try{b==="input"&&c.type==="radio"&&c.name!=null&&Ke(o,c),Vr(b,m);var A=Vr(b,c);for(m=0;m<j.length;m+=2){var Y=j[m],Z=j[m+1];Y==="style"?_n(o,Z):Y==="dangerouslySetInnerHTML"?Ur(o,Z):Y==="children"?ot(o,Z):L(o,Y,Z,A)}switch(b){case"input":se(o,c);break;case"textarea":Ue(o,c);break;case"select":var q=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!c.multiple;var oe=c.value;oe!=null?ze(o,!!c.multiple,oe,!1):q!==!!c.multiple&&(c.defaultValue!=null?ze(o,!!c.multiple,c.defaultValue,!0):ze(o,!!c.multiple,c.multiple?[]:"",!1))}o[$i]=c}catch(me){dt(e,e.return,me)}}break;case 6:if(yn(t,e),jn(e),r&4){if(e.stateNode===null)throw Error(l(162));o=e.stateNode,c=e.memoizedProps;try{o.nodeValue=c}catch(me){dt(e,e.return,me)}}break;case 3:if(yn(t,e),jn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Pi(t.containerInfo)}catch(me){dt(e,e.return,me)}break;case 4:yn(t,e),jn(e);break;case 13:yn(t,e),jn(e),o=e.child,o.flags&8192&&(c=o.memoizedState!==null,o.stateNode.isHidden=c,!c||o.alternate!==null&&o.alternate.memoizedState!==null||(os=tt())),r&4&&rd(e);break;case 22:if(Y=n!==null&&n.memoizedState!==null,e.mode&1?(Mt=(A=Mt)||Y,yn(t,e),Mt=A):yn(t,e),jn(e),r&8192){if(A=e.memoizedState!==null,(e.stateNode.isHidden=A)&&!Y&&(e.mode&1)!==0)for(ce=e,Y=e.child;Y!==null;){for(Z=ce=Y;ce!==null;){switch(q=ce,oe=q.child,q.tag){case 0:case 11:case 14:case 15:Ji(4,q,q.return);break;case 1:ci(q,q.return);var pe=q.stateNode;if(typeof pe.componentWillUnmount=="function"){r=q,n=q.return;try{t=r,pe.props=t.memoizedProps,pe.state=t.memoizedState,pe.componentWillUnmount()}catch(me){dt(r,n,me)}}break;case 5:ci(q,q.return);break;case 22:if(q.memoizedState!==null){od(Z);continue}}oe!==null?(oe.return=q,ce=oe):od(Z)}Y=Y.sibling}e:for(Y=null,Z=e;;){if(Z.tag===5){if(Y===null){Y=Z;try{o=Z.stateNode,A?(c=o.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(b=Z.stateNode,j=Z.memoizedProps.style,m=j!=null&&j.hasOwnProperty("display")?j.display:null,b.style.display=Dn("display",m))}catch(me){dt(e,e.return,me)}}}else if(Z.tag===6){if(Y===null)try{Z.stateNode.nodeValue=A?"":Z.memoizedProps}catch(me){dt(e,e.return,me)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===e)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===e)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===e)break e;Y===Z&&(Y=null),Z=Z.return}Y===Z&&(Y=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:yn(t,e),jn(e),r&4&&rd(e);break;case 21:break;default:yn(t,e),jn(e)}}function jn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ed(n)){var r=n;break e}n=n.return}throw Error(l(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(ot(o,""),r.flags&=-33);var c=td(e);is(e,c,o);break;case 3:case 4:var m=r.stateNode.containerInfo,b=td(e);rs(e,b,m);break;default:throw Error(l(161))}}catch(j){dt(e,e.return,j)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function sh(e,t,n){ce=e,ad(e)}function ad(e,t,n){for(var r=(e.mode&1)!==0;ce!==null;){var o=ce,c=o.child;if(o.tag===22&&r){var m=o.memoizedState!==null||rl;if(!m){var b=o.alternate,j=b!==null&&b.memoizedState!==null||Mt;b=rl;var A=Mt;if(rl=m,(Mt=j)&&!A)for(ce=o;ce!==null;)m=ce,j=m.child,m.tag===22&&m.memoizedState!==null?sd(o):j!==null?(j.return=m,ce=j):sd(o);for(;c!==null;)ce=c,ad(c),c=c.sibling;ce=o,rl=b,Mt=A}ld(e)}else(o.subtreeFlags&8772)!==0&&c!==null?(c.return=o,ce=c):ld(e)}}function ld(e){for(;ce!==null;){var t=ce;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Mt||il(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Mt)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:mn(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var c=t.updateQueue;c!==null&&oc(t,c,r);break;case 3:var m=t.updateQueue;if(m!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}oc(t,m,n)}break;case 5:var b=t.stateNode;if(n===null&&t.flags&4){n=b;var j=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&n.focus();break;case"img":j.src&&(n.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var A=t.alternate;if(A!==null){var Y=A.memoizedState;if(Y!==null){var Z=Y.dehydrated;Z!==null&&Pi(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(l(163))}Mt||t.flags&512&&ns(t)}catch(q){dt(t,t.return,q)}}if(t===e){ce=null;break}if(n=t.sibling,n!==null){n.return=t.return,ce=n;break}ce=t.return}}function od(e){for(;ce!==null;){var t=ce;if(t===e){ce=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ce=n;break}ce=t.return}}function sd(e){for(;ce!==null;){var t=ce;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(j){dt(t,n,j)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(j){dt(t,o,j)}}var c=t.return;try{ns(t)}catch(j){dt(t,c,j)}break;case 5:var m=t.return;try{ns(t)}catch(j){dt(t,m,j)}}}catch(j){dt(t,t.return,j)}if(t===e){ce=null;break}var b=t.sibling;if(b!==null){b.return=t.return,ce=b;break}ce=t.return}}var uh=Math.ceil,al=K.ReactCurrentDispatcher,as=K.ReactCurrentOwner,on=K.ReactCurrentBatchConfig,We=0,It=null,wt=null,Lt=0,Xt=0,di=ir(0),Et=0,Xi=null,Lr=0,ll=0,ls=0,Zi=null,Ht=null,os=0,fi=1/0,Bn=null,ol=!1,ss=null,cr=null,sl=!1,dr=null,ul=0,ea=0,us=null,cl=-1,dl=0;function $t(){return(We&6)!==0?tt():cl!==-1?cl:cl=tt()}function fr(e){return(e.mode&1)===0?1:(We&2)!==0&&Lt!==0?Lt&-Lt:Kp.transition!==null?(dl===0&&(dl=tu()),dl):(e=Ge,e!==0||(e=window.event,e=e===void 0?16:cu(e.type)),e)}function vn(e,t,n,r){if(50<ea)throw ea=0,us=null,Error(l(185));Ei(e,n,r),((We&2)===0||e!==It)&&(e===It&&((We&2)===0&&(ll|=n),Et===4&&pr(e,Lt)),Kt(e,r),n===1&&We===0&&(t.mode&1)===0&&(fi=tt()+500,Oa&&lr()))}function Kt(e,t){var n=e.callbackNode;Kf(e,t);var r=wa(e,e===It?Lt:0);if(r===0)n!==null&&Yn(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Yn(n),t===1)e.tag===0?Hp(cd.bind(null,e)):Gu(cd.bind(null,e)),Bp(function(){(We&6)===0&&lr()}),n=null;else{switch(nu(r)){case 1:n=dn;break;case 4:n=Cr;break;case 16:n=Ln;break;case 536870912:n=St;break;default:n=Ln}n=vd(n,ud.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ud(e,t){if(cl=-1,dl=0,(We&6)!==0)throw Error(l(327));var n=e.callbackNode;if(pi()&&e.callbackNode!==n)return null;var r=wa(e,e===It?Lt:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=fl(e,r);else{t=r;var o=We;We|=2;var c=fd();(It!==e||Lt!==t)&&(Bn=null,fi=tt()+500,zr(e,t));do try{fh();break}catch(b){dd(e,b)}while(!0);Ro(),al.current=c,We=o,wt!==null?t=0:(It=null,Lt=0,t=Et)}if(t!==0){if(t===2&&(o=Ul(e),o!==0&&(r=o,t=cs(e,o))),t===1)throw n=Xi,zr(e,0),pr(e,r),Kt(e,tt()),n;if(t===6)pr(e,r);else{if(o=e.current.alternate,(r&30)===0&&!ch(o)&&(t=fl(e,r),t===2&&(c=Ul(e),c!==0&&(r=c,t=cs(e,c))),t===1))throw n=Xi,zr(e,0),pr(e,r),Kt(e,tt()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(l(345));case 2:Fr(e,Ht,Bn);break;case 3:if(pr(e,r),(r&130023424)===r&&(t=os+500-tt(),10<t)){if(wa(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){$t(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=go(Fr.bind(null,e,Ht,Bn),t);break}Fr(e,Ht,Bn);break;case 4:if(pr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var m=31-Tt(r);c=1<<m,m=t[m],m>o&&(o=m),r&=~c}if(r=o,r=tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*uh(r/1960))-r,10<r){e.timeoutHandle=go(Fr.bind(null,e,Ht,Bn),r);break}Fr(e,Ht,Bn);break;case 5:Fr(e,Ht,Bn);break;default:throw Error(l(329))}}}return Kt(e,tt()),e.callbackNode===n?ud.bind(null,e):null}function cs(e,t){var n=Zi;return e.current.memoizedState.isDehydrated&&(zr(e,t).flags|=256),e=fl(e,t),e!==2&&(t=Ht,Ht=n,t!==null&&ds(t)),e}function ds(e){Ht===null?Ht=e:Ht.push.apply(Ht,e)}function ch(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],c=o.getSnapshot;o=o.value;try{if(!pn(c(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function pr(e,t){for(t&=~ls,t&=~ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Tt(t),r=1<<n;e[n]=-1,t&=~r}}function cd(e){if((We&6)!==0)throw Error(l(327));pi();var t=wa(e,0);if((t&1)===0)return Kt(e,tt()),null;var n=fl(e,t);if(e.tag!==0&&n===2){var r=Ul(e);r!==0&&(t=r,n=cs(e,r))}if(n===1)throw n=Xi,zr(e,0),pr(e,t),Kt(e,tt()),n;if(n===6)throw Error(l(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Fr(e,Ht,Bn),Kt(e,tt()),null}function fs(e,t){var n=We;We|=1;try{return e(t)}finally{We=n,We===0&&(fi=tt()+500,Oa&&lr())}}function Tr(e){dr!==null&&dr.tag===0&&(We&6)===0&&pi();var t=We;We|=1;var n=on.transition,r=Ge;try{if(on.transition=null,Ge=1,e)return e()}finally{Ge=r,on.transition=n,We=t,(We&6)===0&&lr()}}function ps(){Xt=di.current,rt(di)}function zr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,$p(n)),wt!==null)for(n=wt.return;n!==null;){var r=n;switch(So(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Aa();break;case 3:si(),rt(Ut),rt(zt),zo();break;case 5:Lo(r);break;case 4:si();break;case 13:rt(st);break;case 19:rt(st);break;case 10:Io(r.type._context);break;case 22:case 23:ps()}n=n.return}if(It=e,wt=e=hr(e.current,null),Lt=Xt=t,Et=0,Xi=null,ls=ll=Lr=0,Ht=Zi=null,Dr!==null){for(t=0;t<Dr.length;t++)if(n=Dr[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,c=n.pending;if(c!==null){var m=c.next;c.next=o,r.next=m}n.pending=r}Dr=null}return e}function dd(e,t){do{var n=wt;try{if(Ro(),Ga.current=Za,Ya){for(var r=ut.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Ya=!1}if(Nr=0,Rt=kt=ut=null,Ki=!1,qi=0,as.current=null,n===null||n.return===null){Et=1,Xi=t,wt=null;break}e:{var c=e,m=n.return,b=n,j=t;if(t=Lt,b.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var A=j,Y=b,Z=Y.tag;if((Y.mode&1)===0&&(Z===0||Z===11||Z===15)){var q=Y.alternate;q?(Y.updateQueue=q.updateQueue,Y.memoizedState=q.memoizedState,Y.lanes=q.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var oe=Fc(m);if(oe!==null){oe.flags&=-257,Ac(oe,m,b,c,t),oe.mode&1&&zc(c,A,t),t=oe,j=A;var pe=t.updateQueue;if(pe===null){var me=new Set;me.add(j),t.updateQueue=me}else pe.add(j);break e}else{if((t&1)===0){zc(c,A,t),hs();break e}j=Error(l(426))}}else if(at&&b.mode&1){var yt=Fc(m);if(yt!==null){(yt.flags&65536)===0&&(yt.flags|=256),Ac(yt,m,b,c,t),Co(ui(j,b));break e}}c=j=ui(j,b),Et!==4&&(Et=2),Zi===null?Zi=[c]:Zi.push(c),c=m;do{switch(c.tag){case 3:c.flags|=65536,t&=-t,c.lanes|=t;var N=Lc(c,j,t);lc(c,N);break e;case 1:b=j;var I=c.type,T=c.stateNode;if((c.flags&128)===0&&(typeof I.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(cr===null||!cr.has(T)))){c.flags|=65536,t&=-t,c.lanes|=t;var re=Tc(c,b,t);lc(c,re);break e}}c=c.return}while(c!==null)}hd(n)}catch(ye){t=ye,wt===n&&n!==null&&(wt=n=n.return);continue}break}while(!0)}function fd(){var e=al.current;return al.current=Za,e===null?Za:e}function hs(){(Et===0||Et===3||Et===2)&&(Et=4),It===null||(Lr&268435455)===0&&(ll&268435455)===0||pr(It,Lt)}function fl(e,t){var n=We;We|=2;var r=fd();(It!==e||Lt!==t)&&(Bn=null,zr(e,t));do try{dh();break}catch(o){dd(e,o)}while(!0);if(Ro(),We=n,al.current=r,wt!==null)throw Error(l(261));return It=null,Lt=0,Et}function dh(){for(;wt!==null;)pd(wt)}function fh(){for(;wt!==null&&!Sn();)pd(wt)}function pd(e){var t=yd(e.alternate,e,Xt);e.memoizedProps=e.pendingProps,t===null?hd(e):wt=t,as.current=null}function hd(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=ih(n,t,Xt),n!==null){wt=n;return}}else{if(n=ah(n,t),n!==null){n.flags&=32767,wt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Et=6,wt=null;return}}if(t=t.sibling,t!==null){wt=t;return}wt=t=e}while(t!==null);Et===0&&(Et=5)}function Fr(e,t,n){var r=Ge,o=on.transition;try{on.transition=null,Ge=1,ph(e,t,n,r)}finally{on.transition=o,Ge=r}return null}function ph(e,t,n,r){do pi();while(dr!==null);if((We&6)!==0)throw Error(l(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(l(177));e.callbackNode=null,e.callbackPriority=0;var c=n.lanes|n.childLanes;if(qf(e,c),e===It&&(wt=It=null,Lt=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||sl||(sl=!0,vd(Ln,function(){return pi(),null})),c=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||c){c=on.transition,on.transition=null;var m=Ge;Ge=1;var b=We;We|=4,as.current=null,oh(e,n),id(n,e),Lp(ho),ka=!!po,ho=po=null,e.current=n,sh(n),tn(),We=b,Ge=m,on.transition=c}else e.current=n;if(sl&&(sl=!1,dr=e,ul=o),c=e.pendingLanes,c===0&&(cr=null),gt(n.stateNode),Kt(e,tt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(ol)throw ol=!1,e=ss,ss=null,e;return(ul&1)!==0&&e.tag!==0&&pi(),c=e.pendingLanes,(c&1)!==0?e===us?ea++:(ea=0,us=e):ea=0,lr(),null}function pi(){if(dr!==null){var e=nu(ul),t=on.transition,n=Ge;try{if(on.transition=null,Ge=16>e?16:e,dr===null)var r=!1;else{if(e=dr,dr=null,ul=0,(We&6)!==0)throw Error(l(331));var o=We;for(We|=4,ce=e.current;ce!==null;){var c=ce,m=c.child;if((ce.flags&16)!==0){var b=c.deletions;if(b!==null){for(var j=0;j<b.length;j++){var A=b[j];for(ce=A;ce!==null;){var Y=ce;switch(Y.tag){case 0:case 11:case 15:Ji(8,Y,c)}var Z=Y.child;if(Z!==null)Z.return=Y,ce=Z;else for(;ce!==null;){Y=ce;var q=Y.sibling,oe=Y.return;if(Zc(Y),Y===A){ce=null;break}if(q!==null){q.return=oe,ce=q;break}ce=oe}}}var pe=c.alternate;if(pe!==null){var me=pe.child;if(me!==null){pe.child=null;do{var yt=me.sibling;me.sibling=null,me=yt}while(me!==null)}}ce=c}}if((c.subtreeFlags&2064)!==0&&m!==null)m.return=c,ce=m;else e:for(;ce!==null;){if(c=ce,(c.flags&2048)!==0)switch(c.tag){case 0:case 11:case 15:Ji(9,c,c.return)}var N=c.sibling;if(N!==null){N.return=c.return,ce=N;break e}ce=c.return}}var I=e.current;for(ce=I;ce!==null;){m=ce;var T=m.child;if((m.subtreeFlags&2064)!==0&&T!==null)T.return=m,ce=T;else e:for(m=I;ce!==null;){if(b=ce,(b.flags&2048)!==0)try{switch(b.tag){case 0:case 11:case 15:il(9,b)}}catch(ye){dt(b,b.return,ye)}if(b===m){ce=null;break e}var re=b.sibling;if(re!==null){re.return=b.return,ce=re;break e}ce=b.return}}if(We=o,lr(),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(fn,e)}catch{}r=!0}return r}finally{Ge=n,on.transition=t}}return!1}function md(e,t,n){t=ui(n,t),t=Lc(e,t,1),e=sr(e,t,1),t=$t(),e!==null&&(Ei(e,1,t),Kt(e,t))}function dt(e,t,n){if(e.tag===3)md(e,e,n);else for(;t!==null;){if(t.tag===3){md(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(cr===null||!cr.has(r))){e=ui(n,e),e=Tc(t,e,1),t=sr(t,e,1),e=$t(),t!==null&&(Ei(t,1,e),Kt(t,e));break}}t=t.return}}function hh(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=$t(),e.pingedLanes|=e.suspendedLanes&n,It===e&&(Lt&n)===n&&(Et===4||Et===3&&(Lt&130023424)===Lt&&500>tt()-os?zr(e,0):ls|=n),Kt(e,t)}function gd(e,t){t===0&&((e.mode&1)===0?t=1:(t=xa,xa<<=1,(xa&130023424)===0&&(xa=4194304)));var n=$t();e=Mn(e,t),e!==null&&(Ei(e,t,n),Kt(e,n))}function mh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),gd(e,n)}function gh(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(l(314))}r!==null&&r.delete(t),gd(e,n)}var yd;yd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ut.current)Vt=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return Vt=!1,rh(e,t,n);Vt=(e.flags&131072)!==0}else Vt=!1,at&&(t.flags&1048576)!==0&&Yu(t,Ba,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;nl(e,t),e=t.pendingProps;var o=ti(t,zt.current);oi(t,n),o=Mo(null,t,r,e,o,n);var c=Oo();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Wt(r)?(c=!0,Ma(t)):c=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,_o(t),o.updater=el,t.stateNode=o,o._reactInternals=t,Ho(t,r,e,n),t=Go(null,t,r,!0,c,n)):(t.tag=0,at&&c&&bo(t),Ot(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(nl(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=vh(r),e=mn(r,e),o){case 0:t=Qo(null,t,r,e,n);break e;case 1:t=Wc(null,t,r,e,n);break e;case 11:t=Mc(null,t,r,e,n);break e;case 14:t=Oc(null,t,r,mn(r.type,e),n);break e}throw Error(l(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:mn(r,o),Qo(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:mn(r,o),Wc(e,t,r,o,n);case 3:e:{if(Vc(t),e===null)throw Error(l(387));r=t.pendingProps,c=t.memoizedState,o=c.element,ac(e,t),qa(t,r,null,n);var m=t.memoizedState;if(r=m.element,c.isDehydrated)if(c={element:r,isDehydrated:!1,cache:m.cache,pendingSuspenseBoundaries:m.pendingSuspenseBoundaries,transitions:m.transitions},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){o=ui(Error(l(423)),t),t=Hc(e,t,r,n,o);break e}else if(r!==o){o=ui(Error(l(424)),t),t=Hc(e,t,r,n,o);break e}else for(Jt=rr(t.stateNode.containerInfo.firstChild),Yt=t,at=!0,hn=null,n=rc(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ii(),r===o){t=$n(e,t,n);break e}Ot(e,t,r,n)}t=t.child}return t;case 5:return sc(t),e===null&&Eo(t),r=t.type,o=t.pendingProps,c=e!==null?e.memoizedProps:null,m=o.children,mo(r,o)?m=null:c!==null&&mo(r,c)&&(t.flags|=32),Uc(e,t),Ot(e,t,m,n),t.child;case 6:return e===null&&Eo(t),null;case 13:return Kc(e,t,n);case 4:return No(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ai(t,null,r,n):Ot(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:mn(r,o),Mc(e,t,r,o,n);case 7:return Ot(e,t,t.pendingProps,n),t.child;case 8:return Ot(e,t,t.pendingProps.children,n),t.child;case 12:return Ot(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,c=t.memoizedProps,m=o.value,et(Va,r._currentValue),r._currentValue=m,c!==null)if(pn(c.value,m)){if(c.children===o.children&&!Ut.current){t=$n(e,t,n);break e}}else for(c=t.child,c!==null&&(c.return=t);c!==null;){var b=c.dependencies;if(b!==null){m=c.child;for(var j=b.firstContext;j!==null;){if(j.context===r){if(c.tag===1){j=On(-1,n&-n),j.tag=2;var A=c.updateQueue;if(A!==null){A=A.shared;var Y=A.pending;Y===null?j.next=j:(j.next=Y.next,Y.next=j),A.pending=j}}c.lanes|=n,j=c.alternate,j!==null&&(j.lanes|=n),Po(c.return,n,t),b.lanes|=n;break}j=j.next}}else if(c.tag===10)m=c.type===t.type?null:c.child;else if(c.tag===18){if(m=c.return,m===null)throw Error(l(341));m.lanes|=n,b=m.alternate,b!==null&&(b.lanes|=n),Po(m,n,t),m=c.sibling}else m=c.child;if(m!==null)m.return=c;else for(m=c;m!==null;){if(m===t){m=null;break}if(c=m.sibling,c!==null){c.return=m.return,m=c;break}m=m.return}c=m}Ot(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,oi(t,n),o=an(o),r=r(o),t.flags|=1,Ot(e,t,r,n),t.child;case 14:return r=t.type,o=mn(r,t.pendingProps),o=mn(r.type,o),Oc(e,t,r,o,n);case 15:return $c(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:mn(r,o),nl(e,t),t.tag=1,Wt(r)?(e=!0,Ma(t)):e=!1,oi(t,n),_c(t,r,o),Ho(t,r,o,n),Go(null,t,r,!0,e,n);case 19:return Qc(e,t,n);case 22:return Bc(e,t,n)}throw Error(l(156,t.tag))};function vd(e,t){return bn(e,t)}function yh(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(e,t,n,r){return new yh(e,t,n,r)}function ms(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vh(e){if(typeof e=="function")return ms(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Se)return 11;if(e===Fe)return 14}return 2}function hr(e,t){var n=e.alternate;return n===null?(n=sn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function pl(e,t,n,r,o,c){var m=2;if(r=e,typeof e=="function")ms(e)&&(m=1);else if(typeof e=="string")m=5;else e:switch(e){case V:return Ar(n.children,o,c,t);case J:m=8,o|=8;break;case Q:return e=sn(12,n,t,o|2),e.elementType=Q,e.lanes=c,e;case ue:return e=sn(13,n,t,o),e.elementType=ue,e.lanes=c,e;case Ie:return e=sn(19,n,t,o),e.elementType=Ie,e.lanes=c,e;case ke:return hl(n,o,c,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case W:m=10;break e;case te:m=9;break e;case Se:m=11;break e;case Fe:m=14;break e;case Le:m=16,r=null;break e}throw Error(l(130,e==null?e:typeof e,""))}return t=sn(m,n,t,o),t.elementType=e,t.type=r,t.lanes=c,t}function Ar(e,t,n,r){return e=sn(7,e,r,t),e.lanes=n,e}function hl(e,t,n,r){return e=sn(22,e,r,t),e.elementType=ke,e.lanes=n,e.stateNode={isHidden:!1},e}function gs(e,t,n){return e=sn(6,e,null,t),e.lanes=n,e}function ys(e,t,n){return t=sn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function xh(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wl(0),this.expirationTimes=Wl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wl(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function vs(e,t,n,r,o,c,m,b,j){return e=new xh(e,t,n,b,j),t===1?(t=1,c===!0&&(t|=8)):t=0,c=sn(3,null,null,t),e.current=c,c.stateNode=e,c.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_o(c),e}function wh(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:k,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function xd(e){if(!e)return ar;e=e._reactInternals;e:{if(Ne(e)!==e||e.tag!==1)throw Error(l(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Wt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(l(171))}if(e.tag===1){var n=e.type;if(Wt(n))return qu(e,n,t)}return t}function wd(e,t,n,r,o,c,m,b,j){return e=vs(n,r,!0,e,o,c,m,b,j),e.context=xd(null),n=e.current,r=$t(),o=fr(n),c=On(r,o),c.callback=t??null,sr(n,c,o),e.current.lanes=o,Ei(e,o,r),Kt(e,r),e}function ml(e,t,n,r){var o=t.current,c=$t(),m=fr(o);return n=xd(n),t.context===null?t.context=n:t.pendingContext=n,t=On(c,m),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=sr(o,t,m),e!==null&&(vn(e,o,m,c),Ka(e,o,m)),m}function gl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function xs(e,t){bd(e,t),(e=e.alternate)&&bd(e,t)}function bh(){return null}var Sd=typeof reportError=="function"?reportError:function(e){console.error(e)};function ws(e){this._internalRoot=e}yl.prototype.render=ws.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));ml(e,t,null,null)},yl.prototype.unmount=ws.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Tr(function(){ml(null,e,null,null)}),t[Tn]=null}};function yl(e){this._internalRoot=e}yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=au();e={blockedOn:null,target:e,priority:t};for(var n=0;n<er.length&&t!==0&&t<er[n].priority;n++);er.splice(n,0,e),n===0&&su(e)}};function bs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function kd(){}function Sh(e,t,n,r,o){if(o){if(typeof r=="function"){var c=r;r=function(){var A=gl(m);c.call(A)}}var m=wd(t,r,e,0,null,!1,!1,"",kd);return e._reactRootContainer=m,e[Tn]=m.current,Mi(e.nodeType===8?e.parentNode:e),Tr(),m}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var b=r;r=function(){var A=gl(j);b.call(A)}}var j=vs(e,0,!1,null,null,!1,!1,"",kd);return e._reactRootContainer=j,e[Tn]=j.current,Mi(e.nodeType===8?e.parentNode:e),Tr(function(){ml(t,j,n,r)}),j}function xl(e,t,n,r,o){var c=n._reactRootContainer;if(c){var m=c;if(typeof o=="function"){var b=o;o=function(){var j=gl(m);b.call(j)}}ml(t,m,e,o)}else m=Sh(n,t,e,o,r);return gl(m)}ru=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ki(t.pendingLanes);n!==0&&(Vl(t,n|1),Kt(t,tt()),(We&6)===0&&(fi=tt()+500,lr()))}break;case 13:Tr(function(){var r=Mn(e,1);if(r!==null){var o=$t();vn(r,e,1,o)}}),xs(e,1)}},Hl=function(e){if(e.tag===13){var t=Mn(e,134217728);if(t!==null){var n=$t();vn(t,e,134217728,n)}xs(e,134217728)}},iu=function(e){if(e.tag===13){var t=fr(e),n=Mn(e,t);if(n!==null){var r=$t();vn(n,e,t,r)}xs(e,t)}},au=function(){return Ge},lu=function(e,t){var n=Ge;try{return Ge=e,t()}finally{Ge=n}},br=function(e,t,n){switch(t){case"input":if(se(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Fa(r);if(!o)throw Error(l(90));Pe(r),se(r,o)}}}break;case"textarea":Ue(e,n);break;case"select":t=n.value,t!=null&&ze(e,!!n.multiple,t,!1)}},kr=fs,ga=Tr;var kh={usingClientEntryPoint:!1,Events:[Bi,Zr,Fa,bi,Sr,fs]},ta={findFiberByHostInstance:jr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Eh={bundleType:ta.bundleType,version:ta.version,rendererPackageName:ta.rendererPackageName,rendererConfig:ta.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ze(e),e===null?null:e.stateNode},findFiberByHostInstance:ta.findFiberByHostInstance||bh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{fn=wl.inject(Eh),jt=wl}catch{}}return qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kh,qt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bs(t))throw Error(l(200));return wh(e,t,null,n)},qt.createRoot=function(e,t){if(!bs(e))throw Error(l(299));var n=!1,r="",o=Sd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=vs(e,1,!1,null,null,n,!1,r,o),e[Tn]=t.current,Mi(e.nodeType===8?e.parentNode:e),new ws(t)},qt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=Ze(t),e=e===null?null:e.stateNode,e},qt.flushSync=function(e){return Tr(e)},qt.hydrate=function(e,t,n){if(!vl(t))throw Error(l(200));return xl(null,e,t,!0,n)},qt.hydrateRoot=function(e,t,n){if(!bs(e))throw Error(l(405));var r=n!=null&&n.hydratedSources||null,o=!1,c="",m=Sd;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(m=n.onRecoverableError)),t=wd(t,null,e,1,n??null,o,!1,c,m),e[Tn]=t.current,Mi(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new yl(t)},qt.render=function(e,t,n){if(!vl(t))throw Error(l(200));return xl(null,e,t,!1,n)},qt.unmountComponentAtNode=function(e){if(!vl(e))throw Error(l(40));return e._reactRootContainer?(Tr(function(){xl(null,null,e,!1,function(){e._reactRootContainer=null,e[Tn]=null})}),!0):!1},qt.unstable_batchedUpdates=fs,qt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!vl(n))throw Error(l(200));if(e==null||e._reactInternals===void 0)throw Error(l(38));return xl(e,t,n,!1,r)},qt.version="18.3.1-next-f1338f8080-20240426",qt}var _d;function sf(){if(_d)return Es.exports;_d=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(a){console.error(a)}}return i(),Es.exports=Lh(),Es.exports}var Nd;function Th(){if(Nd)return bl;Nd=1;var i=sf();return bl.createRoot=i.createRoot,bl.hydrateRoot=i.hydrateRoot,bl}var zh=Th();const Fh=of(zh);/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var uf=i=>{throw TypeError(i)},Ah=(i,a,l)=>a.has(i)||uf("Cannot "+l),Rs=(i,a,l)=>(Ah(i,a,"read from private field"),l?l.call(i):a.get(i)),Mh=(i,a,l)=>a.has(i)?uf("Cannot add the same private member more than once"):a instanceof WeakSet?a.add(i):a.set(i,l),Ld="popstate";function Oh(i={}){function a(d,f){let{pathname:p="/",search:g="",hash:h=""}=Hn(d.location.hash.substring(1));return!p.startsWith("/")&&!p.startsWith(".")&&(p="/"+p),sa("",{pathname:p,search:g,hash:h},f.state&&f.state.usr||null,f.state&&f.state.key||"default")}function l(d,f){let p=d.document.querySelector("base"),g="";if(p&&p.getAttribute("href")){let h=d.location.href,v=h.indexOf("#");g=v===-1?h:h.slice(0,v)}return g+"#"+(typeof f=="string"?f:xr(f))}function u(d,f){vt(d.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(f)})`)}return Bh(a,l,u,i)}function Me(i,a){if(i===!1||i===null||typeof i>"u")throw new Error(a)}function vt(i,a){if(!i){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function $h(){return Math.random().toString(36).substring(2,10)}function Td(i,a){return{usr:i.state,key:i.key,idx:a}}function sa(i,a,l=null,u){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof a=="string"?Hn(a):a,state:l,key:a&&a.key||u||$h()}}function xr({pathname:i="/",search:a="",hash:l=""}){return a&&a!=="?"&&(i+=a.charAt(0)==="?"?a:"?"+a),l&&l!=="#"&&(i+=l.charAt(0)==="#"?l:"#"+l),i}function Hn(i){let a={};if(i){let l=i.indexOf("#");l>=0&&(a.hash=i.substring(l),i=i.substring(0,l));let u=i.indexOf("?");u>=0&&(a.search=i.substring(u),i=i.substring(0,u)),i&&(a.pathname=i)}return a}function Bh(i,a,l,u={}){let{window:d=document.defaultView,v5Compat:f=!1}=u,p=d.history,g="POP",h=null,v=y();v==null&&(v=0,p.replaceState({...p.state,idx:v},""));function y(){return(p.state||{idx:null}).idx}function x(){g="POP";let D=y(),H=D==null?null:D-v;v=D,h&&h({action:g,location:F.location,delta:H})}function S(D,H){g="PUSH";let O=sa(F.location,D,H);l&&l(O,D),v=y()+1;let L=Td(O,v),K=F.createHref(O);try{p.pushState(L,"",K)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;d.location.assign(K)}f&&h&&h({action:g,location:F.location,delta:1})}function w(D,H){g="REPLACE";let O=sa(F.location,D,H);l&&l(O,D),v=y();let L=Td(O,v),K=F.createHref(O);p.replaceState(L,"",K),f&&h&&h({action:g,location:F.location,delta:0})}function _(D){return cf(D)}let F={get action(){return g},get location(){return i(d,p)},listen(D){if(h)throw new Error("A history only accepts one active listener");return d.addEventListener(Ld,x),h=D,()=>{d.removeEventListener(Ld,x),h=null}},createHref(D){return a(d,D)},createURL:_,encodeLocation(D){let H=_(D);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:S,replace:w,go(D){return p.go(D)}};return F}function cf(i,a=!1){let l="http://localhost";typeof window<"u"&&(l=window.location.origin!=="null"?window.location.origin:window.location.href),Me(l,"No window.location.(origin|href) available to create URL");let u=typeof i=="string"?i:xr(i);return u=u.replace(/ $/,"%20"),!a&&u.startsWith("//")&&(u=l+u),new URL(u,l)}var la,zd=class{constructor(i){if(Mh(this,la,new Map),i)for(let[a,l]of i)this.set(a,l)}get(i){if(Rs(this,la).has(i))return Rs(this,la).get(i);if(i.defaultValue!==void 0)return i.defaultValue;throw new Error("No value found for context")}set(i,a){Rs(this,la).set(i,a)}};la=new WeakMap;var Uh=new Set(["lazy","caseSensitive","path","id","index","children"]);function Wh(i){return Uh.has(i)}var Vh=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function Hh(i){return Vh.has(i)}function Kh(i){return i.index===!0}function ua(i,a,l=[],u={},d=!1){return i.map((f,p)=>{let g=[...l,String(p)],h=typeof f.id=="string"?f.id:g.join("-");if(Me(f.index!==!0||!f.children,"Cannot specify children on an index route"),Me(d||!u[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),Kh(f)){let v={...f,...a(f),id:h};return u[h]=v,v}else{let v={...f,...a(f),id:h,children:void 0};return u[h]=v,f.children&&(v.children=ua(f.children,a,g,u,d)),v}})}function gr(i,a,l="/"){return jl(i,a,l,!1)}function jl(i,a,l,u){let d=typeof a=="string"?Hn(a):a,f=cn(d.pathname||"/",l);if(f==null)return null;let p=df(i);Qh(p);let g=null;for(let h=0;g==null&&h<p.length;++h){let v=am(f);g=rm(p[h],v,u)}return g}function qh(i,a){let{route:l,pathname:u,params:d}=i;return{id:l.id,pathname:u,params:d,data:a[l.id],loaderData:a[l.id],handle:l.handle}}function df(i,a=[],l=[],u="",d=!1){let f=(p,g,h=d,v)=>{let y={relativePath:v===void 0?p.path||"":v,caseSensitive:p.caseSensitive===!0,childrenIndex:g,route:p};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(u)&&h)return;Me(y.relativePath.startsWith(u),`Absolute route path "${y.relativePath}" nested under path "${u}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(u.length)}let x=Rn([u,y.relativePath]),S=l.concat(y);p.children&&p.children.length>0&&(Me(p.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),df(p.children,a,S,x,h)),!(p.path==null&&!p.index)&&a.push({path:x,score:tm(x,p.index),routesMeta:S})};return i.forEach((p,g)=>{var h;if(p.path===""||!((h=p.path)!=null&&h.includes("?")))f(p,g);else for(let v of ff(p.path))f(p,g,!0,v)}),a}function ff(i){let a=i.split("/");if(a.length===0)return[];let[l,...u]=a,d=l.endsWith("?"),f=l.replace(/\?$/,"");if(u.length===0)return d?[f,""]:[f];let p=ff(u.join("/")),g=[];return g.push(...p.map(h=>h===""?f:[f,h].join("/"))),d&&g.push(...p),g.map(h=>i.startsWith("/")&&h===""?"/":h)}function Qh(i){i.sort((a,l)=>a.score!==l.score?l.score-a.score:nm(a.routesMeta.map(u=>u.childrenIndex),l.routesMeta.map(u=>u.childrenIndex)))}var Gh=/^:[\w-]+$/,Yh=3,Jh=2,Xh=1,Zh=10,em=-2,Fd=i=>i==="*";function tm(i,a){let l=i.split("/"),u=l.length;return l.some(Fd)&&(u+=em),a&&(u+=Jh),l.filter(d=>!Fd(d)).reduce((d,f)=>d+(Gh.test(f)?Yh:f===""?Xh:Zh),u)}function nm(i,a){return i.length===a.length&&i.slice(0,-1).every((u,d)=>u===a[d])?i[i.length-1]-a[a.length-1]:0}function rm(i,a,l=!1){let{routesMeta:u}=i,d={},f="/",p=[];for(let g=0;g<u.length;++g){let h=u[g],v=g===u.length-1,y=f==="/"?a:a.slice(f.length)||"/",x=_l({path:h.relativePath,caseSensitive:h.caseSensitive,end:v},y),S=h.route;if(!x&&v&&l&&!u[u.length-1].route.index&&(x=_l({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!x)return null;Object.assign(d,x.params),p.push({params:d,pathname:Rn([f,x.pathname]),pathnameBase:um(Rn([f,x.pathnameBase])),route:S}),x.pathnameBase!=="/"&&(f=Rn([f,x.pathnameBase]))}return p}function _l(i,a){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[l,u]=im(i.path,i.caseSensitive,i.end),d=a.match(l);if(!d)return null;let f=d[0],p=f.replace(/(.)\/+$/,"$1"),g=d.slice(1);return{params:u.reduce((v,{paramName:y,isOptional:x},S)=>{if(y==="*"){let _=g[S]||"";p=f.slice(0,f.length-_.length).replace(/(.)\/+$/,"$1")}const w=g[S];return x&&!w?v[y]=void 0:v[y]=(w||"").replace(/%2F/g,"/"),v},{}),pathname:f,pathnameBase:p,pattern:i}}function im(i,a=!1,l=!0){vt(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let u=[],d="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,g,h)=>(u.push({paramName:g,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(u.push({paramName:"*"}),d+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?d+="\\/*$":i!==""&&i!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,a?void 0:"i"),u]}function am(i){try{return i.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return vt(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),i}}function cn(i,a){if(a==="/")return i;if(!i.toLowerCase().startsWith(a.toLowerCase()))return null;let l=a.endsWith("/")?a.length-1:a.length,u=i.charAt(l);return u&&u!=="/"?null:i.slice(l)||"/"}function lm({basename:i,pathname:a}){return a==="/"?i:Rn([i,a])}function om(i,a="/"){let{pathname:l,search:u="",hash:d=""}=typeof i=="string"?Hn(i):i;return{pathname:l?l.startsWith("/")?l:sm(l,a):a,search:cm(u),hash:dm(d)}}function sm(i,a){let l=a.replace(/\/+$/,"").split("/");return i.split("/").forEach(d=>{d===".."?l.length>1&&l.pop():d!=="."&&l.push(d)}),l.length>1?l.join("/"):"/"}function Is(i,a,l,u){return`Cannot include a '${i}' character in a manually specified \`to.${a}\` field [${JSON.stringify(u)}].  Please separate it out to the \`to.${l}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pf(i){return i.filter((a,l)=>l===0||a.route.path&&a.route.path.length>0)}function Bs(i){let a=pf(i);return a.map((l,u)=>u===a.length-1?l.pathname:l.pathnameBase)}function Us(i,a,l,u=!1){let d;typeof i=="string"?d=Hn(i):(d={...i},Me(!d.pathname||!d.pathname.includes("?"),Is("?","pathname","search",d)),Me(!d.pathname||!d.pathname.includes("#"),Is("#","pathname","hash",d)),Me(!d.search||!d.search.includes("#"),Is("#","search","hash",d)));let f=i===""||d.pathname==="",p=f?"/":d.pathname,g;if(p==null)g=l;else{let x=a.length-1;if(!u&&p.startsWith("..")){let S=p.split("/");for(;S[0]==="..";)S.shift(),x-=1;d.pathname=S.join("/")}g=x>=0?a[x]:"/"}let h=om(d,g),v=p&&p!=="/"&&p.endsWith("/"),y=(f||p===".")&&l.endsWith("/");return!h.pathname.endsWith("/")&&(v||y)&&(h.pathname+="/"),h}var Rn=i=>i.join("/").replace(/\/\/+/g,"/"),um=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),cm=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,dm=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,Nl=class{constructor(i,a,l,u=!1){this.status=i,this.statusText=a||"",this.internal=u,l instanceof Error?(this.data=l.toString(),this.error=l):this.data=l}};function ca(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var hf=["POST","PUT","PATCH","DELETE"],fm=new Set(hf),pm=["GET",...hf],hm=new Set(pm),mm=new Set([301,302,303,307,308]),gm=new Set([307,308]),Ps={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ym={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ra={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},vm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ws=i=>vm.test(i),xm=i=>({hasErrorBoundary:!!i.hasErrorBoundary}),mf="remix-router-transitions",gf=Symbol("ResetLoaderData");function wm(i){const a=i.window?i.window:typeof window<"u"?window:void 0,l=typeof a<"u"&&typeof a.document<"u"&&typeof a.document.createElement<"u";Me(i.routes.length>0,"You must provide a non-empty routes array to createRouter");let u=i.hydrationRouteProperties||[],d=i.mapRouteProperties||xm,f={},p=ua(i.routes,d,void 0,f),g,h=i.basename||"/";h.startsWith("/")||(h=`/${h}`);let v=i.dataStrategy||Cm,y={...i.future},x=null,S=new Set,w=null,_=null,F=null,D=i.hydrationData!=null,H=gr(p,i.history.location,h),O=!1,L=null,K;if(H==null&&!i.patchRoutesOnNavigation){let C=un(404,{pathname:i.history.location.pathname}),{matches:P,route:M}=Sl(p);K=!0,H=P,L={[M.id]:C}}else if(H&&!i.hydrationData&&Sr(H,p,i.history.location.pathname).active&&(H=null),H)if(H.some(C=>C.route.lazy))K=!1;else if(!H.some(C=>Vs(C.route)))K=!0;else{let C=i.hydrationData?i.hydrationData.loaderData:null,P=i.hydrationData?i.hydrationData.errors:null;if(P){let M=H.findIndex(X=>P[X.route.id]!==void 0);K=H.slice(0,M+1).every(X=>!zs(X.route,C,P))}else K=H.every(M=>!zs(M.route,C,P))}else{K=!1,H=[];let C=Sr(null,p,i.history.location.pathname);C.active&&C.matches&&(O=!0,H=C.matches)}let le,k={historyAction:i.history.action,location:i.history.location,matches:H,initialized:K,navigation:Ps,restoreScrollPosition:i.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:i.hydrationData&&i.hydrationData.loaderData||{},actionData:i.hydrationData&&i.hydrationData.actionData||null,errors:i.hydrationData&&i.hydrationData.errors||L,fetchers:new Map,blockers:new Map},V="POP",J=!1,Q,W=!1,te=new Map,Se=null,ue=!1,Ie=!1,Fe=new Set,Le=new Map,ke=0,ee=-1,U=new Map,B=new Set,R=new Map,$=new Map,de=new Set,xe=new Map,G,ne=null;function be(){if(x=i.history.listen(({action:C,location:P,delta:M})=>{if(G){G(),G=void 0;return}vt(xe.size===0||M!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let X=Hr({currentLocation:k.location,nextLocation:P,historyAction:C});if(X&&M!=null){let ae=new Promise(he=>{G=he});i.history.go(M*-1),Qn(X,{state:"blocked",location:P,proceed(){Qn(X,{state:"proceeding",proceed:void 0,reset:void 0,location:P}),ae.then(()=>i.history.go(M))},reset(){let he=new Map(k.blockers);he.set(X,ra),z({blockers:he})}});return}return Ye(C,P)}),l){$m(a,te);let C=()=>Bm(a,te);a.addEventListener("pagehide",C),Se=()=>a.removeEventListener("pagehide",C)}return k.initialized||Ye("POP",k.location,{initialHydration:!0}),le}function Ee(){x&&x(),Se&&Se(),S.clear(),Q&&Q.abort(),k.fetchers.forEach((C,P)=>ot(P)),k.blockers.forEach((C,P)=>Vr(P))}function $e(C){return S.add(C),()=>S.delete(C)}function z(C,P={}){C.matches&&(C.matches=C.matches.map(ae=>{let he=f[ae.route.id],ge=ae.route;return ge.element!==he.element||ge.errorElement!==he.errorElement||ge.hydrateFallbackElement!==he.hydrateFallbackElement?{...ae,route:he}:ae})),k={...k,...C};let M=[],X=[];k.fetchers.forEach((ae,he)=>{ae.state==="idle"&&(de.has(he)?M.push(he):X.push(he))}),de.forEach(ae=>{!k.fetchers.has(ae)&&!Le.has(ae)&&M.push(ae)}),[...S].forEach(ae=>ae(k,{deletedFetchers:M,viewTransitionOpts:P.viewTransitionOpts,flushSync:P.flushSync===!0})),M.forEach(ae=>ot(ae)),X.forEach(ae=>k.fetchers.delete(ae))}function ie(C,P,{flushSync:M}={}){var De,ve;let X=k.actionData!=null&&k.navigation.formMethod!=null&&Qt(k.navigation.formMethod)&&k.navigation.state==="loading"&&((De=C.state)==null?void 0:De._isRedirect)!==!0,ae;P.actionData?Object.keys(P.actionData).length>0?ae=P.actionData:ae=null:X?ae=k.actionData:ae=null;let he=P.loaderData?Kd(k.loaderData,P.loaderData,P.matches||[],P.errors):k.loaderData,ge=k.blockers;ge.size>0&&(ge=new Map(ge),ge.forEach((Ne,Qe)=>ge.set(Qe,ra)));let fe=ue?!1:bi(C,P.matches||k.matches),we=J===!0||k.navigation.formMethod!=null&&Qt(k.navigation.formMethod)&&((ve=C.state)==null?void 0:ve._isRedirect)!==!0;g&&(p=g,g=void 0),ue||V==="POP"||(V==="PUSH"?i.history.push(C,C.state):V==="REPLACE"&&i.history.replace(C,C.state));let _e;if(V==="POP"){let Ne=te.get(k.location.pathname);Ne&&Ne.has(C.pathname)?_e={currentLocation:k.location,nextLocation:C}:te.has(C.pathname)&&(_e={currentLocation:C,nextLocation:k.location})}else if(W){let Ne=te.get(k.location.pathname);Ne?Ne.add(C.pathname):(Ne=new Set([C.pathname]),te.set(k.location.pathname,Ne)),_e={currentLocation:k.location,nextLocation:C}}z({...P,actionData:ae,loaderData:he,historyAction:V,location:C,initialized:!0,navigation:Ps,revalidation:"idle",restoreScrollPosition:fe,preventScrollReset:we,blockers:ge},{viewTransitionOpts:_e,flushSync:M===!0}),V="POP",J=!1,W=!1,ue=!1,Ie=!1,ne==null||ne.resolve(),ne=null}async function Pe(C,P){if(typeof C=="number"){i.history.go(C);return}let M=Ts(k.location,k.matches,h,C,P==null?void 0:P.fromRouteId,P==null?void 0:P.relative),{path:X,submission:ae,error:he}=Ad(!1,M,P),ge=k.location,fe=sa(k.location,X,P&&P.state);fe={...fe,...i.history.encodeLocation(fe)};let we=P&&P.replace!=null?P.replace:void 0,_e="PUSH";we===!0?_e="REPLACE":we===!1||ae!=null&&Qt(ae.formMethod)&&ae.formAction===k.location.pathname+k.location.search&&(_e="REPLACE");let De=P&&"preventScrollReset"in P?P.preventScrollReset===!0:void 0,ve=(P&&P.flushSync)===!0,Ne=Hr({currentLocation:ge,nextLocation:fe,historyAction:_e});if(Ne){Qn(Ne,{state:"blocked",location:fe,proceed(){Qn(Ne,{state:"proceeding",proceed:void 0,reset:void 0,location:fe}),Pe(C,P)},reset(){let Qe=new Map(k.blockers);Qe.set(Ne,ra),z({blockers:Qe})}});return}await Ye(_e,fe,{submission:ae,pendingError:he,preventScrollReset:De,replace:P&&P.replace,enableViewTransition:P&&P.viewTransition,flushSync:ve})}function Ve(){ne||(ne=Um()),qe(),z({revalidation:"loading"});let C=ne.promise;return k.navigation.state==="submitting"?C:k.navigation.state==="idle"?(Ye(k.historyAction,k.location,{startUninterruptedRevalidation:!0}),C):(Ye(V||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:W===!0}),C)}async function Ye(C,P,M){Q&&Q.abort(),Q=null,V=C,ue=(M&&M.startUninterruptedRevalidation)===!0,ma(k.location,k.matches),J=(M&&M.preventScrollReset)===!0,W=(M&&M.enableViewTransition)===!0;let X=g||p,ae=M&&M.overrideNavigation,he=M!=null&&M.initialHydration&&k.matches&&k.matches.length>0&&!O?k.matches:gr(X,P,h),ge=(M&&M.flushSync)===!0;if(he&&k.initialized&&!Ie&&Lm(k.location,P)&&!(M&&M.submission&&Qt(M.submission.formMethod))){ie(P,{matches:he},{flushSync:ge});return}let fe=Sr(he,X,P.pathname);if(fe.active&&fe.matches&&(he=fe.matches),!he){let{error:_t,notFoundMatches:Ze,route:Xe}=br(P.pathname);ie(P,{matches:Ze,loaderData:{},errors:{[Xe.id]:_t}},{flushSync:ge});return}Q=new AbortController;let we=mi(i.history,P,Q.signal,M&&M.submission),_e=i.getContext?await i.getContext():new zd,De;if(M&&M.pendingError)De=[yr(he).route.id,{type:"error",error:M.pendingError}];else if(M&&M.submission&&Qt(M.submission.formMethod)){let _t=await Be(we,P,M.submission,he,_e,fe.active,M&&M.initialHydration===!0,{replace:M.replace,flushSync:ge});if(_t.shortCircuited)return;if(_t.pendingActionResult){let[Ze,Xe]=_t.pendingActionResult;if(en(Xe)&&ca(Xe.error)&&Xe.error.status===404){Q=null,ie(P,{matches:_t.matches,loaderData:{},errors:{[Ze]:Xe.error}});return}}he=_t.matches||he,De=_t.pendingActionResult,ae=Ds(P,M.submission),ge=!1,fe.active=!1,we=mi(i.history,we.url,we.signal)}let{shortCircuited:ve,matches:Ne,loaderData:Qe,errors:mt}=await Ke(we,P,he,_e,fe.active,ae,M&&M.submission,M&&M.fetcherSubmission,M&&M.replace,M&&M.initialHydration===!0,ge,De);ve||(Q=null,ie(P,{matches:Ne||he,...qd(De),loaderData:Qe,errors:mt}))}async function Be(C,P,M,X,ae,he,ge,fe={}){qe();let we=Mm(P,M);if(z({navigation:we},{flushSync:fe.flushSync===!0}),he){let ve=await kr(X,P.pathname,C.signal);if(ve.type==="aborted")return{shortCircuited:!0};if(ve.type==="error"){if(ve.partialMatches.length===0){let{matches:Qe,route:mt}=Sl(p);return{matches:Qe,pendingActionResult:[mt.id,{type:"error",error:ve.error}]}}let Ne=yr(ve.partialMatches).route.id;return{matches:ve.partialMatches,pendingActionResult:[Ne,{type:"error",error:ve.error}]}}else if(ve.matches)X=ve.matches;else{let{notFoundMatches:Ne,error:Qe,route:mt}=br(P.pathname);return{matches:Ne,pendingActionResult:[mt.id,{type:"error",error:Qe}]}}}let _e,De=Rl(X,P);if(!De.route.action&&!De.route.lazy)_e={type:"error",error:un(405,{method:C.method,pathname:P.pathname,routeId:De.route.id})};else{let ve=gi(d,f,C,X,De,ge?[]:u,ae),Ne=await lt(C,ve,ae,null);if(_e=Ne[De.route.id],!_e){for(let Qe of X)if(Ne[Qe.route.id]){_e=Ne[Qe.route.id];break}}if(C.signal.aborted)return{shortCircuited:!0}}if($r(_e)){let ve;return fe&&fe.replace!=null?ve=fe.replace:ve=Wd(_e.response.headers.get("Location"),new URL(C.url),h)===k.location.pathname+k.location.search,await it(C,_e,!0,{submission:M,replace:ve}),{shortCircuited:!0}}if(en(_e)){let ve=yr(X,De.route.id);return(fe&&fe.replace)!==!0&&(V="PUSH"),{matches:X,pendingActionResult:[ve.route.id,_e,De.route.id]}}return{matches:X,pendingActionResult:[De.route.id,_e]}}async function Ke(C,P,M,X,ae,he,ge,fe,we,_e,De,ve){let Ne=he||Ds(P,ge),Qe=ge||fe||Gd(Ne),mt=!ue&&!_e;if(ae){if(mt){let St=se(ve);z({navigation:Ne,...St!==void 0?{actionData:St}:{}},{flushSync:De})}let Oe=await kr(M,P.pathname,C.signal);if(Oe.type==="aborted")return{shortCircuited:!0};if(Oe.type==="error"){if(Oe.partialMatches.length===0){let{matches:fn,route:jt}=Sl(p);return{matches:fn,loaderData:{},errors:{[jt.id]:Oe.error}}}let St=yr(Oe.partialMatches).route.id;return{matches:Oe.partialMatches,loaderData:{},errors:{[St]:Oe.error}}}else if(Oe.matches)M=Oe.matches;else{let{error:St,notFoundMatches:fn,route:jt}=br(P.pathname);return{matches:fn,loaderData:{},errors:{[jt.id]:St}}}}let _t=g||p,{dsMatches:Ze,revalidatingFetchers:Xe}=Md(C,X,d,f,i.history,k,M,Qe,P,_e?[]:u,_e===!0,Ie,Fe,de,R,B,_t,h,i.patchRoutesOnNavigation!=null,ve);if(ee=++ke,!i.dataStrategy&&!Ze.some(Oe=>Oe.shouldLoad)&&!Ze.some(Oe=>Oe.route.middleware&&Oe.route.middleware.length>0)&&Xe.length===0){let Oe=_n();return ie(P,{matches:M,loaderData:{},errors:ve&&en(ve[1])?{[ve[0]]:ve[1].error}:null,...qd(ve),...Oe?{fetchers:new Map(k.fetchers)}:{}},{flushSync:De}),{shortCircuited:!0}}if(mt){let Oe={};if(!ae){Oe.navigation=Ne;let St=se(ve);St!==void 0&&(Oe.actionData=St)}Xe.length>0&&(Oe.fetchers=Ce(Xe)),z(Oe,{flushSync:De})}Xe.forEach(Oe=>{Bt(Oe.key),Oe.controller&&Le.set(Oe.key,Oe.controller)});let bn=()=>Xe.forEach(Oe=>Bt(Oe.key));Q&&Q.signal.addEventListener("abort",bn);let{loaderResults:Yn,fetcherResults:Sn}=await Ue(Ze,Xe,C,X);if(C.signal.aborted)return{shortCircuited:!0};Q&&Q.signal.removeEventListener("abort",bn),Xe.forEach(Oe=>Le.delete(Oe.key));let tn=kl(Yn);if(tn)return await it(C,tn.result,!0,{replace:we}),{shortCircuited:!0};if(tn=kl(Sn),tn)return B.add(tn.key),await it(C,tn.result,!0,{replace:we}),{shortCircuited:!0};let{loaderData:tt,errors:Er}=Hd(k,M,Yn,ve,Xe,Sn);_e&&k.errors&&(Er={...k.errors,...Er});let dn=_n(),Cr=Wr(ee),Ln=dn||Cr||Xe.length>0;return{matches:M,loaderData:tt,errors:Er,...Ln?{fetchers:new Map(k.fetchers)}:{}}}function se(C){if(C&&!en(C[1]))return{[C[0]]:C[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function Ce(C){return C.forEach(P=>{let M=k.fetchers.get(P.key),X=ia(void 0,M?M.data:void 0);k.fetchers.set(P.key,X)}),new Map(k.fetchers)}async function ft(C,P,M,X){Bt(C);let ae=(X&&X.flushSync)===!0,he=g||p,ge=Ts(k.location,k.matches,h,M,P,X==null?void 0:X.relative),fe=gr(he,ge,h),we=Sr(fe,he,ge);if(we.active&&we.matches&&(fe=we.matches),!fe){ht(C,P,un(404,{pathname:ge}),{flushSync:ae});return}let{path:_e,submission:De,error:ve}=Ad(!0,ge,X);if(ve){ht(C,P,ve,{flushSync:ae});return}let Ne=i.getContext?await i.getContext():new zd,Qe=(X&&X.preventScrollReset)===!0;if(De&&Qt(De.formMethod)){await pt(C,P,_e,fe,Ne,we.active,ae,Qe,De);return}R.set(C,{routeId:P,path:_e}),await ze(C,P,_e,fe,Ne,we.active,ae,Qe,De)}async function pt(C,P,M,X,ae,he,ge,fe,we){qe(),R.delete(C);let _e=k.fetchers.get(C);xt(C,Om(we,_e),{flushSync:ge});let De=new AbortController,ve=mi(i.history,M,De.signal,we);if(he){let gt=await kr(X,new URL(ve.url).pathname,ve.signal,C);if(gt.type==="aborted")return;if(gt.type==="error"){ht(C,P,gt.error,{flushSync:ge});return}else if(gt.matches)X=gt.matches;else{ht(C,P,un(404,{pathname:M}),{flushSync:ge});return}}let Ne=Rl(X,M);if(!Ne.route.action&&!Ne.route.lazy){let gt=un(405,{method:we.formMethod,pathname:M,routeId:P});ht(C,P,gt,{flushSync:ge});return}Le.set(C,De);let Qe=ke,mt=gi(d,f,ve,X,Ne,u,ae),Ze=(await lt(ve,mt,ae,C))[Ne.route.id];if(ve.signal.aborted){Le.get(C)===De&&Le.delete(C);return}if(de.has(C)){if($r(Ze)||en(Ze)){xt(C,Wn(void 0));return}}else{if($r(Ze))if(Le.delete(C),ee>Qe){xt(C,Wn(void 0));return}else return B.add(C),xt(C,ia(we)),it(ve,Ze,!1,{fetcherSubmission:we,preventScrollReset:fe});if(en(Ze)){ht(C,P,Ze.error);return}}let Xe=k.navigation.location||k.location,bn=mi(i.history,Xe,De.signal),Yn=g||p,Sn=k.navigation.state!=="idle"?gr(Yn,k.navigation.location,h):k.matches;Me(Sn,"Didn't find any matches after fetcher action");let tn=++ke;U.set(C,tn);let tt=ia(we,Ze.data);k.fetchers.set(C,tt);let{dsMatches:Er,revalidatingFetchers:dn}=Md(bn,ae,d,f,i.history,k,Sn,we,Xe,u,!1,Ie,Fe,de,R,B,Yn,h,i.patchRoutesOnNavigation!=null,[Ne.route.id,Ze]);dn.filter(gt=>gt.key!==C).forEach(gt=>{let Tt=gt.key,ya=k.fetchers.get(Tt),Bl=ia(void 0,ya?ya.data:void 0);k.fetchers.set(Tt,Bl),Bt(Tt),gt.controller&&Le.set(Tt,gt.controller)}),z({fetchers:new Map(k.fetchers)});let Cr=()=>dn.forEach(gt=>Bt(gt.key));De.signal.addEventListener("abort",Cr);let{loaderResults:Ln,fetcherResults:Oe}=await Ue(Er,dn,bn,ae);if(De.signal.aborted)return;if(De.signal.removeEventListener("abort",Cr),U.delete(C),Le.delete(C),dn.forEach(gt=>Le.delete(gt.key)),k.fetchers.has(C)){let gt=Wn(Ze.data);k.fetchers.set(C,gt)}let St=kl(Ln);if(St)return it(bn,St.result,!1,{preventScrollReset:fe});if(St=kl(Oe),St)return B.add(St.key),it(bn,St.result,!1,{preventScrollReset:fe});let{loaderData:fn,errors:jt}=Hd(k,Sn,Ln,void 0,dn,Oe);Wr(tn),k.navigation.state==="loading"&&tn>ee?(Me(V,"Expected pending action"),Q&&Q.abort(),ie(k.navigation.location,{matches:Sn,loaderData:fn,errors:jt,fetchers:new Map(k.fetchers)})):(z({errors:jt,loaderData:Kd(k.loaderData,fn,Sn,jt),fetchers:new Map(k.fetchers)}),Ie=!1)}async function ze(C,P,M,X,ae,he,ge,fe,we){let _e=k.fetchers.get(C);xt(C,ia(we,_e?_e.data:void 0),{flushSync:ge});let De=new AbortController,ve=mi(i.history,M,De.signal);if(he){let Xe=await kr(X,new URL(ve.url).pathname,ve.signal,C);if(Xe.type==="aborted")return;if(Xe.type==="error"){ht(C,P,Xe.error,{flushSync:ge});return}else if(Xe.matches)X=Xe.matches;else{ht(C,P,un(404,{pathname:M}),{flushSync:ge});return}}let Ne=Rl(X,M);Le.set(C,De);let Qe=ke,mt=gi(d,f,ve,X,Ne,u,ae),Ze=(await lt(ve,mt,ae,C))[Ne.route.id];if(Le.get(C)===De&&Le.delete(C),!ve.signal.aborted){if(de.has(C)){xt(C,Wn(void 0));return}if($r(Ze))if(ee>Qe){xt(C,Wn(void 0));return}else{B.add(C),await it(ve,Ze,!1,{preventScrollReset:fe});return}if(en(Ze)){ht(C,P,Ze.error);return}xt(C,Wn(Ze.data))}}async function it(C,P,M,{submission:X,fetcherSubmission:ae,preventScrollReset:he,replace:ge}={}){P.response.headers.has("X-Remix-Revalidate")&&(Ie=!0);let fe=P.response.headers.get("Location");Me(fe,"Expected a Location header on the redirect Response"),fe=Wd(fe,new URL(C.url),h);let we=sa(k.location,fe,{_isRedirect:!0});if(l){let mt=!1;if(P.response.headers.has("X-Remix-Reload-Document"))mt=!0;else if(Ws(fe)){const _t=cf(fe,!0);mt=_t.origin!==a.location.origin||cn(_t.pathname,h)==null}if(mt){ge?a.location.replace(fe):a.location.assign(fe);return}}Q=null;let _e=ge===!0||P.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:De,formAction:ve,formEncType:Ne}=k.navigation;!X&&!ae&&De&&ve&&Ne&&(X=Gd(k.navigation));let Qe=X||ae;if(gm.has(P.response.status)&&Qe&&Qt(Qe.formMethod))await Ye(_e,we,{submission:{...Qe,formAction:fe},preventScrollReset:he||J,enableViewTransition:M?W:void 0});else{let mt=Ds(we,X);await Ye(_e,we,{overrideNavigation:mt,fetcherSubmission:ae,preventScrollReset:he||J,enableViewTransition:M?W:void 0})}}async function lt(C,P,M,X){let ae,he={};try{ae=await Rm(v,C,P,X,M,!1)}catch(ge){return P.filter(fe=>fe.shouldLoad).forEach(fe=>{he[fe.route.id]={type:"error",error:ge}}),he}if(C.signal.aborted)return he;for(let[ge,fe]of Object.entries(ae))if(Fm(fe)){let we=fe.result;he[ge]={type:"redirect",response:_m(we,C,ge,P,h)}}else he[ge]=await Dm(fe);return he}async function Ue(C,P,M,X){let ae=lt(M,C,X,null),he=Promise.all(P.map(async we=>{if(we.matches&&we.match&&we.request&&we.controller){let De=(await lt(we.request,we.matches,X,we.key))[we.match.route.id];return{[we.key]:De}}else return Promise.resolve({[we.key]:{type:"error",error:un(404,{pathname:we.path})}})})),ge=await ae,fe=(await he).reduce((we,_e)=>Object.assign(we,_e),{});return{loaderResults:ge,fetcherResults:fe}}function qe(){Ie=!0,R.forEach((C,P)=>{Le.has(P)&&Fe.add(P),Bt(P)})}function xt(C,P,M={}){k.fetchers.set(C,P),z({fetchers:new Map(k.fetchers)},{flushSync:(M&&M.flushSync)===!0})}function ht(C,P,M,X={}){let ae=yr(k.matches,P);ot(C),z({errors:{[ae.route.id]:M},fetchers:new Map(k.fetchers)},{flushSync:(X&&X.flushSync)===!0})}function Je(C){return $.set(C,($.get(C)||0)+1),de.has(C)&&de.delete(C),k.fetchers.get(C)||ym}function Ur(C,P){Bt(C,P==null?void 0:P.reason),xt(C,Wn(null))}function ot(C){let P=k.fetchers.get(C);Le.has(C)&&!(P&&P.state==="loading"&&U.has(C))&&Bt(C),R.delete(C),U.delete(C),B.delete(C),de.delete(C),Fe.delete(C),k.fetchers.delete(C)}function Ct(C){let P=($.get(C)||0)-1;P<=0?($.delete(C),de.add(C)):$.set(C,P),z({fetchers:new Map(k.fetchers)})}function Bt(C,P){let M=Le.get(C);M&&(M.abort(P),Le.delete(C))}function Dn(C){for(let P of C){let M=Je(P),X=Wn(M.data);k.fetchers.set(P,X)}}function _n(){let C=[],P=!1;for(let M of B){let X=k.fetchers.get(M);Me(X,`Expected fetcher: ${M}`),X.state==="loading"&&(B.delete(M),C.push(M),P=!0)}return Dn(C),P}function Wr(C){let P=[];for(let[M,X]of U)if(X<C){let ae=k.fetchers.get(M);Me(ae,`Expected fetcher: ${M}`),ae.state==="loading"&&(Bt(M),U.delete(M),P.push(M))}return Dn(P),P.length>0}function qn(C,P){let M=k.blockers.get(C)||ra;return xe.get(C)!==P&&xe.set(C,P),M}function Vr(C){k.blockers.delete(C),xe.delete(C)}function Qn(C,P){let M=k.blockers.get(C)||ra;Me(M.state==="unblocked"&&P.state==="blocked"||M.state==="blocked"&&P.state==="blocked"||M.state==="blocked"&&P.state==="proceeding"||M.state==="blocked"&&P.state==="unblocked"||M.state==="proceeding"&&P.state==="unblocked",`Invalid blocker state transition: ${M.state} -> ${P.state}`);let X=new Map(k.blockers);X.set(C,P),z({blockers:X})}function Hr({currentLocation:C,nextLocation:P,historyAction:M}){if(xe.size===0)return;xe.size>1&&vt(!1,"A router only supports one blocker at a time");let X=Array.from(xe.entries()),[ae,he]=X[X.length-1],ge=k.blockers.get(ae);if(!(ge&&ge.state==="proceeding")&&he({currentLocation:C,nextLocation:P,historyAction:M}))return ae}function br(C){let P=un(404,{pathname:C}),M=g||p,{matches:X,route:ae}=Sl(M);return{notFoundMatches:X,route:ae,error:P}}function Gn(C,P,M){if(w=C,F=P,_=M||null,!D&&k.navigation===Ps){D=!0;let X=bi(k.location,k.matches);X!=null&&z({restoreScrollPosition:X})}return()=>{w=null,F=null,_=null}}function Nn(C,P){return _&&_(C,P.map(X=>qh(X,k.loaderData)))||C.key}function ma(C,P){if(w&&F){let M=Nn(C,P);w[M]=F()}}function bi(C,P){if(w){let M=Nn(C,P),X=w[M];if(typeof X=="number")return X}return null}function Sr(C,P,M){if(i.patchRoutesOnNavigation)if(C){if(Object.keys(C[0].params).length>0)return{active:!0,matches:jl(P,M,h,!0)}}else return{active:!0,matches:jl(P,M,h,!0)||[]};return{active:!1,matches:null}}async function kr(C,P,M,X){if(!i.patchRoutesOnNavigation)return{type:"success",matches:C};let ae=C;for(;;){let he=g==null,ge=g||p,fe=f;try{await i.patchRoutesOnNavigation({signal:M,path:P,matches:ae,fetcherKey:X,patch:(De,ve)=>{M.aborted||Od(De,ve,ge,fe,d,!1)}})}catch(De){return{type:"error",error:De,partialMatches:ae}}finally{he&&!M.aborted&&(p=[...p])}if(M.aborted)return{type:"aborted"};let we=gr(ge,P,h);if(we)return{type:"success",matches:we};let _e=jl(ge,P,h,!0);if(!_e||ae.length===_e.length&&ae.every((De,ve)=>De.route.id===_e[ve].route.id))return{type:"success",matches:null};ae=_e}}function ga(C){f={},g=ua(C,d,void 0,f)}function Si(C,P,M=!1){let X=g==null;Od(C,P,g||p,f,d,M),X&&(p=[...p],z({}))}return le={get basename(){return h},get future(){return y},get state(){return k},get routes(){return p},get window(){return a},initialize:be,subscribe:$e,enableScrollRestoration:Gn,navigate:Pe,fetch:ft,revalidate:Ve,createHref:C=>i.history.createHref(C),encodeLocation:C=>i.history.encodeLocation(C),getFetcher:Je,resetFetcher:Ur,deleteFetcher:Ct,dispose:Ee,getBlocker:qn,deleteBlocker:Vr,patchRoutes:Si,_internalFetchControllers:Le,_internalSetRoutes:ga,_internalSetStateDoNotUseOrYouWillBreakYourApp(C){z(C)}},le}function bm(i){return i!=null&&("formData"in i&&i.formData!=null||"body"in i&&i.body!==void 0)}function Ts(i,a,l,u,d,f){let p,g;if(d){p=[];for(let v of a)if(p.push(v),v.route.id===d){g=v;break}}else p=a,g=a[a.length-1];let h=Us(u||".",Bs(p),cn(i.pathname,l)||i.pathname,f==="path");if(u==null&&(h.search=i.search,h.hash=i.hash),(u==null||u===""||u===".")&&g){let v=Hs(h.search);if(g.route.index&&!v)h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index";else if(!g.route.index&&v){let y=new URLSearchParams(h.search),x=y.getAll("index");y.delete("index"),x.filter(w=>w).forEach(w=>y.append("index",w));let S=y.toString();h.search=S?`?${S}`:""}}return l!=="/"&&(h.pathname=lm({basename:l,pathname:h.pathname})),xr(h)}function Ad(i,a,l){if(!l||!bm(l))return{path:a};if(l.formMethod&&!Am(l.formMethod))return{path:a,error:un(405,{method:l.formMethod})};let u=()=>({path:a,error:un(400,{type:"invalid-body"})}),f=(l.formMethod||"get").toUpperCase(),p=Sf(a);if(l.body!==void 0){if(l.formEncType==="text/plain"){if(!Qt(f))return u();let x=typeof l.body=="string"?l.body:l.body instanceof FormData||l.body instanceof URLSearchParams?Array.from(l.body.entries()).reduce((S,[w,_])=>`${S}${w}=${_}
`,""):String(l.body);return{path:a,submission:{formMethod:f,formAction:p,formEncType:l.formEncType,formData:void 0,json:void 0,text:x}}}else if(l.formEncType==="application/json"){if(!Qt(f))return u();try{let x=typeof l.body=="string"?JSON.parse(l.body):l.body;return{path:a,submission:{formMethod:f,formAction:p,formEncType:l.formEncType,formData:void 0,json:x,text:void 0}}}catch{return u()}}}Me(typeof FormData=="function","FormData is not available in this environment");let g,h;if(l.formData)g=As(l.formData),h=l.formData;else if(l.body instanceof FormData)g=As(l.body),h=l.body;else if(l.body instanceof URLSearchParams)g=l.body,h=Vd(g);else if(l.body==null)g=new URLSearchParams,h=new FormData;else try{g=new URLSearchParams(l.body),h=Vd(g)}catch{return u()}let v={formMethod:f,formAction:p,formEncType:l&&l.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(Qt(v.formMethod))return{path:a,submission:v};let y=Hn(a);return i&&y.search&&Hs(y.search)&&g.append("index",""),y.search=`?${g}`,{path:xr(y),submission:v}}function Md(i,a,l,u,d,f,p,g,h,v,y,x,S,w,_,F,D,H,O,L){var ue;let K=L?en(L[1])?L[1].error:L[1].data:void 0,le=d.createURL(f.location),k=d.createURL(h),V;if(y&&f.errors){let Ie=Object.keys(f.errors)[0];V=p.findIndex(Fe=>Fe.route.id===Ie)}else if(L&&en(L[1])){let Ie=L[0];V=p.findIndex(Fe=>Fe.route.id===Ie)-1}let J=L?L[1].statusCode:void 0,Q=J&&J>=400,W={currentUrl:le,currentParams:((ue=f.matches[0])==null?void 0:ue.params)||{},nextUrl:k,nextParams:p[0].params,...g,actionResult:K,actionStatus:J},te=p.map((Ie,Fe)=>{let{route:Le}=Ie,ke=null;if(V!=null&&Fe>V?ke=!1:Le.lazy?ke=!0:Vs(Le)?y?ke=zs(Le,f.loaderData,f.errors):Sm(f.loaderData,f.matches[Fe],Ie)&&(ke=!0):ke=!1,ke!==null)return Fs(l,u,i,Ie,v,a,ke);let ee=Q?!1:x||le.pathname+le.search===k.pathname+k.search||le.search!==k.search||km(f.matches[Fe],Ie),U={...W,defaultShouldRevalidate:ee},B=Ll(Ie,U);return Fs(l,u,i,Ie,v,a,B,U)}),Se=[];return _.forEach((Ie,Fe)=>{if(y||!p.some(de=>de.route.id===Ie.routeId)||w.has(Fe))return;let Le=f.fetchers.get(Fe),ke=Le&&Le.state!=="idle"&&Le.data===void 0,ee=gr(D,Ie.path,H);if(!ee){if(O&&ke)return;Se.push({key:Fe,routeId:Ie.routeId,path:Ie.path,matches:null,match:null,request:null,controller:null});return}if(F.has(Fe))return;let U=Rl(ee,Ie.path),B=new AbortController,R=mi(d,Ie.path,B.signal),$=null;if(S.has(Fe))S.delete(Fe),$=gi(l,u,R,ee,U,v,a);else if(ke)x&&($=gi(l,u,R,ee,U,v,a));else{let de={...W,defaultShouldRevalidate:Q?!1:x};Ll(U,de)&&($=gi(l,u,R,ee,U,v,a,de))}$&&Se.push({key:Fe,routeId:Ie.routeId,path:Ie.path,matches:$,match:U,request:R,controller:B})}),{dsMatches:te,revalidatingFetchers:Se}}function Vs(i){return i.loader!=null||i.middleware!=null&&i.middleware.length>0}function zs(i,a,l){if(i.lazy)return!0;if(!Vs(i))return!1;let u=a!=null&&i.id in a,d=l!=null&&l[i.id]!==void 0;return!u&&d?!1:typeof i.loader=="function"&&i.loader.hydrate===!0?!0:!u&&!d}function Sm(i,a,l){let u=!a||l.route.id!==a.route.id,d=!i.hasOwnProperty(l.route.id);return u||d}function km(i,a){let l=i.route.path;return i.pathname!==a.pathname||l!=null&&l.endsWith("*")&&i.params["*"]!==a.params["*"]}function Ll(i,a){if(i.route.shouldRevalidate){let l=i.route.shouldRevalidate(a);if(typeof l=="boolean")return l}return a.defaultShouldRevalidate}function Od(i,a,l,u,d,f){let p;if(i){let v=u[i];Me(v,`No route found to patch children into: routeId = ${i}`),v.children||(v.children=[]),p=v.children}else p=l;let g=[],h=[];if(a.forEach(v=>{let y=p.find(x=>yf(v,x));y?h.push({existingRoute:y,newRoute:v}):g.push(v)}),g.length>0){let v=ua(g,d,[i||"_","patch",String((p==null?void 0:p.length)||"0")],u);p.push(...v)}if(f&&h.length>0)for(let v=0;v<h.length;v++){let{existingRoute:y,newRoute:x}=h[v],S=y,[w]=ua([x],d,[],{},!0);Object.assign(S,{element:w.element?w.element:S.element,errorElement:w.errorElement?w.errorElement:S.errorElement,hydrateFallbackElement:w.hydrateFallbackElement?w.hydrateFallbackElement:S.hydrateFallbackElement})}}function yf(i,a){return"id"in i&&"id"in a&&i.id===a.id?!0:i.index===a.index&&i.path===a.path&&i.caseSensitive===a.caseSensitive?(!i.children||i.children.length===0)&&(!a.children||a.children.length===0)?!0:i.children.every((l,u)=>{var d;return(d=a.children)==null?void 0:d.some(f=>yf(l,f))}):!1}var $d=new WeakMap,vf=({key:i,route:a,manifest:l,mapRouteProperties:u})=>{let d=l[a.id];if(Me(d,"No route found in manifest"),!d.lazy||typeof d.lazy!="object")return;let f=d.lazy[i];if(!f)return;let p=$d.get(d);p||(p={},$d.set(d,p));let g=p[i];if(g)return g;let h=(async()=>{let v=Wh(i),x=d[i]!==void 0&&i!=="hasErrorBoundary";if(v)vt(!v,"Route property "+i+" is not a supported lazy route property. This property will be ignored."),p[i]=Promise.resolve();else if(x)vt(!1,`Route "${d.id}" has a static property "${i}" defined. The lazy property will be ignored.`);else{let S=await f();S!=null&&(Object.assign(d,{[i]:S}),Object.assign(d,u(d)))}typeof d.lazy=="object"&&(d.lazy[i]=void 0,Object.values(d.lazy).every(S=>S===void 0)&&(d.lazy=void 0))})();return p[i]=h,h},Bd=new WeakMap;function Em(i,a,l,u,d){let f=l[i.id];if(Me(f,"No route found in manifest"),!i.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof i.lazy=="function"){let y=Bd.get(f);if(y)return{lazyRoutePromise:y,lazyHandlerPromise:y};let x=(async()=>{Me(typeof i.lazy=="function","No lazy route function found");let S=await i.lazy(),w={};for(let _ in S){let F=S[_];if(F===void 0)continue;let D=Hh(_),O=f[_]!==void 0&&_!=="hasErrorBoundary";D?vt(!D,"Route property "+_+" is not a supported property to be returned from a lazy route function. This property will be ignored."):O?vt(!O,`Route "${f.id}" has a static property "${_}" defined but its lazy function is also returning a value for this property. The lazy route property "${_}" will be ignored.`):w[_]=F}Object.assign(f,w),Object.assign(f,{...u(f),lazy:void 0})})();return Bd.set(f,x),x.catch(()=>{}),{lazyRoutePromise:x,lazyHandlerPromise:x}}let p=Object.keys(i.lazy),g=[],h;for(let y of p){if(d&&d.includes(y))continue;let x=vf({key:y,route:i,manifest:l,mapRouteProperties:u});x&&(g.push(x),y===a&&(h=x))}let v=g.length>0?Promise.all(g).then(()=>{}):void 0;return v==null||v.catch(()=>{}),h==null||h.catch(()=>{}),{lazyRoutePromise:v,lazyHandlerPromise:h}}async function Ud(i){let a=i.matches.filter(d=>d.shouldLoad),l={};return(await Promise.all(a.map(d=>d.resolve()))).forEach((d,f)=>{l[a[f].route.id]=d}),l}async function Cm(i){return i.matches.some(a=>a.route.middleware)?xf(i,()=>Ud(i)):Ud(i)}function xf(i,a){return jm(i,a,u=>u,Tm,l);function l(u,d,f){if(f)return Promise.resolve(Object.assign(f.value,{[d]:{type:"error",result:u}}));{let{matches:p}=i,g=Math.min(Math.max(p.findIndex(v=>v.route.id===d),0),Math.max(p.findIndex(v=>v.unstable_shouldCallHandler()),0)),h=yr(p,p[g].route.id).route.id;return Promise.resolve({[h]:{type:"error",result:u}})}}}async function jm(i,a,l,u,d){let{matches:f,request:p,params:g,context:h}=i,v=f.flatMap(x=>x.route.middleware?x.route.middleware.map(S=>[x.route.id,S]):[]);return await wf({request:p,params:g,context:h},v,a,l,u,d)}async function wf(i,a,l,u,d,f,p=0){let{request:g}=i;if(g.signal.aborted)throw g.signal.reason??new Error(`Request aborted: ${g.method} ${g.url}`);let h=a[p];if(!h)return await l();let[v,y]=h,x,S=async()=>{if(x)throw new Error("You may only call `next()` once per middleware");try{return x={value:await wf(i,a,l,u,d,f,p+1)},x.value}catch(w){return x={value:await f(w,v,x)},x.value}};try{let w=await y(i,S),_=w!=null?u(w):void 0;return d(_)?_:x?_??x.value:(x={value:await S()},x.value)}catch(w){return await f(w,v,x)}}function bf(i,a,l,u,d){let f=vf({key:"middleware",route:u.route,manifest:a,mapRouteProperties:i}),p=Em(u.route,Qt(l.method)?"action":"loader",a,i,d);return{middleware:f,route:p.lazyRoutePromise,handler:p.lazyHandlerPromise}}function Fs(i,a,l,u,d,f,p,g=null){let h=!1,v=bf(i,a,l,u,d);return{...u,_lazyPromises:v,shouldLoad:p,unstable_shouldRevalidateArgs:g,unstable_shouldCallHandler(y){return h=!0,g?typeof y=="boolean"?Ll(u,{...g,defaultShouldRevalidate:y}):Ll(u,g):p},resolve(y){let{lazy:x,loader:S,middleware:w}=u.route,_=h||p||y&&!Qt(l.method)&&(x||S),F=w&&w.length>0&&!S&&!x;return _&&!F?Im({request:l,match:u,lazyHandlerPromise:v==null?void 0:v.handler,lazyRoutePromise:v==null?void 0:v.route,handlerOverride:y,scopedContext:f}):Promise.resolve({type:"data",result:void 0})}}}function gi(i,a,l,u,d,f,p,g=null){return u.map(h=>h.route.id!==d.route.id?{...h,shouldLoad:!1,unstable_shouldRevalidateArgs:g,unstable_shouldCallHandler:()=>!1,_lazyPromises:bf(i,a,l,h,f),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Fs(i,a,l,h,f,p,!0,g))}async function Rm(i,a,l,u,d,f){l.some(v=>{var y;return(y=v._lazyPromises)==null?void 0:y.middleware})&&await Promise.all(l.map(v=>{var y;return(y=v._lazyPromises)==null?void 0:y.middleware}));let p={request:a,params:l[0].params,context:d,matches:l},h=await i({...p,fetcherKey:u,runClientMiddleware:v=>{let y=p;return xf(y,()=>v({...y,fetcherKey:u,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(l.flatMap(v=>{var y,x;return[(y=v._lazyPromises)==null?void 0:y.handler,(x=v._lazyPromises)==null?void 0:x.route]}))}catch{}return h}async function Im({request:i,match:a,lazyHandlerPromise:l,lazyRoutePromise:u,handlerOverride:d,scopedContext:f}){let p,g,h=Qt(i.method),v=h?"action":"loader",y=x=>{let S,w=new Promise((D,H)=>S=H);g=()=>S(),i.signal.addEventListener("abort",g);let _=D=>typeof x!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${v}" [routeId: ${a.route.id}]`)):x({request:i,params:a.params,context:f},...D!==void 0?[D]:[]),F=(async()=>{try{return{type:"data",result:await(d?d(H=>_(H)):_())}}catch(D){return{type:"error",result:D}}})();return Promise.race([F,w])};try{let x=h?a.route.action:a.route.loader;if(l||u)if(x){let S,[w]=await Promise.all([y(x).catch(_=>{S=_}),l,u]);if(S!==void 0)throw S;p=w}else{await l;let S=h?a.route.action:a.route.loader;if(S)[p]=await Promise.all([y(S),u]);else if(v==="action"){let w=new URL(i.url),_=w.pathname+w.search;throw un(405,{method:i.method,pathname:_,routeId:a.route.id})}else return{type:"data",result:void 0}}else if(x)p=await y(x);else{let S=new URL(i.url),w=S.pathname+S.search;throw un(404,{pathname:w})}}catch(x){return{type:"error",result:x}}finally{g&&i.signal.removeEventListener("abort",g)}return p}async function Pm(i){let a=i.headers.get("Content-Type");return a&&/\bapplication\/json\b/.test(a)?i.body==null?null:i.json():i.text()}async function Dm(i){var u,d,f,p,g,h;let{result:a,type:l}=i;if(kf(a)){let v;try{v=await Pm(a)}catch(y){return{type:"error",error:y}}return l==="error"?{type:"error",error:new Nl(a.status,a.statusText,v),statusCode:a.status,headers:a.headers}:{type:"data",data:v,statusCode:a.status,headers:a.headers}}return l==="error"?Qd(a)?a.data instanceof Error?{type:"error",error:a.data,statusCode:(u=a.init)==null?void 0:u.status,headers:(d=a.init)!=null&&d.headers?new Headers(a.init.headers):void 0}:{type:"error",error:new Nl(((f=a.init)==null?void 0:f.status)||500,void 0,a.data),statusCode:ca(a)?a.status:void 0,headers:(p=a.init)!=null&&p.headers?new Headers(a.init.headers):void 0}:{type:"error",error:a,statusCode:ca(a)?a.status:void 0}:Qd(a)?{type:"data",data:a.data,statusCode:(g=a.init)==null?void 0:g.status,headers:(h=a.init)!=null&&h.headers?new Headers(a.init.headers):void 0}:{type:"data",data:a}}function _m(i,a,l,u,d){let f=i.headers.get("Location");if(Me(f,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ws(f)){let p=u.slice(0,u.findIndex(g=>g.route.id===l)+1);f=Ts(new URL(a.url),p,d,f),i.headers.set("Location",f)}return i}function Wd(i,a,l){if(Ws(i)){let u=i,d=u.startsWith("//")?new URL(a.protocol+u):new URL(u),f=cn(d.pathname,l)!=null;if(d.origin===a.origin&&f)return d.pathname+d.search+d.hash}return i}function mi(i,a,l,u){let d=i.createURL(Sf(a)).toString(),f={signal:l};if(u&&Qt(u.formMethod)){let{formMethod:p,formEncType:g}=u;f.method=p.toUpperCase(),g==="application/json"?(f.headers=new Headers({"Content-Type":g}),f.body=JSON.stringify(u.json)):g==="text/plain"?f.body=u.text:g==="application/x-www-form-urlencoded"&&u.formData?f.body=As(u.formData):f.body=u.formData}return new Request(d,f)}function As(i){let a=new URLSearchParams;for(let[l,u]of i.entries())a.append(l,typeof u=="string"?u:u.name);return a}function Vd(i){let a=new FormData;for(let[l,u]of i.entries())a.append(l,u);return a}function Nm(i,a,l,u=!1,d=!1){let f={},p=null,g,h=!1,v={},y=l&&en(l[1])?l[1].error:void 0;return i.forEach(x=>{if(!(x.route.id in a))return;let S=x.route.id,w=a[S];if(Me(!$r(w),"Cannot handle redirect results in processLoaderData"),en(w)){let _=w.error;if(y!==void 0&&(_=y,y=void 0),p=p||{},d)p[S]=_;else{let F=yr(i,S);p[F.route.id]==null&&(p[F.route.id]=_)}u||(f[S]=gf),h||(h=!0,g=ca(w.error)?w.error.status:500),w.headers&&(v[S]=w.headers)}else f[S]=w.data,w.statusCode&&w.statusCode!==200&&!h&&(g=w.statusCode),w.headers&&(v[S]=w.headers)}),y!==void 0&&l&&(p={[l[0]]:y},l[2]&&(f[l[2]]=void 0)),{loaderData:f,errors:p,statusCode:g||200,loaderHeaders:v}}function Hd(i,a,l,u,d,f){let{loaderData:p,errors:g}=Nm(a,l,u);return d.filter(h=>!h.matches||h.matches.some(v=>v.shouldLoad)).forEach(h=>{let{key:v,match:y,controller:x}=h;if(x&&x.signal.aborted)return;let S=f[v];if(Me(S,"Did not find corresponding fetcher result"),en(S)){let w=yr(i.matches,y==null?void 0:y.route.id);g&&g[w.route.id]||(g={...g,[w.route.id]:S.error}),i.fetchers.delete(v)}else if($r(S))Me(!1,"Unhandled fetcher revalidation redirect");else{let w=Wn(S.data);i.fetchers.set(v,w)}}),{loaderData:p,errors:g}}function Kd(i,a,l,u){let d=Object.entries(a).filter(([,f])=>f!==gf).reduce((f,[p,g])=>(f[p]=g,f),{});for(let f of l){let p=f.route.id;if(!a.hasOwnProperty(p)&&i.hasOwnProperty(p)&&f.route.loader&&(d[p]=i[p]),u&&u.hasOwnProperty(p))break}return d}function qd(i){return i?en(i[1])?{actionData:{}}:{actionData:{[i[0]]:i[1].data}}:{}}function yr(i,a){return(a?i.slice(0,i.findIndex(u=>u.route.id===a)+1):[...i]).reverse().find(u=>u.route.hasErrorBoundary===!0)||i[0]}function Sl(i){let a=i.length===1?i[0]:i.find(l=>l.index||!l.path||l.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:a}],route:a}}function un(i,{pathname:a,routeId:l,method:u,type:d,message:f}={}){let p="Unknown Server Error",g="Unknown @remix-run/router error";return i===400?(p="Bad Request",u&&a&&l?g=`You made a ${u} request to "${a}" but did not provide a \`loader\` for route "${l}", so there is no way to handle the request.`:d==="invalid-body"&&(g="Unable to encode submission body")):i===403?(p="Forbidden",g=`Route "${l}" does not match URL "${a}"`):i===404?(p="Not Found",g=`No route matches URL "${a}"`):i===405&&(p="Method Not Allowed",u&&a&&l?g=`You made a ${u.toUpperCase()} request to "${a}" but did not provide an \`action\` for route "${l}", so there is no way to handle the request.`:u&&(g=`Invalid request method "${u.toUpperCase()}"`)),new Nl(i||500,p,new Error(g),!0)}function kl(i){let a=Object.entries(i);for(let l=a.length-1;l>=0;l--){let[u,d]=a[l];if($r(d))return{key:u,result:d}}}function Sf(i){let a=typeof i=="string"?Hn(i):i;return xr({...a,hash:""})}function Lm(i,a){return i.pathname!==a.pathname||i.search!==a.search?!1:i.hash===""?a.hash!=="":i.hash===a.hash?!0:a.hash!==""}function Tm(i){return i!=null&&typeof i=="object"&&Object.entries(i).every(([a,l])=>typeof a=="string"&&zm(l))}function zm(i){return i!=null&&typeof i=="object"&&"type"in i&&"result"in i&&(i.type==="data"||i.type==="error")}function Fm(i){return kf(i.result)&&mm.has(i.result.status)}function en(i){return i.type==="error"}function $r(i){return(i&&i.type)==="redirect"}function Qd(i){return typeof i=="object"&&i!=null&&"type"in i&&"data"in i&&"init"in i&&i.type==="DataWithResponseInit"}function kf(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.headers=="object"&&typeof i.body<"u"}function Am(i){return hm.has(i.toUpperCase())}function Qt(i){return fm.has(i.toUpperCase())}function Hs(i){return new URLSearchParams(i).getAll("index").some(a=>a==="")}function Rl(i,a){let l=typeof a=="string"?Hn(a).search:a.search;if(i[i.length-1].route.index&&Hs(l||""))return i[i.length-1];let u=pf(i);return u[u.length-1]}function Gd(i){let{formMethod:a,formAction:l,formEncType:u,text:d,formData:f,json:p}=i;if(!(!a||!l||!u)){if(d!=null)return{formMethod:a,formAction:l,formEncType:u,formData:void 0,json:void 0,text:d};if(f!=null)return{formMethod:a,formAction:l,formEncType:u,formData:f,json:void 0,text:void 0};if(p!==void 0)return{formMethod:a,formAction:l,formEncType:u,formData:void 0,json:p,text:void 0}}}function Ds(i,a){return a?{state:"loading",location:i,formMethod:a.formMethod,formAction:a.formAction,formEncType:a.formEncType,formData:a.formData,json:a.json,text:a.text}:{state:"loading",location:i,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Mm(i,a){return{state:"submitting",location:i,formMethod:a.formMethod,formAction:a.formAction,formEncType:a.formEncType,formData:a.formData,json:a.json,text:a.text}}function ia(i,a){return i?{state:"loading",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:a}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:a}}function Om(i,a){return{state:"submitting",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:a?a.data:void 0}}function Wn(i){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:i}}function $m(i,a){try{let l=i.sessionStorage.getItem(mf);if(l){let u=JSON.parse(l);for(let[d,f]of Object.entries(u||{}))f&&Array.isArray(f)&&a.set(d,new Set(f||[]))}}catch{}}function Bm(i,a){if(a.size>0){let l={};for(let[u,d]of a)l[u]=[...d];try{i.sessionStorage.setItem(mf,JSON.stringify(l))}catch(u){vt(!1,`Failed to save applied view transitions in sessionStorage (${u}).`)}}}function Um(){let i,a,l=new Promise((u,d)=>{i=async f=>{u(f);try{await l}catch{}},a=async f=>{d(f);try{await l}catch{}}});return{promise:l,resolve:i,reject:a}}var Br=E.createContext(null);Br.displayName="DataRouter";var fa=E.createContext(null);fa.displayName="DataRouterState";E.createContext(!1);var Ks=E.createContext({isTransitioning:!1});Ks.displayName="ViewTransition";var Ef=E.createContext(new Map);Ef.displayName="Fetchers";var Wm=E.createContext(null);Wm.displayName="Await";var In=E.createContext(null);In.displayName="Navigation";var zl=E.createContext(null);zl.displayName="Location";var Pn=E.createContext({outlet:null,matches:[],isDataRoute:!1});Pn.displayName="Route";var qs=E.createContext(null);qs.displayName="RouteError";function Vm(i,{relative:a}={}){Me(pa(),"useHref() may be used only in the context of a <Router> component.");let{basename:l,navigator:u}=E.useContext(In),{hash:d,pathname:f,search:p}=ha(i,{relative:a}),g=f;return l!=="/"&&(g=f==="/"?l:Rn([l,f])),u.createHref({pathname:g,search:p,hash:d})}function pa(){return E.useContext(zl)!=null}function wr(){return Me(pa(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(zl).location}var Cf="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jf(i){E.useContext(In).static||E.useLayoutEffect(i)}function Hm(){let{isDataRoute:i}=E.useContext(Pn);return i?lg():Km()}function Km(){Me(pa(),"useNavigate() may be used only in the context of a <Router> component.");let i=E.useContext(Br),{basename:a,navigator:l}=E.useContext(In),{matches:u}=E.useContext(Pn),{pathname:d}=wr(),f=JSON.stringify(Bs(u)),p=E.useRef(!1);return jf(()=>{p.current=!0}),E.useCallback((h,v={})=>{if(vt(p.current,Cf),!p.current)return;if(typeof h=="number"){l.go(h);return}let y=Us(h,JSON.parse(f),d,v.relative==="path");i==null&&a!=="/"&&(y.pathname=y.pathname==="/"?a:Rn([a,y.pathname])),(v.replace?l.replace:l.push)(y,v.state,v)},[a,l,f,d,i])}var qm=E.createContext(null);function Qm(i){let a=E.useContext(Pn).outlet;return E.useMemo(()=>a&&E.createElement(qm.Provider,{value:i},a),[a,i])}function ha(i,{relative:a}={}){let{matches:l}=E.useContext(Pn),{pathname:u}=wr(),d=JSON.stringify(Bs(l));return E.useMemo(()=>Us(i,JSON.parse(d),u,a==="path"),[i,d,u,a])}function Gm(i,a,l,u,d){Me(pa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:f}=E.useContext(In),{matches:p}=E.useContext(Pn),g=p[p.length-1],h=g?g.params:{},v=g?g.pathname:"/",y=g?g.pathnameBase:"/",x=g&&g.route;{let O=x&&x.path||"";Rf(v,!x||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let S=wr(),w;w=S;let _=w.pathname||"/",F=_;if(y!=="/"){let O=y.replace(/^\//,"").split("/");F="/"+_.replace(/^\//,"").split("/").slice(O.length).join("/")}let D=gr(i,{pathname:F});return vt(x||D!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),vt(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),eg(D&&D.map(O=>Object.assign({},O,{params:Object.assign({},h,O.params),pathname:Rn([y,f.encodeLocation?f.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?y:Rn([y,f.encodeLocation?f.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),p,l,u,d)}function Ym(){let i=ag(),a=ca(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),l=i instanceof Error?i.stack:null,u="rgba(200,200,200, 0.5)",d={padding:"0.5rem",backgroundColor:u},f={padding:"2px 4px",backgroundColor:u},p=null;return console.error("Error handled by React Router default ErrorBoundary:",i),p=E.createElement(E.Fragment,null,E.createElement("p",null,"💿 Hey developer 👋"),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:f},"ErrorBoundary")," or"," ",E.createElement("code",{style:f},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},a),l?E.createElement("pre",{style:d},l):null,p)}var Jm=E.createElement(Ym,null),Xm=class extends E.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,a){return a.location!==i.location||a.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:a.error,location:a.location,revalidation:i.revalidation||a.revalidation}}componentDidCatch(i,a){this.props.unstable_onError?this.props.unstable_onError(i,a):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?E.createElement(Pn.Provider,{value:this.props.routeContext},E.createElement(qs.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Zm({routeContext:i,match:a,children:l}){let u=E.useContext(Br);return u&&u.static&&u.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=a.route.id),E.createElement(Pn.Provider,{value:i},l)}function eg(i,a=[],l=null,u=null,d=null){if(i==null){if(!l)return null;if(l.errors)i=l.matches;else if(a.length===0&&!l.initialized&&l.matches.length>0)i=l.matches;else return null}let f=i,p=l==null?void 0:l.errors;if(p!=null){let v=f.findIndex(y=>y.route.id&&(p==null?void 0:p[y.route.id])!==void 0);Me(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(p).join(",")}`),f=f.slice(0,Math.min(f.length,v+1))}let g=!1,h=-1;if(l)for(let v=0;v<f.length;v++){let y=f[v];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(h=v),y.route.id){let{loaderData:x,errors:S}=l,w=y.route.loader&&!x.hasOwnProperty(y.route.id)&&(!S||S[y.route.id]===void 0);if(y.route.lazy||w){g=!0,h>=0?f=f.slice(0,h+1):f=[f[0]];break}}}return f.reduceRight((v,y,x)=>{let S,w=!1,_=null,F=null;l&&(S=p&&y.route.id?p[y.route.id]:void 0,_=y.route.errorElement||Jm,g&&(h<0&&x===0?(Rf("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,F=null):h===x&&(w=!0,F=y.route.hydrateFallbackElement||null)));let D=a.concat(f.slice(0,x+1)),H=()=>{let O;return S?O=_:w?O=F:y.route.Component?O=E.createElement(y.route.Component,null):y.route.element?O=y.route.element:O=v,E.createElement(Zm,{match:y,routeContext:{outlet:v,matches:D,isDataRoute:l!=null},children:O})};return l&&(y.route.ErrorBoundary||y.route.errorElement||x===0)?E.createElement(Xm,{location:l.location,revalidation:l.revalidation,component:_,error:S,children:H(),routeContext:{outlet:null,matches:D,isDataRoute:!0},unstable_onError:u}):H()},null)}function Qs(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tg(i){let a=E.useContext(Br);return Me(a,Qs(i)),a}function ng(i){let a=E.useContext(fa);return Me(a,Qs(i)),a}function rg(i){let a=E.useContext(Pn);return Me(a,Qs(i)),a}function Gs(i){let a=rg(i),l=a.matches[a.matches.length-1];return Me(l.route.id,`${i} can only be used on routes that contain a unique "id"`),l.route.id}function ig(){return Gs("useRouteId")}function ag(){var u;let i=E.useContext(qs),a=ng("useRouteError"),l=Gs("useRouteError");return i!==void 0?i:(u=a.errors)==null?void 0:u[l]}function lg(){let{router:i}=tg("useNavigate"),a=Gs("useNavigate"),l=E.useRef(!1);return jf(()=>{l.current=!0}),E.useCallback(async(d,f={})=>{vt(l.current,Cf),l.current&&(typeof d=="number"?i.navigate(d):await i.navigate(d,{fromRouteId:a,...f}))},[i,a])}var Yd={};function Rf(i,a,l){!a&&!Yd[i]&&(Yd[i]=!0,vt(!1,l))}var Jd={};function Xd(i,a){!i&&!Jd[a]&&(Jd[a]=!0,console.warn(a))}function og(i){let a={hasErrorBoundary:i.hasErrorBoundary||i.ErrorBoundary!=null||i.errorElement!=null};return i.Component&&(i.element&&vt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(a,{element:E.createElement(i.Component),Component:void 0})),i.HydrateFallback&&(i.hydrateFallbackElement&&vt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(a,{hydrateFallbackElement:E.createElement(i.HydrateFallback),HydrateFallback:void 0})),i.ErrorBoundary&&(i.errorElement&&vt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(a,{errorElement:E.createElement(i.ErrorBoundary),ErrorBoundary:void 0})),a}var sg=["HydrateFallback","hydrateFallbackElement"],ug=class{constructor(){this.status="pending",this.promise=new Promise((i,a)=>{this.resolve=l=>{this.status==="pending"&&(this.status="resolved",i(l))},this.reject=l=>{this.status==="pending"&&(this.status="rejected",a(l))}})}};function cg({router:i,flushSync:a,unstable_onError:l}){let[u,d]=E.useState(i.state),[f,p]=E.useState(),[g,h]=E.useState({isTransitioning:!1}),[v,y]=E.useState(),[x,S]=E.useState(),[w,_]=E.useState(),F=E.useRef(new Map),D=E.useCallback(le=>{d(k=>(le.errors&&l&&Object.entries(le.errors).forEach(([V,J])=>{var Q;((Q=k.errors)==null?void 0:Q[V])!==J&&l(J)}),le))},[l]),H=E.useCallback((le,{deletedFetchers:k,flushSync:V,viewTransitionOpts:J})=>{le.fetchers.forEach((W,te)=>{W.data!==void 0&&F.current.set(te,W.data)}),k.forEach(W=>F.current.delete(W)),Xd(V===!1||a!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let Q=i.window!=null&&i.window.document!=null&&typeof i.window.document.startViewTransition=="function";if(Xd(J==null||Q,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!J||!Q){a&&V?a(()=>D(le)):E.startTransition(()=>D(le));return}if(a&&V){a(()=>{x&&(v&&v.resolve(),x.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:J.currentLocation,nextLocation:J.nextLocation})});let W=i.window.document.startViewTransition(()=>{a(()=>D(le))});W.finished.finally(()=>{a(()=>{y(void 0),S(void 0),p(void 0),h({isTransitioning:!1})})}),a(()=>S(W));return}x?(v&&v.resolve(),x.skipTransition(),_({state:le,currentLocation:J.currentLocation,nextLocation:J.nextLocation})):(p(le),h({isTransitioning:!0,flushSync:!1,currentLocation:J.currentLocation,nextLocation:J.nextLocation}))},[i.window,a,x,v,D]);E.useLayoutEffect(()=>i.subscribe(H),[i,H]),E.useEffect(()=>{g.isTransitioning&&!g.flushSync&&y(new ug)},[g]),E.useEffect(()=>{if(v&&f&&i.window){let le=f,k=v.promise,V=i.window.document.startViewTransition(async()=>{E.startTransition(()=>D(le)),await k});V.finished.finally(()=>{y(void 0),S(void 0),p(void 0),h({isTransitioning:!1})}),S(V)}},[f,v,i.window,D]),E.useEffect(()=>{v&&f&&u.location.key===f.location.key&&v.resolve()},[v,x,u.location,f]),E.useEffect(()=>{!g.isTransitioning&&w&&(p(w.state),h({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),_(void 0))},[g.isTransitioning,w]);let O=E.useMemo(()=>({createHref:i.createHref,encodeLocation:i.encodeLocation,go:le=>i.navigate(le),push:(le,k,V)=>i.navigate(le,{state:k,preventScrollReset:V==null?void 0:V.preventScrollReset}),replace:(le,k,V)=>i.navigate(le,{replace:!0,state:k,preventScrollReset:V==null?void 0:V.preventScrollReset})}),[i]),L=i.basename||"/",K=E.useMemo(()=>({router:i,navigator:O,static:!1,basename:L,unstable_onError:l}),[i,O,L,l]);return E.createElement(E.Fragment,null,E.createElement(Br.Provider,{value:K},E.createElement(fa.Provider,{value:u},E.createElement(Ef.Provider,{value:F.current},E.createElement(Ks.Provider,{value:g},E.createElement(hg,{basename:L,location:u.location,navigationType:u.historyAction,navigator:O},E.createElement(dg,{routes:i.routes,future:i.future,state:u,unstable_onError:l})))))),null)}var dg=E.memo(fg);function fg({routes:i,future:a,state:l,unstable_onError:u}){return Gm(i,void 0,l,u,a)}function pg(i){return Qm(i.context)}function hg({basename:i="/",children:a=null,location:l,navigationType:u="POP",navigator:d,static:f=!1}){Me(!pa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=i.replace(/^\/*/,"/"),g=E.useMemo(()=>({basename:p,navigator:d,static:f,future:{}}),[p,d,f]);typeof l=="string"&&(l=Hn(l));let{pathname:h="/",search:v="",hash:y="",state:x=null,key:S="default"}=l,w=E.useMemo(()=>{let _=cn(h,p);return _==null?null:{location:{pathname:_,search:v,hash:y,state:x,key:S},navigationType:u}},[p,h,v,y,x,S,u]);return vt(w!=null,`<Router basename="${p}"> is not able to match the URL "${h}${v}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:E.createElement(In.Provider,{value:g},E.createElement(zl.Provider,{children:a,value:w}))}var Il="get",Pl="application/x-www-form-urlencoded";function Fl(i){return i!=null&&typeof i.tagName=="string"}function mg(i){return Fl(i)&&i.tagName.toLowerCase()==="button"}function gg(i){return Fl(i)&&i.tagName.toLowerCase()==="form"}function yg(i){return Fl(i)&&i.tagName.toLowerCase()==="input"}function vg(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function xg(i,a){return i.button===0&&(!a||a==="_self")&&!vg(i)}var El=null;function wg(){if(El===null)try{new FormData(document.createElement("form"),0),El=!1}catch{El=!0}return El}var bg=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _s(i){return i!=null&&!bg.has(i)?(vt(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pl}"`),null):i}function Sg(i,a){let l,u,d,f,p;if(gg(i)){let g=i.getAttribute("action");u=g?cn(g,a):null,l=i.getAttribute("method")||Il,d=_s(i.getAttribute("enctype"))||Pl,f=new FormData(i)}else if(mg(i)||yg(i)&&(i.type==="submit"||i.type==="image")){let g=i.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=i.getAttribute("formaction")||g.getAttribute("action");if(u=h?cn(h,a):null,l=i.getAttribute("formmethod")||g.getAttribute("method")||Il,d=_s(i.getAttribute("formenctype"))||_s(g.getAttribute("enctype"))||Pl,f=new FormData(g,i),!wg()){let{name:v,type:y,value:x}=i;if(y==="image"){let S=v?`${v}.`:"";f.append(`${S}x`,"0"),f.append(`${S}y`,"0")}else v&&f.append(v,x)}}else{if(Fl(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');l=Il,u=null,d=Pl,p=i}return f&&d==="text/plain"&&(p=f,f=void 0),{action:u,method:l.toLowerCase(),encType:d,formData:f,body:p}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ys(i,a){if(i===!1||i===null||typeof i>"u")throw new Error(a)}function kg(i,a,l){let u=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return u.pathname==="/"?u.pathname=`_root.${l}`:a&&cn(u.pathname,a)==="/"?u.pathname=`${a.replace(/\/$/,"")}/_root.${l}`:u.pathname=`${u.pathname.replace(/\/$/,"")}.${l}`,u}async function Eg(i,a){if(i.id in a)return a[i.id];try{let l=await import(i.module);return a[i.id]=l,l}catch(l){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(l),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Cg(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function jg(i,a,l){let u=await Promise.all(i.map(async d=>{let f=a.routes[d.route.id];if(f){let p=await Eg(f,l);return p.links?p.links():[]}return[]}));return Dg(u.flat(1).filter(Cg).filter(d=>d.rel==="stylesheet"||d.rel==="preload").map(d=>d.rel==="stylesheet"?{...d,rel:"prefetch",as:"style"}:{...d,rel:"prefetch"}))}function Zd(i,a,l,u,d,f){let p=(h,v)=>l[v]?h.route.id!==l[v].route.id:!0,g=(h,v)=>{var y;return l[v].pathname!==h.pathname||((y=l[v].route.path)==null?void 0:y.endsWith("*"))&&l[v].params["*"]!==h.params["*"]};return f==="assets"?a.filter((h,v)=>p(h,v)||g(h,v)):f==="data"?a.filter((h,v)=>{var x;let y=u.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(p(h,v)||g(h,v))return!0;if(h.route.shouldRevalidate){let S=h.route.shouldRevalidate({currentUrl:new URL(d.pathname+d.search+d.hash,window.origin),currentParams:((x=l[0])==null?void 0:x.params)||{},nextUrl:new URL(i,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function Rg(i,a,{includeHydrateFallback:l}={}){return Ig(i.map(u=>{let d=a.routes[u.route.id];if(!d)return[];let f=[d.module];return d.clientActionModule&&(f=f.concat(d.clientActionModule)),d.clientLoaderModule&&(f=f.concat(d.clientLoaderModule)),l&&d.hydrateFallbackModule&&(f=f.concat(d.hydrateFallbackModule)),d.imports&&(f=f.concat(d.imports)),f}).flat(1))}function Ig(i){return[...new Set(i)]}function Pg(i){let a={},l=Object.keys(i).sort();for(let u of l)a[u]=i[u];return a}function Dg(i,a){let l=new Set;return new Set(a),i.reduce((u,d)=>{let f=JSON.stringify(Pg(d));return l.has(f)||(l.add(f),u.push({key:f,link:d})),u},[])}function If(){let i=E.useContext(Br);return Ys(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function _g(){let i=E.useContext(fa);return Ys(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Js=E.createContext(void 0);Js.displayName="FrameworkContext";function Pf(){let i=E.useContext(Js);return Ys(i,"You must render this element inside a <HydratedRouter> element"),i}function Ng(i,a){let l=E.useContext(Js),[u,d]=E.useState(!1),[f,p]=E.useState(!1),{onFocus:g,onBlur:h,onMouseEnter:v,onMouseLeave:y,onTouchStart:x}=a,S=E.useRef(null);E.useEffect(()=>{if(i==="render"&&p(!0),i==="viewport"){let F=H=>{H.forEach(O=>{p(O.isIntersecting)})},D=new IntersectionObserver(F,{threshold:.5});return S.current&&D.observe(S.current),()=>{D.disconnect()}}},[i]),E.useEffect(()=>{if(u){let F=setTimeout(()=>{p(!0)},100);return()=>{clearTimeout(F)}}},[u]);let w=()=>{d(!0)},_=()=>{d(!1),p(!1)};return l?i!=="intent"?[f,S,{}]:[f,S,{onFocus:aa(g,w),onBlur:aa(h,_),onMouseEnter:aa(v,w),onMouseLeave:aa(y,_),onTouchStart:aa(x,w)}]:[!1,S,{}]}function aa(i,a){return l=>{i&&i(l),l.defaultPrevented||a(l)}}function Lg({page:i,...a}){let{router:l}=If(),u=E.useMemo(()=>gr(l.routes,i,l.basename),[l.routes,i,l.basename]);return u?E.createElement(zg,{page:i,matches:u,...a}):null}function Tg(i){let{manifest:a,routeModules:l}=Pf(),[u,d]=E.useState([]);return E.useEffect(()=>{let f=!1;return jg(i,a,l).then(p=>{f||d(p)}),()=>{f=!0}},[i,a,l]),u}function zg({page:i,matches:a,...l}){let u=wr(),{manifest:d,routeModules:f}=Pf(),{basename:p}=If(),{loaderData:g,matches:h}=_g(),v=E.useMemo(()=>Zd(i,a,h,d,u,"data"),[i,a,h,d,u]),y=E.useMemo(()=>Zd(i,a,h,d,u,"assets"),[i,a,h,d,u]),x=E.useMemo(()=>{if(i===u.pathname+u.search+u.hash)return[];let _=new Set,F=!1;if(a.forEach(H=>{var L;let O=d.routes[H.route.id];!O||!O.hasLoader||(!v.some(K=>K.route.id===H.route.id)&&H.route.id in g&&((L=f[H.route.id])!=null&&L.shouldRevalidate)||O.hasClientLoader?F=!0:_.add(H.route.id))}),_.size===0)return[];let D=kg(i,p,"data");return F&&_.size>0&&D.searchParams.set("_routes",a.filter(H=>_.has(H.route.id)).map(H=>H.route.id).join(",")),[D.pathname+D.search]},[p,g,u,d,v,a,i,f]),S=E.useMemo(()=>Rg(y,d),[y,d]),w=Tg(y);return E.createElement(E.Fragment,null,x.map(_=>E.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...l})),S.map(_=>E.createElement("link",{key:_,rel:"modulepreload",href:_,...l})),w.map(({key:_,link:F})=>E.createElement("link",{key:_,nonce:l.nonce,...F})))}function Fg(...i){return a=>{i.forEach(l=>{typeof l=="function"?l(a):l!=null&&(l.current=a)})}}var Df=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Df&&(window.__reactRouterVersion="7.9.3")}catch{}function Ag(i,a){return wm({basename:a==null?void 0:a.basename,getContext:a==null?void 0:a.getContext,future:a==null?void 0:a.future,history:Oh({window:a==null?void 0:a.window}),hydrationData:Mg(),routes:i,mapRouteProperties:og,hydrationRouteProperties:sg,dataStrategy:a==null?void 0:a.dataStrategy,patchRoutesOnNavigation:a==null?void 0:a.patchRoutesOnNavigation,window:a==null?void 0:a.window}).initialize()}function Mg(){let i=window==null?void 0:window.__staticRouterHydrationData;return i&&i.errors&&(i={...i,errors:Og(i.errors)}),i}function Og(i){if(!i)return null;let a=Object.entries(i),l={};for(let[u,d]of a)if(d&&d.__type==="RouteErrorResponse")l[u]=new Nl(d.status,d.statusText,d.data,d.internal===!0);else if(d&&d.__type==="Error"){if(d.__subType){let f=window[d.__subType];if(typeof f=="function")try{let p=new f(d.message);p.stack="",l[u]=p}catch{}}if(l[u]==null){let f=new Error(d.message);f.stack="",l[u]=f}}else l[u]=d;return l}var _f=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nf=E.forwardRef(function({onClick:a,discover:l="render",prefetch:u="none",relative:d,reloadDocument:f,replace:p,state:g,target:h,to:v,preventScrollReset:y,viewTransition:x,...S},w){let{basename:_}=E.useContext(In),F=typeof v=="string"&&_f.test(v),D,H=!1;if(typeof v=="string"&&F&&(D=v,Df))try{let Q=new URL(window.location.href),W=v.startsWith("//")?new URL(Q.protocol+v):new URL(v),te=cn(W.pathname,_);W.origin===Q.origin&&te!=null?v=te+W.search+W.hash:H=!0}catch{vt(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=Vm(v,{relative:d}),[L,K,le]=Ng(u,S),k=Ug(v,{replace:p,state:g,target:h,preventScrollReset:y,relative:d,viewTransition:x});function V(Q){a&&a(Q),Q.defaultPrevented||k(Q)}let J=E.createElement("a",{...S,...le,href:D||O,onClick:H||f?a:V,ref:Fg(w,K),target:h,"data-discover":!F&&l==="render"?"true":void 0});return L&&!F?E.createElement(E.Fragment,null,J,E.createElement(Lg,{page:O})):J});Nf.displayName="Link";var Lf=E.forwardRef(function({"aria-current":a="page",caseSensitive:l=!1,className:u="",end:d=!1,style:f,to:p,viewTransition:g,children:h,...v},y){let x=ha(p,{relative:v.relative}),S=wr(),w=E.useContext(fa),{navigator:_,basename:F}=E.useContext(In),D=w!=null&&qg(x)&&g===!0,H=_.encodeLocation?_.encodeLocation(x).pathname:x.pathname,O=S.pathname,L=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;l||(O=O.toLowerCase(),L=L?L.toLowerCase():null,H=H.toLowerCase()),L&&F&&(L=cn(L,F)||L);const K=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let le=O===H||!d&&O.startsWith(H)&&O.charAt(K)==="/",k=L!=null&&(L===H||!d&&L.startsWith(H)&&L.charAt(H.length)==="/"),V={isActive:le,isPending:k,isTransitioning:D},J=le?a:void 0,Q;typeof u=="function"?Q=u(V):Q=[u,le?"active":null,k?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let W=typeof f=="function"?f(V):f;return E.createElement(Nf,{...v,"aria-current":J,className:Q,ref:y,style:W,to:p,viewTransition:g},typeof h=="function"?h(V):h)});Lf.displayName="NavLink";var $g=E.forwardRef(({discover:i="render",fetcherKey:a,navigate:l,reloadDocument:u,replace:d,state:f,method:p=Il,action:g,onSubmit:h,relative:v,preventScrollReset:y,viewTransition:x,...S},w)=>{let _=Hg(),F=Kg(g,{relative:v}),D=p.toLowerCase()==="get"?"get":"post",H=typeof g=="string"&&_f.test(g),O=L=>{if(h&&h(L),L.defaultPrevented)return;L.preventDefault();let K=L.nativeEvent.submitter,le=(K==null?void 0:K.getAttribute("formmethod"))||p;_(K||L.currentTarget,{fetcherKey:a,method:le,navigate:l,replace:d,state:f,relative:v,preventScrollReset:y,viewTransition:x})};return E.createElement("form",{ref:w,method:D,action:F,onSubmit:u?h:O,...S,"data-discover":!H&&i==="render"?"true":void 0})});$g.displayName="Form";function Bg(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tf(i){let a=E.useContext(Br);return Me(a,Bg(i)),a}function Ug(i,{target:a,replace:l,state:u,preventScrollReset:d,relative:f,viewTransition:p}={}){let g=Hm(),h=wr(),v=ha(i,{relative:f});return E.useCallback(y=>{if(xg(y,a)){y.preventDefault();let x=l!==void 0?l:xr(h)===xr(v);g(i,{replace:x,state:u,preventScrollReset:d,relative:f,viewTransition:p})}},[h,g,v,l,u,a,i,d,f,p])}var Wg=0,Vg=()=>`__${String(++Wg)}__`;function Hg(){let{router:i}=Tf("useSubmit"),{basename:a}=E.useContext(In),l=ig();return E.useCallback(async(u,d={})=>{let{action:f,method:p,encType:g,formData:h,body:v}=Sg(u,a);if(d.navigate===!1){let y=d.fetcherKey||Vg();await i.fetch(y,l,d.action||f,{preventScrollReset:d.preventScrollReset,formData:h,body:v,formMethod:d.method||p,formEncType:d.encType||g,flushSync:d.flushSync})}else await i.navigate(d.action||f,{preventScrollReset:d.preventScrollReset,formData:h,body:v,formMethod:d.method||p,formEncType:d.encType||g,replace:d.replace,state:d.state,fromRouteId:l,flushSync:d.flushSync,viewTransition:d.viewTransition})},[i,a,l])}function Kg(i,{relative:a}={}){let{basename:l}=E.useContext(In),u=E.useContext(Pn);Me(u,"useFormAction must be used inside a RouteContext");let[d]=u.matches.slice(-1),f={...ha(i||".",{relative:a})},p=wr();if(i==null){f.search=p.search;let g=new URLSearchParams(f.search),h=g.getAll("index");if(h.some(y=>y==="")){g.delete("index"),h.filter(x=>x).forEach(x=>g.append("index",x));let y=g.toString();f.search=y?`?${y}`:""}}return(!i||i===".")&&d.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),l!=="/"&&(f.pathname=f.pathname==="/"?l:Rn([l,f.pathname])),xr(f)}function qg(i,{relative:a}={}){let l=E.useContext(Ks);Me(l!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:u}=Tf("useViewTransitionState"),d=ha(i,{relative:a});if(!l.isTransitioning)return!1;let f=cn(l.currentLocation.pathname,u)||l.currentLocation.pathname,p=cn(l.nextLocation.pathname,u)||l.nextLocation.pathname;return _l(d.pathname,p)!=null||_l(d.pathname,f)!=null}var Qg=sf();function Gg(i){return E.createElement(cg,{flushSync:Qg.flushSync,...i})}const Yg="modulepreload",Jg=function(i,a){return new URL(i,a).href},ef={},yi=function(a,l,u){let d=Promise.resolve();if(l&&l.length>0){let p=function(y){return Promise.all(y.map(x=>Promise.resolve(x).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};const g=document.getElementsByTagName("link"),h=document.querySelector("meta[property=csp-nonce]"),v=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));d=p(l.map(y=>{if(y=Jg(y,u),y in ef)return;ef[y]=!0;const x=y.endsWith(".css"),S=x?'[rel="stylesheet"]':"";if(!!u)for(let F=g.length-1;F>=0;F--){const D=g[F];if(D.href===y&&(!x||D.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${y}"]${S}`))return;const _=document.createElement("link");if(_.rel=x?"stylesheet":Yg,x||(_.as="script"),_.crossOrigin="",_.href=y,v&&_.setAttribute("nonce",v),document.head.appendChild(_),x)return new Promise((F,D)=>{_.addEventListener("load",F),_.addEventListener("error",()=>D(new Error(`Unable to preload CSS for ${y}`)))})}))}function f(p){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=p,window.dispatchEvent(g),!g.defaultPrevented)throw p}return d.then(p=>{for(const g of p||[])g.status==="rejected"&&f(g.reason);return a().catch(f)})},Xg=typeof window<"u"&&window.electronAPI,ct={join:(...i)=>i.filter(a=>a&&a.length>0).join("/").replace(/\/+/g,"/").replace(/\\/g,"/")},Mr=class Mr{constructor(){xn(this,"_appDataPath",null);xn(this,"_documentsPath",null);xn(this,"_downloadsPath",null)}static getInstance(){return Mr.instance||(Mr.instance=new Mr),Mr.instance}async getElectronPath(a){if(!Xg)throw new Error(`Electron API not available for path type: ${a}`);try{return await window.rawalite.paths.get(a)}catch(l){throw console.error(`Failed to get ${a} path via IPC:`,l),l}}async getAppDataPath(){return this._appDataPath?this._appDataPath:(this._appDataPath=await this.getElectronPath("userData"),this._appDataPath)}async getDocumentsPath(){return this._documentsPath?this._documentsPath:(this._documentsPath=await this.getElectronPath("documents"),this._documentsPath)}async getDownloadsPath(){return this._downloadsPath?this._downloadsPath:(this._downloadsPath=await this.getElectronPath("downloads"),this._downloadsPath)}resetCache(){this._appDataPath=null,this._documentsPath=null,this._downloadsPath=null}};xn(Mr,"instance");let Ms=Mr;class Vn{static async DATABASE_DIR(){const a=await this.pathManager.getAppDataPath();return ct.join(a,"database")}static async DATABASE_FILE(){const a=await this.DATABASE_DIR();return ct.join(a,"rawalite.db")}static async DATABASE_BACKUP_FILE(){const a=await this.DATABASE_DIR(),l=new Date().toISOString().replace(/[:.]/g,"-");return ct.join(a,"backups",`backup-${l}.db`)}static async LOGS_DIR(){const a=await this.pathManager.getAppDataPath();return ct.join(a,"logs")}static async LOG_FILE(){const a=await this.LOGS_DIR(),l=new Date().toISOString().split("T")[0];return ct.join(a,`rawalite-${l}.log`)}static async ERROR_LOG_FILE(){const a=await this.LOGS_DIR();return ct.join(a,"errors.log")}static async SETTINGS_DIR(){const a=await this.pathManager.getAppDataPath();return ct.join(a,"settings")}static async SETTINGS_FILE(){const a=await this.SETTINGS_DIR();return ct.join(a,"app-settings.json")}static async USER_PREFERENCES_FILE(){const a=await this.SETTINGS_DIR();return ct.join(a,"user-preferences.json")}static async TEMPLATES_DIR(){const a=await this.pathManager.getAppDataPath();return ct.join(a,"templates")}static async INVOICE_TEMPLATE_FILE(){const a=await this.TEMPLATES_DIR();return ct.join(a,"invoice-template.html")}static async OFFER_TEMPLATE_FILE(){const a=await this.TEMPLATES_DIR();return ct.join(a,"offer-template.html")}static async BACKUPS_DIR(){const a=await this.pathManager.getDocumentsPath();return ct.join(a,"RawaLite-Backups")}static async FULL_BACKUP_FILE(){const a=await this.BACKUPS_DIR(),l=new Date().toISOString().replace(/[:.]/g,"-");return ct.join(a,`rawalite-full-backup-${l}.zip`)}static async DATA_EXPORT_FILE(a){const l=await this.BACKUPS_DIR(),u=new Date().toISOString().split("T")[0];return ct.join(l,`${a}-export-${u}.csv`)}static async EXPORTS_DIR(){const a=await this.pathManager.getDownloadsPath();return ct.join(a,"RawaLite-Exports")}static async PDF_EXPORT_FILE(a,l){const u=await this.EXPORTS_DIR(),d=new Date().toISOString().split("T")[0];return ct.join(u,`${a}-${l}-${d}.pdf`)}static async CSV_EXPORT_FILE(a){const l=await this.EXPORTS_DIR(),u=new Date().toISOString().split("T")[0];return ct.join(l,`${a}-${u}.csv`)}static async ASSETS_DIR(){const a=await this.pathManager.getAppDataPath();return ct.join(a,"assets")}static async COMPANY_LOGO_FILE(){const a=await this.ASSETS_DIR();return ct.join(a,"company-logo.png")}static async USER_UPLOADS_DIR(){const a=await this.ASSETS_DIR();return ct.join(a,"uploads")}static async TEST_DATA_DIR(){throw new Error("TEST_DATA_DIR only available in test environment")}static async TEMP_DIR(){const a=await this.pathManager.getAppDataPath();return ct.join(a,"temp")}static async ensureDir(a){try{await window.rawalite.fs.ensureDir(a)}catch(l){throw new Error(`Failed to create directory: ${a} - ${l}`)}}static async cleanTempDir(){try{const a=await this.TEMP_DIR();await this.ensureDir(a);const l=await window.rawalite.fs.readDir(a),u=Date.now()-1440*60*1e3;for(const d of l){const f=ct.join(a,d);(await window.rawalite.fs.stat(f)).mtime<u&&await window.rawalite.fs.unlink(f)}}catch(a){console.warn("Failed to clean temp directory:",a)}}static resetCache(){this.pathManager.resetCache()}static async getAllPaths(){return{appData:await this.pathManager.getAppDataPath(),documents:await this.pathManager.getDocumentsPath(),downloads:await this.pathManager.getDownloadsPath(),database:await this.DATABASE_FILE(),logs:await this.LOGS_DIR(),backups:await this.BACKUPS_DIR(),exports:await this.EXPORTS_DIR(),templates:await this.TEMPLATES_DIR(),settings:await this.SETTINGS_DIR(),assets:await this.ASSETS_DIR()}}}xn(Vn,"pathManager",Ms.getInstance());class Ns{static async log(a,l="info"){try{const d=`[${new Date().toISOString()}] ${l.toUpperCase()}: ${a}`;console.log(d);try{const f=await Vn.LOG_FILE(),p=await Vn.LOGS_DIR();await Vn.ensureDir(p),await window.rawalite.fs.appendFile(f,d+`
`)}catch(f){console.warn("File logging failed, console only:",f)}}catch(u){console.error("Logging failed:",u)}}static async logError(a,l){const u=a instanceof Error?a.message:a,d=l?`${l}: ${u}`:u;await this.log(d,"error");try{const f=await Vn.ERROR_LOG_FILE(),p=await Vn.LOGS_DIR();await Vn.ensureDir(p);const h=`[${new Date().toISOString()}] ERROR: ${d}
`;await window.rawalite.fs.appendFile(f,h)}catch(f){console.error("Error logging failed:",f)}}}const Zt=class Zt{static toSQL(a){if(!a||typeof a!="object")return a;const l={};for(const[u,d]of Object.entries(a)){const f=Zt.JS_TO_SQL_MAPPINGS[u]||u;l[f]=d}return l}static fromSQL(a){if(!a||typeof a!="object")return a;const l={};for(const[u,d]of Object.entries(a)){const f=Zt.SQL_TO_JS_MAPPINGS[u]||u;l[f]=d}return l}static convertQuery(a){let l=a;for(const[u,d]of Object.entries(Zt.JS_TO_SQL_MAPPINGS)){const f=new RegExp(`\\b${u}\\b`,"g");l=l.replace(f,d)}return l}static fromSQLArray(a){return Array.isArray(a)?a.map(l=>Zt.fromSQL(l)):a}static getMappings(){return{jsToSql:{...Zt.JS_TO_SQL_MAPPINGS},sqlToJs:{...Zt.SQL_TO_JS_MAPPINGS}}}static hasMapping(a,l){return l==="js-to-sql"?a in Zt.JS_TO_SQL_MAPPINGS:a in Zt.SQL_TO_JS_MAPPINGS}};xn(Zt,"JS_TO_SQL_MAPPINGS",{createdAt:"created_at",updatedAt:"updated_at",companyName:"company_name",contactPerson:"contact_person",addressStreet:"address_street",addressCity:"address_city",addressZip:"address_zip",addressCountry:"address_country",taxNumber:"tax_number",internalTitle:"internal_title",parentPackageId:"parent_package_id",addVat:"add_vat",customerId:"customer_id",offerId:"offer_id",totalAmount:"total_amount",taxRate:"tax_rate",validUntil:"valid_until",dueDate:"due_date",paidAt:"paid_at",unitPrice:"unit_price",parentItemId:"parent_item_id",packageId:"package_id",invoiceId:"invoice_id",vatRate:"vat_rate",vatAmount:"vat_amount",lastNumber:"last_number",offerNumber:"offer_number",invoiceNumber:"invoice_number",packageLineItems:"package_line_items",offerLineItems:"offer_line_items",invoiceLineItems:"invoice_line_items",numberingCircles:"numbering_circles"}),xn(Zt,"SQL_TO_JS_MAPPINGS",Object.fromEntries(Object.entries(Zt.JS_TO_SQL_MAPPINGS).map(([a,l])=>[l,a])));let vi=Zt;const Dt=vi.toSQL,wn=vi.fromSQL,oa=vi.fromSQLArray,bt=vi.convertQuery,Or=class Or{constructor(){var a,l;if(!((l=(a=window.rawalite)==null?void 0:a.db)!=null&&l.query))throw new Error("Database API not available - check preload script")}static getInstance(){return Or.instance||(Or.instance=new Or),Or.instance}async query(a,l){try{const u=bt(a),d=l;console.log("DbClient.query",{originalSQL:a,mappedSQL:u,params:d});const f=await window.rawalite.db.query(u,d),p=oa(f);return console.log("DbClient.query result",{rawCount:f.length,mappedCount:p.length}),p}catch(u){throw await Ns.logError(u,"DbClient.query failed"),u}}async exec(a,l){try{const u=bt(a),d=l;console.log("DbClient.exec",{originalSQL:a,mappedSQL:u,params:d});const f=await window.rawalite.db.exec(u,d);return console.log("DbClient.exec result",f),f}catch(u){throw await Ns.logError(u,"DbClient.exec failed"),u}}async transaction(a){try{const l=a.map(d=>({sql:bt(d.sql),params:d.params}));console.log("DbClient.transaction",{originalQueryCount:a.length,mappedQueryCount:l.length});const u=await window.rawalite.db.transaction(l);return console.log("DbClient.transaction results",{resultCount:u.length}),u}catch(l){throw await Ns.logError(l,"DbClient.transaction failed"),l}}async insert(a,l){const u=Dt(l),d=Object.keys(u),f=Object.values(u),p=d.map(()=>"?").join(", "),g=`INSERT INTO ${a} (${d.join(", ")}) VALUES (${p})`;return(await this.exec(g,f)).lastInsertRowid}async updateById(a,l,u){const d=Dt(u),f=Object.keys(d),p=Object.values(d),g=f.map(y=>`${y} = ?`).join(", "),h=`UPDATE ${a} SET ${g} WHERE id = ?`;return(await this.exec(h,[...p,l])).changes}async deleteById(a,l){const u=`DELETE FROM ${a} WHERE id = ?`;return(await this.exec(u,[l])).changes}async getById(a,l){const u=await this.query(`SELECT * FROM ${a} WHERE id = ? LIMIT 1`,[l]);return u.length>0?u[0]:null}async getAll(a,l){const u=`SELECT * FROM ${a}${l?` ORDER BY ${l}`:""}`;return await this.query(u)}async count(a,l,u){var p;const d=`SELECT COUNT(*) as count FROM ${a}${l?` WHERE ${l}`:""}`;return((p=(await this.query(d,u))[0])==null?void 0:p.count)||0}async exists(a,l,u){return await this.count(a,l,u)>0}};xn(Or,"instance",null);let Tl=Or;const vr={companyData:{name:"RawaLite",street:"",postalCode:"",city:"",phone:"",email:"",website:"",taxNumber:"",vatId:"",kleinunternehmer:!1,bankName:"",bankAccount:"",bankBic:"",logo:""},numberingCircles:[{id:"customers",name:"Kunden",prefix:"K-",digits:4,current:0,resetMode:"never"},{id:"offers",name:"Angebote",prefix:"AN-",digits:4,current:0,resetMode:"yearly"},{id:"invoices",name:"Rechnungen",prefix:"RE-",digits:4,current:0,resetMode:"yearly"},{id:"packages",name:"Pakete",prefix:"PAK-",digits:3,current:0,resetMode:"never"}]};class Zg{constructor(){xn(this,"client");this.client=Tl.getInstance()}async getSettings(){const a=bt("SELECT * FROM settings WHERE id = 1"),u=(await this.client.query(a))[0];let d;if(u){const p=wn(u);d={name:p.companyName||"",street:p.street||"",postalCode:p.zip||"",city:p.city||"",phone:p.phone||"",email:p.email||"",website:p.website||"",taxNumber:p.taxId||"",vatId:p.vatId||"",kleinunternehmer:!!p.kleinunternehmer,bankName:p.bankName||"",bankAccount:p.bankAccount||"",bankBic:p.bankBic||"",logo:p.logo||""}}else d=vr.companyData;let f;try{const p=bt(`
        SELECT id, name, prefix, digits, current, resetMode, lastResetYear
        FROM numbering_circles
        ORDER BY name
      `),g=await this.client.query(p);g.length>0?f=g.map(h=>({id:h.id,name:h.name,prefix:h.prefix,digits:h.digits,current:h.current,resetMode:h.resetMode,lastResetYear:h.lastResetYear??void 0})):f=vr.numberingCircles}catch(p){console.warn("Error loading numbering circles from SQLite, trying localStorage fallback:",p);try{const g=localStorage.getItem("rawalite-numbering");g?f=JSON.parse(g):f=vr.numberingCircles}catch(g){console.warn("LocalStorage fallback failed:",g),f=vr.numberingCircles}}return{companyData:d,numberingCircles:f}}async updateCompanyData(a){const l=Dt({companyName:a.name,street:a.street,zip:a.postalCode,city:a.city,phone:a.phone,email:a.email,website:a.website,taxId:a.taxNumber,vatId:a.vatId,kleinunternehmer:a.kleinunternehmer?1:0,bankName:a.bankName,bankAccount:a.bankAccount,bankBic:a.bankBic,logo:a.logo}),u=new Date().toISOString();await this.client.exec(`
      INSERT OR REPLACE INTO settings (
        id, company_name, street, zip, city, phone, email, website, 
        tax_id, vat_id, kleinunternehmer, bank_name, bank_account, bank_bic, 
        logo, updated_at
      ) VALUES (
        1, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?
      )
    `,[l.company_name,l.street,l.zip,l.city,l.phone,l.email,l.website,l.tax_id,l.vat_id,l.kleinunternehmer,l.bank_name,l.bank_account,l.bank_bic,l.logo,u])}async updateNumberingCircles(a){try{const l=[];for(const u of a)l.push({sql:`
            INSERT OR REPLACE INTO numbering_circles 
            (id, name, prefix, digits, current, resetMode, lastResetYear, createdAt, updatedAt)
            VALUES (?, ?, ?, ?, ?, ?, ?, 
              COALESCE((SELECT createdAt FROM numbering_circles WHERE id = ?), datetime('now')),
              datetime('now')
            )
          `,params:[u.id,u.name,u.prefix,u.digits,u.current,u.resetMode,u.lastResetYear??null,u.id]});await this.client.transaction(l),console.log("✅ Nummernkreise in SQLite gespeichert")}catch(l){console.error("Error saving numbering circles to SQLite:",l);try{localStorage.setItem("rawalite-numbering",JSON.stringify(a)),console.warn("⚠️ Fallback: Nummernkreise in localStorage gespeichert")}catch(u){throw console.error("LocalStorage fallback failed:",u),l}}}async getNextNumber(a){const{NummernkreisService:l}=await yi(async()=>{const{NummernkreisService:u}=await import("./NummernkreisService-wOqahvtG.js");return{NummernkreisService:u}},[],import.meta.url);return await l.getNextNumber(a)}}const zf=E.createContext(null),Cl=new Zg;function ey({children:i}){const[a,l]=E.useState(vr),[u,d]=E.useState(!0),[f,p]=E.useState(null),g=async()=>{try{d(!0);const S=await Cl.getSettings();l(S),p(null)}catch(S){console.error("Error loading settings from SQLite:",S),p("Fehler beim Laden der Einstellungen")}finally{d(!1)}};E.useEffect(()=>{g()},[]);const x={settings:a,loading:u,error:f,updateCompanyData:async S=>{try{d(!0),await Cl.updateCompanyData(S),await g()}catch(w){throw console.error("Error saving company data:",w),p("Fehler beim Speichern der Unternehmensdaten"),w}},updateNumberingCircles:async S=>{try{d(!0),await Cl.updateNumberingCircles(S),await g(),p(null)}catch(w){throw console.error("Error saving numbering circles:",w),p("Fehler beim Speichern der Nummernkreise"),w}},getNextNumber:async S=>{try{const w=await Cl.getNextNumber(S);return await g(),w}catch(w){throw console.error("Error getting next number:",w),w}},refreshSettings:g};return s.jsx(zf.Provider,{value:x,children:i})}function Ff(){const i=E.useContext(zf);if(!i)throw new Error("useSettings must be used within a SettingsProvider");return i}const Al=()=>({offers:[],loading:!1}),Xs=()=>({invoices:[],loading:!1}),ty=""+new URL("rawalite-logo-D3IvfwpA.png",import.meta.url).href;function ny(){var g,h,v,y;const{settings:i,loading:a,error:l}=Ff(),{offers:u}=Al(),{invoices:d}=Xs(),f={totalOffers:u.length,pendingOffers:u.filter(x=>x.status==="draft").length,acceptedOffers:u.filter(x=>x.status==="accepted").length,totalInvoices:d.length,paidInvoices:d.filter(x=>x.status==="paid").length,unpaidInvoices:d.filter(x=>x.status==="draft"||x.status==="sent"||x.status==="overdue").length,totalOfferValue:u.reduce((x,S)=>x+S.total,0),paidAmount:d.filter(x=>x.status==="paid").reduce((x,S)=>x+S.total,0),unpaidAmount:d.filter(x=>x.status!=="paid").reduce((x,S)=>x+S.total,0)},p=[{to:"/",label:"Dashboard"},{to:"/kunden",label:"Kunden"},{to:"/pakete",label:"Pakete"},{to:"/angebote",label:"Angebote"},{to:"/rechnungen",label:"Rechnungen"},{to:"/einstellungen",label:"Einstellungen"}];return s.jsxs("aside",{className:"sidebar",children:[s.jsx("div",{style:{marginBottom:"20px"},children:s.jsx("div",{style:{width:"100%",textAlign:"center",padding:"16px 8px",marginBottom:"16px"},children:s.jsx("img",{src:ty,alt:"RawaLite",style:{width:"100%",maxWidth:"180px",height:"auto",objectFit:"contain",filter:"drop-shadow(0 2px 8px rgba(0,0,0,0.3))"}})})}),s.jsx("ul",{className:"nav",children:p.map(x=>s.jsx("li",{children:s.jsx(Lf,{to:x.to,end:x.to==="/",children:x.label})},x.to))}),s.jsxs("div",{style:{marginTop:"20px",padding:"16px 12px",backgroundColor:"rgba(255,255,255,0.04)",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.08)"},children:[!a&&((g=i.companyData)!=null&&g.logo)?s.jsx("div",{style:{width:"100%",textAlign:"center",marginBottom:"12px"},children:s.jsx("img",{src:i.companyData.logo,alt:"Firmenlogo",style:{maxWidth:"100%",maxHeight:"60px",objectFit:"contain",borderRadius:"6px",filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.2))"},onError:x=>{console.error("Firmenlogo konnte nicht geladen werden"),x.currentTarget.style.display="none"}})}):s.jsxs("div",{style:{width:"100%",textAlign:"center",marginBottom:"12px",padding:"16px 10px",backgroundColor:"rgba(255,255,255,0.02)",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)"},children:[s.jsx("div",{style:{fontSize:"20px",marginBottom:"4px",opacity:.4},children:"⚪"}),s.jsx("div",{style:{fontSize:"10px",color:"rgba(255,255,255,0.4)",fontWeight:"normal"},children:"Kein Logo"})]}),s.jsx("div",{style:{fontSize:"16px",color:!a&&((h=i.companyData)!=null&&h.name)?"rgba(255,255,255,0.95)":"rgba(255,255,255,0.6)",fontWeight:"600",textAlign:"center",marginBottom:"16px",fontStyle:!a&&((v=i.companyData)!=null&&v.name)?"normal":"italic"},children:!a&&((y=i.companyData)!=null&&y.name)?i.companyData.name:"[Ihr Firmenname]"}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginBottom:"12px"},children:[s.jsxs("div",{style:{padding:"8px 10px",backgroundColor:"rgba(255,255,255,0.03)",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.08)"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"3px"},children:[s.jsx("span",{style:{fontSize:"12px",color:"rgba(255,255,255,0.7)",fontWeight:"500"},children:"📋 Angebote"}),s.jsx("span",{style:{fontSize:"13px",color:"rgba(255,255,255,0.9)",fontWeight:"600"},children:f.totalOffers})]}),s.jsxs("div",{style:{fontSize:"10px",color:"rgba(255,255,255,0.5)",display:"flex",justifyContent:"space-between"},children:[s.jsxs("span",{children:[f.pendingOffers," Entwürfe"]}),s.jsxs("span",{children:[f.acceptedOffers," Angenommen"]})]})]}),s.jsxs("div",{style:{padding:"8px 10px",backgroundColor:"rgba(255,255,255,0.03)",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.08)"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"3px"},children:[s.jsx("span",{style:{fontSize:"12px",color:"rgba(255,255,255,0.7)",fontWeight:"500"},children:"🧾 Rechnungen"}),s.jsx("span",{style:{fontSize:"13px",color:"rgba(255,255,255,0.9)",fontWeight:"600"},children:f.totalInvoices})]}),s.jsxs("div",{style:{fontSize:"10px",color:"rgba(255,255,255,0.5)",display:"flex",justifyContent:"space-between"},children:[s.jsxs("span",{children:[f.paidInvoices," Bezahlt"]}),s.jsxs("span",{children:[f.unpaidInvoices," Offen"]})]})]})]}),s.jsxs("div",{style:{padding:"8px 10px",backgroundColor:"rgba(255,255,255,0.03)",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.08)"},children:[s.jsx("div",{style:{fontSize:"12px",color:"rgba(255,255,255,0.7)",fontWeight:"500",marginBottom:"6px",textAlign:"center"},children:"💰 Finanzen"}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"3px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"10px"},children:[s.jsx("span",{style:{color:"rgba(255,255,255,0.6)"},children:"Bezahlt:"}),s.jsxs("span",{style:{color:"rgba(255,255,255,0.8)",fontWeight:"600"},children:["€",f.paidAmount.toLocaleString("de-DE",{minimumFractionDigits:0,maximumFractionDigits:0})]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"10px"},children:[s.jsx("span",{style:{color:"rgba(255,255,255,0.6)"},children:"Offen:"}),s.jsxs("span",{style:{color:"rgba(255,255,255,0.8)",fontWeight:"600"},children:["€",f.unpaidAmount.toLocaleString("de-DE",{minimumFractionDigits:0,maximumFractionDigits:0})]})]})]})]})]})]})}const ry="rawalite",iy="1.0.1",ay={"better-sqlite3":"^12.4.1",react:"^18.3.1"},ly={electron:"^31.7.7",vite:"^6.3.6"},hi={name:ry,version:iy,dependencies:ay,devDependencies:ly};class Os{static getAppVersion(){return{version:hi.version,name:hi.name,buildDate:new Date().toISOString(),buildEnvironment:"production",gitCommit:void 0,gitBranch:void 0}}static getSystemInfo(){const a=navigator.userAgent,l=a.match(/Electron\/([^\s]+)/),u=a.match(/Chrome\/([^\s]+)/),d=a.match(/Node\/([^\s]+)/);return{platform:navigator.platform,userAgent:a,electronVersion:l==null?void 0:l[1],chromeVersion:u==null?void 0:u[1],nodeVersion:(d==null?void 0:d[1])||"unknown"}}static getFullVersionInfo(){var a,l,u,d;return{app:this.getAppVersion(),system:this.getSystemInfo(),dependencies:{react:(a=hi.dependencies)==null?void 0:a.react,electron:(l=hi.devDependencies)==null?void 0:l.electron,"better-sqlite3":(u=hi.dependencies)==null?void 0:u["better-sqlite3"],vite:(d=hi.devDependencies)==null?void 0:d.vite}}}static getDisplayVersion(){const a=this.getAppVersion();return`${a.name} v${a.version}`}static getAboutVersionString(){const a=this.getAppVersion(),l=this.getSystemInfo();let u=`${a.name} v${a.version}`;if(a.buildEnvironment!=="production"&&(u+=` (${a.buildEnvironment})`),l.electronVersion&&(u+=`
Electron ${l.electronVersion}`),a.gitCommit){const d=a.gitCommit.substring(0,7);u+=`
Build ${d}`}return u}static getBackupVersionInfo(){const a=this.getAppVersion(),l=this.getSystemInfo();return{version:a.version,timestamp:new Date().toISOString(),buildInfo:`${a.name}@${a.version} (Electron ${l.electronVersion||"unknown"})`}}static isCompatibleVersion(a){const l=this.getAppVersion().version;try{const u=l.split(".").map(Number),d=a.split(".").map(Number);return!(u[0]!==d[0]||u[1]<d[1]||u[1]===d[1]&&u[2]<d[2])}catch(u){return console.warn("Version comparison failed:",u),!1}}static getDebugInfo(){var l;const a=this.getFullVersionInfo();return`
=== RawaLite Debug Information ===
App: ${a.app.name} v${a.app.version}
Build: ${a.app.buildEnvironment} (${a.app.buildDate})
Platform: ${a.system.platform}
Electron: ${a.system.electronVersion||"unknown"}
Chrome: ${a.system.chromeVersion||"unknown"}
Node: ${a.system.nodeVersion||"unknown"}

Dependencies:
${Object.entries(a.dependencies).map(([u,d])=>`- ${u}: ${d}`).join(`
`)}

System:
${a.system.userAgent}

Git: ${a.app.gitBranch||"unknown"}@${((l=a.app.gitCommit)==null?void 0:l.substring(0,7))||"unknown"}
    `.trim()}}const oy=Object.freeze(Object.defineProperty({__proto__:null,VersionService:Os,default:Os},Symbol.toStringTag,{value:"Module"})),sy={"/":"Dashboard","/kunden":"Kunden","/pakete":"Pakete","/angebote":"Angebote","/rechnungen":"Rechnungen","/einstellungen":"Einstellungen"};function Af({title:i,right:a}={}){const{pathname:l}=wr(),u=i??sy[l]??"RaWaLite",d=Os.getAppVersion();return s.jsxs("header",{className:"header",children:[s.jsx("div",{className:"title",children:u}),a&&s.jsx("div",{className:"header-right",children:a}),s.jsxs("div",{style:{opacity:.7},children:["v",d.version," ",d.buildEnvironment!=="production"?`(${d.buildEnvironment})`:""]})]})}function uy(){return s.jsxs("div",{className:"app",children:[s.jsx(ny,{}),s.jsx(Af,{}),s.jsx("main",{className:"main",children:s.jsx(pg,{})})]})}const Mf=E.createContext({adapter:null,ready:!1});function Ml(){const i=E.useContext(Mf);if(!i)throw new Error("usePersistence must be used within PersistenceProvider");return i}function Un(){return new Date().toISOString()}class tf{constructor(){xn(this,"client");this.client=Tl.getInstance()}async ready(){}async getSettings(){const a=bt("SELECT * FROM settings WHERE id = 1");return(await this.client.query(a))[0]}async updateSettings(a){const u={...await this.getSettings(),...a,updatedAt:Un()},d=Dt(u);return await this.client.transaction([{sql:`
          UPDATE settings SET
            company_name = ?, street = ?, zip = ?, city = ?, tax_id = ?,
            kleinunternehmer = ?, next_customer_number = ?, next_offer_number = ?, next_invoice_number = ?,
            updated_at = ?
          WHERE id = 1
        `,params:[d.company_name??null,d.street??null,d.zip??null,d.city??null,d.tax_id??null,d.kleinunternehmer?1:0,d.next_customer_number??1,d.next_offer_number??1,d.next_invoice_number??1,d.updated_at]}]),u}async listCustomers(){const a=bt("SELECT * FROM customers ORDER BY createdAt DESC"),l=await this.client.query(a);return oa(l)}async getCustomer(a){const l=bt("SELECT * FROM customers WHERE id = ?"),u=await this.client.query(l,[a]);return u.length===0?null:wn(u[0])}async createCustomer(a){const l=Un(),u=Dt({...a,createdAt:l,updatedAt:l}),d=await this.client.exec(`
      INSERT INTO customers (number, name, email, phone, street, zip, city, notes, created_at, updated_at)
      VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
    `,[u.number,u.name,u.email??null,u.phone??null,u.street??null,u.zip??null,u.city??null,u.notes??null,u.created_at,u.updated_at]),f=await this.getCustomer(d.lastInsertRowid);if(!f)throw new Error("Customer creation failed");return f}async updateCustomer(a,l){const u=await this.getCustomer(a);if(!u)throw new Error("Customer not found");const d={...u,...l,updatedAt:Un()},f=Dt(d);await this.client.exec(`
      UPDATE customers SET
        number = ?, name = ?, email = ?, phone = ?, street = ?, zip = ?, city = ?, notes = ?, updated_at = ?
      WHERE id = ?
    `,[f.number,f.name,f.email??null,f.phone??null,f.street??null,f.zip??null,f.city??null,f.notes??null,f.updated_at,a]);const p=await this.getCustomer(a);if(!p)throw new Error("Customer update failed");return p}async deleteCustomer(a){await this.client.exec("DELETE FROM customers WHERE id = ?",[a])}async listPackages(){const a=bt("SELECT * FROM packages ORDER BY createdAt DESC"),l=await this.client.query(a),u=oa(l),d=[];for(const f of u){const p=bt("SELECT id, title, quantity, amount, parentItemId, description FROM packageLineItems WHERE packageId = ? ORDER BY id"),g=await this.client.query(p,[f.id]),h=oa(g).map(v=>({id:v.id,title:v.title,quantity:v.quantity,amount:v.amount,parentItemId:v.parentItemId||void 0,description:v.description||void 0}));d.push({...f,lineItems:h})}return d}async getPackage(a){const l=bt("SELECT * FROM packages WHERE id = ?"),u=await this.client.query(l,[a]);if(u.length===0)return null;const d=wn(u[0]),f=bt("SELECT id, title, quantity, amount, parentItemId, description FROM packageLineItems WHERE packageId = ? ORDER BY id"),p=await this.client.query(f,[a]),g=oa(p).map(h=>({id:h.id,title:h.title,quantity:h.quantity,amount:h.amount,parentItemId:h.parentItemId||void 0,description:h.description||void 0}));return{...d,lineItems:g}}async createPackage(a){const l=Un(),u=Dt({...a,createdAt:l,updatedAt:l}),d=[{sql:`
          INSERT INTO packages (internal_title, parent_package_id, total, add_vat, created_at, updated_at)
          VALUES (?, ?, ?, ?, ?, ?)
        `,params:[u.internal_title,u.parent_package_id??null,u.total,u.add_vat?1:0,u.created_at,u.updated_at]}];await this.client.transaction(d);const p=(await this.client.query("SELECT id FROM packages WHERE internal_title = ? AND created_at = ? ORDER BY id DESC LIMIT 1",[u.internal_title,u.created_at]))[0].id;for(const h of a.lineItems){const v=Dt(h);await this.client.exec("INSERT INTO package_line_items (package_id, title, quantity, amount, parent_item_id, description) VALUES (?, ?, ?, ?, ?, ?)",[p,v.title,v.quantity,v.amount,v.parent_item_id||null,v.description||null])}const g=await this.getPackage(p);if(!g)throw new Error("Package creation failed");return g}async updatePackage(a,l){const u=await this.getPackage(a);if(!u)throw new Error("Package not found");const d={...u,...l,updatedAt:Un()},f=Dt(d);if(await this.client.exec(`
      UPDATE packages SET
        internal_title = ?, parent_package_id = ?, total = ?, add_vat = ?, updated_at = ?
      WHERE id = ?
    `,[f.internal_title,f.parent_package_id??null,f.total,f.add_vat?1:0,f.updated_at,a]),l.lineItems){await this.client.exec("DELETE FROM package_line_items WHERE package_id = ?",[a]);for(const g of l.lineItems){const h=Dt(g);await this.client.exec("INSERT INTO package_line_items (package_id, title, quantity, amount, parent_item_id, description) VALUES (?, ?, ?, ?, ?, ?)",[a,h.title,h.quantity,h.amount,h.parent_item_id||null,h.description||null])}}const p=await this.getPackage(a);if(!p)throw new Error("Package update failed");return p}async deletePackage(a){await this.client.transaction([{sql:"DELETE FROM package_line_items WHERE package_id = ?",params:[a]},{sql:"DELETE FROM packages WHERE id = ?",params:[a]}])}async listOffers(){const a=bt("SELECT * FROM offers ORDER BY createdAt DESC"),l=await this.client.query(a),u=[];for(const d of l){const f=wn(d),p=bt("SELECT id, title, description, quantity, unitPrice, total, parentItemId FROM offerLineItems WHERE offerId = ? ORDER BY id"),g=await this.client.query(p,[d.id]);u.push({...f,lineItems:g.map(h=>{const v=wn(h);return{id:v.id,title:v.title,description:v.description||void 0,quantity:v.quantity,unitPrice:v.unitPrice,total:v.total,parentItemId:v.parentItemId||void 0}})})}return u}async getOffer(a){const l=bt("SELECT * FROM offers WHERE id = ?"),u=await this.client.query(l,[a]);if(!u[0])return null;const d=wn(u[0]),f=bt("SELECT id, title, description, quantity, unitPrice, total, parentItemId FROM offerLineItems WHERE offerId = ? ORDER BY id"),p=await this.client.query(f,[a]);return{...d,lineItems:p.map(g=>{const h=wn(g);return{id:h.id,title:h.title,description:h.description||void 0,quantity:h.quantity,unitPrice:h.unitPrice,total:h.total,parentItemId:h.parentItemId||void 0}})}}async createOffer(a){const l=Un(),u=Dt({...a,createdAt:l,updatedAt:l}),f=(await this.client.exec(`
      INSERT INTO offers (offer_number, customer_id, title, status, valid_until, subtotal, vat_rate, vat_amount, total, notes, created_at, updated_at)
      VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
    `,[u.offer_number,u.customer_id,u.title,u.status,u.valid_until,u.subtotal,u.vat_rate,u.vat_amount,u.total,u.notes||null,u.created_at,u.updated_at])).lastInsertRowid;for(const g of a.lineItems){const h=Dt(g);await this.client.exec("INSERT INTO offer_line_items (offer_id, title, description, quantity, unit_price, total, parent_item_id) VALUES (?, ?, ?, ?, ?, ?, ?)",[f,h.title,h.description||null,h.quantity,h.unit_price,h.total,h.parent_item_id||null])}const p=await this.getOffer(f);if(!p)throw new Error("Offer creation failed");return p}async updateOffer(a,l){const u=await this.getOffer(a);if(!u)throw new Error("Offer not found");const d={...u,...l,updatedAt:Un()},f=Dt(d);if(await this.client.exec(`
      UPDATE offers SET
        offer_number = ?, customer_id = ?, title = ?, status = ?, valid_until = ?, 
        subtotal = ?, vat_rate = ?, vat_amount = ?, total = ?, notes = ?, updated_at = ?
      WHERE id = ?
    `,[f.offer_number,f.customer_id,f.title,f.status,f.valid_until,f.subtotal,f.vat_rate,f.vat_amount,f.total,f.notes||null,f.updated_at,a]),l.lineItems){await this.client.exec("DELETE FROM offer_line_items WHERE offer_id = ?",[a]);for(const g of l.lineItems){const h=Dt(g);await this.client.exec("INSERT INTO offer_line_items (offer_id, title, description, quantity, unit_price, total, parent_item_id) VALUES (?, ?, ?, ?, ?, ?, ?)",[a,h.title,h.description||null,h.quantity,h.unit_price,h.total,h.parent_item_id||null])}}const p=await this.getOffer(a);if(!p)throw new Error("Offer update failed");return p}async deleteOffer(a){await this.client.transaction([{sql:"DELETE FROM offer_line_items WHERE offer_id = ?",params:[a]},{sql:"DELETE FROM offers WHERE id = ?",params:[a]}])}async listInvoices(){const a=bt("SELECT * FROM invoices ORDER BY createdAt DESC"),l=await this.client.query(a),u=[];for(const d of l){const f=wn(d),p=bt("SELECT id, title, description, quantity, unitPrice, total, parentItemId FROM invoiceLineItems WHERE invoiceId = ? ORDER BY id"),g=await this.client.query(p,[d.id]);u.push({...f,lineItems:g.map(h=>{const v=wn(h);return{id:v.id,title:v.title,description:v.description||void 0,quantity:v.quantity,unitPrice:v.unitPrice,total:v.total,parentItemId:v.parentItemId||void 0}})})}return u}async getInvoice(a){const l=bt("SELECT * FROM invoices WHERE id = ?"),u=await this.client.query(l,[a]);if(!u[0])return null;const d=wn(u[0]),f=bt("SELECT id, title, description, quantity, unitPrice, total, parentItemId FROM invoiceLineItems WHERE invoiceId = ? ORDER BY id"),p=await this.client.query(f,[a]);return{...d,lineItems:p.map(g=>{const h=wn(g);return{id:h.id,title:h.title,description:h.description||void 0,quantity:h.quantity,unitPrice:h.unitPrice,total:h.total,parentItemId:h.parentItemId||void 0}})}}async createInvoice(a){const l=Un(),u=Dt({...a,createdAt:l,updatedAt:l}),f=(await this.client.exec(`
      INSERT INTO invoices (invoice_number, customer_id, offer_id, title, status, due_date, subtotal, vat_rate, vat_amount, total, notes, created_at, updated_at)
      VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
    `,[u.invoice_number,u.customer_id,u.offer_id||null,u.title,u.status,u.due_date,u.subtotal,u.vat_rate,u.vat_amount,u.total,u.notes||null,u.created_at,u.updated_at])).lastInsertRowid;for(const g of a.lineItems){const h=Dt(g);await this.client.exec("INSERT INTO invoice_line_items (invoice_id, title, description, quantity, unit_price, total, parent_item_id) VALUES (?, ?, ?, ?, ?, ?, ?)",[f,h.title,h.description||null,h.quantity,h.unit_price,h.total,h.parent_item_id||null])}const p=await this.getInvoice(f);if(!p)throw new Error("Invoice creation failed");return p}async updateInvoice(a,l){const u=await this.getInvoice(a);if(!u)throw new Error("Invoice not found");const d={...u,...l,updatedAt:Un()},f=Dt(d);if(await this.client.exec(`
      UPDATE invoices SET
        invoice_number = ?, customer_id = ?, offer_id = ?, title = ?, status = ?, due_date = ?, 
        subtotal = ?, vat_rate = ?, vat_amount = ?, total = ?, notes = ?, updated_at = ?
      WHERE id = ?
    `,[f.invoice_number,f.customer_id,f.offer_id||null,f.title,f.status,f.due_date,f.subtotal,f.vat_rate,f.vat_amount,f.total,f.notes||null,f.updated_at,a]),l.lineItems){await this.client.exec("DELETE FROM invoice_line_items WHERE invoice_id = ?",[a]);for(const g of l.lineItems){const h=Dt(g);await this.client.exec("INSERT INTO invoice_line_items (invoice_id, title, description, quantity, unit_price, total, parent_item_id) VALUES (?, ?, ?, ?, ?, ?, ?)",[a,h.title,h.description||null,h.quantity,h.unit_price,h.total,h.parent_item_id||null])}}const p=await this.getInvoice(a);if(!p)throw new Error("Invoice update failed");return p}async deleteInvoice(a){await this.client.transaction([{sql:"DELETE FROM invoice_line_items WHERE invoice_id = ?",params:[a]},{sql:"DELETE FROM invoices WHERE id = ?",params:[a]}])}}function cy({children:i,mode:a="sqlite"}){const[l,u]=E.useState(null),[d,f]=E.useState(!1),[p,g]=E.useState(),h=E.useMemo(()=>a==="sqlite"?new tf:new tf,[a]);return E.useEffect(()=>{let v=!0;return(async()=>{try{if(await h.ready(),!v)return;u(h),f(!0)}catch(y){g(String((y==null?void 0:y.message)??y))}})(),()=>{v=!1}},[h]),s.jsx(Mf.Provider,{value:{adapter:l,ready:d,error:p},children:i})}const Of=E.createContext(void 0);function dy({children:i}){const[a,l]=E.useState(!1),[u,d]=E.useState(),f=(g,h)=>{l(g),d(h)},p=async(g,h)=>{f(!0,h);try{return await g()}finally{f(!1)}};return s.jsx(Of.Provider,{value:{isLoading:a,loadingMessage:u,setLoading:f,withLoading:p},children:i})}function wi(){const i=E.useContext(Of);if(i===void 0)throw new Error("useLoading must be used within a LoadingProvider");return i}function fy({message:i}){return s.jsxs("div",{className:"loading-container",children:[s.jsx("div",{className:"loading-spinner"}),i&&s.jsx("p",{className:"loading-message",children:i})]})}function py(){const{isLoading:i,loadingMessage:a}=wi();return i?s.jsx("div",{className:"loading-overlay",children:s.jsx(fy,{message:a})}):null}class Dl extends Error{constructor(a,l,u){super(a),this.code=l,this.originalError=u,this.name="AppError"}}class Zs extends Dl{constructor(a,l){super(a,"VALIDATION_ERROR"),this.field=l,this.name="ValidationError"}}function xi(i){return i instanceof Dl?i:i instanceof Error?new Dl(i.message,"UNKNOWN_ERROR",i):new Dl(String(i),"UNKNOWN_ERROR",i)}function hy(i){switch(i.code){case"DATABASE_ERROR":return"Es gab ein Problem mit der Datenbank. Bitte versuchen Sie es erneut.";case"VALIDATION_ERROR":return i.message;case"SETTINGS_ERROR":return"Fehler beim Laden oder Speichern der Einstellungen.";default:return"Ein unerwarteter Fehler ist aufgetreten. Bitte versuchen Sie es erneut."}}const $f=E.createContext(void 0);function my({children:i}){const[a,l]=E.useState([]),u=E.useCallback(g=>{l(h=>h.filter(v=>v.id!==g))},[]),d=E.useCallback((g,h,v=5e3)=>{const y=Date.now().toString(),x={id:y,type:g,message:h,duration:v};l(S=>[...S,x]),v>0&&setTimeout(()=>u(y),v)},[u]),f=E.useCallback(g=>{const h=typeof g=="string"?g:hy(g);d("error",h)},[d]),p=E.useCallback(g=>{d("success",g)},[d]);return s.jsx($f.Provider,{value:{notifications:a,showNotification:d,showError:f,showSuccess:p,removeNotification:u},children:i})}function Kn(){const i=E.useContext($f);if(i===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return i}function gy({notification:i,onRemove:a}){return s.jsx("div",{className:`notification-toast notification-${i.type}`,children:s.jsxs("div",{className:"notification-content",children:[s.jsx("span",{className:"notification-message",children:i.message}),s.jsx("button",{className:"notification-close",onClick:()=>a(i.id),"aria-label":"Schließen",children:"×"})]})})}function yy(){const{notifications:i,removeNotification:a}=Kn();return s.jsx("div",{className:"notification-container",children:i.map(l=>s.jsx(gy,{notification:l,onRemove:a},l.id))})}const Bf=E.createContext(void 0);function vy({children:i}){const[a,l]=E.useState([]),[u,d]=E.useState(!0),[f,p]=E.useState(null),g=async()=>{try{d(!0),p(null);const x=await window.rawalite.nummernkreis.getAll();if(console.log("🔍 [DEBUG] NumberingContext - IPC Result:",x),x.success&&x.data)console.log("🔍 [DEBUG] NumberingContext - Setting circles:",x.data.length,"circles"),console.log("🔍 [DEBUG] NumberingContext - Circle IDs:",x.data.map(S=>S.id)),l(x.data);else throw new Error(x.error||"Failed to load numbering circles")}catch(x){console.error("Error loading numbering circles:",x),p(x instanceof Error?x.message:"Unknown error")}finally{d(!1)}},h=async(x,S)=>{try{p(null);const w=a.find(D=>D.id===x);if(!w)throw new Error(`Numbering circle with id '${x}' not found`);const _={...w,...S},F=await window.rawalite.nummernkreis.update(x,_);if(F.success)l(D=>D.map(H=>H.id===x?_:H));else throw new Error(F.error||"Failed to update numbering circle")}catch(w){throw console.error("Error updating numbering circle:",w),p(w instanceof Error?w.message:"Unknown error"),w}},v=async x=>{try{p(null);const S=await window.rawalite.nummernkreis.getNext(x);if(S.success&&S.data!==void 0)return await g(),S.data;throw new Error(S.error||"Failed to get next number")}catch(S){throw console.error("Error getting next number:",S),p(S instanceof Error?S.message:"Unknown error"),S}};E.useEffect(()=>{g()},[]);const y={circles:a,loading:u,error:f,refreshCircles:g,updateCircle:h,getNextNumber:v};return s.jsx(Bf.Provider,{value:y,children:i})}function xy(){const i=E.useContext(Bf);if(i===void 0)throw new Error("useNumbering must be used within a NumberingProvider");return i}const Ol=()=>({customers:[],loading:!1}),eu=()=>({packages:[],loading:!1});function wy({title:i="Dashboard"}){const{customers:a}=Ol(),{offers:l}=Al(),{invoices:u}=Xs(),{packages:d}=eu(),f={totalCustomers:a.length,totalOffers:l.length,totalInvoices:u.length,totalPackages:d.length,pendingOffers:l.filter(y=>y.status==="draft").length,acceptedOffers:l.filter(y=>y.status==="accepted").length,paidInvoices:u.filter(y=>y.status==="paid").length,unpaidInvoices:u.filter(y=>y.status==="draft"||y.status==="sent"||y.status==="overdue").length,totalOfferValue:l.reduce((y,x)=>y+x.total,0),totalInvoiceValue:u.reduce((y,x)=>y+x.total,0),paidAmount:u.filter(y=>y.status==="paid").reduce((y,x)=>y+x.total,0),unpaidAmount:u.filter(y=>y.status!=="paid").reduce((y,x)=>y+x.total,0)},p=l.sort((y,x)=>new Date(x.createdAt).getTime()-new Date(y.createdAt).getTime()).slice(0,5),g=u.sort((y,x)=>new Date(x.createdAt).getTime()-new Date(y.createdAt).getTime()).slice(0,5),h=y=>{switch(y){case"paid":return"#22c55e";case"accepted":return"#22c55e";case"sent":return"#f59e0b";case"draft":return"#6b7280";case"rejected":return"#ef4444";case"overdue":return"#ef4444";case"cancelled":return"#6b7280";default:return"#6b7280"}},v=y=>{switch(y){case"paid":return"Bezahlt";case"accepted":return"Angenommen";case"sent":return"Versendet";case"draft":return"Entwurf";case"rejected":return"Abgelehnt";case"overdue":return"Überfällig";case"cancelled":return"Storniert";default:return y}};return s.jsxs("div",{className:"card",children:[s.jsx("h2",{style:{marginTop:0},children:i}),s.jsx("p",{children:"Willkommen in RaWaLite. Hier ist deine Übersicht:"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(220px,1fr))",gap:16,marginBottom:24},children:[s.jsx("div",{className:"card",style:{background:"linear-gradient(135deg, #1e40af 0%, #3b82f6 100%)"},children:s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"24px",fontWeight:"600",color:"white"},children:f.totalCustomers}),s.jsx("div",{style:{opacity:.9,color:"white"},children:"Kunden"})]}),s.jsx("div",{style:{fontSize:"32px",opacity:.7},children:"👥"})]})}),s.jsxs("div",{className:"card",style:{background:"linear-gradient(135deg, #059669 0%, #10b981 100%)"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"24px",fontWeight:"600",color:"white"},children:f.totalOffers}),s.jsx("div",{style:{opacity:.9,color:"white"},children:"Angebote"})]}),s.jsx("div",{style:{fontSize:"32px",opacity:.7},children:"📋"})]}),s.jsxs("div",{style:{marginTop:8,fontSize:"12px",opacity:.8,color:"white"},children:[f.pendingOffers," Entwürfe, ",f.acceptedOffers," Angenommen"]})]}),s.jsxs("div",{className:"card",style:{background:"linear-gradient(135deg, #dc2626 0%, #ef4444 100%)"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"24px",fontWeight:"600",color:"white"},children:f.totalInvoices}),s.jsx("div",{style:{opacity:.9,color:"white"},children:"Rechnungen"})]}),s.jsx("div",{style:{fontSize:"32px",opacity:.7},children:"🧾"})]}),s.jsxs("div",{style:{marginTop:8,fontSize:"12px",opacity:.8,color:"white"},children:[f.paidInvoices," Bezahlt, ",f.unpaidInvoices," Offen"]})]}),s.jsx("div",{className:"card",style:{background:"linear-gradient(135deg, #7c3aed 0%, #8b5cf6 100%)"},children:s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"24px",fontWeight:"600",color:"white"},children:f.totalPackages}),s.jsx("div",{style:{opacity:.9,color:"white"},children:"Pakete"})]}),s.jsx("div",{style:{fontSize:"32px",opacity:.7},children:"📦"})]})})]}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(300px,1fr))",gap:16,marginBottom:24},children:s.jsxs("div",{className:"card",children:[s.jsx("h3",{style:{marginTop:0},children:"💰 Finanzübersicht"}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{children:"Angebotswert gesamt:"}),s.jsxs("span",{style:{fontWeight:"600"},children:["€",f.totalOfferValue.toFixed(2)]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{children:"Rechnungswert gesamt:"}),s.jsxs("span",{style:{fontWeight:"600"},children:["€",f.totalInvoiceValue.toFixed(2)]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",color:"#22c55e"},children:[s.jsx("span",{children:"Bezahlt:"}),s.jsxs("span",{style:{fontWeight:"600"},children:["€",f.paidAmount.toFixed(2)]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",color:"#f59e0b"},children:[s.jsx("span",{children:"Offen:"}),s.jsxs("span",{style:{fontWeight:"600"},children:["€",f.unpaidAmount.toFixed(2)]})]})]})]})}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(400px,1fr))",gap:16},children:[s.jsxs("div",{className:"card",children:[s.jsx("h3",{style:{marginTop:0},children:"📋 Letzte Angebote"}),p.length>0?s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:p.map(y=>s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 12px",background:"rgba(255,255,255,0.03)",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.1)"},children:[s.jsxs("div",{children:[s.jsxs("div",{style:{fontWeight:"500"},children:["#",y.offerNumber]}),s.jsx("div",{style:{fontSize:"12px",opacity:.7},children:new Date(y.createdAt).toLocaleDateString("de-DE")})]}),s.jsxs("div",{style:{textAlign:"right"},children:[s.jsxs("div",{style:{fontWeight:"600"},children:["€",y.total.toFixed(2)]}),s.jsx("div",{style:{fontSize:"12px",color:h(y.status),fontWeight:"500"},children:v(y.status)})]})]},y.id))}):s.jsx("p",{style:{opacity:.7,fontStyle:"italic"},children:"Noch keine Angebote vorhanden."})]}),s.jsxs("div",{className:"card",children:[s.jsx("h3",{style:{marginTop:0},children:"🧾 Letzte Rechnungen"}),g.length>0?s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:g.map(y=>s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 12px",background:"rgba(255,255,255,0.03)",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.1)"},children:[s.jsxs("div",{children:[s.jsxs("div",{style:{fontWeight:"500"},children:["#",y.invoiceNumber]}),s.jsx("div",{style:{fontSize:"12px",opacity:.7},children:new Date(y.createdAt).toLocaleDateString("de-DE")})]}),s.jsxs("div",{style:{textAlign:"right"},children:[s.jsxs("div",{style:{fontWeight:"600"},children:["€",y.total.toFixed(2)]}),s.jsx("div",{style:{fontSize:"12px",color:h(y.status),fontWeight:"500"},children:v(y.status)})]})]},y.id))}):s.jsx("p",{style:{opacity:.7,fontStyle:"italic"},children:"Noch keine Rechnungen vorhanden."})]})]})]})}function $l({columns:i,data:a,emptyMessage:l}){return s.jsx("div",{className:"card",children:s.jsxs("table",{className:"table",children:[s.jsx("thead",{children:s.jsx("tr",{children:i.map(u=>s.jsx("th",{style:{width:u.width},children:u.header},String(u.key)))})}),s.jsx("tbody",{children:a.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:i.length,style:{opacity:.8,padding:"16px 8px"},children:l??"Keine Einträge vorhanden."})}):a.map((u,d)=>s.jsx("tr",{children:i.map(f=>s.jsx("td",{children:f.render?f.render(u):String(u[f.key])},String(f.key)))},d))})]})})}function nf({initial:i,onSubmit:a,onCancel:l,submitLabel:u="Speichern"}){const[d,f]=E.useState(i??{name:""}),[p,g]=E.useState({}),[h,v]=E.useState(!1),{showError:y,showSuccess:x}=Kn(),{withLoading:S}=wi();E.useEffect(()=>{f(i??{name:""}),g({})},[i]);function w(D,H){f(O=>({...O,[D]:H})),p[D]&&g(O=>({...O,[D]:""}))}function _(){const D={};return(!d.name||d.name.trim().length<2)&&(D.name="Bitte einen gültigen Namen angeben (min. 2 Zeichen)."),d.email&&d.email.trim()&&!/\S+@\S+\.\S+/.test(d.email)&&(D.email="Bitte eine gültige E-Mail-Adresse eingeben."),g(D),Object.keys(D).length===0}async function F(D){var O,L,K,le,k,V;if(D.preventDefault(),console.log("CustomerForm handleSubmit called"),!_()){console.log("Form validation failed");return}if(h){console.log("Already submitting, preventing double submission");return}const H={name:d.name.trim(),email:((O=d.email)==null?void 0:O.trim())||void 0,phone:((L=d.phone)==null?void 0:L.trim())||void 0,street:((K=d.street)==null?void 0:K.trim())||void 0,zip:((le=d.zip)==null?void 0:le.trim())||void 0,city:((k=d.city)==null?void 0:k.trim())||void 0,notes:((V=d.notes)==null?void 0:V.trim())||void 0};console.log("CustomerForm submitting data:",H);try{v(!0),console.log("Calling onSubmit with withLoading wrapper"),await S(async()=>{console.log("Inside withLoading, calling onSubmit"),await a(H),console.log("onSubmit completed successfully")},`${u}...`),x(`Kunde wurde erfolgreich ${u==="Speichern"?"gespeichert":"aktualisiert"}.`)}catch(J){console.error("Error in handleSubmit:",J);const Q=xi(J);Q instanceof Zs&&Q.field?g(W=>({...W,[Q.field]:Q.message})):y(Q)}finally{v(!1)}}return s.jsxs("form",{onSubmit:F,className:"customer-form",style:{display:"grid",gap:12,maxWidth:680},children:[s.jsxs("div",{style:{display:"grid",gap:6},children:[s.jsx("label",{children:"Name*"}),s.jsx("input",{type:"text",value:d.name,onChange:D=>w("name",D.target.value),placeholder:"Max Mustermann",required:!0,disabled:h,className:p.name?"error":""}),p.name&&s.jsx("span",{className:"field-error",children:p.name})]}),s.jsxs("div",{style:{display:"grid",gap:6},children:[s.jsx("label",{children:"E-Mail"}),s.jsx("input",{type:"email",value:d.email??"",onChange:D=>w("email",D.target.value),placeholder:"max@example.com",disabled:h,className:p.email?"error":""}),p.email&&s.jsx("span",{className:"field-error",children:p.email})]}),s.jsxs("div",{style:{display:"grid",gap:6},children:[s.jsx("label",{children:"Telefon"}),s.jsx("input",{type:"tel",value:d.phone??"",onChange:D=>w("phone",D.target.value),placeholder:"+49 30 12345678",disabled:h})]}),s.jsxs("div",{style:{display:"grid",gap:6},children:[s.jsx("label",{children:"Straße"}),s.jsx("input",{type:"text",value:d.street??"",onChange:D=>w("street",D.target.value),placeholder:"Musterstraße 123",disabled:h})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 2fr",gap:8},children:[s.jsxs("div",{style:{display:"grid",gap:6},children:[s.jsx("label",{children:"PLZ"}),s.jsx("input",{type:"text",value:d.zip??"",onChange:D=>w("zip",D.target.value),placeholder:"12345",disabled:h})]}),s.jsxs("div",{style:{display:"grid",gap:6},children:[s.jsx("label",{children:"Ort"}),s.jsx("input",{type:"text",value:d.city??"",onChange:D=>w("city",D.target.value),placeholder:"Berlin",disabled:h})]})]}),s.jsxs("div",{style:{display:"grid",gap:6},children:[s.jsx("label",{children:"Notizen"}),s.jsx("textarea",{value:d.notes??"",onChange:D=>w("notes",D.target.value),placeholder:"Weitere Informationen zum Kunden...",disabled:h,rows:3})]}),s.jsxs("div",{style:{display:"flex",gap:8,marginTop:"16px"},children:[s.jsx("button",{type:"submit",disabled:h,className:"btn btn-primary",style:{padding:"12px 24px",fontSize:"14px",fontWeight:"500",minWidth:"120px"},children:h?"Wird gespeichert...":u}),l&&s.jsx("button",{type:"button",onClick:l,disabled:h,className:"btn btn-secondary",style:{padding:"12px 24px",fontSize:"14px",fontWeight:"500",minWidth:"120px"},children:"Abbrechen"})]}),s.jsx("style",{children:`
        .customer-form input, .customer-form textarea { 
          background: rgba(255,255,255,.06); 
          color: white; 
          border: 1px solid rgba(255,255,255,.15); 
          padding: 10px 12px; 
          border-radius: 8px; 
          font-size: 14px;
          width: 100%;
          box-sizing: border-box;
          font-family: inherit;
        }
        .customer-form input:focus, .customer-form textarea:focus { 
          outline: 2px solid rgba(96,165,250,.5);
          background: rgba(255,255,255,.08);
        }
        .customer-form input.error, .customer-form textarea.error {
          border-color: rgba(239, 68, 68, 0.5);
          background: rgba(239, 68, 68, 0.1);
        }
        .customer-form input:disabled, .customer-form textarea:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }
        .customer-form label {
          font-weight: 500;
          margin-bottom: 4px;
          color: rgba(255,255,255,.9);
        }
        .field-error {
          color: rgba(239, 68, 68, 0.9);
          font-size: 0.8rem;
          margin-top: 4px;
        }
        .customer-form textarea {
          resize: vertical;
          min-height: 60px;
        }
      `})]})}class da{static exportCustomersToCSV(a){const u=[["ID","Nummer","Name","E-Mail","Telefon","Straße","PLZ","Ort","Notizen","Erstellt","Aktualisiert"].join(";"),...a.map(d=>[d.id,d.number,d.name,d.email||"",d.phone||"",d.street||"",d.zip||"",d.city||"",d.notes||"",d.createdAt,d.updatedAt].map(f=>`"${String(f).replace(/"/g,'""')}"`).join(";"))].join(`
`);this.downloadFile(u,`kunden_${new Date().toISOString().split("T")[0]}.csv`,"text/csv")}static async exportOfferToPDF(a,l,u,d=!1){const f=this.generateOfferHTML(a,l,u);await this.htmlToPDF(f,`angebot_${a.offerNumber}.pdf`,d)}static async exportInvoiceToPDF(a,l,u,d=!1){const f=this.generateInvoiceHTML(a,l,u);await this.htmlToPDF(f,`rechnung_${a.invoiceNumber}.pdf`,d)}static generateOfferHTML(a,l,u){var p,g,h,v,y,x,S,w;const d=new Date().toLocaleDateString("de-DE"),f=new Date(a.validUntil).toLocaleDateString("de-DE");return`
      <!DOCTYPE html>
      <html>
      <head>
        <meta charset="utf-8">
        <title>Angebot ${a.offerNumber}</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 40px; color: #333; }
          .header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 40px; }
          .company { font-weight: bold; }
          .logo { max-width: 200px; max-height: 80px; }
          .customer { margin-bottom: 30px; }
          .document-title { font-size: 24px; font-weight: bold; margin: 30px 0; }
          .meta-info { margin-bottom: 30px; }
          table { width: 100%; border-collapse: collapse; margin: 20px 0; }
          th, td { padding: 10px; text-align: left; border-bottom: 1px solid #ddd; }
          th { background-color: #f5f5f5; font-weight: bold; }
          .sub-item { padding-left: 20px; font-style: italic; color: #666; }
          .totals { margin-top: 30px; text-align: right; }
          .total-row { font-weight: bold; font-size: 18px; }
          .notes { margin-top: 40px; }
        </style>
      </head>
      <body>
        <div class="header">
          <div class="company">
            ${((p=u.companyData)==null?void 0:p.name)||"Ihr Unternehmen"}<br>
            ${((g=u.companyData)==null?void 0:g.street)||""}<br>
            ${((h=u.companyData)==null?void 0:h.postalCode)||""} ${((v=u.companyData)==null?void 0:v.city)||""}
          </div>
          ${(y=u.companyData)!=null&&y.logo?`<img src="${u.companyData.logo}" alt="Logo" class="logo">`:""}
        </div>

        <div class="customer">
          <strong>${l.name}</strong><br>
          ${l.street||""}<br>
          ${l.zip||""} ${l.city||""}<br>
        </div>

        <div class="document-title">Angebot ${a.offerNumber}</div>

        <div class="meta-info">
          <strong>Datum:</strong> ${d}<br>
          <strong>Gültig bis:</strong> ${f}<br>
          <strong>Betreff:</strong> ${a.title}
        </div>

        <table>
          <thead>
            <tr>
              <th>Position</th>
              <th>Menge</th>
              <th>Einzelpreis</th>
              <th>Gesamt</th>
            </tr>
          </thead>
          <tbody>
            ${a.lineItems.map(_=>`
              <tr class="${_.parentItemId?"sub-item":""}">
                <td>
                  ${_.parentItemId?"↳ ":""}${_.title}
                  ${_.description?`<br><small>${_.description}</small>`:""}
                </td>
                <td>${_.quantity}</td>
                <td>€${_.unitPrice.toFixed(2)}</td>
                <td>€${_.total.toFixed(2)}</td>
              </tr>
            `).join("")}
          </tbody>
        </table>

        <div class="totals">
          <div>Zwischensumme: €${((x=a.subtotal)==null?void 0:x.toFixed(2))||a.total.toFixed(2)}</div>
          ${!((S=u==null?void 0:u.companyData)!=null&&S.kleinunternehmer)&&a.vatAmount&&a.vatAmount>0?`<div>MwSt. (${a.vatRate||19}%): €${a.vatAmount.toFixed(2)}</div>`:""}
          ${(w=u==null?void 0:u.companyData)!=null&&w.kleinunternehmer?'<div style="font-size: 12px; color: #666;">Umsatzsteuerbefreit nach §19 UStG</div>':""}
          <div class="total-row">Gesamtbetrag: €${a.total.toFixed(2)}</div>
        </div>

        ${a.notes?`<div class="notes"><strong>Anmerkungen:</strong><br>${a.notes}</div>`:""}
      </body>
      </html>
    `}static generateInvoiceHTML(a,l,u){var p,g,h,v,y,x,S,w;const d=new Date().toLocaleDateString("de-DE"),f=new Date(a.dueDate).toLocaleDateString("de-DE");return`
      <!DOCTYPE html>
      <html>
      <head>
        <meta charset="utf-8">
        <title>Rechnung ${a.invoiceNumber}</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 40px; color: #333; }
          .header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 40px; }
          .company { font-weight: bold; }
          .logo { max-width: 200px; max-height: 80px; }
          .customer { margin-bottom: 30px; }
          .document-title { font-size: 24px; font-weight: bold; margin: 30px 0; }
          .meta-info { margin-bottom: 30px; }
          table { width: 100%; border-collapse: collapse; margin: 20px 0; }
          th, td { padding: 10px; text-align: left; border-bottom: 1px solid #ddd; }
          th { background-color: #f5f5f5; font-weight: bold; }
          .sub-item { padding-left: 20px; font-style: italic; color: #666; }
          .totals { margin-top: 30px; text-align: right; }
          .total-row { font-weight: bold; font-size: 18px; }
          .notes { margin-top: 40px; }
        </style>
      </head>
      <body>
        <div class="header">
          <div class="company">
            ${((p=u.companyData)==null?void 0:p.name)||"Ihr Unternehmen"}<br>
            ${((g=u.companyData)==null?void 0:g.street)||""}<br>
            ${((h=u.companyData)==null?void 0:h.postalCode)||""} ${((v=u.companyData)==null?void 0:v.city)||""}
          </div>
          ${(y=u.companyData)!=null&&y.logo?`<img src="${u.companyData.logo}" alt="Logo" class="logo">`:""}
        </div>

        <div class="customer">
          <strong>${l.name}</strong><br>
          ${l.street||""}<br>
          ${l.zip||""} ${l.city||""}<br>
        </div>

        <div class="document-title">Rechnung ${a.invoiceNumber}</div>

        <div class="meta-info">
          <strong>Rechnungsdatum:</strong> ${d}<br>
          <strong>Fällig am:</strong> ${f}<br>
          <strong>Betreff:</strong> ${a.title}
        </div>

        <table>
          <thead>
            <tr>
              <th>Position</th>
              <th>Menge</th>
              <th>Einzelpreis</th>
              <th>Gesamt</th>
            </tr>
          </thead>
          <tbody>
            ${a.lineItems.map(_=>`
              <tr class="${_.parentItemId?"sub-item":""}">
                <td>
                  ${_.parentItemId?"↳ ":""}${_.title}
                  ${_.description?`<br><small>${_.description}</small>`:""}
                </td>
                <td>${_.quantity}</td>
                <td>€${_.unitPrice.toFixed(2)}</td>
                <td>€${_.total.toFixed(2)}</td>
              </tr>
            `).join("")}
          </tbody>
        </table>

        <div class="totals">
          <div>Zwischensumme: €${((x=a.subtotal)==null?void 0:x.toFixed(2))||a.total.toFixed(2)}</div>
          ${!((S=u==null?void 0:u.companyData)!=null&&S.kleinunternehmer)&&a.vatAmount&&a.vatAmount>0?`<div>MwSt. (${a.vatRate||19}%): €${a.vatAmount.toFixed(2)}</div>`:""}
          ${(w=u==null?void 0:u.companyData)!=null&&w.kleinunternehmer?'<div style="font-size: 12px; color: #666;">Umsatzsteuerbefreit nach §19 UStG</div>':""}
          <div class="total-row">Gesamtbetrag: €${a.total.toFixed(2)}</div>
        </div>

        ${a.notes?`<div class="notes"><strong>Anmerkungen:</strong><br>${a.notes}</div>`:""}
      </body>
      </html>
    `}static async htmlToPDF(a,l,u=!1){try{const{jsPDF:d}=await yi(async()=>{const{jsPDF:g}=await import("./jspdf.es.min-DSP-EbUB.js").then(h=>h.j);return{jsPDF:g}},[],import.meta.url),f=(await yi(async()=>{const{default:g}=await import("./html2canvas.esm-QH1iLAAe.js");return{default:g}},[],import.meta.url)).default,p=document.createElement("div");p.innerHTML=a,p.style.position="absolute",p.style.left="-9999px",p.style.top="-9999px",p.style.width="210mm",p.style.background="white",p.style.padding="20px",document.body.appendChild(p);try{const g=await f(p,{scale:2,useCORS:!0,backgroundColor:"#ffffff",width:794,height:1123}),h=new d("p","mm","a4"),v=210,y=g.height*v/g.width,x=g.toDataURL("image/png");if(h.addImage(x,"PNG",0,0,v,y),u){const S=h.output("blob"),w=URL.createObjectURL(S),_=window.open(w,"_blank","width=800,height=600,scrollbars=yes,resizable=yes");_?(console.log(`✅ PDF preview "${l}" opened in new tab`),_.addEventListener("beforeunload",()=>{URL.revokeObjectURL(w)})):confirm(`🔍 PDF-Vorschau benötigt ein Popup!

Möchten Sie:
- "OK" → Popup erlauben und Vorschau öffnen
- "Abbrechen" → PDF direkt herunterladen`)?this.showInlinePDFPreview(S,l):h.save(l)}else h.save(l),console.log(`✅ PDF "${l}" downloaded successfully`)}finally{document.body.removeChild(p)}}catch(d){console.warn("Modern PDF generation failed, falling back to print dialog:",d);const f=window.open("","_blank","width=800,height=600");if(!f){const p=document.createElement("div");p.innerHTML=a,p.style.position="fixed",p.style.top="-1000px",p.style.left="-1000px",p.style.width="210mm",p.style.height="297mm",document.body.appendChild(p),window.focus(),window.print(),setTimeout(()=>{document.body.removeChild(p)},1e3);return}f.document.write(a),f.document.close(),f.onload=()=>{f.focus(),setTimeout(()=>{f.print()},1e3)}}}static showInlinePDFPreview(a,l){const u=document.createElement("div");u.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      z-index: 10000;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
      box-sizing: border-box;
    `;const d=document.createElement("div");d.style.cssText=`
      background: white;
      border-radius: 12px;
      box-shadow: 0 25px 50px rgba(0,0,0,0.25);
      display: flex;
      flex-direction: column;
      width: 80vw;
      height: 80vh;
      min-width: 600px;
      min-height: 400px;
      max-width: 95vw;
      max-height: 95vh;
      resize: both;
      overflow: hidden;
      border: 1px solid #e2e8f0;
    `;const f=document.createElement("div");f.style.cssText=`
      background: linear-gradient(160deg, #1e3a2e 0%, #0f2419 40%, #0a1b0f 100%);
      color: white;
      padding: 16px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-radius: 12px 12px 0 0;
      cursor: move;
      user-select: none;
      border-bottom: 1px solid #e2e8f0;
    `;const p=document.createElement("div");p.style.cssText="display: flex; align-items: center; gap: 12px;";const g=document.createElement("span");g.textContent="📄",g.style.fontSize="20px";const h=document.createElement("h3");h.textContent=`PDF Vorschau: ${l}`,h.style.cssText="margin: 0; font-size: 16px; font-weight: 600;",p.appendChild(g),p.appendChild(h);const v=document.createElement("div");v.style.cssText="display: flex; gap: 8px; align-items: center;";const y=document.createElement("button");y.textContent="⬜",y.title="Maximieren",y.style.cssText=`
      background: rgba(255,255,255,0.2);
      color: white;
      border: none;
      border-radius: 6px;
      width: 32px;
      height: 32px;
      cursor: pointer;
      font-size: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background-color 0.2s;
    `;const x=document.createElement("button");x.textContent="✕",x.title="Schließen",x.style.cssText=`
      background: rgba(239,68,68,0.2);
      color: white;
      border: none;
      border-radius: 6px;
      width: 32px;
      height: 32px;
      cursor: pointer;
      font-size: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background-color 0.2s;
    `;const S=document.createElement("div");S.style.cssText=`
      flex: 1;
      display: flex;
      flex-direction: column;
      overflow: hidden;
      background: #f8fafc;
    `;const w=document.createElement("div");w.style.cssText=`
      padding: 12px 20px;
      background: white;
      border-bottom: 1px solid #e2e8f0;
      display: flex;
      gap: 12px;
      align-items: center;
      flex-wrap: wrap;
    `;const _=document.createElement("button");_.innerHTML="💾 Herunterladen",_.style.cssText=`
      background: #1e3a2e;
      color: white;
      border: none;
      border-radius: 8px;
      padding: 10px 16px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 6px;
      transition: all 0.2s;
      box-shadow: 0 2px 4px rgba(30,58,46,0.3);
    `;const F=document.createElement("div");F.style.cssText=`
      flex: 1;
      padding: 20px;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      overflow: auto;
    `;const D=document.createElement("iframe"),H=URL.createObjectURL(a);D.src=H,D.style.cssText=`
      width: 100%;
      height: 100%;
      border: 1px solid #d1d5db;
      border-radius: 8px;
      background: white;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    `;const O=document.createElement("div");O.style.cssText=`
      padding: 8px 20px;
      background: #f1f5f9;
      border-top: 1px solid #e2e8f0;
      font-size: 12px;
      color: #64748b;
      border-radius: 0 0 12px 12px;
    `,O.textContent=`Dateigröße: ${(a.size/1024).toFixed(1)} KB`;let L=!1,K="";y.onclick=()=>{L?(d.style.cssText=K,y.textContent="⬜",y.title="Maximieren",L=!1):(K=d.style.cssText,d.style.cssText=`
          position: fixed;
          top: 20px;
          left: 20px;
          right: 20px;
          bottom: 20px;
          width: auto;
          height: auto;
          background: white;
          border-radius: 12px;
          box-shadow: 0 25px 50px rgba(0,0,0,0.25);
          display: flex;
          flex-direction: column;
          border: 1px solid #e2e8f0;
          resize: none;
        `,y.textContent="🗗",y.title="Wiederherstellen",L=!0)},x.onclick=()=>{document.body.removeChild(u),URL.revokeObjectURL(H)},_.onclick=()=>{const Q=document.createElement("a");Q.href=H,Q.download=l,Q.click()};let le=!1,k={x:0,y:0},V={x:0,y:0};f.onmousedown=Q=>{if(L)return;le=!0,k={x:Q.clientX,y:Q.clientY};const W=d.getBoundingClientRect();V={x:W.left,y:W.top},f.style.cursor="grabbing"},document.onmousemove=Q=>{if(!le||L)return;const W=Q.clientX-k.x,te=Q.clientY-k.y;d.style.left=V.x+W+"px",d.style.top=V.y+te+"px",d.style.position="absolute"},document.onmouseup=()=>{le=!1,f.style.cursor="move"};const J=Q=>{Q.key==="Escape"&&(document.body.removeChild(u),URL.revokeObjectURL(H),document.removeEventListener("keydown",J))};document.addEventListener("keydown",J),y.onmouseenter=()=>y.style.background="rgba(255,255,255,0.3)",y.onmouseleave=()=>y.style.background="rgba(255,255,255,0.2)",x.onmouseenter=()=>x.style.background="rgba(239,68,68,0.4)",x.onmouseleave=()=>x.style.background="rgba(239,68,68,0.2)",_.onmouseenter=()=>{_.style.background="#0f2419",_.style.transform="translateY(-1px)"},_.onmouseleave=()=>{_.style.background="#1e3a2e",_.style.transform="translateY(0)"},v.appendChild(y),v.appendChild(x),f.appendChild(p),f.appendChild(v),w.appendChild(_),F.appendChild(D),S.appendChild(w),S.appendChild(F),d.appendChild(f),d.appendChild(S),d.appendChild(O),u.appendChild(d),document.body.appendChild(u)}static async downloadFile(a,l,u){try{const d=await Vn.EXPORTS_DIR();await Vn.ensureDir(d);const f=new Blob([a],{type:u}),p=URL.createObjectURL(f),g=document.createElement("a");g.href=p,g.download=l,document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(p),console.log(`✅ File exported: ${l} (fallback browser download)`)}catch(d){throw console.error("Failed to export file:",d),d}}}function by({title:i="Kunden"}){const{customers:a,loading:l,error:u,createCustomer:d,updateCustomer:f,deleteCustomer:p}=Ol(),[g,h]=E.useState("list"),[v,y]=E.useState(null),{showError:x,showSuccess:S}=Kn(),{withLoading:w}=wi(),_=E.useMemo(()=>[{key:"number",header:"Nummer"},{key:"name",header:"Name"},{key:"email",header:"E-Mail",render:L=>L.email||s.jsx("em",{style:{opacity:.6},children:"kein Eintrag"})},{key:"city",header:"Ort",render:L=>L.city||s.jsx("em",{style:{opacity:.6},children:"kein Eintrag"})},{key:"phone",header:"Telefon",render:L=>L.phone||s.jsx("em",{style:{opacity:.6},children:"kein Eintrag"})},{key:"id",header:"Aktionen",render:L=>s.jsxs("div",{style:{display:"flex",gap:8},children:[s.jsx("button",{className:"btn btn-secondary",style:{padding:"4px 8px",fontSize:"12px"},onClick:()=>{y(L),h("edit")},disabled:l,children:"Bearbeiten"}),s.jsx("button",{className:"btn btn-danger",style:{padding:"4px 8px",fontSize:"12px"},onClick:()=>{confirm("Diesen Kunden wirklich löschen?")&&H(L.id)},disabled:l,children:"Löschen"})]})}],[l]);async function F(L){try{await d({name:L.name,email:L.email,phone:L.phone,street:L.street,zip:L.zip,city:L.city,notes:L.notes}),h("list")}catch(K){console.error("Error creating customer:",K)}}async function D(L){if(v)try{await f(v.id,{name:L.name,email:L.email,phone:L.phone,street:L.street,zip:L.zip,city:L.city,notes:L.notes}),h("list"),y(null)}catch(K){console.error("Error updating customer:",K)}}async function H(L){try{await w(()=>p(L),"Kunde wird gelöscht..."),S("Kunde wurde erfolgreich gelöscht.")}catch(K){const le=xi(K);x(le)}}async function O(){try{await w(()=>Promise.resolve(da.exportCustomersToCSV(a)),"CSV wird erstellt..."),S("CSV-Export wurde erfolgreich erstellt.")}catch(L){const K=xi(L);x("Fehler beim CSV-Export: "+K.message)}}return u&&a.length===0?s.jsx("div",{className:"card",children:s.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[s.jsxs("p",{style:{color:"rgba(239, 68, 68, 0.9)",marginBottom:"1rem"},children:["Fehler beim Laden der Kundendaten: ",u]}),s.jsx("button",{className:"btn btn-primary",onClick:()=>window.location.reload(),children:"Seite neu laden"})]})}):s.jsxs("div",{className:"card",children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[s.jsxs("div",{children:[s.jsx("h2",{style:{margin:"0 0 4px 0"},children:i}),s.jsx("div",{style:{opacity:.7},children:"Verwalte deine Kunden. Daten werden lokal gespeichert."})]}),s.jsxs("div",{style:{display:"flex",gap:"8px"},children:[s.jsx("button",{className:"btn btn-success",onClick:O,disabled:a.length===0,children:"CSV Export"}),s.jsx("button",{className:`btn ${g==="create"?"btn-secondary":"btn-primary"}`,onClick:()=>h(g==="create"?"list":"create"),disabled:l,children:g==="create"?"Abbrechen":"Neuer Kunde"})]})]}),s.jsx($l,{columns:_,data:a,emptyMessage:"Noch keine Kunden angelegt."}),g==="create"&&s.jsxs("div",{style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid rgba(0,0,0,.1)"},children:[s.jsxs("div",{style:{marginBottom:"16px"},children:[s.jsx("h3",{style:{margin:"0 0 4px 0"},children:"Neuer Kunde"}),s.jsx("div",{style:{opacity:.7},children:"Erstelle einen neuen Kunden."})]}),s.jsx(nf,{onSubmit:F,onCancel:()=>h("list"),submitLabel:"Erstellen"})]}),g==="edit"&&v&&s.jsxs("div",{style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid rgba(0,0,0,.1)"},children:[s.jsxs("div",{style:{marginBottom:"16px"},children:[s.jsx("h3",{style:{margin:"0 0 4px 0"},children:"Kunde bearbeiten"}),s.jsxs("div",{style:{opacity:.7},children:["Bearbeite die Kundendaten von ",v.name,"."]})]}),s.jsx(nf,{initial:{name:v.name,email:v.email||"",phone:v.phone||"",street:v.street||"",zip:v.zip||"",city:v.city||"",notes:v.notes||""},onSubmit:D,onCancel:()=>{h("list"),y(null)},submitLabel:"Aktualisieren"})]})]})}const Uf=()=>({settings:{},loading:!1}),rf=({offer:i,customers:a,packages:l,onSave:u,onCancel:d,submitLabel:f="Erstellen"})=>{var de,xe;const{adapter:p}=Ml(),{settings:g}=Uf(),{showError:h,showSuccess:v}=Kn(),{withLoading:y}=wi(),[x,S]=E.useState(((de=i==null?void 0:i.customerId)==null?void 0:de.toString())||""),[w,_]=E.useState((i==null?void 0:i.title)||""),[F,D]=E.useState((i==null?void 0:i.notes)||""),[H,O]=E.useState(i!=null&&i.validUntil?new Date(i.validUntil).toISOString().split("T")[0]:""),[L,K]=E.useState((i==null?void 0:i.lineItems)||[]),[le,k]=E.useState((i==null?void 0:i.vatRate)||19),[V,J]=E.useState({}),[Q,W]=E.useState(!1),te=((xe=g==null?void 0:g.companyData)==null?void 0:xe.kleinunternehmer)||!1,Se=L.reduce((G,ne)=>G+ne.total,0),ue=te?0:Se*le/100,Ie=Se+ue,Fe=()=>{const G={id:Date.now(),title:"",description:"",quantity:1,unitPrice:0,total:0,parentItemId:void 0};K([...L,G])},Le=G=>{const ne={id:Date.now(),title:"",description:"",quantity:1,unitPrice:0,total:0,parentItemId:G};K([...L,ne])},ke=(G,ne,be)=>{K(Ee=>Ee.map($e=>{if($e.id===G){const z={...$e,[ne]:be};return(ne==="quantity"||ne==="unitPrice")&&(z.total=z.quantity*z.unitPrice),z}return $e}))},ee=G=>{K(ne=>ne.filter(be=>be.id!==G&&be.parentItemId!==G))},U=async G=>{if(p)try{const ne=await p.getPackage(G);if(!ne)return;const be=ne.lineItems.map(Ee=>({id:Date.now()+Math.random(),title:Ee.title,description:Ee.description,quantity:Ee.quantity,unitPrice:Ee.amount,total:Ee.quantity*Ee.amount,parentItemId:Ee.parentItemId}));K([...L,...be])}catch(ne){console.error("Error adding package:",ne)}};function B(){const G={};return x||(G.customerId="Kunde ist erforderlich"),w!=null&&w.trim()||(G.title="Angebots-Titel ist erforderlich"),L.length===0&&(G.lineItems="Mindestens eine Position ist erforderlich"),L.forEach((ne,be)=>{var Ee;(Ee=ne.title)!=null&&Ee.trim()||(G[`lineItem_${be}_title`]=`Titel für Position ${be+1} ist erforderlich`),ne.quantity<=0&&(G[`lineItem_${be}_quantity`]=`Menge für Position ${be+1} muss größer als 0 sein`),ne.unitPrice<0&&(G[`lineItem_${be}_unitPrice`]=`Preis für Position ${be+1} darf nicht negativ sein`)}),J(G),Object.keys(G).length===0}const R=async G=>{if(G.preventDefault(),Q)return;if(!x||!w.trim()){alert("❌ Pflichtfelder fehlen:\\n\\n"+(x?"":"• Bitte wählen Sie einen Kunden aus\\n")+(w.trim()?"":"• Bitte geben Sie einen Titel ein\\n"));return}if(!B())return;const ne={offerNumber:(i==null?void 0:i.offerNumber)||`AN-${Date.now()}`,customerId:parseInt(x),title:w.trim(),notes:F.trim(),validUntil:H,lineItems:L,subtotal:Se,vatRate:le,vatAmount:ue,total:Ie,status:(i==null?void 0:i.status)||"draft"};try{W(!0),await y(()=>u(ne),`${f}...`),v(`Angebot wurde erfolgreich ${f==="Erstellen"?"erstellt":"aktualisiert"}.`)}catch(be){const Ee=xi(be);Ee instanceof Zs&&Ee.field?J($e=>({...$e,[Ee.field]:Ee.message})):h(Ee)}finally{W(!1)}},$=L.filter(G=>!G.parentItemId);return s.jsxs("div",{className:"card",style:{maxWidth:"800px",margin:"0 auto"},children:[s.jsx("h2",{style:{margin:"0 0 16px 0"},children:i?"Angebot bearbeiten":"Neues Angebot"}),s.jsxs("form",{onSubmit:R,style:{display:"flex",flexDirection:"column",gap:"16px"},children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"Kunde *"}),s.jsxs("select",{value:x,onChange:G=>{S(G.target.value),V.customerId&&J(ne=>({...ne,customerId:""}))},style:{width:"100%",padding:"8px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"6px",background:"rgba(17,24,39,.8)",color:"var(--muted)"},required:!0,disabled:Q,className:V.customerId?"error":"",children:[s.jsx("option",{value:"",children:"Kunde auswählen"}),a.map(G=>s.jsx("option",{value:G.id,children:G.name},G.id))]}),V.customerId&&s.jsx("div",{className:"field-error",children:V.customerId})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"Gültig bis"}),s.jsx("input",{type:"date",value:H,onChange:G=>O(G.target.value),style:{width:"100%",padding:"8px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"6px",background:"rgba(17,24,39,.8)",color:"var(--muted)"}})]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"Titel *"}),s.jsx("input",{type:"text",value:w,onChange:G=>{_(G.target.value),V.title&&J(ne=>({...ne,title:""}))},style:{width:"100%",padding:"8px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"6px",background:"rgba(17,24,39,.8)",color:"var(--muted)"},required:!0,disabled:Q,className:V.title?"error":""}),V.title&&s.jsx("div",{className:"field-error",children:V.title})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"Anmerkungen"}),s.jsx("textarea",{value:F,onChange:G=>D(G.target.value),rows:3,style:{width:"100%",padding:"8px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"6px",background:"rgba(17,24,39,.8)",color:"var(--muted)",resize:"vertical"}})]}),s.jsxs("div",{style:{borderTop:"1px solid rgba(255,255,255,.1)",paddingTop:"16px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[s.jsx("h3",{style:{margin:"0",fontSize:"16px",fontWeight:"600"},children:"Positionen"}),s.jsxs("select",{onChange:G=>{G.target.value&&(U(parseInt(G.target.value)),G.target.value="")},style:{padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},disabled:Q,children:[s.jsx("option",{value:"",children:"Paket hinzufügen"}),l.map(G=>s.jsx("option",{value:G.id,children:G.internalTitle},G.id))]}),s.jsx("button",{type:"button",onClick:Fe,disabled:Q,className:"btn btn-success",style:{fontSize:"14px",padding:"6px 12px"},children:"Position hinzufügen"})]}),V.lineItems&&s.jsx("div",{className:"field-error",style:{marginBottom:"12px"},children:V.lineItems}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:$.map(G=>s.jsxs("div",{children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr 1fr auto",gap:"8px",alignItems:"start",padding:"12px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"6px",background:"rgba(17,24,39,.4)"},children:[s.jsxs("div",{children:[s.jsx("input",{type:"text",placeholder:"Titel",value:G.title,onChange:ne=>ke(G.id,"title",ne.target.value),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px",marginBottom:"4px"}}),s.jsx("input",{type:"text",placeholder:"Beschreibung",value:G.description||"",onChange:ne=>ke(G.id,"description",ne.target.value),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"}})]}),s.jsx("div",{children:s.jsx("input",{type:"number",placeholder:"Menge",value:G.quantity,onChange:ne=>ke(G.id,"quantity",parseFloat(ne.target.value)||0),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},min:"0",step:"0.01"})}),s.jsx("div",{children:s.jsx("input",{type:"number",placeholder:"Einzelpreis",value:G.unitPrice,onChange:ne=>ke(G.id,"unitPrice",parseFloat(ne.target.value)||0),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},min:"0",step:"0.01"})}),s.jsxs("div",{style:{padding:"6px",fontSize:"14px",fontWeight:"500"},children:["€",G.total.toFixed(2)]}),s.jsxs("div",{style:{display:"flex",gap:"4px"},children:[s.jsx("button",{type:"button",onClick:()=>Le(G.id),style:{backgroundColor:"var(--ok)",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Sub"}),s.jsx("button",{type:"button",onClick:()=>ee(G.id),style:{backgroundColor:"var(--danger)",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"✕"})]})]}),L.filter(ne=>ne.parentItemId===G.id).map(ne=>s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr 1fr auto",gap:"8px",alignItems:"start",padding:"12px",marginLeft:"24px",border:"1px solid rgba(96,165,250,.3)",borderLeft:"4px solid var(--accent)",borderRadius:"6px",background:"rgba(96,165,250,.1)",marginTop:"4px"},children:[s.jsxs("div",{children:[s.jsx("input",{type:"text",placeholder:"Sub-Titel",value:ne.title,onChange:be=>ke(ne.id,"title",be.target.value),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px",marginBottom:"4px"}}),s.jsx("input",{type:"text",placeholder:"Sub-Beschreibung",value:ne.description||"",onChange:be=>ke(ne.id,"description",be.target.value),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"}})]}),s.jsx("div",{children:s.jsx("input",{type:"number",placeholder:"Menge",value:ne.quantity,onChange:be=>ke(ne.id,"quantity",parseFloat(be.target.value)||0),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},min:"0",step:"0.01"})}),s.jsx("div",{children:s.jsx("input",{type:"number",placeholder:"Einzelpreis",value:ne.unitPrice,onChange:be=>ke(ne.id,"unitPrice",parseFloat(be.target.value)||0),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},min:"0",step:"0.01"})}),s.jsxs("div",{style:{padding:"6px",fontSize:"14px",fontWeight:"500"},children:["€",ne.total.toFixed(2)]}),s.jsx("div",{children:s.jsx("button",{type:"button",onClick:()=>ee(ne.id),style:{backgroundColor:"var(--danger)",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"✕"})})]},ne.id))]},G.id))})]}),s.jsx("div",{style:{borderTop:"1px solid rgba(255,255,255,.1)",paddingTop:"16px"},children:s.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:s.jsxs("div",{style:{width:"300px",display:"flex",flexDirection:"column",gap:"8px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{children:"Zwischensumme:"}),s.jsxs("span",{children:["€",Se.toFixed(2)]})]}),!te&&s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx("span",{children:"MwSt.:"}),s.jsx("input",{type:"number",value:le,onChange:G=>k(parseFloat(G.target.value)||0),style:{width:"60px",padding:"4px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},min:"0",max:"100",step:"0.1"}),s.jsx("span",{children:"%"})]}),s.jsxs("span",{children:["€",ue.toFixed(2)]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"600",fontSize:"16px",borderTop:"1px solid rgba(255,255,255,.1)",paddingTop:"8px"},children:[s.jsx("span",{children:"Gesamtbetrag:"}),s.jsxs("span",{children:["€",Ie.toFixed(2)]})]})]})})}),s.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",marginTop:"16px"},children:[s.jsx("button",{type:"button",onClick:d,disabled:Q,className:"btn btn-secondary",style:{padding:"12px 24px",fontSize:"14px",fontWeight:"500",minWidth:"120px"},children:"Abbrechen"}),s.jsx("button",{type:"submit",disabled:Q,className:"btn btn-primary",style:{padding:"12px 24px",fontSize:"14px",fontWeight:"500",minWidth:"120px"},children:Q?"Wird gespeichert...":f})]}),s.jsx("style",{children:`
          .field-error {
            color: rgba(239, 68, 68, 0.9);
            font-size: 0.8rem;
            margin-top: 4px;
          }
          .error {
            border-color: rgba(239, 68, 68, 0.5) !important;
            background: rgba(239, 68, 68, 0.1) !important;
          }
        `})]})]})},Wf=()=>({settings:{},loading:!1});function Sy({title:i="Angebote"}){const{offers:a,error:l,createOffer:u,updateOffer:d,deleteOffer:f}=Al(),{customers:p}=Ol(),{packages:g}=eu(),{settings:h}=Wf(),{showSuccess:v,showError:y}=Kn(),[x,S]=E.useState("list"),[w,_]=E.useState(null),F=E.useMemo(()=>[{key:"offerNumber",header:"Nummer"},{key:"customerId",header:"Kunde",render:k=>{const V=p.find(J=>J.id===k.customerId);return(V==null?void 0:V.name)||`Kunde #${k.customerId}`}},{key:"title",header:"Titel"},{key:"status",header:"Status",render:k=>{const V={draft:"#6b7280",sent:"#3b82f6",accepted:"#10b981",rejected:"#ef4444"},J={draft:"Entwurf",sent:"Versendet",accepted:"Angenommen",rejected:"Abgelehnt"},Q=V[k.status]||"#6b7280",W=J[k.status]||k.status;return s.jsx("span",{style:{padding:"4px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"500",backgroundColor:Q+"20",color:Q},children:W})}},{key:"total",header:"Gesamtbetrag",render:k=>`€${k.total.toFixed(2)}`},{key:"validUntil",header:"Gültig bis",render:k=>k.validUntil?new Date(k.validUntil).toLocaleDateString("de-DE"):"-"},{key:"id",header:"Aktionen",render:k=>s.jsxs("div",{style:{display:"flex",gap:"4px"},children:[s.jsx("button",{className:"btn btn-info",onClick:()=>le(k),style:{padding:"4px 8px",fontSize:"12px"},title:"PDF Vorschau anzeigen",children:"👁️ Vorschau"}),s.jsx("button",{className:"btn btn-warning",onClick:()=>K(k),style:{padding:"4px 8px",fontSize:"12px"},title:"PDF herunterladen",children:"💾 PDF"}),s.jsx("button",{className:"btn btn-secondary",style:{padding:"4px 8px",fontSize:"12px"},onClick:()=>{_(k),S("edit")},children:"Bearbeiten"}),s.jsxs("select",{value:k.status,onChange:V=>O(k.id,V.target.value),style:{padding:"4px 8px",fontSize:"12px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",cursor:"pointer"},children:[s.jsx("option",{value:"draft",children:"Entwurf"}),s.jsx("option",{value:"sent",children:"Gesendet"}),s.jsx("option",{value:"accepted",children:"Angenommen"}),s.jsx("option",{value:"rejected",children:"Abgelehnt"})]}),s.jsx("button",{className:"btn btn-danger",style:{padding:"4px 8px",fontSize:"12px"},onClick:()=>{confirm("Dieses Angebot wirklich löschen?")&&L(k.id)},children:"Löschen"})]})}],[p]);async function D(k){await u(k),S("list")}async function H(k){w&&(await d(w.id,k),S("list"),_(null))}async function O(k,V){try{const J=a.find(Se=>Se.id===k);if(!J)return;const Q=new Date().toISOString(),W={};switch(V){case"sent":W.sentAt=Q;break;case"accepted":W.acceptedAt=Q;break;case"rejected":W.rejectedAt=Q;break}await d(k,{...J,status:V,...W}),v(`Angebot-Status auf "${{draft:"Entwurf",sent:"Gesendet",accepted:"Angenommen",rejected:"Abgelehnt"}[V]}" geändert`)}catch{y("Fehler beim Ändern des Status")}}async function L(k){await f(k)}const K=async k=>{const V=p.find(J=>J.id===k.customerId);if(!V){alert("Kunde nicht gefunden");return}try{await da.exportOfferToPDF(k,V,h,!1)}catch(J){console.error("PDF Export failed:",J),alert("PDF Export fehlgeschlagen: "+(J instanceof Error?J.message:"Unbekannter Fehler"))}},le=async k=>{const V=p.find(J=>J.id===k.customerId);if(!V){alert("Kunde nicht gefunden");return}try{await da.exportOfferToPDF(k,V,h,!0)}catch(J){console.error("PDF Preview failed:",J),alert("PDF Vorschau fehlgeschlagen: "+(J instanceof Error?J.message:"Unbekannter Fehler"))}};return l?s.jsxs("div",{className:"card",children:["Fehler: ",l]}):s.jsxs("div",{className:"card",children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[s.jsxs("div",{children:[s.jsx("h2",{style:{margin:"0 0 4px 0"},children:i}),s.jsx("div",{style:{opacity:.7},children:"Verwalte deine Angebote und exportiere sie als PDF."})]}),s.jsx("button",{className:`btn ${x==="create"?"btn-secondary":"btn-primary"}`,onClick:()=>S(x==="create"?"list":"create"),children:x==="create"?"Abbrechen":"Neues Angebot"})]}),s.jsx($l,{columns:F,data:a,emptyMessage:"Noch keine Angebote erstellt."}),x==="create"&&s.jsxs("div",{style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid rgba(255,255,255,.1)"},children:[s.jsxs("div",{style:{marginBottom:"16px"},children:[s.jsx("h3",{style:{margin:"0 0 4px 0"},children:"Neues Angebot"}),s.jsx("div",{style:{opacity:.7},children:"Erstelle ein neues Angebot."})]}),s.jsx(rf,{customers:p,packages:g,onSave:D,onCancel:()=>S("list"),submitLabel:"Erstellen"})]}),x==="edit"&&w&&s.jsxs("div",{style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid rgba(255,255,255,.1)"},children:[s.jsxs("div",{style:{marginBottom:"16px"},children:[s.jsx("h3",{style:{margin:"0 0 4px 0"},children:"Angebot bearbeiten"}),s.jsxs("div",{style:{opacity:.7},children:['Bearbeite das Angebot "',w.title,'".']})]}),s.jsx(rf,{offer:w,customers:p,packages:g,onSave:H,onCancel:()=>{S("list"),_(null)},submitLabel:"Aktualisieren"})]})]})}function ky({}){const{adapter:i,ready:a,error:l}=Ml(),[u,d]=E.useState([]),[f,p]=E.useState(!1),[g,h]=E.useState("");E.useEffect(()=>{if(!a||!i)return;let y=!0;return(async()=>{p(!0);try{const x=await i.listCustomers();y&&d(x)}finally{y&&p(!1)}})(),()=>{y=!1}},[a,i]);async function v(){if(!i)return;const y=g.trim();if(!y)return;const x=`K-${String(Date.now()).slice(-6)}`;await i.createCustomer({number:x,name:y});const S=await i.listCustomers();d(S),h("")}return s.jsxs("div",{className:"p-4 space-y-6",children:[s.jsx("header",{className:"flex items-center justify-between",children:s.jsx("h1",{className:"text-2xl font-semibold",children:"Angebot – Details"})}),!a&&s.jsx("div",{className:"text-sm text-gray-500",children:"Initialisiere Persistenz…"}),l&&s.jsxs("div",{className:"text-sm text-red-600",children:["Persistenzfehler: ",String(l)]}),s.jsxs("section",{className:"space-y-3",children:[s.jsx("h2",{className:"text-lg font-medium",children:"Schnell-Kunde anlegen"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{value:g,onChange:y=>h(y.target.value),placeholder:"Kundenname",className:"flex-1 px-3 py-2 border rounded"}),s.jsx("button",{onClick:v,disabled:!g.trim()||!i,className:"px-4 py-2 bg-blue-600 text-white rounded disabled:bg-gray-400",children:"Hinzufügen"})]})]}),s.jsxs("section",{className:"space-y-3",children:[s.jsxs("h2",{className:"text-lg font-medium",children:["Kunden (",u.length,")"]}),f?s.jsx("div",{className:"text-sm text-gray-500",children:"Lade Kunden…"}):s.jsx("div",{className:"grid gap-2",children:u.map(y=>s.jsxs("div",{className:"p-3 border rounded",children:[s.jsx("div",{className:"font-medium",children:y.name}),s.jsx("div",{className:"text-sm text-gray-600",children:y.number})]},y.id))})]})]})}function af({initial:i,onSubmit:a,onCancel:l,submitLabel:u="Speichern",packages:d=[]}){const[f,p]=E.useState(i??{internalTitle:"",lineItems:[],addVat:!1}),[g,h]=E.useState({title:"",quantity:1,amount:0,parentItemId:void 0,description:""}),[v,y]=E.useState(""),[x,S]=E.useState({}),[w,_]=E.useState(!1),{showError:F,showSuccess:D}=Kn(),{withLoading:H}=wi();function O(){var Se;if(!g.title.trim()){y("Bitte einen Titel für die Position eingeben"),setTimeout(()=>{const ue=document.querySelector('input[placeholder*="Position"]');ue==null||ue.focus()},100);return}y("");const W={title:g.title.trim(),quantity:g.quantity,amount:g.amount,parentItemId:g.parentItemId,description:((Se=g.description)==null?void 0:Se.trim())||void 0};p(ue=>({...ue,lineItems:[...ue.lineItems,W]}));const te=g.parentItemId;h({title:"",quantity:1,amount:0,parentItemId:te,description:""}),setTimeout(()=>{const ue=document.querySelector('input[placeholder*="Position"]');ue==null||ue.focus()},100)}function L(W){p(te=>({...te,lineItems:te.lineItems.filter((Se,ue)=>ue!==W)}))}function K(W,te,Se){p(ue=>({...ue,lineItems:ue.lineItems.map((Ie,Fe)=>Fe===W?{...Ie,[te]:Se}:Ie)}))}function le(){const W={};return f.internalTitle.trim()||(W.internalTitle="Bitte einen internen Titel eingeben"),f.lineItems.length===0&&(W.lineItems="Bitte mindestens eine Position hinzufügen"),f.lineItems.forEach((te,Se)=>{te.title.trim()||(W[`item_${Se}_title`]="Titel ist erforderlich"),te.quantity<=0&&(W[`item_${Se}_quantity`]="Menge muss größer als 0 sein"),te.amount<0&&(W[`item_${Se}_amount`]="Betrag darf nicht negativ sein")}),S(W),Object.keys(W).length===0}const k=f.lineItems.reduce((W,te)=>te.parentItemId?W:W+te.quantity*te.amount,0);async function V(W){if(W.preventDefault(),!le()||w)return;const te={...f,internalTitle:f.internalTitle.trim()};try{_(!0),await H(()=>a(te),`${u}...`),D(`Paket wurde erfolgreich ${u==="Speichern"?"gespeichert":"aktualisiert"}.`)}catch(Se){const ue=xi(Se);ue instanceof Zs&&ue.field?S(Ie=>({...Ie,[ue.field]:ue.message})):F(ue)}finally{_(!1)}}const J=d.filter(W=>!W.parentPackageId),Q=f.lineItems.length>0||J.length>0;return s.jsxs("form",{onSubmit:V,className:"package-form",style:{display:"grid",gap:16},children:[s.jsxs("div",{style:{display:"grid",gap:6},children:[s.jsx("label",{children:"Paket-Name*"}),s.jsx("input",{value:f.internalTitle,onChange:W=>{p(te=>({...te,internalTitle:W.target.value})),x.internalTitle&&S(te=>({...te,internalTitle:""}))},placeholder:"Webdesign-Paket",disabled:w,className:x.internalTitle?"error":""}),x.internalTitle&&s.jsx("span",{className:"field-error",children:x.internalTitle})]}),Q&&s.jsxs("div",{style:{display:"grid",gap:6},children:[s.jsx("label",{children:"Als Subpaket zu (optional)"}),s.jsxs("select",{value:f.parentPackageId||"",onChange:W=>p(te=>({...te,parentPackageId:W.target.value?Number(W.target.value):void 0})),disabled:w,children:[s.jsx("option",{value:"",children:"-- Hauptpaket --"}),J.length>0?J.map(W=>s.jsx("option",{value:W.id,children:W.internalTitle},W.id)):s.jsx("option",{disabled:!0,style:{fontStyle:"italic",opacity:.7},children:"Speichere zuerst ein Hauptpaket, um Subpakete erstellen zu können"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{style:{margin:"0 0 12px 0"},children:"Leistungspositionen"}),x.lineItems&&s.jsx("div",{className:"field-error",style:{marginBottom:"12px"},children:x.lineItems}),f.lineItems.map((W,te)=>{const Se=!!W.parentItemId;return s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto 120px auto",gap:8,alignItems:"center",padding:"8px 0",paddingLeft:Se?"20px":"0",borderBottom:"1px solid rgba(255,255,255,.1)",borderLeft:Se?"2px solid rgba(96,165,250,.5)":"none"},children:[s.jsxs("div",{children:[Se&&s.jsx("span",{style:{opacity:.7,fontSize:"12px"},children:"↳ "}),s.jsx("input",{value:W.title,onChange:ue=>K(te,"title",ue.target.value),placeholder:Se?"Sub-Position":"Hauptposition",disabled:w,className:x[`item_${te}_title`]?"error":""}),x[`item_${te}_title`]&&s.jsx("div",{className:"field-error",style:{fontSize:"10px"},children:x[`item_${te}_title`]}),Se&&s.jsx("input",{value:W.description||"",onChange:ue=>K(te,"description",ue.target.value),placeholder:"Beschreibung (optional)",style:{marginTop:"4px",fontSize:"12px",opacity:.8},disabled:w})]}),s.jsx("input",{type:"number",value:W.quantity,onChange:ue=>K(te,"quantity",Number(ue.target.value)),style:{width:"60px"},min:"1",disabled:w,className:x[`item_${te}_quantity`]?"error":""}),s.jsx("input",{type:"number",value:W.amount,onChange:ue=>K(te,"amount",Number(ue.target.value)),placeholder:Se?"0":"1000",step:"0.01",disabled:w,className:x[`item_${te}_amount`]?"error":""}),s.jsxs("div",{style:{display:"flex",gap:"4px"},children:[!Se&&s.jsx("button",{type:"button",onClick:()=>{h(ue=>({...ue,parentItemId:te,title:"",description:""})),setTimeout(()=>{const ue=document.querySelector('input[placeholder*="Position"]');ue==null||ue.focus()},100)},disabled:w,style:{backgroundColor:"rgba(96,165,250,.8)",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},title:"Sub-Item zu dieser Position hinzufügen",children:"+ Sub"}),s.jsx("button",{type:"button",onClick:()=>L(te),disabled:w,style:{backgroundColor:"rgba(239,68,68,.8)",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"🗑️"})]})]},te)}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto 120px auto auto",gap:8,alignItems:"center",padding:"12px 0",borderTop:"2px solid rgba(96,165,250,.3)",marginTop:"8px"},children:[s.jsxs("div",{children:[f.lineItems.filter(W=>!W.parentItemId).length>0&&s.jsxs("select",{value:g.parentItemId||"",onChange:W=>h(te=>({...te,parentItemId:W.target.value?Number(W.target.value):void 0})),style:{marginBottom:"4px",width:"100%"},disabled:w,children:[s.jsx("option",{value:"",children:"-- Hauptposition --"}),f.lineItems.filter(W=>!W.parentItemId).map((W,te)=>s.jsxs("option",{value:te,children:["↳ Sub-Item zu: ",W.title]},te))]}),s.jsx("input",{value:g.title,onChange:W=>{h(te=>({...te,title:W.target.value})),v&&y("")},placeholder:g.parentItemId!==void 0?"Sub-Position...":"Neue Position...",style:{width:"100%",border:v?"1px solid #ff6b6b":"1px solid rgba(255,255,255,.15)"},disabled:w}),g.parentItemId!==void 0&&s.jsx("input",{value:g.description,onChange:W=>h(te=>({...te,description:W.target.value})),placeholder:"Beschreibung (optional)",style:{marginTop:"4px",fontSize:"12px",opacity:.8,width:"100%"},disabled:w}),v&&s.jsx("div",{className:"field-error",children:v})]}),s.jsx("input",{type:"number",value:g.quantity,onChange:W=>h(te=>({...te,quantity:Number(W.target.value)})),style:{width:"60px"},min:"1",disabled:w}),s.jsx("input",{type:"number",value:g.amount,onChange:W=>h(te=>({...te,amount:Number(W.target.value)})),placeholder:"0",step:"0.01",disabled:w}),g.parentItemId!==void 0&&s.jsx("button",{type:"button",onClick:()=>h(W=>({...W,parentItemId:void 0})),disabled:w,style:{backgroundColor:"rgba(156,163,175,.8)",color:"white",border:"none",padding:"8px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},title:"Zu Hauptposition wechseln",children:"Haupt"}),s.jsx("button",{type:"button",onClick:O,disabled:w,style:{backgroundColor:"rgba(34,197,94,.8)",color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"+ Position hinzufügen"})]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",borderTop:"1px solid rgba(255,255,255,.2)",paddingTop:"12px"},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[s.jsx("input",{type:"checkbox",checked:f.addVat,onChange:W=>p(te=>({...te,addVat:W.target.checked})),disabled:w}),"MwSt. hinzufügen"]}),s.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold"},children:["Total: €",k.toFixed(2),f.addVat&&s.jsx("span",{style:{fontSize:"12px",opacity:.8,display:"block"},children:"zzgl. MwSt."})]})]}),s.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[s.jsx("button",{type:"submit",disabled:w,className:"btn btn-primary",style:{padding:"12px 24px",fontSize:"14px",fontWeight:"500",minWidth:"120px"},children:w?"Wird gespeichert...":u}),l&&s.jsx("button",{type:"button",onClick:l,disabled:w,className:"btn btn-secondary",style:{padding:"12px 24px",fontSize:"14px",fontWeight:"500",minWidth:"120px"},children:"Abbrechen"})]}),s.jsx("style",{children:`
        .package-form input, 
        .package-form select { 
          background: rgba(255,255,255,.06); 
          color: white; 
          border: 1px solid rgba(255,255,255,.15); 
          padding: 10px 12px; 
          border-radius: 10px; 
          font-family: inherit;
        }
        
        .package-form select option {
          background: #1a1a1a;
          color: white;
          padding: 8px;
        }
        
        .package-form input:focus, 
        .package-form select:focus { 
          outline: 2px solid rgba(96,165,250,.5);
          background: rgba(255,255,255,.08);
        }
        
        .package-form input.error {
          border-color: rgba(239, 68, 68, 0.5);
          background: rgba(239, 68, 68, 0.1);
        }
        
        .package-form input:disabled, 
        .package-form select:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }
        
        .package-form label {
          font-weight: 500;
          color: rgba(255,255,255,.9);
        }
        
        .field-error {
          color: rgba(239, 68, 68, 0.9);
          font-size: 0.8rem;
          margin-top: 4px;
        }
        
        .package-form input[type="checkbox"] {
          width: auto;
          margin: 0;
        }
      `})]})}function Ey({title:i="Pakete"}){const{packages:a,loading:l,error:u,createPackage:d,updatePackage:f,deletePackage:p}=eu(),[g,h]=E.useState("list"),[v,y]=E.useState(null),{showError:x,showSuccess:S}=Kn(),{withLoading:w}=wi();a.filter(O=>!O.parentPackageId),a.filter(O=>O.parentPackageId);const _=E.useMemo(()=>[{key:"internalTitle",header:"Bezeichnung"},{key:"total",header:"Preis",render:O=>`€${O.total.toFixed(2)}`},{key:"lineItems",header:"Positionen",render:O=>`${O.lineItems.length} Position(en)`},{key:"parentPackageId",header:"Typ",render:O=>O.parentPackageId?s.jsx("em",{style:{opacity:.7},children:"Subpaket"}):s.jsx("strong",{children:"Hauptpaket"})},{key:"id",header:"Aktionen",render:O=>s.jsxs("div",{style:{display:"flex",gap:8},children:[s.jsx("button",{className:"btn btn-secondary",style:{padding:"4px 8px",fontSize:"12px"},onClick:()=>{y(O),h("edit")},disabled:l,children:"Bearbeiten"}),s.jsx("button",{className:"btn btn-danger",style:{padding:"4px 8px",fontSize:"12px"},onClick:()=>{confirm("Dieses Paket wirklich löschen?")&&H(O.id)},disabled:l,children:"Löschen"})]})}],[l]);async function F(O){try{await d({internalTitle:O.internalTitle,lineItems:O.lineItems.map((L,K)=>({...L,id:K+1})),parentPackageId:O.parentPackageId,addVat:O.addVat}),h("list")}catch(L){console.error("Error creating package:",L)}}async function D(O){if(v)try{await f(v.id,{internalTitle:O.internalTitle,lineItems:O.lineItems.map((L,K)=>({...L,id:K+1})),parentPackageId:O.parentPackageId,addVat:O.addVat}),h("list"),y(null)}catch(L){console.error("Error updating package:",L)}}async function H(O){try{await w(()=>p(O),"Paket wird gelöscht..."),S("Paket wurde erfolgreich gelöscht.")}catch(L){const K=xi(L);x(K)}}return u&&a.length===0?s.jsx("div",{className:"card",children:s.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[s.jsxs("p",{style:{color:"rgba(239, 68, 68, 0.9)",marginBottom:"1rem"},children:["Fehler beim Laden der Pakete: ",u]}),s.jsx("button",{className:"btn btn-primary",onClick:()=>window.location.reload(),children:"Seite neu laden"})]})}):s.jsxs("div",{className:"card",children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[s.jsxs("div",{children:[s.jsx("h2",{style:{margin:"0 0 4px 0"},children:i}),s.jsx("div",{style:{opacity:.7},children:"Definiere Leistungspakete, die du in Angeboten/Rechnungen verwenden kannst."})]}),s.jsx("button",{className:`btn ${g==="create"?"btn-secondary":"btn-primary"}`,onClick:()=>h(g==="create"?"list":"create"),disabled:l,children:g==="create"?"Abbrechen":"Neues Paket"})]}),s.jsx($l,{columns:_,data:a,emptyMessage:"Noch keine Pakete definiert."}),g==="create"&&s.jsxs("div",{style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid rgba(255,255,255,.1)"},children:[s.jsxs("div",{style:{marginBottom:"16px"},children:[s.jsx("h3",{style:{margin:"0 0 4px 0"},children:"Neues Paket"}),s.jsx("div",{style:{opacity:.7},children:"Erstelle ein neues Leistungspaket."})]}),s.jsx(af,{onSubmit:F,onCancel:()=>h("list"),submitLabel:"Paket erstellen",packages:a})]}),g==="edit"&&v&&s.jsxs("div",{style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid rgba(255,255,255,.1)"},children:[s.jsxs("div",{style:{marginBottom:"16px"},children:[s.jsx("h3",{style:{margin:"0 0 4px 0"},children:"Paket bearbeiten"}),s.jsxs("div",{style:{opacity:.7},children:['Bearbeite das Paket "',v.internalTitle,'".']})]}),s.jsx(af,{initial:{internalTitle:v.internalTitle,lineItems:v.lineItems.map(O=>({title:O.title,quantity:O.quantity,amount:O.amount,parentItemId:O.parentItemId,description:O.description})),addVat:v.addVat,parentPackageId:v.parentPackageId},onSubmit:D,onCancel:()=>{h("list"),y(null)},submitLabel:"Paket aktualisieren",packages:a})]})]})}const lf=({invoice:i,customers:a,offers:l,onSave:u,onCancel:d})=>{var Le,ke,ee;const{adapter:f}=Ml(),{settings:p}=Uf(),[g,h]=E.useState(((Le=i==null?void 0:i.customerId)==null?void 0:Le.toString())||""),[v,y]=E.useState(((ke=i==null?void 0:i.offerId)==null?void 0:ke.toString())||""),[x,S]=E.useState((i==null?void 0:i.title)||""),[w,_]=E.useState((i==null?void 0:i.notes)||""),[F,D]=E.useState(i!=null&&i.dueDate?new Date(i.dueDate).toISOString().split("T")[0]:""),[H,O]=E.useState((i==null?void 0:i.lineItems)||[]),[L,K]=E.useState((i==null?void 0:i.vatRate)||19),le=((ee=p==null?void 0:p.companyData)==null?void 0:ee.kleinunternehmer)||!1,k=H.reduce((U,B)=>U+B.total,0),V=le?0:k*(L/100),J=k+V,Q=()=>{const U={id:Date.now(),title:"",description:"",quantity:1,unitPrice:0,total:0,parentItemId:void 0};O([...H,U])},W=U=>{const B={id:Date.now(),title:"",description:"",quantity:1,unitPrice:0,total:0,parentItemId:U};O([...H,B])},te=(U,B,R)=>{O($=>$.map(de=>{if(de.id===U){const xe={...de,[B]:R};return(B==="quantity"||B==="unitPrice")&&(xe.total=xe.quantity*xe.unitPrice),xe}return de}))},Se=U=>{O(B=>B.filter(R=>R.id!==U&&R.parentItemId!==U))},ue=async U=>{if(f)try{const B=await f.getOffer(U);if(!B)return;const R=B.lineItems.map($=>({id:Date.now()+Math.random(),title:$.title,description:$.description,quantity:$.quantity,unitPrice:$.unitPrice,total:$.total,parentItemId:$.parentItemId}));O(R),h(B.customerId.toString()),S(B.title),K(B.vatRate)}catch(B){console.error("Error adding offer:",B)}},Ie=U=>{if(U.preventDefault(),!g||!x.trim()){alert("❌ Pflichtfelder fehlen:\\n\\n"+(g?"":"• Bitte wählen Sie einen Kunden aus\\n")+(x.trim()?"":"• Bitte geben Sie einen Titel ein\\n"));return}const B={invoiceNumber:(i==null?void 0:i.invoiceNumber)||`RE-${Date.now()}`,customerId:parseInt(g),offerId:v?parseInt(v):void 0,title:x,notes:w,dueDate:F,lineItems:H,subtotal:k,vatRate:L,vatAmount:V,total:J,status:(i==null?void 0:i.status)||"draft"};u(B)},Fe=H.filter(U=>!U.parentItemId);return s.jsxs("div",{className:"card",style:{maxWidth:"800px",margin:"0 auto"},children:[s.jsx("h2",{style:{margin:"0 0 16px 0"},children:i?"Rechnung bearbeiten":"Neue Rechnung"}),s.jsxs("form",{onSubmit:Ie,style:{display:"flex",flexDirection:"column",gap:"16px"},children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"Kunde *"}),s.jsxs("select",{value:g,onChange:U=>h(U.target.value),style:{width:"100%",padding:"8px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"6px",background:"rgba(17,24,39,.8)",color:"var(--muted)"},required:!0,children:[s.jsx("option",{value:"",children:"Kunde auswählen"}),a.map(U=>s.jsx("option",{value:U.id,children:U.name},U.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"Fällig am"}),s.jsx("input",{type:"date",value:F,onChange:U=>D(U.target.value),style:{width:"100%",padding:"8px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"6px",background:"rgba(17,24,39,.8)",color:"var(--muted)"}})]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"Titel *"}),s.jsx("input",{type:"text",value:x,onChange:U=>S(U.target.value),style:{width:"100%",padding:"8px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"6px",background:"rgba(17,24,39,.8)",color:"var(--muted)"},required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"Anmerkungen"}),s.jsx("textarea",{value:w,onChange:U=>_(U.target.value),rows:3,style:{width:"100%",padding:"8px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"6px",background:"rgba(17,24,39,.8)",color:"var(--muted)",resize:"vertical"}})]}),s.jsxs("div",{style:{borderTop:"1px solid rgba(255,255,255,.1)",paddingTop:"16px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[s.jsx("h3",{style:{margin:"0",fontSize:"16px",fontWeight:"600"},children:"Positionen"}),s.jsxs("select",{value:v,onChange:U=>{y(U.target.value),U.target.value&&ue(parseInt(U.target.value))},style:{padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},children:[s.jsx("option",{value:"",children:"Aus Angebot übernehmen"}),l.filter(U=>!g||U.customerId===parseInt(g)).map(U=>s.jsxs("option",{value:U.id,children:[U.offerNumber," - ",U.title]},U.id))]}),s.jsx("button",{type:"button",onClick:Q,style:{backgroundColor:"var(--accent)",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"Position hinzufügen"})]}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:Fe.map(U=>s.jsxs("div",{children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr 1fr auto",gap:"8px",alignItems:"start",padding:"12px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"6px",background:"rgba(17,24,39,.4)"},children:[s.jsxs("div",{children:[s.jsx("input",{type:"text",placeholder:"Titel",value:U.title,onChange:B=>te(U.id,"title",B.target.value),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px",marginBottom:"4px"}}),s.jsx("input",{type:"text",placeholder:"Beschreibung",value:U.description||"",onChange:B=>te(U.id,"description",B.target.value),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"}})]}),s.jsx("div",{children:s.jsx("input",{type:"number",placeholder:"Menge",value:U.quantity,onChange:B=>te(U.id,"quantity",parseFloat(B.target.value)||0),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},min:"0",step:"0.01"})}),s.jsx("div",{children:s.jsx("input",{type:"number",placeholder:"Einzelpreis",value:U.unitPrice,onChange:B=>te(U.id,"unitPrice",parseFloat(B.target.value)||0),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},min:"0",step:"0.01"})}),s.jsxs("div",{style:{padding:"6px",fontSize:"14px",fontWeight:"500"},children:["€",U.total.toFixed(2)]}),s.jsxs("div",{style:{display:"flex",gap:"4px"},children:[s.jsx("button",{type:"button",onClick:()=>W(U.id),style:{backgroundColor:"var(--ok)",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Sub"}),s.jsx("button",{type:"button",onClick:()=>Se(U.id),style:{backgroundColor:"var(--danger)",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"✕"})]})]}),H.filter(B=>B.parentItemId===U.id).map(B=>s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr 1fr auto",gap:"8px",alignItems:"start",padding:"12px",marginLeft:"24px",border:"1px solid rgba(96,165,250,.3)",borderLeft:"4px solid var(--accent)",borderRadius:"6px",background:"rgba(96,165,250,.1)",marginTop:"4px"},children:[s.jsxs("div",{children:[s.jsx("input",{type:"text",placeholder:"Sub-Titel",value:B.title,onChange:R=>te(B.id,"title",R.target.value),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px",marginBottom:"4px"}}),s.jsx("input",{type:"text",placeholder:"Sub-Beschreibung",value:B.description||"",onChange:R=>te(B.id,"description",R.target.value),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"}})]}),s.jsx("div",{children:s.jsx("input",{type:"number",placeholder:"Menge",value:B.quantity,onChange:R=>te(B.id,"quantity",parseFloat(R.target.value)||0),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},min:"0",step:"0.01"})}),s.jsx("div",{children:s.jsx("input",{type:"number",placeholder:"Einzelpreis",value:B.unitPrice,onChange:R=>te(B.id,"unitPrice",parseFloat(R.target.value)||0),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},min:"0",step:"0.01"})}),s.jsxs("div",{style:{padding:"6px",fontSize:"14px",fontWeight:"500"},children:["€",B.total.toFixed(2)]}),s.jsx("div",{children:s.jsx("button",{type:"button",onClick:()=>Se(B.id),style:{backgroundColor:"var(--danger)",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"✕"})})]},B.id))]},U.id))})]}),s.jsx("div",{style:{borderTop:"1px solid rgba(255,255,255,.1)",paddingTop:"16px"},children:s.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:s.jsxs("div",{style:{width:"300px",display:"flex",flexDirection:"column",gap:"8px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{children:"Zwischensumme:"}),s.jsxs("span",{children:["€",k.toFixed(2)]})]}),!le&&s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx("span",{children:"MwSt.:"}),s.jsx("input",{type:"number",value:L,onChange:U=>K(parseFloat(U.target.value)||0),style:{width:"60px",padding:"4px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},min:"0",max:"100",step:"0.1"}),s.jsx("span",{children:"%"})]}),s.jsxs("span",{children:["€",V.toFixed(2)]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"600",fontSize:"16px",borderTop:"1px solid rgba(255,255,255,.1)",paddingTop:"8px"},children:[s.jsx("span",{children:"Gesamtbetrag:"}),s.jsxs("span",{children:["€",J.toFixed(2)]})]})]})})}),s.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",marginTop:"16px"},children:[s.jsx("button",{type:"button",onClick:d,style:{padding:"8px 16px",border:"1px solid rgba(255,255,255,.2)",background:"transparent",color:"var(--muted)",borderRadius:"6px",cursor:"pointer"},children:"Abbrechen"}),s.jsx("button",{type:"submit",style:{backgroundColor:"var(--accent)",color:"white",border:"none",padding:"8px 16px",borderRadius:"6px",cursor:"pointer",fontWeight:"500"},children:i?"Aktualisieren":"Erstellen"})]})]})]})};function Cy({title:i="Rechnungen"}){const{invoices:a,error:l,createInvoice:u,updateInvoice:d,deleteInvoice:f}=Xs(),{customers:p}=Ol(),{offers:g}=Al(),{settings:h}=Wf(),{showSuccess:v,showError:y}=Kn(),[x,S]=E.useState("list"),[w,_]=E.useState(null),F=E.useMemo(()=>[{key:"invoiceNumber",header:"Nummer"},{key:"customerId",header:"Kunde",render:k=>{const V=p.find(J=>J.id===k.customerId);return(V==null?void 0:V.name)||`Kunde #${k.customerId}`}},{key:"title",header:"Titel"},{key:"status",header:"Status",render:k=>{const V={draft:"#6b7280",sent:"#3b82f6",paid:"#10b981",overdue:"#ef4444",cancelled:"#ef4444"},J={draft:"Entwurf",sent:"Versendet",paid:"Bezahlt",overdue:"Überfällig",cancelled:"Storniert"},Q=V[k.status]||"#6b7280",W=J[k.status]||k.status;return s.jsx("span",{style:{padding:"4px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"500",backgroundColor:Q+"20",color:Q},children:W})}},{key:"total",header:"Gesamtbetrag",render:k=>`€${k.total.toFixed(2)}`},{key:"dueDate",header:"Fällig am",render:k=>k.dueDate?new Date(k.dueDate).toLocaleDateString("de-DE"):"-"},{key:"id",header:"Aktionen",render:k=>s.jsxs("div",{style:{display:"flex",gap:"4px"},children:[s.jsx("button",{className:"btn btn-info",onClick:()=>le(k),style:{padding:"4px 8px",fontSize:"12px"},title:"PDF Vorschau anzeigen",children:"👁️ Vorschau"}),s.jsx("button",{className:"btn btn-warning",onClick:()=>K(k),style:{padding:"4px 8px",fontSize:"12px"},title:"PDF herunterladen",children:"💾 PDF"}),s.jsx("button",{className:"btn btn-secondary",style:{padding:"4px 8px",fontSize:"12px"},onClick:()=>{_(k),S("edit")},children:"Bearbeiten"}),s.jsxs("select",{value:k.status,onChange:V=>O(k.id,V.target.value),style:{padding:"4px 8px",fontSize:"12px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",cursor:"pointer"},children:[s.jsx("option",{value:"draft",children:"Entwurf"}),s.jsx("option",{value:"sent",children:"Gesendet"}),s.jsx("option",{value:"paid",children:"Bezahlt"}),s.jsx("option",{value:"overdue",children:"Überfällig"}),s.jsx("option",{value:"cancelled",children:"Storniert"})]}),s.jsx("button",{className:"btn btn-danger",style:{padding:"4px 8px",fontSize:"12px"},onClick:()=>{confirm("Diese Rechnung wirklich löschen?")&&L(k.id)},children:"Löschen"})]})}],[p]);async function D(k){await u(k),S("list")}async function H(k){w&&(await d(w.id,k),S("list"),_(null))}async function O(k,V){try{const J=a.find(Se=>Se.id===k);if(!J)return;const Q=new Date().toISOString(),W={};switch(V){case"sent":W.sentAt=Q;break;case"paid":W.paidAt=Q;break;case"overdue":W.overdueAt=Q;break;case"cancelled":W.cancelledAt=Q;break}await d(k,{...J,status:V,...W}),v(`Rechnungs-Status auf "${{draft:"Entwurf",sent:"Gesendet",paid:"Bezahlt",overdue:"Überfällig",cancelled:"Storniert"}[V]}" geändert`)}catch{y("Fehler beim Ändern des Status")}}async function L(k){await f(k)}const K=async k=>{const V=p.find(J=>J.id===k.customerId);if(!V){alert("Kunde nicht gefunden");return}try{await da.exportInvoiceToPDF(k,V,h,!1)}catch(J){console.error("PDF Export failed:",J),alert("PDF Export fehlgeschlagen: "+(J instanceof Error?J.message:"Unbekannter Fehler"))}},le=async k=>{const V=p.find(J=>J.id===k.customerId);if(!V){alert("Kunde nicht gefunden");return}try{await da.exportInvoiceToPDF(k,V,h,!0)}catch(J){console.error("PDF Preview failed:",J),alert("PDF Vorschau fehlgeschlagen: "+(J instanceof Error?J.message:"Unbekannter Fehler"))}};return l?s.jsxs("div",{className:"card",children:["Fehler: ",l]}):s.jsxs("div",{className:"card",children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[s.jsxs("div",{children:[s.jsx("h2",{style:{margin:"0 0 4px 0"},children:i}),s.jsx("div",{style:{opacity:.7},children:"Verwalte deine Rechnungen und exportiere sie als PDF."})]}),s.jsx("button",{className:"btn",onClick:()=>S(x==="create"?"list":"create"),children:x==="create"?"Abbrechen":"Neue Rechnung"})]}),s.jsx($l,{columns:F,data:a,emptyMessage:"Noch keine Rechnungen erstellt."}),x==="create"&&s.jsxs("div",{style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid rgba(255,255,255,.1)"},children:[s.jsxs("div",{style:{marginBottom:"16px"},children:[s.jsx("h3",{style:{margin:"0 0 4px 0"},children:"Neue Rechnung"}),s.jsx("div",{style:{opacity:.7},children:"Erstelle eine neue Rechnung."})]}),s.jsx(lf,{customers:p,offers:g,onSave:D,onCancel:()=>S("list")})]}),x==="edit"&&w&&s.jsxs("div",{style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid rgba(255,255,255,.1)"},children:[s.jsxs("div",{style:{marginBottom:"16px"},children:[s.jsx("h3",{style:{margin:"0 0 4px 0"},children:"Rechnung bearbeiten"}),s.jsxs("div",{style:{opacity:.7},children:['Bearbeite die Rechnung "',w.title,'".']})]}),s.jsx(lf,{invoice:w,customers:p,offers:g,onSave:H,onCancel:()=>{S("list"),_(null)}})]})]})}function jy({isOpen:i,onClose:a,autoCheckOnOpen:l=!1}){const[u,d]=E.useState(!1),[f,p]=E.useState(!1),[g,h]=E.useState(0);E.useRef(null);const v={currentPhase:"idle"},y=!1,x=!1,S="1.0.0",w=async()=>console.log("UpdateDialog: checkForUpdates temporarily disabled"),_=()=>console.log("UpdateDialog: clearError temporarily disabled"),F=E.useRef(!1);if(E.useEffect(()=>{i||(F.current=!1)},[i]),E.useEffect(()=>{if(i&&l&&!F.current&&!y){console.log("🚀 Starting auto-check for updates..."),F.current=!0;const H=setTimeout(()=>{w()},500);return()=>clearTimeout(H)}},[i,l,y]),!i)return null;console.log("🔍 UpdateDialog Render State:",{isOpen:i,isChecking:y,hasUpdate:x,error:!1,currentPhase:v.currentPhase,autoCheckOnOpen:l});const D=()=>{_(),a()};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",style:{zIndex:9999},children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto shadow-2xl",style:{maxWidth:"500px",maxHeight:"80vh"},children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-bold",children:"RawaLite Update"}),s.jsx("button",{onClick:D,className:"text-gray-400 hover:text-gray-600 text-xl",children:"×"})]}),s.jsx("div",{className:"space-y-4",children:!l&&!F.current?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Update-Prüfung"}),s.jsxs("p",{className:"text-gray-600 mb-4",children:["Aktuelle Version: ",S]}),s.jsx("button",{onClick:w,className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-blue-700",children:"🔄 Nach Updates suchen"})]}):s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"Laden..."})})})]})})}function Ry({onUpdateAvailable:i}){const[a,l]=E.useState(!1),[u,d]=E.useState(!1),[f,p]=E.useState(null),[g,h]=E.useState(null),v=async()=>{var S;if(console.log("� [UpdateStatus] Button clicked - checking for updates..."),!((S=window.rawalite)!=null&&S.updates)){console.error("🚨 [UpdateStatus] window.rawalite.updates not available"),h("Update API nicht verfügbar");return}d(!0),l(!0),h(null),p(null);try{console.log("🔄 [UpdateStatus] Calling window.rawalite.updates.checkForUpdates...");const w=await window.rawalite.updates.checkForUpdates();console.log("✅ [UpdateStatus] Update check result:",w),p(w),w.hasUpdate&&i&&(console.log("🎉 [UpdateStatus] Update available! Triggering callback..."),i())}catch(w){console.error("🚨 [UpdateStatus] Update check failed:",w);const _=w instanceof Error?w.message:"Update-Prüfung fehlgeschlagen";h(_)}finally{l(!1)}},y=()=>{h(null),v()},x=()=>!u&&!g?null:g?s.jsxs("div",{style:{marginTop:"16px",padding:"12px",backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"8px",color:"#dc2626"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"8px"},children:[s.jsx("span",{style:{marginRight:"8px",fontSize:"16px"},children:"⚠"}),s.jsx("strong",{children:"Update-Fehler"})]}),s.jsx("p",{style:{margin:"0 0 8px 0",fontSize:"14px"},children:g}),s.jsx("button",{onClick:y,style:{backgroundColor:"#dc2626",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",fontSize:"12px",cursor:"pointer"},children:"Erneut versuchen"})]}):a?s.jsx("div",{style:{marginTop:"16px",padding:"12px",backgroundColor:"#eff6ff",border:"1px solid #bfdbfe",borderRadius:"8px",color:"#1e40af"},children:s.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[s.jsx("div",{style:{marginRight:"8px",animation:"spin 1s linear infinite",fontSize:"16px"},children:"⟳"}),s.jsx("span",{children:"Suche nach Updates..."})]})}):f?f.hasUpdate?s.jsxs("div",{style:{marginTop:"16px",padding:"12px",backgroundColor:"#f0fdf4",border:"1px solid #bbf7d0",borderRadius:"8px",color:"#166534"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"8px"},children:[s.jsx("span",{style:{marginRight:"8px",fontSize:"16px"},children:"🎉"}),s.jsx("strong",{children:"Update verfügbar!"})]}),s.jsxs("p",{style:{margin:"0 0 8px 0",fontSize:"14px"},children:["Version ",f.latestVersion," ist verfügbar."]}),s.jsx("p",{style:{margin:"0",fontSize:"12px",opacity:.8},children:"Das Update-Fenster öffnet sich automatisch für weitere Details."})]}):s.jsxs("div",{style:{marginTop:"16px",padding:"12px",backgroundColor:"#f0fdf4",border:"1px solid #bbf7d0",borderRadius:"8px",color:"#166534"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"8px"},children:[s.jsx("span",{style:{marginRight:"8px",fontSize:"16px"},children:"✓"}),s.jsx("strong",{children:"Version ist aktuell"})]}),s.jsxs("p",{style:{margin:"0",fontSize:"14px"},children:["Sie verwenden bereits die neueste Version (",f.currentVersion,")."]}),s.jsxs("p",{style:{margin:"8px 0 0 0",fontSize:"12px",opacity:.8},children:["Letzte Überprüfung: ",new Date().toLocaleString("de-DE")]})]}):null;return s.jsxs("div",{children:[s.jsx("button",{type:"button",onClick:v,disabled:a,className:"btn",style:{backgroundColor:a?"#9ca3af":"#3b82f6",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",cursor:a?"not-allowed":"pointer",fontWeight:"500"},children:a?"🔄 Prüfe...":"🔄 Nach Updates suchen"}),x(),s.jsx("style",{children:`
          @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
          }
        `})]})}function Iy({title:i="Einstellungen"}){const{settings:a,loading:l,error:u,updateCompanyData:d}=Ff(),{circles:f,loading:p,error:g,updateCircle:h,getNextNumber:v}=xy(),{adapter:y}=Ml(),{showError:x,showSuccess:S}=Kn(),[w,_]=E.useState("company"),[F,D]=E.useState(a.companyData),[H,O]=E.useState(f),[L,K]=E.useState(!1),[le,k]=E.useState(!1),[V,J]=E.useState("customers"),[Q,W]=E.useState(null),[te,Se]=E.useState(!1),ue=E.useCallback(()=>Se(!1),[]);Ls.useEffect(()=>{var z;console.log("🔍 Settings loaded - Logo length:",((z=a.companyData.logo)==null?void 0:z.length)||0),D(a.companyData)},[a]),Ls.useEffect(()=>{console.log("🔍 [DEBUG] UI - Received numberingCircles:",f.length,"circles"),console.log("🔍 [DEBUG] UI - Circle data:",f),O(f)},[f]);const Ie=async z=>{var Ye;const ie=(Ye=z.target.files)==null?void 0:Ye[0];if(!ie)return;if(!ie.type.startsWith("image/")){alert("❌ Fehler: Bitte wählen Sie eine Bilddatei aus (PNG, JPG, GIF, etc.)"),z.target.value="";return}const Pe=2,Ve=ie.size/(1024*1024);if(ie.size>Pe*1024*1024){alert(`❌ Datei zu groß: ${Ve.toFixed(2)} MB

Maximum erlaubt: ${Pe} MB
Bitte verkleinern Sie das Bild oder wählen Sie eine andere Datei.`),z.target.value="";return}try{k(!0),S(`✅ Logo wird hochgeladen... (${Ve.toFixed(2)} MB)`);const Be=new FileReader;Be.onload=()=>{const Ke=Be.result;D(se=>({...se,logo:Ke})),S("Logo erfolgreich geladen! Vergessen Sie nicht zu speichern.")},Be.onerror=()=>{x("Fehler beim Lesen der Datei"),z.target.value=""},Be.readAsDataURL(ie)}catch{x("Fehler beim Verarbeiten des Logos"),z.target.value=""}finally{k(!1)}},Fe=()=>{D(z=>({...z,logo:""}))},Le=async z=>{z.preventDefault(),console.log("🏢 Company form submitted with data:",F);try{K(!0),await d(F),S("Unternehmensdaten gespeichert!")}catch(ie){console.error("Company save error:",ie),x("Fehler beim Speichern der Unternehmensdaten")}finally{K(!1)}},ke=async z=>{z.preventDefault(),console.log("Tax form submitted, NOT calling clear data");try{K(!0),await d(F),S("Steuerliche Einstellungen gespeichert!")}catch(ie){console.error("Tax settings save error:",ie),x("Fehler beim Speichern der steuerlichen Einstellungen")}finally{K(!1)}},ee=async z=>{z.preventDefault(),console.log("🖼️ Logo form submitted, saving logo only");try{K(!0),await d(F),S("Logo erfolgreich gespeichert!")}catch(ie){console.error("Logo save error:",ie),x("Fehler beim Speichern des Logos")}finally{K(!1)}},U=async z=>{z.preventDefault(),console.log("🏦 Bank form submitted, saving bank data only");try{K(!0),await d(F),S("Bankverbindung erfolgreich gespeichert!")}catch(ie){console.error("Bank save error:",ie),x("Fehler beim Speichern der Bankverbindung")}finally{K(!1)}},B=z=>{console.log("🔧 Kleinunternehmer checkbox changed to:",z.target.checked,"NOT deleting any data"),z.stopPropagation(),D({...F,kleinunternehmer:z.target.checked})},R=async z=>{z.preventDefault();try{K(!0);for(const ie of H)await h(ie.id,ie);S("Nummernkreise gespeichert!")}catch{x("Fehler beim Speichern der Nummernkreise")}finally{K(!1)}},$=(z,ie,Pe)=>{const Ve=[...H];Ve[z]={...Ve[z],[ie]:Pe},O(Ve)},de=async()=>{try{if(K(!0),!y){alert("Fehler: Datenbankadapter nicht verfügbar");return}const[z,ie,Pe,Ve]=await Promise.all([y.listCustomers(),y.listInvoices(),y.listOffers(),y.listPackages()]),{VersionService:Ye}=await yi(async()=>{const{VersionService:Ue}=await Promise.resolve().then(()=>oy);return{VersionService:Ue}},void 0,import.meta.url),Be=Ye.getBackupVersionInfo(),Ke={companyData:a.companyData,numberingCircles:a.numberingCircles,customers:z,invoices:ie,offers:Pe,packages:Ve,exportDate:Be.timestamp,version:Be.version,buildInfo:Be.buildInfo},se=(await yi(async()=>{const{default:Ue}=await import("./jszip.min-SKQ6vEBI.js").then(qe=>qe.j);return{default:Ue}},[],import.meta.url)).default,Ce=new se;Ce.file("backup.json",JSON.stringify(Ke,null,2)),Ce.file("README.txt",`RawaLite Backup
Erstellt am: ${new Date().toLocaleDateString("de-DE")}
Version: ${Ke.version}
Build: ${Ke.buildInfo}

Diese Datei enthält alle Ihre RawaLite-Daten und kann über die Datensicherungs-Funktion importiert werden.

Enthaltene Daten:
- Kunden: ${z.length}
- Rechnungen: ${ie.length}
- Angebote: ${Pe.length}
- Pakete: ${Ve.length}
- Unternehmenseinstellungen
- Nummernkreise`);const ft=await Ce.generateAsync({type:"blob"}),pt=window.URL.createObjectURL(ft),ze=document.createElement("a");ze.href=pt;const it=new Date,lt=it.toISOString().split("T")[0]+"_"+it.toTimeString().split(" ")[0].replace(/:/g,"-");ze.download=`rawalite-backup-${lt}.zip`,document.body.appendChild(ze),ze.click(),document.body.removeChild(ze),window.URL.revokeObjectURL(pt),alert(`Backup erfolgreich erstellt!
      
Enthalten:
- ${z.length} Kunden
- ${ie.length} Rechnungen  
- ${Pe.length} Angebote
- ${Ve.length} Pakete`)}catch(z){console.error("Backup error:",z),alert("Fehler beim Erstellen des Backups: "+z)}finally{K(!1)}},xe=async z=>{try{if(K(!0),!y){alert("Fehler: Datenbankadapter nicht verfügbar");return}let ie=[],Pe="",Ve=[];switch(z){case"customers":ie=await y.listCustomers(),Pe="kunden",Ve=["ID","Nummer","Name","E-Mail","Telefon","Straße","PLZ","Ort","Notizen","Erstellt"];break;case"invoices":ie=await y.listInvoices(),Pe="rechnungen",Ve=["ID","Nummer","Kunde ID","Titel","Status","Fällig am","Zwischensumme","MwSt-Satz","MwSt-Betrag","Gesamt","Notizen","Erstellt"];break;case"offers":ie=await y.listOffers(),Pe="angebote",Ve=["ID","Nummer","Kunde ID","Titel","Status","Gültig bis","Zwischensumme","MwSt-Satz","MwSt-Betrag","Gesamt","Notizen","Erstellt"];break;case"packages":ie=await y.listPackages(),Pe="pakete",Ve=["ID","Name","Beschreibung","Preis","Erstellt"];break}if(ie.length===0){alert(`Keine ${Pe} zum Exportieren gefunden.`);return}const Ye=[Ve.join(";"),...ie.map(pt=>Ve.map(ze=>{const it=G(pt,ze);return`"${String(it).replace(/"/g,'""')}"`}).join(";"))].join(`
`),Be=new Blob(["\uFEFF"+Ye],{type:"text/csv;charset=utf-8;"}),Ke=window.URL.createObjectURL(Be),se=document.createElement("a");se.href=Ke;const Ce=new Date,ft=Ce.toISOString().split("T")[0]+"_"+Ce.toTimeString().split(" ")[0].replace(/:/g,"-");se.download=`${Pe}-${ft}.csv`,document.body.appendChild(se),se.click(),document.body.removeChild(se),window.URL.revokeObjectURL(Ke),alert(`${ie.length} ${Pe} erfolgreich als CSV exportiert!`)}catch(ie){console.error("CSV Export error:",ie),alert("Fehler beim CSV-Export: "+ie)}finally{K(!1)}},G=(z,ie)=>{switch(ie){case"ID":return z.id||"";case"Nummer":return z.number||z.invoiceNumber||z.offerNumber||"";case"Name":return z.name||"";case"E-Mail":return z.email||"";case"Telefon":return z.phone||"";case"Straße":return z.street||"";case"PLZ":return z.zip||"";case"Ort":return z.city||"";case"Notizen":return z.notes||"";case"Kunde ID":return z.customerId||"";case"Titel":return z.title||"";case"Status":return z.status||"";case"Fällig am":return z.dueDate||"";case"Gültig bis":return z.validUntil||"";case"Zwischensumme":return z.subtotal||"";case"MwSt-Satz":return z.vatRate||"";case"MwSt-Betrag":return z.vatAmount||"";case"Gesamt":return z.total||"";case"Beschreibung":return z.description||"";case"Preis":return z.price||"";case"Erstellt":return z.createdAt||"";default:return""}},ne=async z=>{var Pe,Ve,Ye,Be,Ke;const ie=(Pe=z.target.files)==null?void 0:Pe[0];if(ie){if(!ie.name.endsWith(".zip")){alert("Bitte wählen Sie eine ZIP-Datei aus.");return}if(!y){alert("Fehler: Datenbankadapter nicht verfügbar");return}try{K(!0);const se=(await yi(async()=>{const{default:Ue}=await import("./jszip.min-SKQ6vEBI.js").then(qe=>qe.j);return{default:Ue}},[],import.meta.url)).default,pt=(await new se().loadAsync(ie)).file("backup.json");if(!pt){alert("Ungültige Backup-Datei: backup.json nicht gefunden.");return}const ze=JSON.parse(await pt.async("text")),it=`⚠️ ACHTUNG: DATEN WERDEN ÜBERSCHRIEBEN ⚠️

Das Backup enthält:
- ${((Ve=ze.customers)==null?void 0:Ve.length)||0} Kunden
- ${((Ye=ze.invoices)==null?void 0:Ye.length)||0} Rechnungen
- ${((Be=ze.offers)==null?void 0:Be.length)||0} Angebote
- ${((Ke=ze.packages)==null?void 0:Ke.length)||0} Pakete

WARNUNG: Der Import wird ALLE aktuellen Daten löschen und durch die Backup-Daten ersetzen!

Möchten Sie wirklich fortfahren?`;if(!confirm(it)||!confirm("LETZTE WARNUNG: Alle aktuellen Daten werden unwiderruflich gelöscht! Fortfahren?"))return;try{const[Ue,qe,xt,ht]=await Promise.all([y.listCustomers(),y.listInvoices(),y.listOffers(),y.listPackages()]);await Promise.all([...Ue.map(Je=>y.deleteCustomer(Je.id)),...qe.map(Je=>y.deleteInvoice(Je.id)),...xt.map(Je=>y.deleteOffer(Je.id)),...ht.map(Je=>y.deletePackage(Je.id))])}catch(Ue){console.warn("Fehler beim Löschen existierender Daten:",Ue)}let lt={customers:0,invoices:0,offers:0,packages:0};if(ze.customers&&Array.isArray(ze.customers))for(const Ue of ze.customers)try{const{id:qe,createdAt:xt,updatedAt:ht,...Je}=Ue;await y.createCustomer(Je),lt.customers++}catch(qe){console.warn("Fehler beim Importieren von Kunde:",Ue,qe)}if(ze.offers&&Array.isArray(ze.offers))for(const Ue of ze.offers)try{const{id:qe,createdAt:xt,updatedAt:ht,...Je}=Ue;await y.createOffer(Je),lt.offers++}catch(qe){console.warn("Fehler beim Importieren von Angebot:",Ue,qe)}if(ze.invoices&&Array.isArray(ze.invoices))for(const Ue of ze.invoices)try{const{id:qe,createdAt:xt,updatedAt:ht,...Je}=Ue;await y.createInvoice(Je),lt.invoices++}catch(qe){console.warn("Fehler beim Importieren von Rechnung:",Ue,qe)}if(ze.packages&&Array.isArray(ze.packages))for(const Ue of ze.packages)try{const{id:qe,createdAt:xt,updatedAt:ht,...Je}=Ue;await y.createPackage(Je),lt.packages++}catch(qe){console.warn("Fehler beim Importieren von Paket:",Ue,qe)}if(ze.companyData)try{console.log("🏢 Importing company data..."),await d(ze.companyData),console.log("✅ Company data imported successfully")}catch(Ue){console.warn("Error importing company data:",Ue)}if(ze.numberingCircles)try{console.log("🔢 Analyzing imported data for intelligent numbering...");const[Ue,qe,xt,ht]=await Promise.all([y.listCustomers(),y.listInvoices(),y.listOffers(),y.listPackages()]),Je=(ot,Ct)=>{const Bt=new Set;ot.forEach(_n=>{if(_n.number&&_n.number.startsWith(Ct)){const Wr=_n.number.replace(Ct,""),qn=parseInt(Wr,10);isNaN(qn)||Bt.add(qn)}});let Dn=1;for(;Bt.has(Dn);)Dn++;return Math.max(0,Dn-1)},Ur=ze.numberingCircles.map(ot=>{let Ct=0;switch(ot.id){case"customers":Ct=Je(Ue,ot.prefix);break;case"invoices":Ct=Je(qe,ot.prefix);break;case"offers":Ct=Je(xt,ot.prefix);break;case"packages":Ct=Je(ht,ot.prefix);break}return console.log(`📊 ${ot.id}: Next free number will be ${ot.prefix}${(Ct+1).toString().padStart(3,"0")}, setting current to ${Ct}`),{...ot,current:Ct}});console.log("🔢 Importing intelligent numbering circles...");for(const ot of Ur)await h(ot.id,ot);console.log("✅ Intelligent numbering circles imported successfully")}catch(Ue){console.warn("Error importing intelligent numbering circles:",Ue);for(const qe of ze.numberingCircles)await h(qe.id,qe)}S(`✅ Backup erfolgreich importiert!

Importierte Daten:
- ${lt.customers} Kunden
- ${lt.invoices} Rechnungen
- ${lt.offers} Angebote
- ${lt.packages} Pakete
- Unternehmenseinstellungen
- Intelligente Nummernkreise (angepasst an vorhandene Daten)

🔄 Die Anwendung wurde aktualisiert. Sie können jetzt mit den importierten Daten arbeiten.`),console.log("✅ Backup import completed successfully")}catch(se){console.error("Import error:",se),alert("Fehler beim Importieren des Backups: "+se)}finally{K(!1),z.target.value="",W(null)}}},be=z=>{var Pe;const ie=(Pe=z.target.files)==null?void 0:Pe[0];if(!ie){W(null);return}if(!ie.name.endsWith(".csv")){x("Bitte wählen Sie eine CSV-Datei aus."),W(null);return}W(ie)},Ee=async()=>{if(!Q){x("Bitte wählen Sie zuerst eine CSV-Datei aus.");return}if(!y){x("Fehler: Datenbankadapter nicht verfügbar");return}try{K(!0);const ie=(await Q.text()).split(`
`).filter(Ke=>Ke.trim());if(ie.length<2){x("CSV-Datei ist leer oder hat keine Daten.");return}const Pe=ie[0].split(";").map(Ke=>Ke.trim().replace(/^"|"$/g,"")),Ve=ie.slice(1);console.log("CSV Headers:",Pe),console.log("CSV Data lines:",Ve.length);let Ye=0,Be=0;if(V==="customers"){for(const Ke of Ve)try{const se=Ke.split(";").map(ft=>ft.trim().replace(/^"|"$/g,"")),Ce={};if(se[0]&&(Ce.name=se[0]),se[1]&&(Ce.email=se[1]),se[2]&&(Ce.phone=se[2]),se[3]&&(Ce.street=se[3]),se[4]&&(Ce.zip=se[4]),se[5]&&(Ce.city=se[5]),se[6]&&(Ce.notes=se[6]),!Ce.name){console.warn("Überspringe Zeile ohne Namen:",se),Be++;continue}try{Ce.number=await v("customers")}catch{Ce.number=`K-${Date.now()}-${Math.floor(Math.random()*1e3)}`}await y.createCustomer(Ce),Ye++}catch(se){console.warn("Fehler beim Importieren einer CSV-Zeile:",Ke,se),Be++}S(`✅ CSV-Import abgeschlossen!
        
Erfolgreich importiert: ${Ye} Kunden
${Be>0?`Fehler: ${Be}`:""}

CSV-Format: Name;Email;Telefon;Straße;PLZ;Ort;Notizen`)}else if(V==="offers"){for(const Ke of Ve)try{const se=Ke.split(";").map(ze=>ze.trim().replace(/^"|"$/g,"")),Ce={};if(se[0]&&(Ce.title=se[0]),se[1]&&(Ce.customerName=se[1]),se[2]&&(Ce.total=parseFloat(se[2])||0),se[3]&&(Ce.validUntil=se[3]),se[4]&&(Ce.notes=se[4]),!Ce.title){console.warn("Überspringe Zeile ohne Titel:",se),Be++;continue}let ft=null;if(Ce.customerName){const it=(await y.listCustomers()).find(lt=>lt.name.toLowerCase()===Ce.customerName.toLowerCase());it&&(ft=it.id)}if(!ft){console.warn("Kunde nicht gefunden für Angebot:",Ce.customerName),Be++;continue}try{Ce.offerNumber=await v("offers")}catch{Ce.offerNumber=`A-${Date.now()}-${Math.floor(Math.random()*1e3)}`}const pt={...Ce,customerId:ft,lineItems:[],subtotal:Ce.total,vatAmount:0,vatRate:19,status:"draft"};delete pt.customerName,await y.createOffer(pt),Ye++}catch(se){console.warn("Fehler beim Importieren einer CSV-Zeile:",Ke,se),Be++}S(`✅ CSV-Import abgeschlossen!
        
Erfolgreich importiert: ${Ye} Angebote
${Be>0?`Fehler: ${Be}`:""}

CSV-Format: Titel;Kundenname;Gesamtbetrag;Gültig bis (YYYY-MM-DD);Notizen`)}else if(V==="invoices"){for(const Ke of Ve)try{const se=Ke.split(";").map(ze=>ze.trim().replace(/^"|"$/g,"")),Ce={};if(se[0]&&(Ce.title=se[0]),se[1]&&(Ce.customerName=se[1]),se[2]&&(Ce.total=parseFloat(se[2])||0),se[3]&&(Ce.dueDate=se[3]),se[4]&&(Ce.notes=se[4]),!Ce.title){console.warn("Überspringe Zeile ohne Titel:",se),Be++;continue}let ft=null;if(Ce.customerName){const it=(await y.listCustomers()).find(lt=>lt.name.toLowerCase()===Ce.customerName.toLowerCase());it&&(ft=it.id)}if(!ft){console.warn("Kunde nicht gefunden für Rechnung:",Ce.customerName),Be++;continue}try{Ce.invoiceNumber=await v("invoices")}catch{Ce.invoiceNumber=`R-${Date.now()}-${Math.floor(Math.random()*1e3)}`}const pt={...Ce,customerId:ft,lineItems:[],subtotal:Ce.total,vatAmount:0,vatRate:19,status:"draft"};delete pt.customerName,await y.createInvoice(pt),Ye++}catch(se){console.warn("Fehler beim Importieren einer CSV-Zeile:",Ke,se),Be++}S(`✅ CSV-Import abgeschlossen!
        
Erfolgreich importiert: ${Ye} Rechnungen
${Be>0?`Fehler: ${Be}`:""}

CSV-Format: Titel;Kundenname;Gesamtbetrag;Fällig am (YYYY-MM-DD);Notizen`)}else x(`CSV-Import für "${V}" ist noch nicht implementiert.`)}catch(z){console.error("CSV Import error:",z),x("Fehler beim CSV-Import: "+z)}finally{K(!1),W(null)}},$e=async()=>{if(console.log("🚨 CRITICAL: handleClearAllData was called! This should only happen from the Clear All Data button!"),console.trace("Call stack:"),!!confirm("WARNUNG: Alle Daten werden unwiderruflich gelöscht! Sind Sie sicher?")&&confirm("Letzte Warnung: Haben Sie ein Backup erstellt? Alle Daten gehen verloren!")){if(!y){alert("Fehler: Datenbankadapter nicht verfügbar");return}try{K(!0);let z=0;try{const ie=await y.listCustomers();for(const Pe of ie)await y.deleteCustomer(Pe.id),z++}catch(ie){console.warn("Error deleting customers:",ie)}try{const ie=await y.listInvoices();for(const Pe of ie)await y.deleteInvoice(Pe.id),z++}catch(ie){console.warn("Error deleting invoices:",ie)}try{const ie=await y.listOffers();for(const Pe of ie)await y.deleteOffer(Pe.id),z++}catch(ie){console.warn("Error deleting offers:",ie)}try{const ie=await y.listPackages();for(const Pe of ie)await y.deletePackage(Pe.id),z++}catch(ie){console.warn("Error deleting packages:",ie)}try{console.log("🔄 Resetting numbering circles to default values"),localStorage.removeItem("rawalite-numbering"),console.log("🗑️ Cleared localStorage numbering data");const ie=vr.numberingCircles.map(Pe=>({...Pe,current:0,lastResetYear:void 0}));console.log("📝 Setting numbering circles to:",ie);for(const Pe of ie)await h(Pe.id,Pe);console.log("✅ Numbering circles reset successfully")}catch(ie){console.warn("Error resetting numbering circles:",ie),localStorage.removeItem("rawalite-numbering"),localStorage.setItem("rawalite-numbering",JSON.stringify(vr.numberingCircles))}try{console.log("🔄 Resetting company data to defaults"),await d(vr.companyData),console.log("✅ Company data reset successfully")}catch(ie){console.warn("Error resetting company data:",ie)}S(`${z} Datensätze wurden gelöscht und alle Nummernkreise zurückgesetzt. Die Anwendung wird neu geladen...`),setTimeout(()=>{window.location.reload()},2e3)}catch(z){console.error("Clear data error:",z),alert("Fehler beim Löschen der Daten: "+z)}finally{K(!1)}}};return l?s.jsx("div",{className:"card",children:"Lade Einstellungen..."}):u?s.jsxs("div",{className:"card",children:["Fehler beim Laden der Einstellungen: ",u]}):s.jsxs("div",{className:"card",children:[s.jsxs("div",{style:{marginBottom:"24px"},children:[s.jsx("h2",{style:{margin:"0 0 4px 0"},children:i}),s.jsx("div",{style:{opacity:.7},children:"Konfiguriere deine Unternehmensdaten und Nummernkreise."})]}),s.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"24px",borderBottom:"1px solid rgba(0,0,0,.15)",flexWrap:"wrap"},children:[s.jsx("button",{onClick:()=>_("company"),style:{backgroundColor:w==="company"?"#1e3a2e":"rgba(255,255,255,0.8)",color:w==="company"?"white":"#374151",border:w==="company"?"1px solid #1e3a2e":"1px solid rgba(0,0,0,.2)",padding:"8px 16px",borderRadius:"8px 8px 0 0",cursor:"pointer",borderBottom:w==="company"?"2px solid #1e3a2e":"2px solid transparent",transition:"all 0.2s ease",fontWeight:w==="company"?"600":"500"},children:"Stammdaten"}),s.jsx("button",{onClick:()=>_("logo"),style:{backgroundColor:w==="logo"?"#1e3a2e":"rgba(255,255,255,0.8)",color:w==="logo"?"white":"#374151",border:w==="logo"?"1px solid #1e3a2e":"1px solid rgba(0,0,0,.2)",padding:"8px 16px",borderRadius:"8px 8px 0 0",cursor:"pointer",borderBottom:w==="logo"?"2px solid #1e3a2e":"2px solid transparent",transition:"all 0.2s ease",fontWeight:w==="logo"?"600":"500"},children:"Logo & Design"}),s.jsx("button",{onClick:()=>_("tax"),style:{backgroundColor:w==="tax"?"#1e3a2e":"rgba(255,255,255,0.8)",color:w==="tax"?"white":"#374151",border:w==="tax"?"1px solid #1e3a2e":"1px solid rgba(0,0,0,.2)",padding:"8px 16px",borderRadius:"8px 8px 0 0",cursor:"pointer",borderBottom:w==="tax"?"2px solid #1e3a2e":"2px solid transparent",transition:"all 0.2s ease",fontWeight:w==="tax"?"600":"500"},children:"Steuerliche Angaben"}),s.jsx("button",{onClick:()=>_("bank"),style:{backgroundColor:w==="bank"?"#1e3a2e":"rgba(255,255,255,0.8)",color:w==="bank"?"white":"#374151",border:w==="bank"?"1px solid #1e3a2e":"1px solid rgba(0,0,0,.2)",padding:"8px 16px",borderRadius:"8px 8px 0 0",cursor:"pointer",borderBottom:w==="bank"?"2px solid #1e3a2e":"2px solid transparent",transition:"all 0.2s ease",fontWeight:w==="bank"?"600":"500"},children:"Bankverbindung"}),s.jsx("button",{onClick:()=>_("numbering"),style:{backgroundColor:w==="numbering"?"#1e3a2e":"rgba(255,255,255,0.8)",color:w==="numbering"?"white":"#374151",border:w==="numbering"?"1px solid #1e3a2e":"1px solid rgba(0,0,0,.2)",padding:"8px 16px",borderRadius:"8px 8px 0 0",cursor:"pointer",borderBottom:w==="numbering"?"2px solid #1e3a2e":"2px solid transparent",transition:"all 0.2s ease",fontWeight:w==="numbering"?"600":"500"},children:"Nummernkreise"}),s.jsx("button",{onClick:()=>_("updates"),style:{backgroundColor:w==="updates"?"#1e3a2e":"rgba(255,255,255,0.8)",color:w==="updates"?"white":"#374151",border:w==="updates"?"1px solid #1e3a2e":"1px solid rgba(0,0,0,.2)",padding:"8px 16px",borderRadius:"8px 8px 0 0",cursor:"pointer",borderBottom:w==="updates"?"2px solid #1e3a2e":"2px solid transparent",transition:"all 0.2s ease",fontWeight:w==="updates"?"600":"500"},children:"Updates"}),s.jsx("button",{onClick:()=>_("maintenance"),style:{backgroundColor:w==="maintenance"?"#1e3a2e":"rgba(255,255,255,0.8)",color:w==="maintenance"?"white":"#374151",border:w==="maintenance"?"1px solid #1e3a2e":"1px solid rgba(0,0,0,.2)",padding:"8px 16px",borderRadius:"8px 8px 0 0",cursor:"pointer",borderBottom:w==="maintenance"?"2px solid #1e3a2e":"2px solid transparent",transition:"all 0.2s ease",fontWeight:w==="maintenance"?"600":"500"},children:"Datensicherung"})]}),w==="company"&&s.jsx("form",{onSubmit:Le,children:s.jsxs("div",{style:{display:"grid",gap:"16px",gridTemplateColumns:"1fr 1fr"},children:[s.jsx("div",{style:{gridColumn:"1 / -1"},children:s.jsx("h3",{style:{margin:"0 0 16px 0",color:"var(--accent)"},children:"Stammdaten"})}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Firmenname *"}),s.jsx("input",{type:"text",value:F.name,onChange:z=>D({...F,name:z.target.value}),required:!0,style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"E-Mail"}),s.jsx("input",{type:"email",value:F.email,onChange:z=>D({...F,email:z.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Straße"}),s.jsx("input",{type:"text",value:F.street,onChange:z=>D({...F,street:z.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Telefon"}),s.jsx("input",{type:"tel",value:F.phone,onChange:z=>D({...F,phone:z.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"PLZ"}),s.jsx("input",{type:"text",value:F.postalCode,onChange:z=>D({...F,postalCode:z.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Ort"}),s.jsx("input",{type:"text",value:F.city,onChange:z=>D({...F,city:z.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Website"}),s.jsx("input",{type:"url",value:F.website,onChange:z=>D({...F,website:z.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),s.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"24px"},children:s.jsx("button",{type:"submit",disabled:L,style:{backgroundColor:"var(--accent)",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",cursor:"pointer",fontWeight:"500"},children:L?"Speichere...":"Stammdaten speichern"})})]})}),w==="logo"&&s.jsx("form",{onSubmit:ee,children:s.jsxs("div",{style:{display:"grid",gap:"16px",maxWidth:"600px"},children:[s.jsx("div",{children:s.jsx("h3",{style:{margin:"0 0 16px 0",color:"var(--accent)"},children:"Logo & Design"})}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Firmenlogo"}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[F.logo&&s.jsxs("div",{style:{position:"relative",display:"inline-block",maxWidth:"300px",padding:"16px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"8px",backgroundColor:"rgba(255,255,255,.05)"},children:[s.jsx("img",{src:F.logo,alt:"Firmenlogo",style:{maxWidth:"100%",maxHeight:"120px",objectFit:"contain",display:"block"}}),s.jsx("button",{type:"button",onClick:Fe,style:{position:"absolute",top:"-8px",right:"-8px",background:"#ef4444",color:"white",border:"none",borderRadius:"50%",width:"24px",height:"24px",fontSize:"14px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"Logo entfernen",children:"×"})]}),s.jsx("input",{type:"file",accept:"image/*",onChange:Ie,disabled:le,style:{padding:"12px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)",cursor:"pointer"}}),s.jsxs("div",{style:{fontSize:"14px",opacity:.7,lineHeight:"1.4"},children:[s.jsx("strong",{children:"Empfehlungen:"}),s.jsx("br",{}),"• Dateiformate: PNG, JPG, GIF",s.jsx("br",{}),"• Maximale Dateigröße: 2MB",s.jsx("br",{}),"• Empfohlene Größe: 200x80px",s.jsx("br",{}),"• Transparenter Hintergrund für beste Ergebnisse"]})]})]}),s.jsx("div",{style:{marginTop:"24px"},children:s.jsx("button",{type:"submit",disabled:L||le,style:{backgroundColor:"var(--accent)",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",cursor:"pointer",fontWeight:"500"},children:L?"Speichere...":"Logo speichern"})})]})}),w==="tax"&&s.jsx("form",{onSubmit:ke,children:s.jsxs("div",{style:{display:"grid",gap:"16px",gridTemplateColumns:"1fr 1fr"},children:[s.jsx("div",{style:{gridColumn:"1 / -1"},children:s.jsx("h3",{style:{margin:"0 0 16px 0",color:"var(--accent)"},children:"Steuerliche Angaben"})}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Steuernummer"}),s.jsx("input",{type:"text",value:F.taxNumber,onChange:z=>D({...F,taxNumber:z.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Umsatzsteuer-ID"}),s.jsx("input",{type:"text",value:F.vatId,onChange:z=>D({...F,vatId:z.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),s.jsxs("div",{style:{gridColumn:"1 / -1"},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:F.kleinunternehmer,onChange:B,style:{cursor:"pointer"}}),s.jsx("span",{style:{fontWeight:"500"},children:"Kleinunternehmer (§19 UStG)"})]}),s.jsx("div",{style:{fontSize:"12px",opacity:.7,marginTop:"4px",marginLeft:"28px"},children:"Als Kleinunternehmer weisen Sie keine Umsatzsteuer aus und sind nicht zum Vorsteuerabzug berechtigt."})]}),s.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"24px"},children:s.jsx("button",{type:"submit",disabled:L,style:{backgroundColor:"var(--accent)",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",cursor:"pointer",fontWeight:"500"},children:L?"Speichere...":"Steuerliche Angaben speichern"})})]})}),w==="bank"&&s.jsx("form",{onSubmit:U,children:s.jsxs("div",{style:{display:"grid",gap:"16px",gridTemplateColumns:"1fr 1fr"},children:[s.jsx("div",{style:{gridColumn:"1 / -1"},children:s.jsx("h3",{style:{margin:"0 0 16px 0",color:"var(--accent)"},children:"Bankverbindung"})}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Bank"}),s.jsx("input",{type:"text",value:F.bankName,onChange:z=>D({...F,bankName:z.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"BIC"}),s.jsx("input",{type:"text",value:F.bankBic,onChange:z=>D({...F,bankBic:z.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),s.jsxs("div",{style:{gridColumn:"1 / -1"},children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"IBAN"}),s.jsx("input",{type:"text",value:F.bankAccount,onChange:z=>D({...F,bankAccount:z.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),s.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"24px"},children:s.jsx("button",{type:"submit",disabled:L,style:{backgroundColor:"var(--accent)",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",cursor:"pointer",fontWeight:"500"},children:L?"Speichere...":"Bankverbindung speichern"})})]})}),w==="numbering"&&s.jsxs("form",{onSubmit:R,children:[s.jsxs("div",{children:[s.jsx("h3",{style:{margin:"0 0 16px 0",color:"var(--accent)"},children:"Nummernkreise"}),s.jsx("p",{style:{opacity:.7,marginBottom:"24px"},children:"Verwalte die automatische Nummerierung für verschiedene Dokumenttypen."}),H.map((z,ie)=>(console.log("🔍 [DEBUG] UI - Rendering circle:",z.id,z.name),s.jsxs("div",{style:{marginBottom:"24px",padding:"16px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"8px",backgroundColor:"rgba(255,255,255,.02)"},children:[s.jsx("h4",{style:{margin:"0 0 16px 0",color:"var(--accent)"},children:z.name}),s.jsxs("div",{style:{display:"grid",gap:"16px",gridTemplateColumns:"1fr 1fr 1fr 1fr"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Präfix"}),s.jsx("input",{type:"text",value:z.prefix,onChange:Pe=>$(ie,"prefix",Pe.target.value),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Stellen"}),s.jsx("input",{type:"number",min:"1",max:"10",value:z.digits,onChange:Pe=>$(ie,"digits",parseInt(Pe.target.value)||1),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Aktuell"}),s.jsx("input",{type:"number",min:"0",value:z.current,onChange:Pe=>$(ie,"current",parseInt(Pe.target.value)||0),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Reset"}),s.jsxs("select",{value:z.resetMode,onChange:Pe=>$(ie,"resetMode",Pe.target.value),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"},children:[s.jsx("option",{value:"never",children:"Nie"}),s.jsx("option",{value:"yearly",children:"Jährlich"})]})]})]}),s.jsxs("div",{style:{marginTop:"12px",fontSize:"14px",opacity:.7},children:[s.jsx("strong",{children:"Vorschau nächste Nummer:"})," ",z.prefix,(z.current+1).toString().padStart(z.digits,"0")]})]},z.id)))]}),s.jsx("div",{style:{marginTop:"24px"},children:s.jsx("button",{type:"submit",disabled:L,style:{backgroundColor:"var(--accent)",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",cursor:L?"not-allowed":"pointer",fontWeight:"500",opacity:L?.6:1},children:L?"Speichere...":"Nummernkreise speichern"})})]}),w==="updates"&&s.jsxs("div",{children:[s.jsx("h3",{style:{margin:"0 0 16px 0",color:"var(--accent)"},children:"Software Updates"}),s.jsx("p",{style:{opacity:.7,marginBottom:"24px"},children:"Halten Sie RawaLite auf dem neuesten Stand und profitieren Sie von neuen Features, Bugfixes und Sicherheitsupdates."}),s.jsxs("div",{style:{marginBottom:"32px"},children:[s.jsx("h4",{style:{margin:"0 0 12px 0",color:"#374151"},children:"Update-Prüfung"}),s.jsx("p",{style:{margin:"0 0 16px 0",color:"#6b7280",fontSize:"14px"},children:"Suchen Sie nach verfügbaren Updates für RawaLite und installieren Sie diese direkt aus der Anwendung."}),s.jsx(Ry,{onUpdateAvailable:()=>Se(!0)})]}),s.jsxs("div",{style:{marginBottom:"32px"},children:[s.jsx("h4",{style:{margin:"0 0 12px 0",color:"#374151"},children:"Aktuelle Version"}),s.jsxs("div",{style:{padding:"16px",backgroundColor:"rgba(255,255,255,0.05)",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)"},children:[s.jsx("p",{style:{margin:"0 0 8px 0",fontWeight:"500"},children:"RawaLite Version 1.0.0"}),s.jsx("p",{style:{margin:"0",fontSize:"14px",opacity:.7},children:"Letzte Überprüfung: Beim nächsten Update-Check"})]})]}),s.jsxs("div",{style:{marginBottom:"32px"},children:[s.jsx("h4",{style:{margin:"0 0 12px 0",color:"#374151"},children:"Update-Einstellungen"}),s.jsx("p",{style:{margin:"0 0 16px 0",color:"#6b7280",fontSize:"14px"},children:"Konfigurieren Sie, wie RawaLite mit Updates umgehen soll."}),s.jsxs("div",{style:{padding:"16px",backgroundColor:"rgba(255,255,255,0.05)",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)"},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",marginBottom:"12px"},children:[s.jsx("input",{type:"checkbox",disabled:!0,style:{marginRight:"8px"}}),s.jsx("span",{style:{fontSize:"14px"},children:"Automatisch nach Updates suchen (Coming Soon)"})]}),s.jsxs("label",{style:{display:"flex",alignItems:"center"},children:[s.jsx("input",{type:"checkbox",disabled:!0,style:{marginRight:"8px"}}),s.jsx("span",{style:{fontSize:"14px"},children:"Beta-Versionen einbeziehen (Coming Soon)"})]})]})]})]}),w==="maintenance"&&s.jsxs("div",{children:[s.jsx("h3",{style:{margin:"0 0 16px 0",color:"var(--accent)"},children:"Datensicherung & Datenmanagement"}),s.jsxs("div",{style:{marginBottom:"32px"},children:[s.jsx("h4",{style:{margin:"0 0 12px 0",color:"#374151"},children:"Backup erstellen"}),s.jsx("p",{style:{margin:"0 0 16px 0",color:"#6b7280",fontSize:"14px"},children:"Erstellen Sie ein vollständiges Backup aller Ihrer Daten als ZIP-Datei."}),s.jsx("button",{type:"button",onClick:de,disabled:L,className:"btn",style:{backgroundColor:"var(--accent)",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",cursor:L?"not-allowed":"pointer",fontWeight:"500",opacity:L?.6:1},children:L?"Erstelle Backup...":"📦 Backup erstellen (ZIP)"})]}),s.jsxs("div",{style:{marginBottom:"32px"},children:[s.jsx("h4",{style:{margin:"0 0 12px 0",color:"#374151"},children:"Daten exportieren"}),s.jsx("p",{style:{margin:"0 0 16px 0",color:"#6b7280",fontSize:"14px"},children:"Exportieren Sie Ihre Daten als CSV-Dateien für die Verwendung in anderen Programmen."}),s.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[s.jsx("button",{type:"button",onClick:()=>xe("customers"),disabled:L,className:"btn btn-secondary",style:{backgroundColor:"#6b7280",color:"white",border:"none",padding:"10px 20px",borderRadius:"6px",cursor:L?"not-allowed":"pointer",fontWeight:"500",opacity:L?.6:1},children:"📄 Kunden exportieren (CSV)"}),s.jsx("button",{type:"button",onClick:()=>xe("invoices"),disabled:L,className:"btn btn-secondary",style:{backgroundColor:"#6b7280",color:"white",border:"none",padding:"10px 20px",borderRadius:"6px",cursor:L?"not-allowed":"pointer",fontWeight:"500",opacity:L?.6:1},children:"🧾 Rechnungen exportieren (CSV)"}),s.jsx("button",{type:"button",onClick:()=>xe("offers"),disabled:L,className:"btn btn-secondary",style:{backgroundColor:"#6b7280",color:"white",border:"none",padding:"10px 20px",borderRadius:"6px",cursor:L?"not-allowed":"pointer",fontWeight:"500",opacity:L?.6:1},children:"📋 Angebote exportieren (CSV)"}),s.jsx("button",{type:"button",onClick:()=>xe("packages"),disabled:L,className:"btn btn-secondary",style:{backgroundColor:"#6b7280",color:"white",border:"none",padding:"10px 20px",borderRadius:"6px",cursor:L?"not-allowed":"pointer",fontWeight:"500",opacity:L?.6:1},children:"📦 Pakete exportieren (CSV)"})]})]}),s.jsxs("div",{style:{marginBottom:"32px"},children:[s.jsx("h4",{style:{margin:"0 0 12px 0",color:"#374151"},children:"Daten importieren"}),s.jsx("p",{style:{margin:"0 0 16px 0",color:"#6b7280",fontSize:"14px"},children:"Importieren Sie Backup-Dateien oder CSV-Daten zurück in die Anwendung."}),s.jsxs("div",{style:{marginBottom:"20px"},children:[s.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#374151"},children:"Backup importieren (ZIP)"}),s.jsx("input",{type:"file",accept:".zip",onChange:ne,style:{padding:"8px",border:"1px solid rgba(0,0,0,.2)",borderRadius:"6px",backgroundColor:"rgba(255,255,255,0.9)",width:"100%",maxWidth:"400px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#374151"},children:"CSV importieren"}),s.jsxs("div",{style:{display:"grid",gap:"12px",gridTemplateColumns:"auto 1fr auto",alignItems:"end"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"12px",color:"#6b7280"},children:"Datentyp"}),s.jsxs("select",{value:V,onChange:z=>J(z.target.value),style:{padding:"8px",border:"1px solid rgba(0,0,0,.2)",borderRadius:"6px",backgroundColor:"rgba(255,255,255,0.9)",minWidth:"120px"},children:[s.jsx("option",{value:"customers",children:"Kunden"}),s.jsx("option",{value:"invoices",children:"Rechnungen"}),s.jsx("option",{value:"offers",children:"Angebote"})]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"12px",color:"#6b7280"},children:"CSV-Datei auswählen"}),s.jsx("input",{type:"file",accept:".csv",onChange:be,style:{padding:"8px",border:"1px solid rgba(0,0,0,.2)",borderRadius:"6px",backgroundColor:"rgba(255,255,255,0.9)",width:"100%"}})]}),s.jsx("div",{children:s.jsx("button",{type:"button",onClick:Ee,disabled:!Q||L,className:"btn btn-secondary",style:{backgroundColor:Q?"#059669":"#6b7280",color:"white",border:"none",padding:"10px 20px",borderRadius:"6px",cursor:Q&&!L?"pointer":"not-allowed",fontWeight:"500",opacity:Q&&!L?1:.6,whiteSpace:"nowrap"},children:L?"Importiere...":"Import starten"})})]}),Q&&s.jsxs("div",{style:{marginTop:"8px",fontSize:"14px",color:"#059669"},children:["📄 Ausgewählte Datei: ",Q.name," (",Math.round(Q.size/1024),"KB)"]})]})]}),s.jsxs("div",{style:{marginTop:"40px",padding:"20px",border:"2px solid #ef4444",borderRadius:"8px",backgroundColor:"rgba(239, 68, 68, 0.05)"},children:[s.jsx("h4",{style:{margin:"0 0 12px 0",color:"#ef4444"},children:"⚠️ Gefahrenbereich"}),s.jsx("p",{style:{margin:"0 0 16px 0",color:"#6b7280",fontSize:"14px"},children:"Diese Aktionen können nicht rückgängig gemacht werden. Erstellen Sie vorher ein Backup!"}),s.jsx("button",{type:"button",onClick:$e,className:"btn btn-danger",style:{backgroundColor:"#ef4444",color:"white",border:"none",padding:"10px 20px",borderRadius:"6px",cursor:"pointer",fontWeight:"500"},children:"🗑️ Alle Daten löschen"})]})]}),s.jsx(jy,{isOpen:te,onClose:ue,autoCheckOnOpen:!0})]})}const Py=()=>s.jsxs("div",{children:[s.jsx(Af,{title:"Seite nicht gefunden"}),s.jsx("div",{className:"card",children:s.jsx("p",{children:"Der angeforderte Pfad existiert nicht."})})]}),Dy=[{path:"/",element:s.jsx(uy,{}),children:[{index:!0,element:s.jsx(wy,{})},{path:"kunden",element:s.jsx(by,{})},{path:"angebote",element:s.jsx(Sy,{})},{path:"angebote/:id",element:s.jsx(ky,{})},{path:"pakete",element:s.jsx(Ey,{})},{path:"rechnungen",element:s.jsx(Cy,{})},{path:"einstellungen",element:s.jsx(Iy,{})},{path:"*",element:s.jsx(Py,{})}]}],_y=Ag(Dy);Fh.createRoot(document.getElementById("root")).render(s.jsx(Ls.StrictMode,{children:s.jsx(dy,{children:s.jsx(my,{children:s.jsx(cy,{mode:"sqlite",children:s.jsx(ey,{children:s.jsxs(vy,{children:[s.jsx(Gg,{router:_y}),s.jsx(py,{}),s.jsx(yy,{})]})})})})})}));export{Tl as D,yi as _,bt as a,Ly as c,of as g,oa as m};
