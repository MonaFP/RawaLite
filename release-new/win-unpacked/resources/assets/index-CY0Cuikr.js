var jh=Object.defineProperty;var Rh=(e,t,n)=>t in e?jh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var $t=(e,t,n)=>Rh(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Xv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ph(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ed={exports:{}},Co={},Cd={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yi=Symbol.for("react.element"),Ih=Symbol.for("react.portal"),Dh=Symbol.for("react.fragment"),_h=Symbol.for("react.strict_mode"),Nh=Symbol.for("react.profiler"),Th=Symbol.for("react.provider"),Lh=Symbol.for("react.context"),zh=Symbol.for("react.forward_ref"),Ah=Symbol.for("react.suspense"),Fh=Symbol.for("react.memo"),Mh=Symbol.for("react.lazy"),Mu=Symbol.iterator;function Oh(e){return e===null||typeof e!="object"?null:(e=Mu&&e[Mu]||e["@@iterator"],typeof e=="function"?e:null)}var jd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rd=Object.assign,Pd={};function Qr(e,t,n){this.props=e,this.context=t,this.refs=Pd,this.updater=n||jd}Qr.prototype.isReactComponent={};Qr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Qr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Id(){}Id.prototype=Qr.prototype;function js(e,t,n){this.props=e,this.context=t,this.refs=Pd,this.updater=n||jd}var Rs=js.prototype=new Id;Rs.constructor=js;Rd(Rs,Qr.prototype);Rs.isPureReactComponent=!0;var Ou=Array.isArray,Dd=Object.prototype.hasOwnProperty,Ps={current:null},_d={key:!0,ref:!0,__self:!0,__source:!0};function Nd(e,t,n){var r,i={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)Dd.call(t,r)&&!_d.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Yi,type:e,key:a,ref:o,props:i,_owner:Ps.current}}function $h(e,t){return{$$typeof:Yi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Is(e){return typeof e=="object"&&e!==null&&e.$$typeof===Yi}function Bh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var $u=/\/+/g;function Qo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Bh(""+e.key):t.toString(36)}function Ta(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Yi:case Ih:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Qo(o,0):r,Ou(i)?(n="",e!=null&&(n=e.replace($u,"$&/")+"/"),Ta(i,t,n,"",function(c){return c})):i!=null&&(Is(i)&&(i=$h(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace($u,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Ou(e))for(var s=0;s<e.length;s++){a=e[s];var u=r+Qo(a,s);o+=Ta(a,t,n,u,i)}else if(u=Oh(e),typeof u=="function")for(e=u.call(e),s=0;!(a=e.next()).done;)a=a.value,u=r+Qo(a,s++),o+=Ta(a,t,n,u,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function fa(e,t,n){if(e==null)return e;var r=[],i=0;return Ta(e,r,"","",function(a){return t.call(n,a,i++)}),r}function Uh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ut={current:null},La={transition:null},Wh={ReactCurrentDispatcher:ut,ReactCurrentBatchConfig:La,ReactCurrentOwner:Ps};function Td(){throw Error("act(...) is not supported in production builds of React.")}pe.Children={map:fa,forEach:function(e,t,n){fa(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return fa(e,function(){t++}),t},toArray:function(e){return fa(e,function(t){return t})||[]},only:function(e){if(!Is(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};pe.Component=Qr;pe.Fragment=Dh;pe.Profiler=Nh;pe.PureComponent=js;pe.StrictMode=_h;pe.Suspense=Ah;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wh;pe.act=Td;pe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Rd({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Ps.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in t)Dd.call(t,u)&&!_d.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&s!==void 0?s[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){s=Array(u);for(var c=0;c<u;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:Yi,type:e.type,key:i,ref:a,props:r,_owner:o}};pe.createContext=function(e){return e={$$typeof:Lh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Th,_context:e},e.Consumer=e};pe.createElement=Nd;pe.createFactory=function(e){var t=Nd.bind(null,e);return t.type=e,t};pe.createRef=function(){return{current:null}};pe.forwardRef=function(e){return{$$typeof:zh,render:e}};pe.isValidElement=Is;pe.lazy=function(e){return{$$typeof:Mh,_payload:{_status:-1,_result:e},_init:Uh}};pe.memo=function(e,t){return{$$typeof:Fh,type:e,compare:t===void 0?null:t}};pe.startTransition=function(e){var t=La.transition;La.transition={};try{e()}finally{La.transition=t}};pe.unstable_act=Td;pe.useCallback=function(e,t){return ut.current.useCallback(e,t)};pe.useContext=function(e){return ut.current.useContext(e)};pe.useDebugValue=function(){};pe.useDeferredValue=function(e){return ut.current.useDeferredValue(e)};pe.useEffect=function(e,t){return ut.current.useEffect(e,t)};pe.useId=function(){return ut.current.useId()};pe.useImperativeHandle=function(e,t,n){return ut.current.useImperativeHandle(e,t,n)};pe.useInsertionEffect=function(e,t){return ut.current.useInsertionEffect(e,t)};pe.useLayoutEffect=function(e,t){return ut.current.useLayoutEffect(e,t)};pe.useMemo=function(e,t){return ut.current.useMemo(e,t)};pe.useReducer=function(e,t,n){return ut.current.useReducer(e,t,n)};pe.useRef=function(e){return ut.current.useRef(e)};pe.useState=function(e){return ut.current.useState(e)};pe.useSyncExternalStore=function(e,t,n){return ut.current.useSyncExternalStore(e,t,n)};pe.useTransition=function(){return ut.current.useTransition()};pe.version="18.3.1";Cd.exports=pe;var v=Cd.exports;const Ld=Ph(v);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vh=v,Hh=Symbol.for("react.element"),Kh=Symbol.for("react.fragment"),qh=Object.prototype.hasOwnProperty,Qh=Vh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Gh={key:!0,ref:!0,__self:!0,__source:!0};function zd(e,t,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)qh.call(t,r)&&!Gh.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Hh,type:e,key:a,ref:o,props:i,_owner:Qh.current}}Co.Fragment=Kh;Co.jsx=zd;Co.jsxs=zd;Ed.exports=Co;var l=Ed.exports,jl={},Ad={exports:{}},Pt={},Fd={exports:{}},Md={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,T){var z=$.length;$.push(T);e:for(;0<z;){var G=z-1>>>1,oe=$[G];if(0<i(oe,T))$[G]=T,$[z]=oe,z=G;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var T=$[0],z=$.pop();if(z!==T){$[0]=z;e:for(var G=0,oe=$.length,B=oe>>>1;G<B;){var U=2*(G+1)-1,O=$[U],V=U+1,P=$[V];if(0>i(O,z))V<oe&&0>i(P,O)?($[G]=P,$[V]=z,G=V):($[G]=O,$[U]=z,G=U);else if(V<oe&&0>i(P,z))$[G]=P,$[V]=z,G=V;else break e}}return T}function i($,T){var z=$.sortIndex-T.sortIndex;return z!==0?z:$.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var u=[],c=[],d=1,f=null,p=3,m=!1,x=!1,w=!1,k=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y($){for(var T=n(c);T!==null;){if(T.callback===null)r(c);else if(T.startTime<=$)r(c),T.sortIndex=T.expirationTime,t(u,T);else break;T=n(c)}}function C($){if(w=!1,y($),!x)if(n(u)!==null)x=!0,ue(I);else{var T=n(c);T!==null&&he(C,T.startTime-$)}}function I($,T){x=!1,w&&(w=!1,g(D),D=-1),m=!0;var z=p;try{for(y(T),f=n(u);f!==null&&(!(f.expirationTime>T)||$&&!L());){var G=f.callback;if(typeof G=="function"){f.callback=null,p=f.priorityLevel;var oe=G(f.expirationTime<=T);T=e.unstable_now(),typeof oe=="function"?f.callback=oe:f===n(u)&&r(u),y(T)}else r(u);f=n(u)}if(f!==null)var B=!0;else{var U=n(c);U!==null&&he(C,U.startTime-T),B=!1}return B}finally{f=null,p=z,m=!1}}var b=!1,E=null,D=-1,_=5,R=-1;function L(){return!(e.unstable_now()-R<_)}function te(){if(E!==null){var $=e.unstable_now();R=$;var T=!0;try{T=E(!0,$)}finally{T?q():(b=!1,E=null)}}else b=!1}var q;if(typeof h=="function")q=function(){h(te)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,ge=le.port2;le.port1.onmessage=te,q=function(){ge.postMessage(null)}}else q=function(){k(te,0)};function ue($){E=$,b||(b=!0,q())}function he($,T){D=k(function(){$(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){x||m||(x=!0,ue(I))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function($){switch(p){case 1:case 2:case 3:var T=3;break;default:T=p}var z=p;p=T;try{return $()}finally{p=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,T){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var z=p;p=$;try{return T()}finally{p=z}},e.unstable_scheduleCallback=function($,T,z){var G=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?G+z:G):z=G,$){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=z+oe,$={id:d++,callback:T,priorityLevel:$,startTime:z,expirationTime:oe,sortIndex:-1},z>G?($.sortIndex=z,t(c,$),n(u)===null&&$===n(c)&&(w?(g(D),D=-1):w=!0,he(C,z-G))):($.sortIndex=oe,t(u,$),x||m||(x=!0,ue(I))),$},e.unstable_shouldYield=L,e.unstable_wrapCallback=function($){var T=p;return function(){var z=p;p=T;try{return $.apply(this,arguments)}finally{p=z}}}})(Md);Fd.exports=Md;var Yh=Fd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xh=v,Rt=Yh;function M(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Od=new Set,Ii={};function dr(e,t){$r(e,t),$r(e+"Capture",t)}function $r(e,t){for(Ii[e]=t,e=0;e<t.length;e++)Od.add(t[e])}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rl=Object.prototype.hasOwnProperty,Jh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bu={},Uu={};function Zh(e){return Rl.call(Uu,e)?!0:Rl.call(Bu,e)?!1:Jh.test(e)?Uu[e]=!0:(Bu[e]=!0,!1)}function em(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function tm(e,t,n,r){if(t===null||typeof t>"u"||em(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ct(e,t,n,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Je[e]=new ct(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Je[t]=new ct(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Je[e]=new ct(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Je[e]=new ct(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Je[e]=new ct(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Je[e]=new ct(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Je[e]=new ct(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Je[e]=new ct(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Je[e]=new ct(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ds=/[\-:]([a-z])/g;function _s(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ds,_s);Je[t]=new ct(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ds,_s);Je[t]=new ct(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ds,_s);Je[t]=new ct(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Je[e]=new ct(e,1,!1,e.toLowerCase(),null,!1,!1)});Je.xlinkHref=new ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Je[e]=new ct(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ns(e,t,n,r){var i=Je.hasOwnProperty(t)?Je[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(tm(t,n,i,r)&&(n=null),r||i===null?Zh(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var yn=Xh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pa=Symbol.for("react.element"),wr=Symbol.for("react.portal"),br=Symbol.for("react.fragment"),Ts=Symbol.for("react.strict_mode"),Pl=Symbol.for("react.profiler"),$d=Symbol.for("react.provider"),Bd=Symbol.for("react.context"),Ls=Symbol.for("react.forward_ref"),Il=Symbol.for("react.suspense"),Dl=Symbol.for("react.suspense_list"),zs=Symbol.for("react.memo"),kn=Symbol.for("react.lazy"),Ud=Symbol.for("react.offscreen"),Wu=Symbol.iterator;function ni(e){return e===null||typeof e!="object"?null:(e=Wu&&e[Wu]||e["@@iterator"],typeof e=="function"?e:null)}var ze=Object.assign,Go;function pi(e){if(Go===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Go=t&&t[1]||""}return`
`+Go+e}var Yo=!1;function Xo(e,t){if(!e||Yo)return"";Yo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var u=`
`+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=s);break}}}finally{Yo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?pi(e):""}function nm(e){switch(e.tag){case 5:return pi(e.type);case 16:return pi("Lazy");case 13:return pi("Suspense");case 19:return pi("SuspenseList");case 0:case 2:case 15:return e=Xo(e.type,!1),e;case 11:return e=Xo(e.type.render,!1),e;case 1:return e=Xo(e.type,!0),e;default:return""}}function _l(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case br:return"Fragment";case wr:return"Portal";case Pl:return"Profiler";case Ts:return"StrictMode";case Il:return"Suspense";case Dl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Bd:return(e.displayName||"Context")+".Consumer";case $d:return(e._context.displayName||"Context")+".Provider";case Ls:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case zs:return t=e.displayName||null,t!==null?t:_l(e.type)||"Memo";case kn:t=e._payload,e=e._init;try{return _l(e(t))}catch{}}return null}function rm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _l(t);case 8:return t===Ts?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function On(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Wd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function im(e){var t=Wd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ha(e){e._valueTracker||(e._valueTracker=im(e))}function Vd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Wd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ya(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Nl(e,t){var n=t.checked;return ze({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Vu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=On(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Hd(e,t){t=t.checked,t!=null&&Ns(e,"checked",t,!1)}function Tl(e,t){Hd(e,t);var n=On(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ll(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ll(e,t.type,On(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Hu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ll(e,t,n){(t!=="number"||Ya(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var hi=Array.isArray;function Nr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+On(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function zl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(M(91));return ze({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ku(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(M(92));if(hi(n)){if(1<n.length)throw Error(M(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:On(n)}}function Kd(e,t){var n=On(t.value),r=On(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function qu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function qd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Al(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?qd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ma,Qd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ma=ma||document.createElement("div"),ma.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ma.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Di(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var vi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},am=["Webkit","ms","Moz","O"];Object.keys(vi).forEach(function(e){am.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),vi[t]=vi[e]})});function Gd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||vi.hasOwnProperty(e)&&vi[e]?(""+t).trim():t+"px"}function Yd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Gd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var om=ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fl(e,t){if(t){if(om[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(M(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(M(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(M(61))}if(t.style!=null&&typeof t.style!="object")throw Error(M(62))}}function Ml(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ol=null;function As(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $l=null,Tr=null,Lr=null;function Qu(e){if(e=Zi(e)){if(typeof $l!="function")throw Error(M(280));var t=e.stateNode;t&&(t=Do(t),$l(e.stateNode,e.type,t))}}function Xd(e){Tr?Lr?Lr.push(e):Lr=[e]:Tr=e}function Jd(){if(Tr){var e=Tr,t=Lr;if(Lr=Tr=null,Qu(e),t)for(e=0;e<t.length;e++)Qu(t[e])}}function Zd(e,t){return e(t)}function ef(){}var Jo=!1;function tf(e,t,n){if(Jo)return e(t,n);Jo=!0;try{return Zd(e,t,n)}finally{Jo=!1,(Tr!==null||Lr!==null)&&(ef(),Jd())}}function _i(e,t){var n=e.stateNode;if(n===null)return null;var r=Do(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(M(231,t,typeof n));return n}var Bl=!1;if(pn)try{var ri={};Object.defineProperty(ri,"passive",{get:function(){Bl=!0}}),window.addEventListener("test",ri,ri),window.removeEventListener("test",ri,ri)}catch{Bl=!1}function lm(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var wi=!1,Xa=null,Ja=!1,Ul=null,sm={onError:function(e){wi=!0,Xa=e}};function um(e,t,n,r,i,a,o,s,u){wi=!1,Xa=null,lm.apply(sm,arguments)}function cm(e,t,n,r,i,a,o,s,u){if(um.apply(this,arguments),wi){if(wi){var c=Xa;wi=!1,Xa=null}else throw Error(M(198));Ja||(Ja=!0,Ul=c)}}function fr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function nf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Gu(e){if(fr(e)!==e)throw Error(M(188))}function dm(e){var t=e.alternate;if(!t){if(t=fr(e),t===null)throw Error(M(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Gu(i),e;if(a===r)return Gu(i),t;a=a.sibling}throw Error(M(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(M(189))}}if(n.alternate!==r)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?e:t}function rf(e){return e=dm(e),e!==null?af(e):null}function af(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=af(e);if(t!==null)return t;e=e.sibling}return null}var of=Rt.unstable_scheduleCallback,Yu=Rt.unstable_cancelCallback,fm=Rt.unstable_shouldYield,pm=Rt.unstable_requestPaint,Me=Rt.unstable_now,hm=Rt.unstable_getCurrentPriorityLevel,Fs=Rt.unstable_ImmediatePriority,lf=Rt.unstable_UserBlockingPriority,Za=Rt.unstable_NormalPriority,mm=Rt.unstable_LowPriority,sf=Rt.unstable_IdlePriority,jo=null,tn=null;function gm(e){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(jo,e,void 0,(e.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:vm,ym=Math.log,xm=Math.LN2;function vm(e){return e>>>=0,e===0?32:31-(ym(e)/xm|0)|0}var ga=64,ya=4194304;function mi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function eo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=mi(s):(a&=o,a!==0&&(r=mi(a)))}else o=n&~i,o!==0?r=mi(o):a!==0&&(r=mi(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Kt(t),i=1<<n,r|=e[n],t&=~i;return r}function wm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Kt(a),s=1<<o,u=i[o];u===-1?(!(s&n)||s&r)&&(i[o]=wm(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}function Wl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function uf(){var e=ga;return ga<<=1,!(ga&4194240)&&(ga=64),e}function Zo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Xi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Kt(t),e[t]=n}function Sm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Kt(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function Ms(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Kt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var we=0;function cf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var df,Os,ff,pf,hf,Vl=!1,xa=[],_n=null,Nn=null,Tn=null,Ni=new Map,Ti=new Map,Cn=[],km="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xu(e,t){switch(e){case"focusin":case"focusout":_n=null;break;case"dragenter":case"dragleave":Nn=null;break;case"mouseover":case"mouseout":Tn=null;break;case"pointerover":case"pointerout":Ni.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ti.delete(t.pointerId)}}function ii(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Zi(t),t!==null&&Os(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Em(e,t,n,r,i){switch(t){case"focusin":return _n=ii(_n,e,t,n,r,i),!0;case"dragenter":return Nn=ii(Nn,e,t,n,r,i),!0;case"mouseover":return Tn=ii(Tn,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ni.set(a,ii(Ni.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ti.set(a,ii(Ti.get(a)||null,e,t,n,r,i)),!0}return!1}function mf(e){var t=er(e.target);if(t!==null){var n=fr(t);if(n!==null){if(t=n.tag,t===13){if(t=nf(n),t!==null){e.blockedOn=t,hf(e.priority,function(){ff(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function za(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Hl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ol=r,n.target.dispatchEvent(r),Ol=null}else return t=Zi(n),t!==null&&Os(t),e.blockedOn=n,!1;t.shift()}return!0}function Ju(e,t,n){za(e)&&n.delete(t)}function Cm(){Vl=!1,_n!==null&&za(_n)&&(_n=null),Nn!==null&&za(Nn)&&(Nn=null),Tn!==null&&za(Tn)&&(Tn=null),Ni.forEach(Ju),Ti.forEach(Ju)}function ai(e,t){e.blockedOn===t&&(e.blockedOn=null,Vl||(Vl=!0,Rt.unstable_scheduleCallback(Rt.unstable_NormalPriority,Cm)))}function Li(e){function t(i){return ai(i,e)}if(0<xa.length){ai(xa[0],e);for(var n=1;n<xa.length;n++){var r=xa[n];r.blockedOn===e&&(r.blockedOn=null)}}for(_n!==null&&ai(_n,e),Nn!==null&&ai(Nn,e),Tn!==null&&ai(Tn,e),Ni.forEach(t),Ti.forEach(t),n=0;n<Cn.length;n++)r=Cn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Cn.length&&(n=Cn[0],n.blockedOn===null);)mf(n),n.blockedOn===null&&Cn.shift()}var zr=yn.ReactCurrentBatchConfig,to=!0;function jm(e,t,n,r){var i=we,a=zr.transition;zr.transition=null;try{we=1,$s(e,t,n,r)}finally{we=i,zr.transition=a}}function Rm(e,t,n,r){var i=we,a=zr.transition;zr.transition=null;try{we=4,$s(e,t,n,r)}finally{we=i,zr.transition=a}}function $s(e,t,n,r){if(to){var i=Hl(e,t,n,r);if(i===null)ul(e,t,r,no,n),Xu(e,r);else if(Em(i,e,t,n,r))r.stopPropagation();else if(Xu(e,r),t&4&&-1<km.indexOf(e)){for(;i!==null;){var a=Zi(i);if(a!==null&&df(a),a=Hl(e,t,n,r),a===null&&ul(e,t,r,no,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else ul(e,t,r,null,n)}}var no=null;function Hl(e,t,n,r){if(no=null,e=As(r),e=er(e),e!==null)if(t=fr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=nf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return no=e,null}function gf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hm()){case Fs:return 1;case lf:return 4;case Za:case mm:return 16;case sf:return 536870912;default:return 16}default:return 16}}var In=null,Bs=null,Aa=null;function yf(){if(Aa)return Aa;var e,t=Bs,n=t.length,r,i="value"in In?In.value:In.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return Aa=i.slice(e,1<r?1-r:void 0)}function Fa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function va(){return!0}function Zu(){return!1}function It(e){function t(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?va:Zu,this.isPropagationStopped=Zu,this}return ze(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=va)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=va)},persist:function(){},isPersistent:va}),t}var Gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Us=It(Gr),Ji=ze({},Gr,{view:0,detail:0}),Pm=It(Ji),el,tl,oi,Ro=ze({},Ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ws,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oi&&(oi&&e.type==="mousemove"?(el=e.screenX-oi.screenX,tl=e.screenY-oi.screenY):tl=el=0,oi=e),el)},movementY:function(e){return"movementY"in e?e.movementY:tl}}),ec=It(Ro),Im=ze({},Ro,{dataTransfer:0}),Dm=It(Im),_m=ze({},Ji,{relatedTarget:0}),nl=It(_m),Nm=ze({},Gr,{animationName:0,elapsedTime:0,pseudoElement:0}),Tm=It(Nm),Lm=ze({},Gr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zm=It(Lm),Am=ze({},Gr,{data:0}),tc=It(Am),Fm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Om={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $m(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Om[e])?!!t[e]:!1}function Ws(){return $m}var Bm=ze({},Ji,{key:function(e){if(e.key){var t=Fm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ws,charCode:function(e){return e.type==="keypress"?Fa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Um=It(Bm),Wm=ze({},Ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nc=It(Wm),Vm=ze({},Ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ws}),Hm=It(Vm),Km=ze({},Gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),qm=It(Km),Qm=ze({},Ro,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Gm=It(Qm),Ym=[9,13,27,32],Vs=pn&&"CompositionEvent"in window,bi=null;pn&&"documentMode"in document&&(bi=document.documentMode);var Xm=pn&&"TextEvent"in window&&!bi,xf=pn&&(!Vs||bi&&8<bi&&11>=bi),rc=" ",ic=!1;function vf(e,t){switch(e){case"keyup":return Ym.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sr=!1;function Jm(e,t){switch(e){case"compositionend":return wf(t);case"keypress":return t.which!==32?null:(ic=!0,rc);case"textInput":return e=t.data,e===rc&&ic?null:e;default:return null}}function Zm(e,t){if(Sr)return e==="compositionend"||!Vs&&vf(e,t)?(e=yf(),Aa=Bs=In=null,Sr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xf&&t.locale!=="ko"?null:t.data;default:return null}}var eg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ac(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!eg[e.type]:t==="textarea"}function bf(e,t,n,r){Xd(r),t=ro(t,"onChange"),0<t.length&&(n=new Us("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Si=null,zi=null;function tg(e){Nf(e,0)}function Po(e){var t=Cr(e);if(Vd(t))return e}function ng(e,t){if(e==="change")return t}var Sf=!1;if(pn){var rl;if(pn){var il="oninput"in document;if(!il){var oc=document.createElement("div");oc.setAttribute("oninput","return;"),il=typeof oc.oninput=="function"}rl=il}else rl=!1;Sf=rl&&(!document.documentMode||9<document.documentMode)}function lc(){Si&&(Si.detachEvent("onpropertychange",kf),zi=Si=null)}function kf(e){if(e.propertyName==="value"&&Po(zi)){var t=[];bf(t,zi,e,As(e)),tf(tg,t)}}function rg(e,t,n){e==="focusin"?(lc(),Si=t,zi=n,Si.attachEvent("onpropertychange",kf)):e==="focusout"&&lc()}function ig(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Po(zi)}function ag(e,t){if(e==="click")return Po(t)}function og(e,t){if(e==="input"||e==="change")return Po(t)}function lg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qt=typeof Object.is=="function"?Object.is:lg;function Ai(e,t){if(Qt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Rl.call(t,i)||!Qt(e[i],t[i]))return!1}return!0}function sc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function uc(e,t){var n=sc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sc(n)}}function Ef(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ef(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Cf(){for(var e=window,t=Ya();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ya(e.document)}return t}function Hs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function sg(e){var t=Cf(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ef(n.ownerDocument.documentElement,n)){if(r!==null&&Hs(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=uc(n,a);var o=uc(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ug=pn&&"documentMode"in document&&11>=document.documentMode,kr=null,Kl=null,ki=null,ql=!1;function cc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ql||kr==null||kr!==Ya(r)||(r=kr,"selectionStart"in r&&Hs(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ki&&Ai(ki,r)||(ki=r,r=ro(Kl,"onSelect"),0<r.length&&(t=new Us("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}function wa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:wa("Animation","AnimationEnd"),animationiteration:wa("Animation","AnimationIteration"),animationstart:wa("Animation","AnimationStart"),transitionend:wa("Transition","TransitionEnd")},al={},jf={};pn&&(jf=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);function Io(e){if(al[e])return al[e];if(!Er[e])return e;var t=Er[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in jf)return al[e]=t[n];return e}var Rf=Io("animationend"),Pf=Io("animationiteration"),If=Io("animationstart"),Df=Io("transitionend"),_f=new Map,dc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Un(e,t){_f.set(e,t),dr(t,[e])}for(var ol=0;ol<dc.length;ol++){var ll=dc[ol],cg=ll.toLowerCase(),dg=ll[0].toUpperCase()+ll.slice(1);Un(cg,"on"+dg)}Un(Rf,"onAnimationEnd");Un(Pf,"onAnimationIteration");Un(If,"onAnimationStart");Un("dblclick","onDoubleClick");Un("focusin","onFocus");Un("focusout","onBlur");Un(Df,"onTransitionEnd");$r("onMouseEnter",["mouseout","mouseover"]);$r("onMouseLeave",["mouseout","mouseover"]);$r("onPointerEnter",["pointerout","pointerover"]);$r("onPointerLeave",["pointerout","pointerover"]);dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dr("onBeforeInput",["compositionend","keypress","textInput","paste"]);dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fg=new Set("cancel close invalid load scroll toggle".split(" ").concat(gi));function fc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,cm(r,t,void 0,e),e.currentTarget=null}function Nf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;fc(i,s,c),a=u}else for(o=0;o<r.length;o++){if(s=r[o],u=s.instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;fc(i,s,c),a=u}}}if(Ja)throw e=Ul,Ja=!1,Ul=null,e}function je(e,t){var n=t[Jl];n===void 0&&(n=t[Jl]=new Set);var r=e+"__bubble";n.has(r)||(Tf(t,e,2,!1),n.add(r))}function sl(e,t,n){var r=0;t&&(r|=4),Tf(n,e,r,t)}var ba="_reactListening"+Math.random().toString(36).slice(2);function Fi(e){if(!e[ba]){e[ba]=!0,Od.forEach(function(n){n!=="selectionchange"&&(fg.has(n)||sl(n,!1,e),sl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ba]||(t[ba]=!0,sl("selectionchange",!1,t))}}function Tf(e,t,n,r){switch(gf(t)){case 1:var i=jm;break;case 4:i=Rm;break;default:i=$s}n=i.bind(null,t,n,e),i=void 0,!Bl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ul(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;s!==null;){if(o=er(s),o===null)return;if(u=o.tag,u===5||u===6){r=a=o;continue e}s=s.parentNode}}r=r.return}tf(function(){var c=a,d=As(n),f=[];e:{var p=_f.get(e);if(p!==void 0){var m=Us,x=e;switch(e){case"keypress":if(Fa(n)===0)break e;case"keydown":case"keyup":m=Um;break;case"focusin":x="focus",m=nl;break;case"focusout":x="blur",m=nl;break;case"beforeblur":case"afterblur":m=nl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=ec;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Dm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Hm;break;case Rf:case Pf:case If:m=Tm;break;case Df:m=qm;break;case"scroll":m=Pm;break;case"wheel":m=Gm;break;case"copy":case"cut":case"paste":m=zm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=nc}var w=(t&4)!==0,k=!w&&e==="scroll",g=w?p!==null?p+"Capture":null:p;w=[];for(var h=c,y;h!==null;){y=h;var C=y.stateNode;if(y.tag===5&&C!==null&&(y=C,g!==null&&(C=_i(h,g),C!=null&&w.push(Mi(h,C,y)))),k)break;h=h.return}0<w.length&&(p=new m(p,x,null,n,d),f.push({event:p,listeners:w}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==Ol&&(x=n.relatedTarget||n.fromElement)&&(er(x)||x[hn]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(x=n.relatedTarget||n.toElement,m=c,x=x?er(x):null,x!==null&&(k=fr(x),x!==k||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=c),m!==x)){if(w=ec,C="onMouseLeave",g="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(w=nc,C="onPointerLeave",g="onPointerEnter",h="pointer"),k=m==null?p:Cr(m),y=x==null?p:Cr(x),p=new w(C,h+"leave",m,n,d),p.target=k,p.relatedTarget=y,C=null,er(d)===c&&(w=new w(g,h+"enter",x,n,d),w.target=y,w.relatedTarget=k,C=w),k=C,m&&x)t:{for(w=m,g=x,h=0,y=w;y;y=gr(y))h++;for(y=0,C=g;C;C=gr(C))y++;for(;0<h-y;)w=gr(w),h--;for(;0<y-h;)g=gr(g),y--;for(;h--;){if(w===g||g!==null&&w===g.alternate)break t;w=gr(w),g=gr(g)}w=null}else w=null;m!==null&&pc(f,p,m,w,!1),x!==null&&k!==null&&pc(f,k,x,w,!0)}}e:{if(p=c?Cr(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var I=ng;else if(ac(p))if(Sf)I=og;else{I=ig;var b=rg}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(I=ag);if(I&&(I=I(e,c))){bf(f,I,n,d);break e}b&&b(e,p,c),e==="focusout"&&(b=p._wrapperState)&&b.controlled&&p.type==="number"&&Ll(p,"number",p.value)}switch(b=c?Cr(c):window,e){case"focusin":(ac(b)||b.contentEditable==="true")&&(kr=b,Kl=c,ki=null);break;case"focusout":ki=Kl=kr=null;break;case"mousedown":ql=!0;break;case"contextmenu":case"mouseup":case"dragend":ql=!1,cc(f,n,d);break;case"selectionchange":if(ug)break;case"keydown":case"keyup":cc(f,n,d)}var E;if(Vs)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Sr?vf(e,n)&&(D="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(xf&&n.locale!=="ko"&&(Sr||D!=="onCompositionStart"?D==="onCompositionEnd"&&Sr&&(E=yf()):(In=d,Bs="value"in In?In.value:In.textContent,Sr=!0)),b=ro(c,D),0<b.length&&(D=new tc(D,e,null,n,d),f.push({event:D,listeners:b}),E?D.data=E:(E=wf(n),E!==null&&(D.data=E)))),(E=Xm?Jm(e,n):Zm(e,n))&&(c=ro(c,"onBeforeInput"),0<c.length&&(d=new tc("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=E))}Nf(f,t)})}function Mi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ro(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=_i(e,n),a!=null&&r.unshift(Mi(e,a,i)),a=_i(e,t),a!=null&&r.push(Mi(e,a,i))),e=e.return}return r}function gr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function pc(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(u!==null&&u===r)break;s.tag===5&&c!==null&&(s=c,i?(u=_i(n,a),u!=null&&o.unshift(Mi(n,u,s))):i||(u=_i(n,a),u!=null&&o.push(Mi(n,u,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var pg=/\r\n?/g,hg=/\u0000|\uFFFD/g;function hc(e){return(typeof e=="string"?e:""+e).replace(pg,`
`).replace(hg,"")}function Sa(e,t,n){if(t=hc(t),hc(e)!==t&&n)throw Error(M(425))}function io(){}var Ql=null,Gl=null;function Yl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xl=typeof setTimeout=="function"?setTimeout:void 0,mg=typeof clearTimeout=="function"?clearTimeout:void 0,mc=typeof Promise=="function"?Promise:void 0,gg=typeof queueMicrotask=="function"?queueMicrotask:typeof mc<"u"?function(e){return mc.resolve(null).then(e).catch(yg)}:Xl;function yg(e){setTimeout(function(){throw e})}function cl(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Li(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Li(t)}function Ln(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Yr=Math.random().toString(36).slice(2),en="__reactFiber$"+Yr,Oi="__reactProps$"+Yr,hn="__reactContainer$"+Yr,Jl="__reactEvents$"+Yr,xg="__reactListeners$"+Yr,vg="__reactHandles$"+Yr;function er(e){var t=e[en];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hn]||n[en]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=gc(e);e!==null;){if(n=e[en])return n;e=gc(e)}return t}e=n,n=e.parentNode}return null}function Zi(e){return e=e[en]||e[hn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Cr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(M(33))}function Do(e){return e[Oi]||null}var Zl=[],jr=-1;function Wn(e){return{current:e}}function Re(e){0>jr||(e.current=Zl[jr],Zl[jr]=null,jr--)}function Ee(e,t){jr++,Zl[jr]=e.current,e.current=t}var $n={},at=Wn($n),gt=Wn(!1),or=$n;function Br(e,t){var n=e.type.contextTypes;if(!n)return $n;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function yt(e){return e=e.childContextTypes,e!=null}function ao(){Re(gt),Re(at)}function yc(e,t,n){if(at.current!==$n)throw Error(M(168));Ee(at,t),Ee(gt,n)}function Lf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(M(108,rm(e)||"Unknown",i));return ze({},n,r)}function oo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$n,or=at.current,Ee(at,e),Ee(gt,gt.current),!0}function xc(e,t,n){var r=e.stateNode;if(!r)throw Error(M(169));n?(e=Lf(e,t,or),r.__reactInternalMemoizedMergedChildContext=e,Re(gt),Re(at),Ee(at,e)):Re(gt),Ee(gt,n)}var un=null,_o=!1,dl=!1;function zf(e){un===null?un=[e]:un.push(e)}function wg(e){_o=!0,zf(e)}function Vn(){if(!dl&&un!==null){dl=!0;var e=0,t=we;try{var n=un;for(we=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}un=null,_o=!1}catch(i){throw un!==null&&(un=un.slice(e+1)),of(Fs,Vn),i}finally{we=t,dl=!1}}return null}var Rr=[],Pr=0,lo=null,so=0,Nt=[],Tt=0,lr=null,cn=1,dn="";function Yn(e,t){Rr[Pr++]=so,Rr[Pr++]=lo,lo=e,so=t}function Af(e,t,n){Nt[Tt++]=cn,Nt[Tt++]=dn,Nt[Tt++]=lr,lr=e;var r=cn;e=dn;var i=32-Kt(r)-1;r&=~(1<<i),n+=1;var a=32-Kt(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,cn=1<<32-Kt(t)+i|n<<i|r,dn=a+e}else cn=1<<a|n<<i|r,dn=e}function Ks(e){e.return!==null&&(Yn(e,1),Af(e,1,0))}function qs(e){for(;e===lo;)lo=Rr[--Pr],Rr[Pr]=null,so=Rr[--Pr],Rr[Pr]=null;for(;e===lr;)lr=Nt[--Tt],Nt[Tt]=null,dn=Nt[--Tt],Nt[Tt]=null,cn=Nt[--Tt],Nt[Tt]=null}var jt=null,Et=null,Ie=!1,Ht=null;function Ff(e,t){var n=Lt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function vc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,jt=e,Et=Ln(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,jt=e,Et=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=lr!==null?{id:cn,overflow:dn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Lt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,jt=e,Et=null,!0):!1;default:return!1}}function es(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ts(e){if(Ie){var t=Et;if(t){var n=t;if(!vc(e,t)){if(es(e))throw Error(M(418));t=Ln(n.nextSibling);var r=jt;t&&vc(e,t)?Ff(r,n):(e.flags=e.flags&-4097|2,Ie=!1,jt=e)}}else{if(es(e))throw Error(M(418));e.flags=e.flags&-4097|2,Ie=!1,jt=e}}}function wc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;jt=e}function ka(e){if(e!==jt)return!1;if(!Ie)return wc(e),Ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Yl(e.type,e.memoizedProps)),t&&(t=Et)){if(es(e))throw Mf(),Error(M(418));for(;t;)Ff(e,t),t=Ln(t.nextSibling)}if(wc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Et=Ln(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Et=null}}else Et=jt?Ln(e.stateNode.nextSibling):null;return!0}function Mf(){for(var e=Et;e;)e=Ln(e.nextSibling)}function Ur(){Et=jt=null,Ie=!1}function Qs(e){Ht===null?Ht=[e]:Ht.push(e)}var bg=yn.ReactCurrentBatchConfig;function li(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var r=n.stateNode}if(!r)throw Error(M(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,e))}return e}function Ea(e,t){throw e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bc(e){var t=e._init;return t(e._payload)}function Of(e){function t(g,h){if(e){var y=g.deletions;y===null?(g.deletions=[h],g.flags|=16):y.push(h)}}function n(g,h){if(!e)return null;for(;h!==null;)t(g,h),h=h.sibling;return null}function r(g,h){for(g=new Map;h!==null;)h.key!==null?g.set(h.key,h):g.set(h.index,h),h=h.sibling;return g}function i(g,h){return g=Mn(g,h),g.index=0,g.sibling=null,g}function a(g,h,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<h?(g.flags|=2,h):y):(g.flags|=2,h)):(g.flags|=1048576,h)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function s(g,h,y,C){return h===null||h.tag!==6?(h=xl(y,g.mode,C),h.return=g,h):(h=i(h,y),h.return=g,h)}function u(g,h,y,C){var I=y.type;return I===br?d(g,h,y.props.children,C,y.key):h!==null&&(h.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===kn&&bc(I)===h.type)?(C=i(h,y.props),C.ref=li(g,h,y),C.return=g,C):(C=Va(y.type,y.key,y.props,null,g.mode,C),C.ref=li(g,h,y),C.return=g,C)}function c(g,h,y,C){return h===null||h.tag!==4||h.stateNode.containerInfo!==y.containerInfo||h.stateNode.implementation!==y.implementation?(h=vl(y,g.mode,C),h.return=g,h):(h=i(h,y.children||[]),h.return=g,h)}function d(g,h,y,C,I){return h===null||h.tag!==7?(h=ar(y,g.mode,C,I),h.return=g,h):(h=i(h,y),h.return=g,h)}function f(g,h,y){if(typeof h=="string"&&h!==""||typeof h=="number")return h=xl(""+h,g.mode,y),h.return=g,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case pa:return y=Va(h.type,h.key,h.props,null,g.mode,y),y.ref=li(g,null,h),y.return=g,y;case wr:return h=vl(h,g.mode,y),h.return=g,h;case kn:var C=h._init;return f(g,C(h._payload),y)}if(hi(h)||ni(h))return h=ar(h,g.mode,y,null),h.return=g,h;Ea(g,h)}return null}function p(g,h,y,C){var I=h!==null?h.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return I!==null?null:s(g,h,""+y,C);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case pa:return y.key===I?u(g,h,y,C):null;case wr:return y.key===I?c(g,h,y,C):null;case kn:return I=y._init,p(g,h,I(y._payload),C)}if(hi(y)||ni(y))return I!==null?null:d(g,h,y,C,null);Ea(g,y)}return null}function m(g,h,y,C,I){if(typeof C=="string"&&C!==""||typeof C=="number")return g=g.get(y)||null,s(h,g,""+C,I);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case pa:return g=g.get(C.key===null?y:C.key)||null,u(h,g,C,I);case wr:return g=g.get(C.key===null?y:C.key)||null,c(h,g,C,I);case kn:var b=C._init;return m(g,h,y,b(C._payload),I)}if(hi(C)||ni(C))return g=g.get(y)||null,d(h,g,C,I,null);Ea(h,C)}return null}function x(g,h,y,C){for(var I=null,b=null,E=h,D=h=0,_=null;E!==null&&D<y.length;D++){E.index>D?(_=E,E=null):_=E.sibling;var R=p(g,E,y[D],C);if(R===null){E===null&&(E=_);break}e&&E&&R.alternate===null&&t(g,E),h=a(R,h,D),b===null?I=R:b.sibling=R,b=R,E=_}if(D===y.length)return n(g,E),Ie&&Yn(g,D),I;if(E===null){for(;D<y.length;D++)E=f(g,y[D],C),E!==null&&(h=a(E,h,D),b===null?I=E:b.sibling=E,b=E);return Ie&&Yn(g,D),I}for(E=r(g,E);D<y.length;D++)_=m(E,g,D,y[D],C),_!==null&&(e&&_.alternate!==null&&E.delete(_.key===null?D:_.key),h=a(_,h,D),b===null?I=_:b.sibling=_,b=_);return e&&E.forEach(function(L){return t(g,L)}),Ie&&Yn(g,D),I}function w(g,h,y,C){var I=ni(y);if(typeof I!="function")throw Error(M(150));if(y=I.call(y),y==null)throw Error(M(151));for(var b=I=null,E=h,D=h=0,_=null,R=y.next();E!==null&&!R.done;D++,R=y.next()){E.index>D?(_=E,E=null):_=E.sibling;var L=p(g,E,R.value,C);if(L===null){E===null&&(E=_);break}e&&E&&L.alternate===null&&t(g,E),h=a(L,h,D),b===null?I=L:b.sibling=L,b=L,E=_}if(R.done)return n(g,E),Ie&&Yn(g,D),I;if(E===null){for(;!R.done;D++,R=y.next())R=f(g,R.value,C),R!==null&&(h=a(R,h,D),b===null?I=R:b.sibling=R,b=R);return Ie&&Yn(g,D),I}for(E=r(g,E);!R.done;D++,R=y.next())R=m(E,g,D,R.value,C),R!==null&&(e&&R.alternate!==null&&E.delete(R.key===null?D:R.key),h=a(R,h,D),b===null?I=R:b.sibling=R,b=R);return e&&E.forEach(function(te){return t(g,te)}),Ie&&Yn(g,D),I}function k(g,h,y,C){if(typeof y=="object"&&y!==null&&y.type===br&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case pa:e:{for(var I=y.key,b=h;b!==null;){if(b.key===I){if(I=y.type,I===br){if(b.tag===7){n(g,b.sibling),h=i(b,y.props.children),h.return=g,g=h;break e}}else if(b.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===kn&&bc(I)===b.type){n(g,b.sibling),h=i(b,y.props),h.ref=li(g,b,y),h.return=g,g=h;break e}n(g,b);break}else t(g,b);b=b.sibling}y.type===br?(h=ar(y.props.children,g.mode,C,y.key),h.return=g,g=h):(C=Va(y.type,y.key,y.props,null,g.mode,C),C.ref=li(g,h,y),C.return=g,g=C)}return o(g);case wr:e:{for(b=y.key;h!==null;){if(h.key===b)if(h.tag===4&&h.stateNode.containerInfo===y.containerInfo&&h.stateNode.implementation===y.implementation){n(g,h.sibling),h=i(h,y.children||[]),h.return=g,g=h;break e}else{n(g,h);break}else t(g,h);h=h.sibling}h=vl(y,g.mode,C),h.return=g,g=h}return o(g);case kn:return b=y._init,k(g,h,b(y._payload),C)}if(hi(y))return x(g,h,y,C);if(ni(y))return w(g,h,y,C);Ea(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,h!==null&&h.tag===6?(n(g,h.sibling),h=i(h,y),h.return=g,g=h):(n(g,h),h=xl(y,g.mode,C),h.return=g,g=h),o(g)):n(g,h)}return k}var Wr=Of(!0),$f=Of(!1),uo=Wn(null),co=null,Ir=null,Gs=null;function Ys(){Gs=Ir=co=null}function Xs(e){var t=uo.current;Re(uo),e._currentValue=t}function ns(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ar(e,t){co=e,Gs=Ir=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(mt=!0),e.firstContext=null)}function Ft(e){var t=e._currentValue;if(Gs!==e)if(e={context:e,memoizedValue:t,next:null},Ir===null){if(co===null)throw Error(M(308));Ir=e,co.dependencies={lanes:0,firstContext:e}}else Ir=Ir.next=e;return t}var tr=null;function Js(e){tr===null?tr=[e]:tr.push(e)}function Bf(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Js(t)):(n.next=i.next,i.next=n),t.interleaved=n,mn(e,r)}function mn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var En=!1;function Zs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,me&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,mn(e,n)}return i=r.interleaved,i===null?(t.next=t,Js(r)):(t.next=i.next,i.next=t),r.interleaved=t,mn(e,n)}function Ma(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ms(e,n)}}function Sc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function fo(e,t,n,r){var i=e.updateQueue;En=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var u=s,c=u.next;u.next=null,o===null?a=c:o.next=c,o=u;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=u))}if(a!==null){var f=i.baseState;o=0,d=c=u=null,s=a;do{var p=s.lane,m=s.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var x=e,w=s;switch(p=t,m=n,w.tag){case 1:if(x=w.payload,typeof x=="function"){f=x.call(m,f,p);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=w.payload,p=typeof x=="function"?x.call(m,f,p):x,p==null)break e;f=ze({},f,p);break e;case 2:En=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[s]:p.push(s))}else m={eventTime:m,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(c=d=m,u=f):d=d.next=m,o|=p;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);ur|=o,e.lanes=o,e.memoizedState=f}}function kc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(M(191,i));i.call(r)}}}var ea={},nn=Wn(ea),$i=Wn(ea),Bi=Wn(ea);function nr(e){if(e===ea)throw Error(M(174));return e}function eu(e,t){switch(Ee(Bi,t),Ee($i,e),Ee(nn,ea),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Al(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Al(t,e)}Re(nn),Ee(nn,t)}function Vr(){Re(nn),Re($i),Re(Bi)}function Wf(e){nr(Bi.current);var t=nr(nn.current),n=Al(t,e.type);t!==n&&(Ee($i,e),Ee(nn,n))}function tu(e){$i.current===e&&(Re(nn),Re($i))}var Te=Wn(0);function po(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fl=[];function nu(){for(var e=0;e<fl.length;e++)fl[e]._workInProgressVersionPrimary=null;fl.length=0}var Oa=yn.ReactCurrentDispatcher,pl=yn.ReactCurrentBatchConfig,sr=0,Le=null,We=null,qe=null,ho=!1,Ei=!1,Ui=0,Sg=0;function nt(){throw Error(M(321))}function ru(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qt(e[n],t[n]))return!1;return!0}function iu(e,t,n,r,i,a){if(sr=a,Le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Oa.current=e===null||e.memoizedState===null?jg:Rg,e=n(r,i),Ei){a=0;do{if(Ei=!1,Ui=0,25<=a)throw Error(M(301));a+=1,qe=We=null,t.updateQueue=null,Oa.current=Pg,e=n(r,i)}while(Ei)}if(Oa.current=mo,t=We!==null&&We.next!==null,sr=0,qe=We=Le=null,ho=!1,t)throw Error(M(300));return e}function au(){var e=Ui!==0;return Ui=0,e}function Zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Le.memoizedState=qe=e:qe=qe.next=e,qe}function Mt(){if(We===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var t=qe===null?Le.memoizedState:qe.next;if(t!==null)qe=t,We=e;else{if(e===null)throw Error(M(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},qe===null?Le.memoizedState=qe=e:qe=qe.next=e}return qe}function Wi(e,t){return typeof t=="function"?t(e):t}function hl(e){var t=Mt(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=We,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var s=o=null,u=null,c=a;do{var d=c.lane;if((sr&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(s=u=f,o=r):u=u.next=f,Le.lanes|=d,ur|=d}c=c.next}while(c!==null&&c!==a);u===null?o=r:u.next=s,Qt(r,t.memoizedState)||(mt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,Le.lanes|=a,ur|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ml(e){var t=Mt(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Qt(a,t.memoizedState)||(mt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Vf(){}function Hf(e,t){var n=Le,r=Mt(),i=t(),a=!Qt(r.memoizedState,i);if(a&&(r.memoizedState=i,mt=!0),r=r.queue,ou(Qf.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||qe!==null&&qe.memoizedState.tag&1){if(n.flags|=2048,Vi(9,qf.bind(null,n,r,i,t),void 0,null),Qe===null)throw Error(M(349));sr&30||Kf(n,t,i)}return i}function Kf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Le.updateQueue,t===null?(t={lastEffect:null,stores:null},Le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function qf(e,t,n,r){t.value=n,t.getSnapshot=r,Gf(t)&&Yf(e)}function Qf(e,t,n){return n(function(){Gf(t)&&Yf(e)})}function Gf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qt(e,n)}catch{return!0}}function Yf(e){var t=mn(e,1);t!==null&&qt(t,e,1,-1)}function Ec(e){var t=Zt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:e},t.queue=e,e=e.dispatch=Cg.bind(null,Le,e),[t.memoizedState,e]}function Vi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Le.updateQueue,t===null?(t={lastEffect:null,stores:null},Le.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Xf(){return Mt().memoizedState}function $a(e,t,n,r){var i=Zt();Le.flags|=e,i.memoizedState=Vi(1|t,n,void 0,r===void 0?null:r)}function No(e,t,n,r){var i=Mt();r=r===void 0?null:r;var a=void 0;if(We!==null){var o=We.memoizedState;if(a=o.destroy,r!==null&&ru(r,o.deps)){i.memoizedState=Vi(t,n,a,r);return}}Le.flags|=e,i.memoizedState=Vi(1|t,n,a,r)}function Cc(e,t){return $a(8390656,8,e,t)}function ou(e,t){return No(2048,8,e,t)}function Jf(e,t){return No(4,2,e,t)}function Zf(e,t){return No(4,4,e,t)}function ep(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function tp(e,t,n){return n=n!=null?n.concat([e]):null,No(4,4,ep.bind(null,t,e),n)}function lu(){}function np(e,t){var n=Mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ru(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function rp(e,t){var n=Mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ru(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ip(e,t,n){return sr&21?(Qt(n,t)||(n=uf(),Le.lanes|=n,ur|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,mt=!0),e.memoizedState=n)}function kg(e,t){var n=we;we=n!==0&&4>n?n:4,e(!0);var r=pl.transition;pl.transition={};try{e(!1),t()}finally{we=n,pl.transition=r}}function ap(){return Mt().memoizedState}function Eg(e,t,n){var r=Fn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},op(e))lp(t,n);else if(n=Bf(e,t,n,r),n!==null){var i=st();qt(n,e,r,i),sp(n,t,r)}}function Cg(e,t,n){var r=Fn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(op(e))lp(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Qt(s,o)){var u=t.interleaved;u===null?(i.next=i,Js(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=Bf(e,t,i,r),n!==null&&(i=st(),qt(n,e,r,i),sp(n,t,r))}}function op(e){var t=e.alternate;return e===Le||t!==null&&t===Le}function lp(e,t){Ei=ho=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ms(e,n)}}var mo={readContext:Ft,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useInsertionEffect:nt,useLayoutEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useMutableSource:nt,useSyncExternalStore:nt,useId:nt,unstable_isNewReconciler:!1},jg={readContext:Ft,useCallback:function(e,t){return Zt().memoizedState=[e,t===void 0?null:t],e},useContext:Ft,useEffect:Cc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,$a(4194308,4,ep.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $a(4194308,4,e,t)},useInsertionEffect:function(e,t){return $a(4,2,e,t)},useMemo:function(e,t){var n=Zt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Zt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Eg.bind(null,Le,e),[r.memoizedState,e]},useRef:function(e){var t=Zt();return e={current:e},t.memoizedState=e},useState:Ec,useDebugValue:lu,useDeferredValue:function(e){return Zt().memoizedState=e},useTransition:function(){var e=Ec(!1),t=e[0];return e=kg.bind(null,e[1]),Zt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Le,i=Zt();if(Ie){if(n===void 0)throw Error(M(407));n=n()}else{if(n=t(),Qe===null)throw Error(M(349));sr&30||Kf(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Cc(Qf.bind(null,r,a,e),[e]),r.flags|=2048,Vi(9,qf.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Zt(),t=Qe.identifierPrefix;if(Ie){var n=dn,r=cn;n=(r&~(1<<32-Kt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ui++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Sg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Rg={readContext:Ft,useCallback:np,useContext:Ft,useEffect:ou,useImperativeHandle:tp,useInsertionEffect:Jf,useLayoutEffect:Zf,useMemo:rp,useReducer:hl,useRef:Xf,useState:function(){return hl(Wi)},useDebugValue:lu,useDeferredValue:function(e){var t=Mt();return ip(t,We.memoizedState,e)},useTransition:function(){var e=hl(Wi)[0],t=Mt().memoizedState;return[e,t]},useMutableSource:Vf,useSyncExternalStore:Hf,useId:ap,unstable_isNewReconciler:!1},Pg={readContext:Ft,useCallback:np,useContext:Ft,useEffect:ou,useImperativeHandle:tp,useInsertionEffect:Jf,useLayoutEffect:Zf,useMemo:rp,useReducer:ml,useRef:Xf,useState:function(){return ml(Wi)},useDebugValue:lu,useDeferredValue:function(e){var t=Mt();return We===null?t.memoizedState=e:ip(t,We.memoizedState,e)},useTransition:function(){var e=ml(Wi)[0],t=Mt().memoizedState;return[e,t]},useMutableSource:Vf,useSyncExternalStore:Hf,useId:ap,unstable_isNewReconciler:!1};function Wt(e,t){if(e&&e.defaultProps){t=ze({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ze({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var To={isMounted:function(e){return(e=e._reactInternals)?fr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=st(),i=Fn(e),a=fn(r,i);a.payload=t,n!=null&&(a.callback=n),t=zn(e,a,i),t!==null&&(qt(t,e,i,r),Ma(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=st(),i=Fn(e),a=fn(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=zn(e,a,i),t!==null&&(qt(t,e,i,r),Ma(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=st(),r=Fn(e),i=fn(n,r);i.tag=2,t!=null&&(i.callback=t),t=zn(e,i,r),t!==null&&(qt(t,e,r,n),Ma(t,e,r))}};function jc(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!Ai(n,r)||!Ai(i,a):!0}function up(e,t,n){var r=!1,i=$n,a=t.contextType;return typeof a=="object"&&a!==null?a=Ft(a):(i=yt(t)?or:at.current,r=t.contextTypes,a=(r=r!=null)?Br(e,i):$n),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=To,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Rc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&To.enqueueReplaceState(t,t.state,null)}function is(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Zs(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Ft(a):(a=yt(t)?or:at.current,i.context=Br(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(rs(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&To.enqueueReplaceState(i,i.state,null),fo(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Hr(e,t){try{var n="",r=t;do n+=nm(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function gl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function as(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ig=typeof WeakMap=="function"?WeakMap:Map;function cp(e,t,n){n=fn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){yo||(yo=!0,ms=r),as(e,t)},n}function dp(e,t,n){n=fn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){as(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){as(e,t),typeof r!="function"&&(An===null?An=new Set([this]):An.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Pc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ig;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Wg.bind(null,e,t,n),t.then(e,e))}function Ic(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Dc(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=fn(-1,1),t.tag=2,zn(n,t,1))),n.lanes|=1),e)}var Dg=yn.ReactCurrentOwner,mt=!1;function lt(e,t,n,r){t.child=e===null?$f(t,null,n,r):Wr(t,e.child,n,r)}function _c(e,t,n,r,i){n=n.render;var a=t.ref;return Ar(t,i),r=iu(e,t,n,r,a,i),n=au(),e!==null&&!mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,gn(e,t,i)):(Ie&&n&&Ks(t),t.flags|=1,lt(e,t,r,i),t.child)}function Nc(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!mu(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,fp(e,t,a,r,i)):(e=Va(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Ai,n(o,r)&&e.ref===t.ref)return gn(e,t,i)}return t.flags|=1,e=Mn(a,r),e.ref=t.ref,e.return=t,t.child=e}function fp(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Ai(a,r)&&e.ref===t.ref)if(mt=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(mt=!0);else return t.lanes=e.lanes,gn(e,t,i)}return os(e,t,n,r,i)}function pp(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(_r,St),St|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ee(_r,St),St|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Ee(_r,St),St|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ee(_r,St),St|=r;return lt(e,t,i,n),t.child}function hp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function os(e,t,n,r,i){var a=yt(n)?or:at.current;return a=Br(t,a),Ar(t,i),n=iu(e,t,n,r,a,i),r=au(),e!==null&&!mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,gn(e,t,i)):(Ie&&r&&Ks(t),t.flags|=1,lt(e,t,n,i),t.child)}function Tc(e,t,n,r,i){if(yt(n)){var a=!0;oo(t)}else a=!1;if(Ar(t,i),t.stateNode===null)Ba(e,t),up(t,n,r),is(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ft(c):(c=yt(n)?or:at.current,c=Br(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||u!==c)&&Rc(t,o,r,c),En=!1;var p=t.memoizedState;o.state=p,fo(t,r,o,i),u=t.memoizedState,s!==r||p!==u||gt.current||En?(typeof d=="function"&&(rs(t,n,d,r),u=t.memoizedState),(s=En||jc(t,n,s,r,p,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Uf(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Wt(t.type,s),o.props=c,f=t.pendingProps,p=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Ft(u):(u=yt(n)?or:at.current,u=Br(t,u));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||p!==u)&&Rc(t,o,r,u),En=!1,p=t.memoizedState,o.state=p,fo(t,r,o,i);var x=t.memoizedState;s!==f||p!==x||gt.current||En?(typeof m=="function"&&(rs(t,n,m,r),x=t.memoizedState),(c=En||jc(t,n,c,r,p,x,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return ls(e,t,n,r,a,i)}function ls(e,t,n,r,i,a){hp(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&xc(t,n,!1),gn(e,t,a);r=t.stateNode,Dg.current=t;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Wr(t,e.child,null,a),t.child=Wr(t,null,s,a)):lt(e,t,s,a),t.memoizedState=r.state,i&&xc(t,n,!0),t.child}function mp(e){var t=e.stateNode;t.pendingContext?yc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&yc(e,t.context,!1),eu(e,t.containerInfo)}function Lc(e,t,n,r,i){return Ur(),Qs(i),t.flags|=256,lt(e,t,n,r),t.child}var ss={dehydrated:null,treeContext:null,retryLane:0};function us(e){return{baseLanes:e,cachePool:null,transitions:null}}function gp(e,t,n){var r=t.pendingProps,i=Te.current,a=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ee(Te,i&1),e===null)return ts(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Ao(o,r,0,null),e=ar(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=us(n),t.memoizedState=ss,e):su(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return _g(e,t,o,r,s,i,n);if(a){a=r.fallback,o=t.mode,i=e.child,s=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Mn(i,u),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=Mn(s,a):(a=ar(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?us(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=ss,r}return a=e.child,e=a.sibling,r=Mn(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function su(e,t){return t=Ao({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ca(e,t,n,r){return r!==null&&Qs(r),Wr(t,e.child,null,n),e=su(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _g(e,t,n,r,i,a,o){if(n)return t.flags&256?(t.flags&=-257,r=gl(Error(M(422))),Ca(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Ao({mode:"visible",children:r.children},i,0,null),a=ar(a,i,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Wr(t,e.child,null,o),t.child.memoizedState=us(o),t.memoizedState=ss,a);if(!(t.mode&1))return Ca(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,a=Error(M(419)),r=gl(a,r,void 0),Ca(e,t,o,r)}if(s=(o&e.childLanes)!==0,mt||s){if(r=Qe,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,mn(e,i),qt(r,e,i,-1))}return hu(),r=gl(Error(M(421))),Ca(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Vg.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Et=Ln(i.nextSibling),jt=t,Ie=!0,Ht=null,e!==null&&(Nt[Tt++]=cn,Nt[Tt++]=dn,Nt[Tt++]=lr,cn=e.id,dn=e.overflow,lr=t),t=su(t,r.children),t.flags|=4096,t)}function zc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ns(e.return,t,n)}function yl(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function yp(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(lt(e,t,r.children,n),r=Te.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zc(e,n,t);else if(e.tag===19)zc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ee(Te,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&po(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),yl(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&po(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}yl(t,!0,n,null,a);break;case"together":yl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ba(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function gn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ur|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,n=Mn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Mn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ng(e,t,n){switch(t.tag){case 3:mp(t),Ur();break;case 5:Wf(t);break;case 1:yt(t.type)&&oo(t);break;case 4:eu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ee(uo,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ee(Te,Te.current&1),t.flags|=128,null):n&t.child.childLanes?gp(e,t,n):(Ee(Te,Te.current&1),e=gn(e,t,n),e!==null?e.sibling:null);Ee(Te,Te.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return yp(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ee(Te,Te.current),r)break;return null;case 22:case 23:return t.lanes=0,pp(e,t,n)}return gn(e,t,n)}var xp,cs,vp,wp;xp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cs=function(){};vp=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,nr(nn.current);var a=null;switch(n){case"input":i=Nl(e,i),r=Nl(e,r),a=[];break;case"select":i=ze({},i,{value:void 0}),r=ze({},r,{value:void 0}),a=[];break;case"textarea":i=zl(e,i),r=zl(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=io)}Fl(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ii.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var u=r[c];if(s=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==s&&(u!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&s[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(a||(a=[]),a.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,s=s?s.__html:void 0,u!=null&&s!==u&&(a=a||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(a=a||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ii.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&je("scroll",e),a||s===u||(a=[])):(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};wp=function(e,t,n,r){n!==r&&(t.flags|=4)};function si(e,t){if(!Ie)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Tg(e,t,n){var r=t.pendingProps;switch(qs(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(t),null;case 1:return yt(t.type)&&ao(),rt(t),null;case 3:return r=t.stateNode,Vr(),Re(gt),Re(at),nu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ka(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ht!==null&&(xs(Ht),Ht=null))),cs(e,t),rt(t),null;case 5:tu(t);var i=nr(Bi.current);if(n=t.type,e!==null&&t.stateNode!=null)vp(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(M(166));return rt(t),null}if(e=nr(nn.current),ka(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[en]=t,r[Oi]=a,e=(t.mode&1)!==0,n){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(i=0;i<gi.length;i++)je(gi[i],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":Vu(r,a),je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},je("invalid",r);break;case"textarea":Ku(r,a),je("invalid",r)}Fl(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?r.textContent!==s&&(a.suppressHydrationWarning!==!0&&Sa(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&Sa(r.textContent,s,e),i=["children",""+s]):Ii.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&je("scroll",r)}switch(n){case"input":ha(r),Hu(r,a,!0);break;case"textarea":ha(r),qu(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=io)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qd(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[en]=t,e[Oi]=r,xp(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ml(n,r),n){case"dialog":je("cancel",e),je("close",e),i=r;break;case"iframe":case"object":case"embed":je("load",e),i=r;break;case"video":case"audio":for(i=0;i<gi.length;i++)je(gi[i],e);i=r;break;case"source":je("error",e),i=r;break;case"img":case"image":case"link":je("error",e),je("load",e),i=r;break;case"details":je("toggle",e),i=r;break;case"input":Vu(e,r),i=Nl(e,r),je("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ze({},r,{value:void 0}),je("invalid",e);break;case"textarea":Ku(e,r),i=zl(e,r),je("invalid",e);break;default:i=r}Fl(n,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var u=s[a];a==="style"?Yd(e,u):a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Qd(e,u)):a==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Di(e,u):typeof u=="number"&&Di(e,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ii.hasOwnProperty(a)?u!=null&&a==="onScroll"&&je("scroll",e):u!=null&&Ns(e,a,u,o))}switch(n){case"input":ha(e),Hu(e,r,!1);break;case"textarea":ha(e),qu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+On(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Nr(e,!!r.multiple,a,!1):r.defaultValue!=null&&Nr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=io)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return rt(t),null;case 6:if(e&&t.stateNode!=null)wp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(M(166));if(n=nr(Bi.current),nr(nn.current),ka(t)){if(r=t.stateNode,n=t.memoizedProps,r[en]=t,(a=r.nodeValue!==n)&&(e=jt,e!==null))switch(e.tag){case 3:Sa(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Sa(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[en]=t,t.stateNode=r}return rt(t),null;case 13:if(Re(Te),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ie&&Et!==null&&t.mode&1&&!(t.flags&128))Mf(),Ur(),t.flags|=98560,a=!1;else if(a=ka(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(M(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(M(317));a[en]=t}else Ur(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;rt(t),a=!1}else Ht!==null&&(xs(Ht),Ht=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Te.current&1?Ve===0&&(Ve=3):hu())),t.updateQueue!==null&&(t.flags|=4),rt(t),null);case 4:return Vr(),cs(e,t),e===null&&Fi(t.stateNode.containerInfo),rt(t),null;case 10:return Xs(t.type._context),rt(t),null;case 17:return yt(t.type)&&ao(),rt(t),null;case 19:if(Re(Te),a=t.memoizedState,a===null)return rt(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)si(a,!1);else{if(Ve!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=po(e),o!==null){for(t.flags|=128,si(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ee(Te,Te.current&1|2),t.child}e=e.sibling}a.tail!==null&&Me()>Kr&&(t.flags|=128,r=!0,si(a,!1),t.lanes=4194304)}else{if(!r)if(e=po(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),si(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Ie)return rt(t),null}else 2*Me()-a.renderingStartTime>Kr&&n!==1073741824&&(t.flags|=128,r=!0,si(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Me(),t.sibling=null,n=Te.current,Ee(Te,r?n&1|2:n&1),t):(rt(t),null);case 22:case 23:return pu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?St&1073741824&&(rt(t),t.subtreeFlags&6&&(t.flags|=8192)):rt(t),null;case 24:return null;case 25:return null}throw Error(M(156,t.tag))}function Lg(e,t){switch(qs(t),t.tag){case 1:return yt(t.type)&&ao(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Vr(),Re(gt),Re(at),nu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return tu(t),null;case 13:if(Re(Te),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));Ur()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Re(Te),null;case 4:return Vr(),null;case 10:return Xs(t.type._context),null;case 22:case 23:return pu(),null;case 24:return null;default:return null}}var ja=!1,it=!1,zg=typeof WeakSet=="function"?WeakSet:Set,K=null;function Dr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ae(e,t,r)}else n.current=null}function ds(e,t,n){try{n()}catch(r){Ae(e,t,r)}}var Ac=!1;function Ag(e,t){if(Ql=to,e=Cf(),Hs(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,u=-1,c=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(s=o+i),f!==a||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===n&&++c===i&&(s=o),p===a&&++d===r&&(u=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=s===-1||u===-1?null:{start:s,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gl={focusedElem:e,selectionRange:n},to=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var w=x.memoizedProps,k=x.memoizedState,g=t.stateNode,h=g.getSnapshotBeforeUpdate(t.elementType===t.type?w:Wt(t.type,w),k);g.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(C){Ae(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return x=Ac,Ac=!1,x}function Ci(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&ds(t,n,a)}i=i.next}while(i!==r)}}function Lo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function fs(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function bp(e){var t=e.alternate;t!==null&&(e.alternate=null,bp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[en],delete t[Oi],delete t[Jl],delete t[xg],delete t[vg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Sp(e){return e.tag===5||e.tag===3||e.tag===4}function Fc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ps(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=io));else if(r!==4&&(e=e.child,e!==null))for(ps(e,t,n),e=e.sibling;e!==null;)ps(e,t,n),e=e.sibling}function hs(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(hs(e,t,n),e=e.sibling;e!==null;)hs(e,t,n),e=e.sibling}var Ye=null,Vt=!1;function bn(e,t,n){for(n=n.child;n!==null;)kp(e,t,n),n=n.sibling}function kp(e,t,n){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(jo,n)}catch{}switch(n.tag){case 5:it||Dr(n,t);case 6:var r=Ye,i=Vt;Ye=null,bn(e,t,n),Ye=r,Vt=i,Ye!==null&&(Vt?(e=Ye,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ye.removeChild(n.stateNode));break;case 18:Ye!==null&&(Vt?(e=Ye,n=n.stateNode,e.nodeType===8?cl(e.parentNode,n):e.nodeType===1&&cl(e,n),Li(e)):cl(Ye,n.stateNode));break;case 4:r=Ye,i=Vt,Ye=n.stateNode.containerInfo,Vt=!0,bn(e,t,n),Ye=r,Vt=i;break;case 0:case 11:case 14:case 15:if(!it&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&ds(n,t,o),i=i.next}while(i!==r)}bn(e,t,n);break;case 1:if(!it&&(Dr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ae(n,t,s)}bn(e,t,n);break;case 21:bn(e,t,n);break;case 22:n.mode&1?(it=(r=it)||n.memoizedState!==null,bn(e,t,n),it=r):bn(e,t,n);break;default:bn(e,t,n)}}function Mc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new zg),t.forEach(function(r){var i=Hg.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Bt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:Ye=s.stateNode,Vt=!1;break e;case 3:Ye=s.stateNode.containerInfo,Vt=!0;break e;case 4:Ye=s.stateNode.containerInfo,Vt=!0;break e}s=s.return}if(Ye===null)throw Error(M(160));kp(a,o,i),Ye=null,Vt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Ae(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ep(t,e),t=t.sibling}function Ep(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Bt(t,e),Jt(e),r&4){try{Ci(3,e,e.return),Lo(3,e)}catch(w){Ae(e,e.return,w)}try{Ci(5,e,e.return)}catch(w){Ae(e,e.return,w)}}break;case 1:Bt(t,e),Jt(e),r&512&&n!==null&&Dr(n,n.return);break;case 5:if(Bt(t,e),Jt(e),r&512&&n!==null&&Dr(n,n.return),e.flags&32){var i=e.stateNode;try{Di(i,"")}catch(w){Ae(e,e.return,w)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,s=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&Hd(i,a),Ml(s,o);var c=Ml(s,a);for(o=0;o<u.length;o+=2){var d=u[o],f=u[o+1];d==="style"?Yd(i,f):d==="dangerouslySetInnerHTML"?Qd(i,f):d==="children"?Di(i,f):Ns(i,d,f,c)}switch(s){case"input":Tl(i,a);break;case"textarea":Kd(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Nr(i,!!a.multiple,m,!1):p!==!!a.multiple&&(a.defaultValue!=null?Nr(i,!!a.multiple,a.defaultValue,!0):Nr(i,!!a.multiple,a.multiple?[]:"",!1))}i[Oi]=a}catch(w){Ae(e,e.return,w)}}break;case 6:if(Bt(t,e),Jt(e),r&4){if(e.stateNode===null)throw Error(M(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(w){Ae(e,e.return,w)}}break;case 3:if(Bt(t,e),Jt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Li(t.containerInfo)}catch(w){Ae(e,e.return,w)}break;case 4:Bt(t,e),Jt(e);break;case 13:Bt(t,e),Jt(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(du=Me())),r&4&&Mc(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(it=(c=it)||d,Bt(t,e),it=c):Bt(t,e),Jt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(K=e,d=e.child;d!==null;){for(f=K=d;K!==null;){switch(p=K,m=p.child,p.tag){case 0:case 11:case 14:case 15:Ci(4,p,p.return);break;case 1:Dr(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(w){Ae(r,n,w)}}break;case 5:Dr(p,p.return);break;case 22:if(p.memoizedState!==null){$c(f);continue}}m!==null?(m.return=p,K=m):$c(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,s.style.display=Gd("display",o))}catch(w){Ae(e,e.return,w)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(w){Ae(e,e.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Bt(t,e),Jt(e),r&4&&Mc(e);break;case 21:break;default:Bt(t,e),Jt(e)}}function Jt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Sp(n)){var r=n;break e}n=n.return}throw Error(M(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Di(i,""),r.flags&=-33);var a=Fc(e);hs(e,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=Fc(e);ps(e,s,o);break;default:throw Error(M(161))}}catch(u){Ae(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Fg(e,t,n){K=e,Cp(e)}function Cp(e,t,n){for(var r=(e.mode&1)!==0;K!==null;){var i=K,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ja;if(!o){var s=i.alternate,u=s!==null&&s.memoizedState!==null||it;s=ja;var c=it;if(ja=o,(it=u)&&!c)for(K=i;K!==null;)o=K,u=o.child,o.tag===22&&o.memoizedState!==null?Bc(i):u!==null?(u.return=o,K=u):Bc(i);for(;a!==null;)K=a,Cp(a),a=a.sibling;K=i,ja=s,it=c}Oc(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,K=a):Oc(e)}}function Oc(e){for(;K!==null;){var t=K;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:it||Lo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!it)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Wt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&kc(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}kc(t,o,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Li(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}it||t.flags&512&&fs(t)}catch(p){Ae(t,t.return,p)}}if(t===e){K=null;break}if(n=t.sibling,n!==null){n.return=t.return,K=n;break}K=t.return}}function $c(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var n=t.sibling;if(n!==null){n.return=t.return,K=n;break}K=t.return}}function Bc(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Lo(4,t)}catch(u){Ae(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){Ae(t,i,u)}}var a=t.return;try{fs(t)}catch(u){Ae(t,a,u)}break;case 5:var o=t.return;try{fs(t)}catch(u){Ae(t,o,u)}}}catch(u){Ae(t,t.return,u)}if(t===e){K=null;break}var s=t.sibling;if(s!==null){s.return=t.return,K=s;break}K=t.return}}var Mg=Math.ceil,go=yn.ReactCurrentDispatcher,uu=yn.ReactCurrentOwner,zt=yn.ReactCurrentBatchConfig,me=0,Qe=null,Be=null,Xe=0,St=0,_r=Wn(0),Ve=0,Hi=null,ur=0,zo=0,cu=0,ji=null,ht=null,du=0,Kr=1/0,sn=null,yo=!1,ms=null,An=null,Ra=!1,Dn=null,xo=0,Ri=0,gs=null,Ua=-1,Wa=0;function st(){return me&6?Me():Ua!==-1?Ua:Ua=Me()}function Fn(e){return e.mode&1?me&2&&Xe!==0?Xe&-Xe:bg.transition!==null?(Wa===0&&(Wa=uf()),Wa):(e=we,e!==0||(e=window.event,e=e===void 0?16:gf(e.type)),e):1}function qt(e,t,n,r){if(50<Ri)throw Ri=0,gs=null,Error(M(185));Xi(e,n,r),(!(me&2)||e!==Qe)&&(e===Qe&&(!(me&2)&&(zo|=n),Ve===4&&jn(e,Xe)),xt(e,r),n===1&&me===0&&!(t.mode&1)&&(Kr=Me()+500,_o&&Vn()))}function xt(e,t){var n=e.callbackNode;bm(e,t);var r=eo(e,e===Qe?Xe:0);if(r===0)n!==null&&Yu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Yu(n),t===1)e.tag===0?wg(Uc.bind(null,e)):zf(Uc.bind(null,e)),gg(function(){!(me&6)&&Vn()}),n=null;else{switch(cf(r)){case 1:n=Fs;break;case 4:n=lf;break;case 16:n=Za;break;case 536870912:n=sf;break;default:n=Za}n=Tp(n,jp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function jp(e,t){if(Ua=-1,Wa=0,me&6)throw Error(M(327));var n=e.callbackNode;if(Fr()&&e.callbackNode!==n)return null;var r=eo(e,e===Qe?Xe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=vo(e,r);else{t=r;var i=me;me|=2;var a=Pp();(Qe!==e||Xe!==t)&&(sn=null,Kr=Me()+500,ir(e,t));do try{Bg();break}catch(s){Rp(e,s)}while(!0);Ys(),go.current=a,me=i,Be!==null?t=0:(Qe=null,Xe=0,t=Ve)}if(t!==0){if(t===2&&(i=Wl(e),i!==0&&(r=i,t=ys(e,i))),t===1)throw n=Hi,ir(e,0),jn(e,r),xt(e,Me()),n;if(t===6)jn(e,r);else{if(i=e.current.alternate,!(r&30)&&!Og(i)&&(t=vo(e,r),t===2&&(a=Wl(e),a!==0&&(r=a,t=ys(e,a))),t===1))throw n=Hi,ir(e,0),jn(e,r),xt(e,Me()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(M(345));case 2:Xn(e,ht,sn);break;case 3:if(jn(e,r),(r&130023424)===r&&(t=du+500-Me(),10<t)){if(eo(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){st(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Xl(Xn.bind(null,e,ht,sn),t);break}Xn(e,ht,sn);break;case 4:if(jn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Kt(r);a=1<<o,o=t[o],o>i&&(i=o),r&=~a}if(r=i,r=Me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Mg(r/1960))-r,10<r){e.timeoutHandle=Xl(Xn.bind(null,e,ht,sn),r);break}Xn(e,ht,sn);break;case 5:Xn(e,ht,sn);break;default:throw Error(M(329))}}}return xt(e,Me()),e.callbackNode===n?jp.bind(null,e):null}function ys(e,t){var n=ji;return e.current.memoizedState.isDehydrated&&(ir(e,t).flags|=256),e=vo(e,t),e!==2&&(t=ht,ht=n,t!==null&&xs(t)),e}function xs(e){ht===null?ht=e:ht.push.apply(ht,e)}function Og(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Qt(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function jn(e,t){for(t&=~cu,t&=~zo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Kt(t),r=1<<n;e[n]=-1,t&=~r}}function Uc(e){if(me&6)throw Error(M(327));Fr();var t=eo(e,0);if(!(t&1))return xt(e,Me()),null;var n=vo(e,t);if(e.tag!==0&&n===2){var r=Wl(e);r!==0&&(t=r,n=ys(e,r))}if(n===1)throw n=Hi,ir(e,0),jn(e,t),xt(e,Me()),n;if(n===6)throw Error(M(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xn(e,ht,sn),xt(e,Me()),null}function fu(e,t){var n=me;me|=1;try{return e(t)}finally{me=n,me===0&&(Kr=Me()+500,_o&&Vn())}}function cr(e){Dn!==null&&Dn.tag===0&&!(me&6)&&Fr();var t=me;me|=1;var n=zt.transition,r=we;try{if(zt.transition=null,we=1,e)return e()}finally{we=r,zt.transition=n,me=t,!(me&6)&&Vn()}}function pu(){St=_r.current,Re(_r)}function ir(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,mg(n)),Be!==null)for(n=Be.return;n!==null;){var r=n;switch(qs(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ao();break;case 3:Vr(),Re(gt),Re(at),nu();break;case 5:tu(r);break;case 4:Vr();break;case 13:Re(Te);break;case 19:Re(Te);break;case 10:Xs(r.type._context);break;case 22:case 23:pu()}n=n.return}if(Qe=e,Be=e=Mn(e.current,null),Xe=St=t,Ve=0,Hi=null,cu=zo=ur=0,ht=ji=null,tr!==null){for(t=0;t<tr.length;t++)if(n=tr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}tr=null}return e}function Rp(e,t){do{var n=Be;try{if(Ys(),Oa.current=mo,ho){for(var r=Le.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ho=!1}if(sr=0,qe=We=Le=null,Ei=!1,Ui=0,uu.current=null,n===null||n.return===null){Ve=1,Hi=t,Be=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=Xe,s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Ic(o);if(m!==null){m.flags&=-257,Dc(m,o,s,a,t),m.mode&1&&Pc(a,c,t),t=m,u=c;var x=t.updateQueue;if(x===null){var w=new Set;w.add(u),t.updateQueue=w}else x.add(u);break e}else{if(!(t&1)){Pc(a,c,t),hu();break e}u=Error(M(426))}}else if(Ie&&s.mode&1){var k=Ic(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Dc(k,o,s,a,t),Qs(Hr(u,s));break e}}a=u=Hr(u,s),Ve!==4&&(Ve=2),ji===null?ji=[a]:ji.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=cp(a,u,t);Sc(a,g);break e;case 1:s=u;var h=a.type,y=a.stateNode;if(!(a.flags&128)&&(typeof h.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(An===null||!An.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t;var C=dp(a,s,t);Sc(a,C);break e}}a=a.return}while(a!==null)}Dp(n)}catch(I){t=I,Be===n&&n!==null&&(Be=n=n.return);continue}break}while(!0)}function Pp(){var e=go.current;return go.current=mo,e===null?mo:e}function hu(){(Ve===0||Ve===3||Ve===2)&&(Ve=4),Qe===null||!(ur&268435455)&&!(zo&268435455)||jn(Qe,Xe)}function vo(e,t){var n=me;me|=2;var r=Pp();(Qe!==e||Xe!==t)&&(sn=null,ir(e,t));do try{$g();break}catch(i){Rp(e,i)}while(!0);if(Ys(),me=n,go.current=r,Be!==null)throw Error(M(261));return Qe=null,Xe=0,Ve}function $g(){for(;Be!==null;)Ip(Be)}function Bg(){for(;Be!==null&&!fm();)Ip(Be)}function Ip(e){var t=Np(e.alternate,e,St);e.memoizedProps=e.pendingProps,t===null?Dp(e):Be=t,uu.current=null}function Dp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Lg(n,t),n!==null){n.flags&=32767,Be=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ve=6,Be=null;return}}else if(n=Tg(n,t,St),n!==null){Be=n;return}if(t=t.sibling,t!==null){Be=t;return}Be=t=e}while(t!==null);Ve===0&&(Ve=5)}function Xn(e,t,n){var r=we,i=zt.transition;try{zt.transition=null,we=1,Ug(e,t,n,r)}finally{zt.transition=i,we=r}return null}function Ug(e,t,n,r){do Fr();while(Dn!==null);if(me&6)throw Error(M(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Sm(e,a),e===Qe&&(Be=Qe=null,Xe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ra||(Ra=!0,Tp(Za,function(){return Fr(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=zt.transition,zt.transition=null;var o=we;we=1;var s=me;me|=4,uu.current=null,Ag(e,n),Ep(n,e),sg(Gl),to=!!Ql,Gl=Ql=null,e.current=n,Fg(n),pm(),me=s,we=o,zt.transition=a}else e.current=n;if(Ra&&(Ra=!1,Dn=e,xo=i),a=e.pendingLanes,a===0&&(An=null),gm(n.stateNode),xt(e,Me()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(yo)throw yo=!1,e=ms,ms=null,e;return xo&1&&e.tag!==0&&Fr(),a=e.pendingLanes,a&1?e===gs?Ri++:(Ri=0,gs=e):Ri=0,Vn(),null}function Fr(){if(Dn!==null){var e=cf(xo),t=zt.transition,n=we;try{if(zt.transition=null,we=16>e?16:e,Dn===null)var r=!1;else{if(e=Dn,Dn=null,xo=0,me&6)throw Error(M(331));var i=me;for(me|=4,K=e.current;K!==null;){var a=K,o=a.child;if(K.flags&16){var s=a.deletions;if(s!==null){for(var u=0;u<s.length;u++){var c=s[u];for(K=c;K!==null;){var d=K;switch(d.tag){case 0:case 11:case 15:Ci(8,d,a)}var f=d.child;if(f!==null)f.return=d,K=f;else for(;K!==null;){d=K;var p=d.sibling,m=d.return;if(bp(d),d===c){K=null;break}if(p!==null){p.return=m,K=p;break}K=m}}}var x=a.alternate;if(x!==null){var w=x.child;if(w!==null){x.child=null;do{var k=w.sibling;w.sibling=null,w=k}while(w!==null)}}K=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,K=o;else e:for(;K!==null;){if(a=K,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ci(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,K=g;break e}K=a.return}}var h=e.current;for(K=h;K!==null;){o=K;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,K=y;else e:for(o=h;K!==null;){if(s=K,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Lo(9,s)}}catch(I){Ae(s,s.return,I)}if(s===o){K=null;break e}var C=s.sibling;if(C!==null){C.return=s.return,K=C;break e}K=s.return}}if(me=i,Vn(),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(jo,e)}catch{}r=!0}return r}finally{we=n,zt.transition=t}}return!1}function Wc(e,t,n){t=Hr(n,t),t=cp(e,t,1),e=zn(e,t,1),t=st(),e!==null&&(Xi(e,1,t),xt(e,t))}function Ae(e,t,n){if(e.tag===3)Wc(e,e,n);else for(;t!==null;){if(t.tag===3){Wc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(An===null||!An.has(r))){e=Hr(n,e),e=dp(t,e,1),t=zn(t,e,1),e=st(),t!==null&&(Xi(t,1,e),xt(t,e));break}}t=t.return}}function Wg(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=st(),e.pingedLanes|=e.suspendedLanes&n,Qe===e&&(Xe&n)===n&&(Ve===4||Ve===3&&(Xe&130023424)===Xe&&500>Me()-du?ir(e,0):cu|=n),xt(e,t)}function _p(e,t){t===0&&(e.mode&1?(t=ya,ya<<=1,!(ya&130023424)&&(ya=4194304)):t=1);var n=st();e=mn(e,t),e!==null&&(Xi(e,t,n),xt(e,n))}function Vg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),_p(e,n)}function Hg(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(M(314))}r!==null&&r.delete(t),_p(e,n)}var Np;Np=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||gt.current)mt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return mt=!1,Ng(e,t,n);mt=!!(e.flags&131072)}else mt=!1,Ie&&t.flags&1048576&&Af(t,so,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ba(e,t),e=t.pendingProps;var i=Br(t,at.current);Ar(t,n),i=iu(null,t,r,e,i,n);var a=au();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,yt(r)?(a=!0,oo(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Zs(t),i.updater=To,t.stateNode=i,i._reactInternals=t,is(t,r,e,n),t=ls(null,t,r,!0,a,n)):(t.tag=0,Ie&&a&&Ks(t),lt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ba(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=qg(r),e=Wt(r,e),i){case 0:t=os(null,t,r,e,n);break e;case 1:t=Tc(null,t,r,e,n);break e;case 11:t=_c(null,t,r,e,n);break e;case 14:t=Nc(null,t,r,Wt(r.type,e),n);break e}throw Error(M(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Wt(r,i),os(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Wt(r,i),Tc(e,t,r,i,n);case 3:e:{if(mp(t),e===null)throw Error(M(387));r=t.pendingProps,a=t.memoizedState,i=a.element,Uf(e,t),fo(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Hr(Error(M(423)),t),t=Lc(e,t,r,n,i);break e}else if(r!==i){i=Hr(Error(M(424)),t),t=Lc(e,t,r,n,i);break e}else for(Et=Ln(t.stateNode.containerInfo.firstChild),jt=t,Ie=!0,Ht=null,n=$f(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ur(),r===i){t=gn(e,t,n);break e}lt(e,t,r,n)}t=t.child}return t;case 5:return Wf(t),e===null&&ts(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,Yl(r,i)?o=null:a!==null&&Yl(r,a)&&(t.flags|=32),hp(e,t),lt(e,t,o,n),t.child;case 6:return e===null&&ts(t),null;case 13:return gp(e,t,n);case 4:return eu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Wr(t,null,r,n):lt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Wt(r,i),_c(e,t,r,i,n);case 7:return lt(e,t,t.pendingProps,n),t.child;case 8:return lt(e,t,t.pendingProps.children,n),t.child;case 12:return lt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ee(uo,r._currentValue),r._currentValue=o,a!==null)if(Qt(a.value,o)){if(a.children===i.children&&!gt.current){t=gn(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var u=s.firstContext;u!==null;){if(u.context===r){if(a.tag===1){u=fn(-1,n&-n),u.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),ns(a.return,n,t),s.lanes|=n;break}u=u.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(M(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),ns(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}lt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ar(t,n),i=Ft(i),r=r(i),t.flags|=1,lt(e,t,r,n),t.child;case 14:return r=t.type,i=Wt(r,t.pendingProps),i=Wt(r.type,i),Nc(e,t,r,i,n);case 15:return fp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Wt(r,i),Ba(e,t),t.tag=1,yt(r)?(e=!0,oo(t)):e=!1,Ar(t,n),up(t,r,i),is(t,r,i,n),ls(null,t,r,!0,e,n);case 19:return yp(e,t,n);case 22:return pp(e,t,n)}throw Error(M(156,t.tag))};function Tp(e,t){return of(e,t)}function Kg(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(e,t,n,r){return new Kg(e,t,n,r)}function mu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qg(e){if(typeof e=="function")return mu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ls)return 11;if(e===zs)return 14}return 2}function Mn(e,t){var n=e.alternate;return n===null?(n=Lt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Va(e,t,n,r,i,a){var o=2;if(r=e,typeof e=="function")mu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case br:return ar(n.children,i,a,t);case Ts:o=8,i|=8;break;case Pl:return e=Lt(12,n,t,i|2),e.elementType=Pl,e.lanes=a,e;case Il:return e=Lt(13,n,t,i),e.elementType=Il,e.lanes=a,e;case Dl:return e=Lt(19,n,t,i),e.elementType=Dl,e.lanes=a,e;case Ud:return Ao(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $d:o=10;break e;case Bd:o=9;break e;case Ls:o=11;break e;case zs:o=14;break e;case kn:o=16,r=null;break e}throw Error(M(130,e==null?e:typeof e,""))}return t=Lt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function ar(e,t,n,r){return e=Lt(7,e,r,t),e.lanes=n,e}function Ao(e,t,n,r){return e=Lt(22,e,r,t),e.elementType=Ud,e.lanes=n,e.stateNode={isHidden:!1},e}function xl(e,t,n){return e=Lt(6,e,null,t),e.lanes=n,e}function vl(e,t,n){return t=Lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qg(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zo(0),this.expirationTimes=Zo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zo(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function gu(e,t,n,r,i,a,o,s,u){return e=new Qg(e,t,n,s,u),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Lt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zs(a),e}function Gg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Lp(e){if(!e)return $n;e=e._reactInternals;e:{if(fr(e)!==e||e.tag!==1)throw Error(M(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(yt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(M(171))}if(e.tag===1){var n=e.type;if(yt(n))return Lf(e,n,t)}return t}function zp(e,t,n,r,i,a,o,s,u){return e=gu(n,r,!0,e,i,a,o,s,u),e.context=Lp(null),n=e.current,r=st(),i=Fn(n),a=fn(r,i),a.callback=t??null,zn(n,a,i),e.current.lanes=i,Xi(e,i,r),xt(e,r),e}function Fo(e,t,n,r){var i=t.current,a=st(),o=Fn(i);return n=Lp(n),t.context===null?t.context=n:t.pendingContext=n,t=fn(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=zn(i,t,o),e!==null&&(qt(e,i,o,a),Ma(e,i,o)),o}function wo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Vc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function yu(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}function Yg(){return null}var Ap=typeof reportError=="function"?reportError:function(e){console.error(e)};function xu(e){this._internalRoot=e}Mo.prototype.render=xu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));Fo(e,t,null,null)};Mo.prototype.unmount=xu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;cr(function(){Fo(null,e,null,null)}),t[hn]=null}};function Mo(e){this._internalRoot=e}Mo.prototype.unstable_scheduleHydration=function(e){if(e){var t=pf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Cn.length&&t!==0&&t<Cn[n].priority;n++);Cn.splice(n,0,e),n===0&&mf(e)}};function vu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Oo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Hc(){}function Xg(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=wo(o);a.call(c)}}var o=zp(t,r,e,0,null,!1,!1,"",Hc);return e._reactRootContainer=o,e[hn]=o.current,Fi(e.nodeType===8?e.parentNode:e),cr(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var c=wo(u);s.call(c)}}var u=gu(e,0,!1,null,null,!1,!1,"",Hc);return e._reactRootContainer=u,e[hn]=u.current,Fi(e.nodeType===8?e.parentNode:e),cr(function(){Fo(t,u,n,r)}),u}function $o(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var u=wo(o);s.call(u)}}Fo(t,o,e,i)}else o=Xg(n,t,e,i,r);return wo(o)}df=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=mi(t.pendingLanes);n!==0&&(Ms(t,n|1),xt(t,Me()),!(me&6)&&(Kr=Me()+500,Vn()))}break;case 13:cr(function(){var r=mn(e,1);if(r!==null){var i=st();qt(r,e,1,i)}}),yu(e,1)}};Os=function(e){if(e.tag===13){var t=mn(e,134217728);if(t!==null){var n=st();qt(t,e,134217728,n)}yu(e,134217728)}};ff=function(e){if(e.tag===13){var t=Fn(e),n=mn(e,t);if(n!==null){var r=st();qt(n,e,t,r)}yu(e,t)}};pf=function(){return we};hf=function(e,t){var n=we;try{return we=e,t()}finally{we=n}};$l=function(e,t,n){switch(t){case"input":if(Tl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Do(r);if(!i)throw Error(M(90));Vd(r),Tl(r,i)}}}break;case"textarea":Kd(e,n);break;case"select":t=n.value,t!=null&&Nr(e,!!n.multiple,t,!1)}};Zd=fu;ef=cr;var Jg={usingClientEntryPoint:!1,Events:[Zi,Cr,Do,Xd,Jd,fu]},ui={findFiberByHostInstance:er,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zg={bundleType:ui.bundleType,version:ui.version,rendererPackageName:ui.rendererPackageName,rendererConfig:ui.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rf(e),e===null?null:e.stateNode},findFiberByHostInstance:ui.findFiberByHostInstance||Yg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pa.isDisabled&&Pa.supportsFiber)try{jo=Pa.inject(Zg),tn=Pa}catch{}}Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jg;Pt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vu(t))throw Error(M(200));return Gg(e,t,null,n)};Pt.createRoot=function(e,t){if(!vu(e))throw Error(M(299));var n=!1,r="",i=Ap;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=gu(e,1,!1,null,null,n,!1,r,i),e[hn]=t.current,Fi(e.nodeType===8?e.parentNode:e),new xu(t)};Pt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=rf(t),e=e===null?null:e.stateNode,e};Pt.flushSync=function(e){return cr(e)};Pt.hydrate=function(e,t,n){if(!Oo(t))throw Error(M(200));return $o(null,e,t,!0,n)};Pt.hydrateRoot=function(e,t,n){if(!vu(e))throw Error(M(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=Ap;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=zp(t,null,e,1,n??null,i,!1,a,o),e[hn]=t.current,Fi(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Mo(t)};Pt.render=function(e,t,n){if(!Oo(t))throw Error(M(200));return $o(null,e,t,!1,n)};Pt.unmountComponentAtNode=function(e){if(!Oo(e))throw Error(M(40));return e._reactRootContainer?(cr(function(){$o(null,null,e,!1,function(){e._reactRootContainer=null,e[hn]=null})}),!0):!1};Pt.unstable_batchedUpdates=fu;Pt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Oo(n))throw Error(M(200));if(e==null||e._reactInternals===void 0)throw Error(M(38));return $o(e,t,n,!1,r)};Pt.version="18.3.1-next-f1338f8080-20240426";function Fp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fp)}catch(e){console.error(e)}}Fp(),Ad.exports=Pt;var Mp=Ad.exports,Kc=Mp;jl.createRoot=Kc.createRoot,jl.hydrateRoot=Kc.hydrateRoot;/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Op=e=>{throw TypeError(e)},ey=(e,t,n)=>t.has(e)||Op("Cannot "+n),wl=(e,t,n)=>(ey(e,t,"read from private field"),n?n.call(e):t.get(e)),ty=(e,t,n)=>t.has(e)?Op("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),qc="popstate";function ny(e={}){function t(i,a){let{pathname:o="/",search:s="",hash:u=""}=xn(i.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Ki("",{pathname:o,search:s,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let o=i.document.querySelector("base"),s="";if(o&&o.getAttribute("href")){let u=i.location.href,c=u.indexOf("#");s=c===-1?u:u.slice(0,c)}return s+"#"+(typeof a=="string"?a:Bn(a))}function r(i,a){Oe(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return iy(t,n,r,e)}function fe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Oe(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ry(){return Math.random().toString(36).substring(2,10)}function Qc(e,t){return{usr:e.state,key:e.key,idx:t}}function Ki(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?xn(t):t,state:n,key:t&&t.key||r||ry()}}function Bn({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function xn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function iy(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s="POP",u=null,c=d();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function d(){return(o.state||{idx:null}).idx}function f(){s="POP";let k=d(),g=k==null?null:k-c;c=k,u&&u({action:s,location:w.location,delta:g})}function p(k,g){s="PUSH";let h=Ki(w.location,k,g);n&&n(h,k),c=d()+1;let y=Qc(h,c),C=w.createHref(h);try{o.pushState(y,"",C)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(C)}a&&u&&u({action:s,location:w.location,delta:1})}function m(k,g){s="REPLACE";let h=Ki(w.location,k,g);n&&n(h,k),c=d();let y=Qc(h,c),C=w.createHref(h);o.replaceState(y,"",C),a&&u&&u({action:s,location:w.location,delta:0})}function x(k){return $p(k)}let w={get action(){return s},get location(){return e(i,o)},listen(k){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(qc,f),u=k,()=>{i.removeEventListener(qc,f),u=null}},createHref(k){return t(i,k)},createURL:x,encodeLocation(k){let g=x(k);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:m,go(k){return o.go(k)}};return w}function $p(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),fe(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Bn(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var yi,Gc=class{constructor(e){if(ty(this,yi,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(wl(this,yi).has(e))return wl(this,yi).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){wl(this,yi).set(e,t)}};yi=new WeakMap;var ay=new Set(["lazy","caseSensitive","path","id","index","children"]);function oy(e){return ay.has(e)}var ly=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function sy(e){return ly.has(e)}function uy(e){return e.index===!0}function qi(e,t,n=[],r={},i=!1){return e.map((a,o)=>{let s=[...n,String(o)],u=typeof a.id=="string"?a.id:s.join("-");if(fe(a.index!==!0||!a.children,"Cannot specify children on an index route"),fe(i||!r[u],`Found a route id collision on id "${u}".  Route id's must be globally unique within Data Router usages`),uy(a)){let c={...a,...t(a),id:u};return r[u]=c,c}else{let c={...a,...t(a),id:u,children:void 0};return r[u]=c,a.children&&(c.children=qi(a.children,t,s,r,i)),c}})}function Rn(e,t,n="/"){return Ha(e,t,n,!1)}function Ha(e,t,n,r){let i=typeof t=="string"?xn(t):t,a=Ot(i.pathname||"/",n);if(a==null)return null;let o=Bp(e);dy(o);let s=null;for(let u=0;s==null&&u<o.length;++u){let c=Sy(a);s=wy(o[u],c,r)}return s}function cy(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],loaderData:t[n.id],handle:n.handle}}function Bp(e,t=[],n=[],r="",i=!1){let a=(o,s,u=i,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&u)return;fe(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let f=rn([r,d.relativePath]),p=n.concat(d);o.children&&o.children.length>0&&(fe(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Bp(o.children,t,p,f,u)),!(o.path==null&&!o.index)&&t.push({path:f,score:xy(f,o.index),routesMeta:p})};return e.forEach((o,s)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))a(o,s);else for(let c of Up(o.path))a(o,s,!0,c)}),t}function Up(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=Up(r.join("/")),s=[];return s.push(...o.map(u=>u===""?a:[a,u].join("/"))),i&&s.push(...o),s.map(u=>e.startsWith("/")&&u===""?"/":u)}function dy(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:vy(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var fy=/^:[\w-]+$/,py=3,hy=2,my=1,gy=10,yy=-2,Yc=e=>e==="*";function xy(e,t){let n=e.split("/"),r=n.length;return n.some(Yc)&&(r+=yy),t&&(r+=hy),n.filter(i=>!Yc(i)).reduce((i,a)=>i+(fy.test(a)?py:a===""?my:gy),r)}function vy(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function wy(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",o=[];for(let s=0;s<r.length;++s){let u=r[s],c=s===r.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=bo({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),p=u.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=bo({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:rn([a,f.pathname]),pathnameBase:jy(rn([a,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(a=rn([a,f.pathnameBase]))}return o}function bo(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=by(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((c,{paramName:d,isOptional:f},p)=>{if(d==="*"){let x=s[p]||"";o=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const m=s[p];return f&&!m?c[d]=void 0:c[d]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:o,pattern:e}}function by(e,t=!1,n=!0){Oe(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,u)=>(r.push({paramName:s,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Sy(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Oe(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ot(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function ky({basename:e,pathname:t}){return t==="/"?e:rn([e,t])}function Ey(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?xn(e):e;return{pathname:n?n.startsWith("/")?n:Cy(n,t):t,search:Ry(r),hash:Py(i)}}function Cy(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function bl(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Wp(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function wu(e){let t=Wp(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function bu(e,t,n,r=!1){let i;typeof e=="string"?i=xn(e):(i={...e},fe(!i.pathname||!i.pathname.includes("?"),bl("?","pathname","search",i)),fe(!i.pathname||!i.pathname.includes("#"),bl("#","pathname","hash",i)),fe(!i.search||!i.search.includes("#"),bl("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}s=f>=0?t[f]:"/"}let u=Ey(i,s),c=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}var rn=e=>e.join("/").replace(/\/\/+/g,"/"),jy=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ry=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Py=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,So=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Qi(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Vp=["POST","PUT","PATCH","DELETE"],Iy=new Set(Vp),Dy=["GET",...Vp],_y=new Set(Dy),Ny=new Set([301,302,303,307,308]),Ty=new Set([307,308]),Sl={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ly={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ci={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},zy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Su=e=>zy.test(e),Ay=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Hp="remix-router-transitions",Kp=Symbol("ResetLoaderData");function Fy(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";fe(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=e.hydrationRouteProperties||[],i=e.mapRouteProperties||Ay,a={},o=qi(e.routes,i,void 0,a),s,u=e.basename||"/";u.startsWith("/")||(u=`/${u}`);let c=e.dataStrategy||Uy,d={...e.future},f=null,p=new Set,m=null,x=null,w=null,k=e.hydrationData!=null,g=Rn(o,e.history.location,u),h=!1,y=null,C;if(g==null&&!e.patchRoutesOnNavigation){let S=_t(404,{pathname:e.history.location.pathname}),{matches:j,route:N}=Ia(o);C=!0,g=j,y={[N.id]:S}}else if(g&&!e.hydrationData&&la(g,o,e.history.location.pathname).active&&(g=null),g)if(g.some(S=>S.route.lazy))C=!1;else if(!g.some(S=>S.route.loader))C=!0;else{let S=e.hydrationData?e.hydrationData.loaderData:null,j=e.hydrationData?e.hydrationData.errors:null;if(j){let N=g.findIndex(F=>j[F.route.id]!==void 0);C=g.slice(0,N+1).every(F=>!ws(F.route,S,j))}else C=g.every(N=>!ws(N.route,S,j))}else{C=!1,g=[];let S=la(null,o,e.history.location.pathname);S.active&&S.matches&&(h=!0,g=S.matches)}let I,b={historyAction:e.history.action,location:e.history.location,matches:g,initialized:C,navigation:Sl,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||y,fetchers:new Map,blockers:new Map},E="POP",D=!1,_,R=!1,L=new Map,te=null,q=!1,le=!1,ge=new Set,ue=new Map,he=0,$=-1,T=new Map,z=new Set,G=new Map,oe=new Map,B=new Set,U=new Map,O,V=null;function P(){if(f=e.history.listen(({action:S,location:j,delta:N})=>{if(O){O(),O=void 0;return}Oe(U.size===0||N!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let F=Lu({currentLocation:b.location,nextLocation:j,historyAction:S});if(F&&N!=null){let W=new Promise(X=>{O=X});e.history.go(N*-1),oa(F,{state:"blocked",location:j,proceed(){oa(F,{state:"proceeding",proceed:void 0,reset:void 0,location:j}),W.then(()=>e.history.go(N))},reset(){let X=new Map(b.blockers);X.set(F,ci),ae({blockers:X})}});return}return H(S,j)}),n){rx(t,L);let S=()=>ix(t,L);t.addEventListener("pagehide",S),te=()=>t.removeEventListener("pagehide",S)}return b.initialized||H("POP",b.location,{initialHydration:!0}),I}function A(){f&&f(),te&&te(),p.clear(),_&&_.abort(),b.fetchers.forEach((S,j)=>hr(j)),b.blockers.forEach((S,j)=>Tu(j))}function ee(S){return p.add(S),()=>p.delete(S)}function ae(S,j={}){S.matches&&(S.matches=S.matches.map(W=>{let X=a[W.route.id],J=W.route;return J.element!==X.element||J.errorElement!==X.errorElement||J.hydrateFallbackElement!==X.hydrateFallbackElement?{...W,route:X}:W})),b={...b,...S};let N=[],F=[];b.fetchers.forEach((W,X)=>{W.state==="idle"&&(B.has(X)?N.push(X):F.push(X))}),B.forEach(W=>{!b.fetchers.has(W)&&!ue.has(W)&&N.push(W)}),[...p].forEach(W=>W(b,{deletedFetchers:N,viewTransitionOpts:j.viewTransitionOpts,flushSync:j.flushSync===!0})),N.forEach(W=>hr(W)),F.forEach(W=>b.fetchers.delete(W))}function De(S,j,{flushSync:N}={}){var re,Y;let F=b.actionData!=null&&b.navigation.formMethod!=null&&pt(b.navigation.formMethod)&&b.navigation.state==="loading"&&((re=S.state)==null?void 0:re._isRedirect)!==!0,W;j.actionData?Object.keys(j.actionData).length>0?W=j.actionData:W=null:F?W=b.actionData:W=null;let X=j.loaderData?od(b.loaderData,j.loaderData,j.matches||[],j.errors):b.loaderData,J=b.blockers;J.size>0&&(J=new Map(J),J.forEach((se,ke)=>J.set(ke,ci)));let Q=q?!1:Au(S,j.matches||b.matches),Z=D===!0||b.navigation.formMethod!=null&&pt(b.navigation.formMethod)&&((Y=S.state)==null?void 0:Y._isRedirect)!==!0;s&&(o=s,s=void 0),q||E==="POP"||(E==="PUSH"?e.history.push(S,S.state):E==="REPLACE"&&e.history.replace(S,S.state));let ie;if(E==="POP"){let se=L.get(b.location.pathname);se&&se.has(S.pathname)?ie={currentLocation:b.location,nextLocation:S}:L.has(S.pathname)&&(ie={currentLocation:S,nextLocation:b.location})}else if(R){let se=L.get(b.location.pathname);se?se.add(S.pathname):(se=new Set([S.pathname]),L.set(b.location.pathname,se)),ie={currentLocation:b.location,nextLocation:S}}ae({...j,actionData:W,loaderData:X,historyAction:E,location:S,initialized:!0,navigation:Sl,revalidation:"idle",restoreScrollPosition:Q,preventScrollReset:Z,blockers:J},{viewTransitionOpts:ie,flushSync:N===!0}),E="POP",D=!1,R=!1,q=!1,le=!1,V==null||V.resolve(),V=null}async function ye(S,j){if(typeof S=="number"){e.history.go(S);return}let N=vs(b.location,b.matches,u,S,j==null?void 0:j.fromRouteId,j==null?void 0:j.relative),{path:F,submission:W,error:X}=Xc(!1,N,j),J=b.location,Q=Ki(b.location,F,j&&j.state);Q={...Q,...e.history.encodeLocation(Q)};let Z=j&&j.replace!=null?j.replace:void 0,ie="PUSH";Z===!0?ie="REPLACE":Z===!1||W!=null&&pt(W.formMethod)&&W.formAction===b.location.pathname+b.location.search&&(ie="REPLACE");let re=j&&"preventScrollReset"in j?j.preventScrollReset===!0:void 0,Y=(j&&j.flushSync)===!0,se=Lu({currentLocation:J,nextLocation:Q,historyAction:ie});if(se){oa(se,{state:"blocked",location:Q,proceed(){oa(se,{state:"proceeding",proceed:void 0,reset:void 0,location:Q}),ye(S,j)},reset(){let ke=new Map(b.blockers);ke.set(se,ci),ae({blockers:ke})}});return}await H(ie,Q,{submission:W,pendingError:X,preventScrollReset:re,replace:j&&j.replace,enableViewTransition:j&&j.viewTransition,flushSync:Y})}function Se(){V||(V=ax()),Pe(),ae({revalidation:"loading"});let S=V.promise;return b.navigation.state==="submitting"?S:b.navigation.state==="idle"?(H(b.historyAction,b.location,{startUninterruptedRevalidation:!0}),S):(H(E||b.historyAction,b.navigation.location,{overrideNavigation:b.navigation,enableViewTransition:R===!0}),S)}async function H(S,j,N){_&&_.abort(),_=null,E=S,q=(N&&N.startUninterruptedRevalidation)===!0,Sh(b.location,b.matches),D=(N&&N.preventScrollReset)===!0,R=(N&&N.enableViewTransition)===!0;let F=s||o,W=N&&N.overrideNavigation,X=N!=null&&N.initialHydration&&b.matches&&b.matches.length>0&&!h?b.matches:Rn(F,j,u),J=(N&&N.flushSync)===!0;if(X&&b.initialized&&!le&&Yy(b.location,j)&&!(N&&N.submission&&pt(N.submission.formMethod))){De(j,{matches:X},{flushSync:J});return}let Q=la(X,F,j.pathname);if(Q.active&&Q.matches&&(X=Q.matches),!X){let{error:ot,notFoundMatches:_e,route:Ce}=Ko(j.pathname);De(j,{matches:_e,loaderData:{},errors:{[Ce.id]:ot}},{flushSync:J});return}_=new AbortController;let Z=vr(e.history,j,_.signal,N&&N.submission),ie=e.unstable_getContext?await e.unstable_getContext():new Gc,re;if(N&&N.pendingError)re=[Pn(X).route.id,{type:"error",error:N.pendingError}];else if(N&&N.submission&&pt(N.submission.formMethod)){let ot=await ne(Z,j,N.submission,X,ie,Q.active,N&&N.initialHydration===!0,{replace:N.replace,flushSync:J});if(ot.shortCircuited)return;if(ot.pendingActionResult){let[_e,Ce]=ot.pendingActionResult;if(kt(Ce)&&Qi(Ce.error)&&Ce.error.status===404){_=null,De(j,{matches:ot.matches,loaderData:{},errors:{[_e]:Ce.error}});return}}X=ot.matches||X,re=ot.pendingActionResult,W=kl(j,N.submission),J=!1,Q.active=!1,Z=vr(e.history,Z.url,Z.signal)}let{shortCircuited:Y,matches:se,loaderData:ke,errors:He}=await Ge(Z,j,X,ie,Q.active,W,N&&N.submission,N&&N.fetcherSubmission,N&&N.replace,N&&N.initialHydration===!0,J,re);Y||(_=null,De(j,{matches:se||X,...ld(re),loaderData:ke,errors:He}))}async function ne(S,j,N,F,W,X,J,Q={}){Pe();let Z=tx(j,N);if(ae({navigation:Z},{flushSync:Q.flushSync===!0}),X){let Y=await sa(F,j.pathname,S.signal);if(Y.type==="aborted")return{shortCircuited:!0};if(Y.type==="error"){if(Y.partialMatches.length===0){let{matches:ke,route:He}=Ia(o);return{matches:ke,pendingActionResult:[He.id,{type:"error",error:Y.error}]}}let se=Pn(Y.partialMatches).route.id;return{matches:Y.partialMatches,pendingActionResult:[se,{type:"error",error:Y.error}]}}else if(Y.matches)F=Y.matches;else{let{notFoundMatches:se,error:ke,route:He}=Ko(j.pathname);return{matches:se,pendingActionResult:[He.id,{type:"error",error:ke}]}}}let ie,re=Ka(F,j);if(!re.route.action&&!re.route.lazy)ie={type:"error",error:_t(405,{method:S.method,pathname:j.pathname,routeId:re.route.id})};else{let Y=Mr(i,a,S,F,re,J?[]:r,W),se=await vt(S,Y,W,null);if(ie=se[re.route.id],!ie){for(let ke of F)if(se[ke.route.id]){ie=se[ke.route.id];break}}if(S.signal.aborted)return{shortCircuited:!0}}if(rr(ie)){let Y;return Q&&Q.replace!=null?Y=Q.replace:Y=rd(ie.response.headers.get("Location"),new URL(S.url),u)===b.location.pathname+b.location.search,await be(S,ie,!0,{submission:N,replace:Y}),{shortCircuited:!0}}if(kt(ie)){let Y=Pn(F,re.route.id);return(Q&&Q.replace)!==!0&&(E="PUSH"),{matches:F,pendingActionResult:[Y.route.id,ie,re.route.id]}}return{matches:F,pendingActionResult:[re.route.id,ie]}}async function Ge(S,j,N,F,W,X,J,Q,Z,ie,re,Y){let se=X||kl(j,J),ke=J||Q||ud(se),He=!q&&!ie;if(W){if(He){let tt=Ze(Y);ae({navigation:se,...tt!==void 0?{actionData:tt}:{}},{flushSync:re})}let xe=await sa(N,j.pathname,S.signal);if(xe.type==="aborted")return{shortCircuited:!0};if(xe.type==="error"){if(xe.partialMatches.length===0){let{matches:mr,route:Gn}=Ia(o);return{matches:mr,loaderData:{},errors:{[Gn.id]:xe.error}}}let tt=Pn(xe.partialMatches).route.id;return{matches:xe.partialMatches,loaderData:{},errors:{[tt]:xe.error}}}else if(xe.matches)N=xe.matches;else{let{error:tt,notFoundMatches:mr,route:Gn}=Ko(j.pathname);return{matches:mr,loaderData:{},errors:{[Gn.id]:tt}}}}let ot=s||o,{dsMatches:_e,revalidatingFetchers:Ce}=Jc(S,F,i,a,e.history,b,N,ke,j,ie?[]:r,ie===!0,le,ge,B,G,z,ot,u,e.patchRoutesOnNavigation!=null,Y);if($=++he,!e.dataStrategy&&!_e.some(xe=>xe.shouldLoad)&&!_e.some(xe=>xe.route.unstable_middleware)&&Ce.length===0){let xe=Zr();return De(j,{matches:N,loaderData:{},errors:Y&&kt(Y[1])?{[Y[0]]:Y[1].error}:null,...ld(Y),...xe?{fetchers:new Map(b.fetchers)}:{}},{flushSync:re}),{shortCircuited:!0}}if(He){let xe={};if(!W){xe.navigation=se;let tt=Ze(Y);tt!==void 0&&(xe.actionData=tt)}Ce.length>0&&(xe.fetchers=ce(Ce)),ae(xe,{flushSync:re})}Ce.forEach(xe=>{Dt(xe.key),xe.controller&&ue.set(xe.key,xe.controller)});let qn=()=>Ce.forEach(xe=>Dt(xe.key));_&&_.signal.addEventListener("abort",qn);let{loaderResults:ei,fetcherResults:wn}=await Gt(_e,Ce,S,F);if(S.signal.aborted)return{shortCircuited:!0};_&&_.signal.removeEventListener("abort",qn),Ce.forEach(xe=>ue.delete(xe.key));let Xt=Da(ei);if(Xt)return await be(S,Xt.result,!0,{replace:Z}),{shortCircuited:!0};if(Xt=Da(wn),Xt)return z.add(Xt.key),await be(S,Xt.result,!0,{replace:Z}),{shortCircuited:!0};let{loaderData:qo,errors:ti}=ad(b,N,ei,Y,Ce,wn);ie&&b.errors&&(ti={...b.errors,...ti});let Qn=Zr(),ua=Nu($),ca=Qn||ua||Ce.length>0;return{matches:N,loaderData:qo,errors:ti,...ca?{fetchers:new Map(b.fetchers)}:{}}}function Ze(S){if(S&&!kt(S[1]))return{[S[0]]:S[1].data};if(b.actionData)return Object.keys(b.actionData).length===0?null:b.actionData}function ce(S){return S.forEach(j=>{let N=b.fetchers.get(j.key),F=di(void 0,N?N.data:void 0);b.fetchers.set(j.key,F)}),new Map(b.fetchers)}async function dt(S,j,N,F){Dt(S);let W=(F&&F.flushSync)===!0,X=s||o,J=vs(b.location,b.matches,u,N,j,F==null?void 0:F.relative),Q=Rn(X,J,u),Z=la(Q,X,J);if(Z.active&&Z.matches&&(Q=Z.matches),!Q){$e(S,j,_t(404,{pathname:J}),{flushSync:W});return}let{path:ie,submission:re,error:Y}=Xc(!0,J,F);if(Y){$e(S,j,Y,{flushSync:W});return}let se=e.unstable_getContext?await e.unstable_getContext():new Gc,ke=(F&&F.preventScrollReset)===!0;if(re&&pt(re.formMethod)){await et(S,j,ie,Q,se,Z.active,W,ke,re);return}G.set(S,{routeId:j,path:ie}),await ve(S,j,ie,Q,se,Z.active,W,ke,re)}async function et(S,j,N,F,W,X,J,Q,Z){Pe(),G.delete(S);let ie=b.fetchers.get(S);Yt(S,nx(Z,ie),{flushSync:J});let re=new AbortController,Y=vr(e.history,N,re.signal,Z);if(X){let Ue=await sa(F,new URL(Y.url).pathname,Y.signal,S);if(Ue.type==="aborted")return;if(Ue.type==="error"){$e(S,j,Ue.error,{flushSync:J});return}else if(Ue.matches)F=Ue.matches;else{$e(S,j,_t(404,{pathname:N}),{flushSync:J});return}}let se=Ka(F,N);if(!se.route.action&&!se.route.lazy){let Ue=_t(405,{method:Z.formMethod,pathname:N,routeId:j});$e(S,j,Ue,{flushSync:J});return}ue.set(S,re);let ke=he,He=Mr(i,a,Y,F,se,r,W),_e=(await vt(Y,He,W,S))[se.route.id];if(Y.signal.aborted){ue.get(S)===re&&ue.delete(S);return}if(B.has(S)){if(rr(_e)||kt(_e)){Yt(S,Sn(void 0));return}}else{if(rr(_e))if(ue.delete(S),$>ke){Yt(S,Sn(void 0));return}else return z.add(S),Yt(S,di(Z)),be(Y,_e,!1,{fetcherSubmission:Z,preventScrollReset:Q});if(kt(_e)){$e(S,j,_e.error);return}}let Ce=b.navigation.location||b.location,qn=vr(e.history,Ce,re.signal),ei=s||o,wn=b.navigation.state!=="idle"?Rn(ei,b.navigation.location,u):b.matches;fe(wn,"Didn't find any matches after fetcher action");let Xt=++he;T.set(S,Xt);let qo=di(Z,_e.data);b.fetchers.set(S,qo);let{dsMatches:ti,revalidatingFetchers:Qn}=Jc(qn,W,i,a,e.history,b,wn,Z,Ce,r,!1,le,ge,B,G,z,ei,u,e.patchRoutesOnNavigation!=null,[se.route.id,_e]);Qn.filter(Ue=>Ue.key!==S).forEach(Ue=>{let da=Ue.key,Fu=b.fetchers.get(da),Ch=di(void 0,Fu?Fu.data:void 0);b.fetchers.set(da,Ch),Dt(da),Ue.controller&&ue.set(da,Ue.controller)}),ae({fetchers:new Map(b.fetchers)});let ua=()=>Qn.forEach(Ue=>Dt(Ue.key));re.signal.addEventListener("abort",ua);let{loaderResults:ca,fetcherResults:xe}=await Gt(ti,Qn,qn,W);if(re.signal.aborted)return;if(re.signal.removeEventListener("abort",ua),T.delete(S),ue.delete(S),Qn.forEach(Ue=>ue.delete(Ue.key)),b.fetchers.has(S)){let Ue=Sn(_e.data);b.fetchers.set(S,Ue)}let tt=Da(ca);if(tt)return be(qn,tt.result,!1,{preventScrollReset:Q});if(tt=Da(xe),tt)return z.add(tt.key),be(qn,tt.result,!1,{preventScrollReset:Q});let{loaderData:mr,errors:Gn}=ad(b,wn,ca,void 0,Qn,xe);Nu(Xt),b.navigation.state==="loading"&&Xt>$?(fe(E,"Expected pending action"),_&&_.abort(),De(b.navigation.location,{matches:wn,loaderData:mr,errors:Gn,fetchers:new Map(b.fetchers)})):(ae({errors:Gn,loaderData:od(b.loaderData,mr,wn,Gn),fetchers:new Map(b.fetchers)}),le=!1)}async function ve(S,j,N,F,W,X,J,Q,Z){let ie=b.fetchers.get(S);Yt(S,di(Z,ie?ie.data:void 0),{flushSync:J});let re=new AbortController,Y=vr(e.history,N,re.signal);if(X){let Ce=await sa(F,new URL(Y.url).pathname,Y.signal,S);if(Ce.type==="aborted")return;if(Ce.type==="error"){$e(S,j,Ce.error,{flushSync:J});return}else if(Ce.matches)F=Ce.matches;else{$e(S,j,_t(404,{pathname:N}),{flushSync:J});return}}let se=Ka(F,N);ue.set(S,re);let ke=he,He=Mr(i,a,Y,F,se,r,W),_e=(await vt(Y,He,W,S))[se.route.id];if(ue.get(S)===re&&ue.delete(S),!Y.signal.aborted){if(B.has(S)){Yt(S,Sn(void 0));return}if(rr(_e))if($>ke){Yt(S,Sn(void 0));return}else{z.add(S),await be(Y,_e,!1,{preventScrollReset:Q});return}if(kt(_e)){$e(S,j,_e.error);return}Yt(S,Sn(_e.data))}}async function be(S,j,N,{submission:F,fetcherSubmission:W,preventScrollReset:X,replace:J}={}){j.response.headers.has("X-Remix-Revalidate")&&(le=!0);let Q=j.response.headers.get("Location");fe(Q,"Expected a Location header on the redirect Response"),Q=rd(Q,new URL(S.url),u);let Z=Ki(b.location,Q,{_isRedirect:!0});if(n){let He=!1;if(j.response.headers.has("X-Remix-Reload-Document"))He=!0;else if(Su(Q)){const ot=$p(Q,!0);He=ot.origin!==t.location.origin||Ot(ot.pathname,u)==null}if(He){J?t.location.replace(Q):t.location.assign(Q);return}}_=null;let ie=J===!0||j.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:re,formAction:Y,formEncType:se}=b.navigation;!F&&!W&&re&&Y&&se&&(F=ud(b.navigation));let ke=F||W;if(Ty.has(j.response.status)&&ke&&pt(ke.formMethod))await H(ie,Z,{submission:{...ke,formAction:Q},preventScrollReset:X||D,enableViewTransition:N?R:void 0});else{let He=kl(Z,F);await H(ie,Z,{overrideNavigation:He,fetcherSubmission:W,preventScrollReset:X||D,enableViewTransition:N?R:void 0})}}async function vt(S,j,N,F){let W,X={};try{W=await Vy(c,S,j,F,N,!1)}catch(J){return j.filter(Q=>Q.shouldLoad).forEach(Q=>{X[Q.route.id]={type:"error",error:J}}),X}if(S.signal.aborted)return X;for(let[J,Q]of Object.entries(W))if(Zy(Q)){let Z=Q.result;X[J]={type:"redirect",response:Qy(Z,S,J,j,u)}}else X[J]=await qy(Q);return X}async function Gt(S,j,N,F){let W=vt(N,S,F,null),X=Promise.all(j.map(async Z=>{if(Z.matches&&Z.match&&Z.request&&Z.controller){let re=(await vt(Z.request,Z.matches,F,Z.key))[Z.match.route.id];return{[Z.key]:re}}else return Promise.resolve({[Z.key]:{type:"error",error:_t(404,{pathname:Z.path})}})})),J=await W,Q=(await X).reduce((Z,ie)=>Object.assign(Z,ie),{});return{loaderResults:J,fetcherResults:Q}}function Pe(){le=!0,G.forEach((S,j)=>{ue.has(j)&&ge.add(j),Dt(j)})}function Yt(S,j,N={}){b.fetchers.set(S,j),ae({fetchers:new Map(b.fetchers)},{flushSync:(N&&N.flushSync)===!0})}function $e(S,j,N,F={}){let W=Pn(b.matches,j);hr(S),ae({errors:{[W.route.id]:N},fetchers:new Map(b.fetchers)},{flushSync:(F&&F.flushSync)===!0})}function wt(S){return oe.set(S,(oe.get(S)||0)+1),B.has(S)&&B.delete(S),b.fetchers.get(S)||Ly}function hr(S){let j=b.fetchers.get(S);ue.has(S)&&!(j&&j.state==="loading"&&T.has(S))&&Dt(S),G.delete(S),T.delete(S),z.delete(S),B.delete(S),ge.delete(S),b.fetchers.delete(S)}function Jr(S){let j=(oe.get(S)||0)-1;j<=0?(oe.delete(S),B.add(S)):oe.set(S,j),ae({fetchers:new Map(b.fetchers)})}function Dt(S){let j=ue.get(S);j&&(j.abort(),ue.delete(S))}function aa(S){for(let j of S){let N=wt(j),F=Sn(N.data);b.fetchers.set(j,F)}}function Zr(){let S=[],j=!1;for(let N of z){let F=b.fetchers.get(N);fe(F,`Expected fetcher: ${N}`),F.state==="loading"&&(z.delete(N),S.push(N),j=!0)}return aa(S),j}function Nu(S){let j=[];for(let[N,F]of T)if(F<S){let W=b.fetchers.get(N);fe(W,`Expected fetcher: ${N}`),W.state==="loading"&&(Dt(N),T.delete(N),j.push(N))}return aa(j),j.length>0}function wh(S,j){let N=b.blockers.get(S)||ci;return U.get(S)!==j&&U.set(S,j),N}function Tu(S){b.blockers.delete(S),U.delete(S)}function oa(S,j){let N=b.blockers.get(S)||ci;fe(N.state==="unblocked"&&j.state==="blocked"||N.state==="blocked"&&j.state==="blocked"||N.state==="blocked"&&j.state==="proceeding"||N.state==="blocked"&&j.state==="unblocked"||N.state==="proceeding"&&j.state==="unblocked",`Invalid blocker state transition: ${N.state} -> ${j.state}`);let F=new Map(b.blockers);F.set(S,j),ae({blockers:F})}function Lu({currentLocation:S,nextLocation:j,historyAction:N}){if(U.size===0)return;U.size>1&&Oe(!1,"A router only supports one blocker at a time");let F=Array.from(U.entries()),[W,X]=F[F.length-1],J=b.blockers.get(W);if(!(J&&J.state==="proceeding")&&X({currentLocation:S,nextLocation:j,historyAction:N}))return W}function Ko(S){let j=_t(404,{pathname:S}),N=s||o,{matches:F,route:W}=Ia(N);return{notFoundMatches:F,route:W,error:j}}function bh(S,j,N){if(m=S,w=j,x=N||null,!k&&b.navigation===Sl){k=!0;let F=Au(b.location,b.matches);F!=null&&ae({restoreScrollPosition:F})}return()=>{m=null,w=null,x=null}}function zu(S,j){return x&&x(S,j.map(F=>cy(F,b.loaderData)))||S.key}function Sh(S,j){if(m&&w){let N=zu(S,j);m[N]=w()}}function Au(S,j){if(m){let N=zu(S,j),F=m[N];if(typeof F=="number")return F}return null}function la(S,j,N){if(e.patchRoutesOnNavigation)if(S){if(Object.keys(S[0].params).length>0)return{active:!0,matches:Ha(j,N,u,!0)}}else return{active:!0,matches:Ha(j,N,u,!0)||[]};return{active:!1,matches:null}}async function sa(S,j,N,F){if(!e.patchRoutesOnNavigation)return{type:"success",matches:S};let W=S;for(;;){let X=s==null,J=s||o,Q=a;try{await e.patchRoutesOnNavigation({signal:N,path:j,matches:W,fetcherKey:F,patch:(re,Y)=>{N.aborted||Zc(re,Y,J,Q,i,!1)}})}catch(re){return{type:"error",error:re,partialMatches:W}}finally{X&&!N.aborted&&(o=[...o])}if(N.aborted)return{type:"aborted"};let Z=Rn(J,j,u);if(Z)return{type:"success",matches:Z};let ie=Ha(J,j,u,!0);if(!ie||W.length===ie.length&&W.every((re,Y)=>re.route.id===ie[Y].route.id))return{type:"success",matches:null};W=ie}}function kh(S){a={},s=qi(S,i,void 0,a)}function Eh(S,j,N=!1){let F=s==null;Zc(S,j,s||o,a,i,N),F&&(o=[...o],ae({}))}return I={get basename(){return u},get future(){return d},get state(){return b},get routes(){return o},get window(){return t},initialize:P,subscribe:ee,enableScrollRestoration:bh,navigate:ye,fetch:dt,revalidate:Se,createHref:S=>e.history.createHref(S),encodeLocation:S=>e.history.encodeLocation(S),getFetcher:wt,deleteFetcher:Jr,dispose:A,getBlocker:wh,deleteBlocker:Tu,patchRoutes:Eh,_internalFetchControllers:ue,_internalSetRoutes:kh,_internalSetStateDoNotUseOrYouWillBreakYourApp(S){ae(S)}},I}function My(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function vs(e,t,n,r,i,a){let o,s;if(i){o=[];for(let c of t)if(o.push(c),c.route.id===i){s=c;break}}else o=t,s=t[t.length-1];let u=bu(r||".",wu(o),Ot(e.pathname,n)||e.pathname,a==="path");if(r==null&&(u.search=e.search,u.hash=e.hash),(r==null||r===""||r===".")&&s){let c=ku(u.search);if(s.route.index&&!c)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!s.route.index&&c){let d=new URLSearchParams(u.search),f=d.getAll("index");d.delete("index"),f.filter(m=>m).forEach(m=>d.append("index",m));let p=d.toString();u.search=p?`?${p}`:""}}return n!=="/"&&(u.pathname=ky({basename:n,pathname:u.pathname})),Bn(u)}function Xc(e,t,n){if(!n||!My(n))return{path:t};if(n.formMethod&&!ex(n.formMethod))return{path:t,error:_t(405,{method:n.formMethod})};let r=()=>({path:t,error:_t(400,{type:"invalid-body"})}),a=(n.formMethod||"get").toUpperCase(),o=Jp(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!pt(a))return r();let f=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((p,[m,x])=>`${p}${m}=${x}
`,""):String(n.body);return{path:t,submission:{formMethod:a,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:f}}}else if(n.formEncType==="application/json"){if(!pt(a))return r();try{let f=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:a,formAction:o,formEncType:n.formEncType,formData:void 0,json:f,text:void 0}}}catch{return r()}}}fe(typeof FormData=="function","FormData is not available in this environment");let s,u;if(n.formData)s=Ss(n.formData),u=n.formData;else if(n.body instanceof FormData)s=Ss(n.body),u=n.body;else if(n.body instanceof URLSearchParams)s=n.body,u=id(s);else if(n.body==null)s=new URLSearchParams,u=new FormData;else try{s=new URLSearchParams(n.body),u=id(s)}catch{return r()}let c={formMethod:a,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(pt(c.formMethod))return{path:t,submission:c};let d=xn(t);return e&&d.search&&ku(d.search)&&s.append("index",""),d.search=`?${s}`,{path:Bn(d),submission:c}}function Jc(e,t,n,r,i,a,o,s,u,c,d,f,p,m,x,w,k,g,h,y){var q;let C=y?kt(y[1])?y[1].error:y[1].data:void 0,I=i.createURL(a.location),b=i.createURL(u),E;if(d&&a.errors){let le=Object.keys(a.errors)[0];E=o.findIndex(ge=>ge.route.id===le)}else if(y&&kt(y[1])){let le=y[0];E=o.findIndex(ge=>ge.route.id===le)-1}let D=y?y[1].statusCode:void 0,_=D&&D>=400,R={currentUrl:I,currentParams:((q=a.matches[0])==null?void 0:q.params)||{},nextUrl:b,nextParams:o[0].params,...s,actionResult:C,actionStatus:D},L=o.map((le,ge)=>{let{route:ue}=le,he=null;if(E!=null&&ge>E?he=!1:ue.lazy?he=!0:ue.loader==null?he=!1:d?he=ws(ue,a.loaderData,a.errors):Oy(a.loaderData,a.matches[ge],le)&&(he=!0),he!==null)return bs(n,r,e,le,c,t,he);let $=_?!1:f||I.pathname+I.search===b.pathname+b.search||I.search!==b.search||$y(a.matches[ge],le),T={...R,defaultShouldRevalidate:$},z=ko(le,T);return bs(n,r,e,le,c,t,z,T)}),te=[];return x.forEach((le,ge)=>{if(d||!o.some(B=>B.route.id===le.routeId)||m.has(ge))return;let ue=a.fetchers.get(ge),he=ue&&ue.state!=="idle"&&ue.data===void 0,$=Rn(k,le.path,g);if(!$){if(h&&he)return;te.push({key:ge,routeId:le.routeId,path:le.path,matches:null,match:null,request:null,controller:null});return}if(w.has(ge))return;let T=Ka($,le.path),z=new AbortController,G=vr(i,le.path,z.signal),oe=null;if(p.has(ge))p.delete(ge),oe=Mr(n,r,G,$,T,c,t);else if(he)f&&(oe=Mr(n,r,G,$,T,c,t));else{let B={...R,defaultShouldRevalidate:_?!1:f};ko(T,B)&&(oe=Mr(n,r,G,$,T,c,t,B))}oe&&te.push({key:ge,routeId:le.routeId,path:le.path,matches:oe,match:T,request:G,controller:z})}),{dsMatches:L,revalidatingFetchers:te}}function ws(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=t!=null&&e.id in t,i=n!=null&&n[e.id]!==void 0;return!r&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!i}function Oy(e,t,n){let r=!t||n.route.id!==t.route.id,i=!e.hasOwnProperty(n.route.id);return r||i}function $y(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function ko(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function Zc(e,t,n,r,i,a){let o;if(e){let c=r[e];fe(c,`No route found to patch children into: routeId = ${e}`),c.children||(c.children=[]),o=c.children}else o=n;let s=[],u=[];if(t.forEach(c=>{let d=o.find(f=>qp(c,f));d?u.push({existingRoute:d,newRoute:c}):s.push(c)}),s.length>0){let c=qi(s,i,[e||"_","patch",String((o==null?void 0:o.length)||"0")],r);o.push(...c)}if(a&&u.length>0)for(let c=0;c<u.length;c++){let{existingRoute:d,newRoute:f}=u[c],p=d,[m]=qi([f],i,[],{},!0);Object.assign(p,{element:m.element?m.element:p.element,errorElement:m.errorElement?m.errorElement:p.errorElement,hydrateFallbackElement:m.hydrateFallbackElement?m.hydrateFallbackElement:p.hydrateFallbackElement})}}function qp(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>{var i;return(i=t.children)==null?void 0:i.some(a=>qp(n,a))}):!1}var ed=new WeakMap,Qp=({key:e,route:t,manifest:n,mapRouteProperties:r})=>{let i=n[t.id];if(fe(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let a=i.lazy[e];if(!a)return;let o=ed.get(i);o||(o={},ed.set(i,o));let s=o[e];if(s)return s;let u=(async()=>{let c=oy(e),f=i[e]!==void 0&&e!=="hasErrorBoundary";if(c)Oe(!c,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),o[e]=Promise.resolve();else if(f)Oe(!1,`Route "${i.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let p=await a();p!=null&&(Object.assign(i,{[e]:p}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[e]=void 0,Object.values(i.lazy).every(p=>p===void 0)&&(i.lazy=void 0))})();return o[e]=u,u},td=new WeakMap;function By(e,t,n,r,i){let a=n[e.id];if(fe(a,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let d=td.get(a);if(d)return{lazyRoutePromise:d,lazyHandlerPromise:d};let f=(async()=>{fe(typeof e.lazy=="function","No lazy route function found");let p=await e.lazy(),m={};for(let x in p){let w=p[x];if(w===void 0)continue;let k=sy(x),h=a[x]!==void 0&&x!=="hasErrorBoundary";k?Oe(!k,"Route property "+x+" is not a supported property to be returned from a lazy route function. This property will be ignored."):h?Oe(!h,`Route "${a.id}" has a static property "${x}" defined but its lazy function is also returning a value for this property. The lazy route property "${x}" will be ignored.`):m[x]=w}Object.assign(a,m),Object.assign(a,{...r(a),lazy:void 0})})();return td.set(a,f),f.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:f}}let o=Object.keys(e.lazy),s=[],u;for(let d of o){if(i&&i.includes(d))continue;let f=Qp({key:d,route:e,manifest:n,mapRouteProperties:r});f&&(s.push(f),d===t&&(u=f))}let c=s.length>0?Promise.all(s).then(()=>{}):void 0;return c==null||c.catch(()=>{}),u==null||u.catch(()=>{}),{lazyRoutePromise:c,lazyHandlerPromise:u}}async function nd(e){let t=e.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(t.map(i=>i.resolve()))).forEach((i,a)=>{n[t[a].route.id]=i}),n}async function Uy(e){return e.matches.some(t=>t.route.unstable_middleware)?Gp(e,()=>nd(e)):nd(e)}function Gp(e,t){return Wy(e,t,r=>r,Xy,n);function n(r,i,a){if(a)return Promise.resolve(Object.assign(a.value,{[i]:{type:"error",result:r}}));{let{matches:o}=e,s=Math.min(o.findIndex(c=>c.route.id===i)||0,o.findIndex(c=>c.unstable_shouldCallHandler())||0),u=Pn(o,o[s].route.id).route.id;return Promise.resolve({[u]:{type:"error",result:r}})}}}async function Wy(e,t,n,r,i){let{matches:a,request:o,params:s,context:u}=e,c=a.flatMap(f=>f.route.unstable_middleware?f.route.unstable_middleware.map(p=>[f.route.id,p]):[]);return await Yp({request:o,params:s,context:u},c,t,n,r,i)}async function Yp(e,t,n,r,i,a,o=0){let{request:s}=e;if(s.signal.aborted)throw s.signal.reason??new Error(`Request aborted: ${s.method} ${s.url}`);let u=t[o];if(!u)return await n();let[c,d]=u,f,p=async()=>{if(f)throw new Error("You may only call `next()` once per middleware");try{return f={value:await Yp(e,t,n,r,i,a,o+1)},f.value}catch(m){return f={value:await a(m,c,f)},f.value}};try{let m=await d(e,p),x=m!=null?r(m):void 0;return i(x)?x:f?x??f.value:(f={value:await p()},f.value)}catch(m){return await a(m,c,f)}}function Xp(e,t,n,r,i){let a=Qp({key:"unstable_middleware",route:r.route,manifest:t,mapRouteProperties:e}),o=By(r.route,pt(n.method)?"action":"loader",t,e,i);return{middleware:a,route:o.lazyRoutePromise,handler:o.lazyHandlerPromise}}function bs(e,t,n,r,i,a,o,s=null){let u=!1,c=Xp(e,t,n,r,i);return{...r,_lazyPromises:c,shouldLoad:o,unstable_shouldRevalidateArgs:s,unstable_shouldCallHandler(d){return u=!0,s?typeof d=="boolean"?ko(r,{...s,defaultShouldRevalidate:d}):ko(r,s):o},resolve(d){return u||o||d&&!pt(n.method)&&(r.route.lazy||r.route.loader)?Hy({request:n,match:r,lazyHandlerPromise:c==null?void 0:c.handler,lazyRoutePromise:c==null?void 0:c.route,handlerOverride:d,scopedContext:a}):Promise.resolve({type:"data",result:void 0})}}}function Mr(e,t,n,r,i,a,o,s=null){return r.map(u=>u.route.id!==i.route.id?{...u,shouldLoad:!1,unstable_shouldRevalidateArgs:s,unstable_shouldCallHandler:()=>!1,_lazyPromises:Xp(e,t,n,u,a),resolve:()=>Promise.resolve({type:"data",result:void 0})}:bs(e,t,n,u,a,o,!0,s))}async function Vy(e,t,n,r,i,a){n.some(c=>{var d;return(d=c._lazyPromises)==null?void 0:d.middleware})&&await Promise.all(n.map(c=>{var d;return(d=c._lazyPromises)==null?void 0:d.middleware}));let o={request:t,params:n[0].params,context:i,matches:n},u=await e({...o,fetcherKey:r,unstable_runClientMiddleware:c=>{let d=o;return Gp(d,()=>c({...d,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(c=>{var d,f;return[(d=c._lazyPromises)==null?void 0:d.handler,(f=c._lazyPromises)==null?void 0:f.route]}))}catch{}return u}async function Hy({request:e,match:t,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:a}){let o,s,u=pt(e.method),c=u?"action":"loader",d=f=>{let p,m=new Promise((k,g)=>p=g);s=()=>p(),e.signal.addEventListener("abort",s);let x=k=>typeof f!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${c}" [routeId: ${t.route.id}]`)):f({request:e,params:t.params,context:a},...k!==void 0?[k]:[]),w=(async()=>{try{return{type:"data",result:await(i?i(g=>x(g)):x())}}catch(k){return{type:"error",result:k}}})();return Promise.race([w,m])};try{let f=u?t.route.action:t.route.loader;if(n||r)if(f){let p,[m]=await Promise.all([d(f).catch(x=>{p=x}),n,r]);if(p!==void 0)throw p;o=m}else{await n;let p=u?t.route.action:t.route.loader;if(p)[o]=await Promise.all([d(p),r]);else if(c==="action"){let m=new URL(e.url),x=m.pathname+m.search;throw _t(405,{method:e.method,pathname:x,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(f)o=await d(f);else{let p=new URL(e.url),m=p.pathname+p.search;throw _t(404,{pathname:m})}}catch(f){return{type:"error",result:f}}finally{s&&e.signal.removeEventListener("abort",s)}return o}async function Ky(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function qy(e){var r,i,a,o,s,u;let{result:t,type:n}=e;if(Zp(t)){let c;try{c=await Ky(t)}catch(d){return{type:"error",error:d}}return n==="error"?{type:"error",error:new So(t.status,t.statusText,c),statusCode:t.status,headers:t.headers}:{type:"data",data:c,statusCode:t.status,headers:t.headers}}return n==="error"?sd(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(r=t.init)==null?void 0:r.status,headers:(i=t.init)!=null&&i.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new So(((a=t.init)==null?void 0:a.status)||500,void 0,t.data),statusCode:Qi(t)?t.status:void 0,headers:(o=t.init)!=null&&o.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Qi(t)?t.status:void 0}:sd(t)?{type:"data",data:t.data,statusCode:(s=t.init)==null?void 0:s.status,headers:(u=t.init)!=null&&u.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function Qy(e,t,n,r,i){let a=e.headers.get("Location");if(fe(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!Su(a)){let o=r.slice(0,r.findIndex(s=>s.route.id===n)+1);a=vs(new URL(t.url),o,i,a),e.headers.set("Location",a)}return e}function rd(e,t,n){if(Su(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),a=Ot(i.pathname,n)!=null;if(i.origin===t.origin&&a)return i.pathname+i.search+i.hash}return e}function vr(e,t,n,r){let i=e.createURL(Jp(t)).toString(),a={signal:n};if(r&&pt(r.formMethod)){let{formMethod:o,formEncType:s}=r;a.method=o.toUpperCase(),s==="application/json"?(a.headers=new Headers({"Content-Type":s}),a.body=JSON.stringify(r.json)):s==="text/plain"?a.body=r.text:s==="application/x-www-form-urlencoded"&&r.formData?a.body=Ss(r.formData):a.body=r.formData}return new Request(i,a)}function Ss(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function id(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function Gy(e,t,n,r=!1,i=!1){let a={},o=null,s,u=!1,c={},d=n&&kt(n[1])?n[1].error:void 0;return e.forEach(f=>{if(!(f.route.id in t))return;let p=f.route.id,m=t[p];if(fe(!rr(m),"Cannot handle redirect results in processLoaderData"),kt(m)){let x=m.error;if(d!==void 0&&(x=d,d=void 0),o=o||{},i)o[p]=x;else{let w=Pn(e,p);o[w.route.id]==null&&(o[w.route.id]=x)}r||(a[p]=Kp),u||(u=!0,s=Qi(m.error)?m.error.status:500),m.headers&&(c[p]=m.headers)}else a[p]=m.data,m.statusCode&&m.statusCode!==200&&!u&&(s=m.statusCode),m.headers&&(c[p]=m.headers)}),d!==void 0&&n&&(o={[n[0]]:d},n[2]&&(a[n[2]]=void 0)),{loaderData:a,errors:o,statusCode:s||200,loaderHeaders:c}}function ad(e,t,n,r,i,a){let{loaderData:o,errors:s}=Gy(t,n,r);return i.filter(u=>!u.matches||u.matches.some(c=>c.shouldLoad)).forEach(u=>{let{key:c,match:d,controller:f}=u;if(f&&f.signal.aborted)return;let p=a[c];if(fe(p,"Did not find corresponding fetcher result"),kt(p)){let m=Pn(e.matches,d==null?void 0:d.route.id);s&&s[m.route.id]||(s={...s,[m.route.id]:p.error}),e.fetchers.delete(c)}else if(rr(p))fe(!1,"Unhandled fetcher revalidation redirect");else{let m=Sn(p.data);e.fetchers.set(c,m)}}),{loaderData:o,errors:s}}function od(e,t,n,r){let i=Object.entries(t).filter(([,a])=>a!==Kp).reduce((a,[o,s])=>(a[o]=s,a),{});for(let a of n){let o=a.route.id;if(!t.hasOwnProperty(o)&&e.hasOwnProperty(o)&&a.route.loader&&(i[o]=e[o]),r&&r.hasOwnProperty(o))break}return i}function ld(e){return e?kt(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Pn(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function Ia(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function _t(e,{pathname:t,routeId:n,method:r,type:i,message:a}={}){let o="Unknown Server Error",s="Unknown @remix-run/router error";return e===400?(o="Bad Request",r&&t&&n?s=`You made a ${r} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(s="Unable to encode submission body")):e===403?(o="Forbidden",s=`Route "${n}" does not match URL "${t}"`):e===404?(o="Not Found",s=`No route matches URL "${t}"`):e===405&&(o="Method Not Allowed",r&&t&&n?s=`You made a ${r.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(s=`Invalid request method "${r.toUpperCase()}"`)),new So(e||500,o,new Error(s),!0)}function Da(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,i]=t[n];if(rr(i))return{key:r,result:i}}}function Jp(e){let t=typeof e=="string"?xn(e):e;return Bn({...t,hash:""})}function Yy(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Xy(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,n])=>typeof t=="string"&&Jy(n))}function Jy(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function Zy(e){return Zp(e.result)&&Ny.has(e.result.status)}function kt(e){return e.type==="error"}function rr(e){return(e&&e.type)==="redirect"}function sd(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function Zp(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function ex(e){return _y.has(e.toUpperCase())}function pt(e){return Iy.has(e.toUpperCase())}function ku(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Ka(e,t){let n=typeof t=="string"?xn(t).search:t.search;if(e[e.length-1].route.index&&ku(n||""))return e[e.length-1];let r=Wp(e);return r[r.length-1]}function ud(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:a,json:o}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(a!=null)return{formMethod:t,formAction:n,formEncType:r,formData:a,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function kl(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function tx(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function di(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function nx(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Sn(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function rx(e,t){try{let n=e.sessionStorage.getItem(Hp);if(n){let r=JSON.parse(n);for(let[i,a]of Object.entries(r||{}))a&&Array.isArray(a)&&t.set(i,new Set(a||[]))}}catch{}}function ix(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(Hp,JSON.stringify(n))}catch(r){Oe(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function ax(){let e,t,n=new Promise((r,i)=>{e=async a=>{r(a);try{await n}catch{}},t=async a=>{i(a);try{await n}catch{}}});return{promise:n,resolve:e,reject:t}}var pr=v.createContext(null);pr.displayName="DataRouter";var ta=v.createContext(null);ta.displayName="DataRouterState";v.createContext(!1);var Eu=v.createContext({isTransitioning:!1});Eu.displayName="ViewTransition";var eh=v.createContext(new Map);eh.displayName="Fetchers";var ox=v.createContext(null);ox.displayName="Await";var an=v.createContext(null);an.displayName="Navigation";var Bo=v.createContext(null);Bo.displayName="Location";var on=v.createContext({outlet:null,matches:[],isDataRoute:!1});on.displayName="Route";var Cu=v.createContext(null);Cu.displayName="RouteError";function lx(e,{relative:t}={}){fe(na(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=v.useContext(an),{hash:i,pathname:a,search:o}=ra(e,{relative:t}),s=a;return n!=="/"&&(s=a==="/"?n:rn([n,a])),r.createHref({pathname:s,search:o,hash:i})}function na(){return v.useContext(Bo)!=null}function Hn(){return fe(na(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Bo).location}var th="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nh(e){v.useContext(an).static||v.useLayoutEffect(e)}function sx(){let{isDataRoute:e}=v.useContext(on);return e?kx():ux()}function ux(){fe(na(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(pr),{basename:t,navigator:n}=v.useContext(an),{matches:r}=v.useContext(on),{pathname:i}=Hn(),a=JSON.stringify(wu(r)),o=v.useRef(!1);return nh(()=>{o.current=!0}),v.useCallback((u,c={})=>{if(Oe(o.current,th),!o.current)return;if(typeof u=="number"){n.go(u);return}let d=bu(u,JSON.parse(a),i,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:rn([t,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[t,n,a,i,e])}var cx=v.createContext(null);function dx(e){let t=v.useContext(on).outlet;return t&&v.createElement(cx.Provider,{value:e},t)}function ra(e,{relative:t}={}){let{matches:n}=v.useContext(on),{pathname:r}=Hn(),i=JSON.stringify(wu(n));return v.useMemo(()=>bu(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function fx(e,t,n,r,i){fe(na(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=v.useContext(an),{matches:o}=v.useContext(on),s=o[o.length-1],u=s?s.params:{},c=s?s.pathname:"/",d=s?s.pathnameBase:"/",f=s&&s.route;{let h=f&&f.path||"";rh(c,!f||h.endsWith("*")||h.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${h}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${h}"> to <Route path="${h==="/"?"*":`${h}/*`}">.`)}let p=Hn(),m;m=p;let x=m.pathname||"/",w=x;if(d!=="/"){let h=d.replace(/^\//,"").split("/");w="/"+x.replace(/^\//,"").split("/").slice(h.length).join("/")}let k=Rn(e,{pathname:w});return Oe(f||k!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Oe(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),yx(k&&k.map(h=>Object.assign({},h,{params:Object.assign({},u,h.params),pathname:rn([d,a.encodeLocation?a.encodeLocation(h.pathname).pathname:h.pathname]),pathnameBase:h.pathnameBase==="/"?d:rn([d,a.encodeLocation?a.encodeLocation(h.pathnameBase).pathname:h.pathnameBase])})),o,n,r,i)}function px(){let e=Sx(),t=Qi(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=v.createElement(v.Fragment,null,v.createElement("p",null,"💿 Hey developer 👋"),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:a},"ErrorBoundary")," or"," ",v.createElement("code",{style:a},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:i},n):null,o)}var hx=v.createElement(px,null),mx=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?v.createElement(on.Provider,{value:this.props.routeContext},v.createElement(Cu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function gx({routeContext:e,match:t,children:n}){let r=v.useContext(pr);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(on.Provider,{value:e},n)}function yx(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n==null?void 0:n.errors;if(o!=null){let c=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);fe(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let s=!1,u=-1;if(n)for(let c=0;c<a.length;c++){let d=a[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:f,errors:p}=n,m=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){s=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,d,f)=>{let p,m=!1,x=null,w=null;n&&(p=o&&d.route.id?o[d.route.id]:void 0,x=d.route.errorElement||hx,s&&(u<0&&f===0?(rh("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,w=null):u===f&&(m=!0,w=d.route.hydrateFallbackElement||null)));let k=t.concat(a.slice(0,f+1)),g=()=>{let h;return p?h=x:m?h=w:d.route.Component?h=v.createElement(d.route.Component,null):d.route.element?h=d.route.element:h=c,v.createElement(gx,{match:d,routeContext:{outlet:c,matches:k,isDataRoute:n!=null},children:h})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?v.createElement(mx,{location:n.location,revalidation:n.revalidation,component:x,error:p,children:g(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:r}):g()},null)}function ju(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xx(e){let t=v.useContext(pr);return fe(t,ju(e)),t}function vx(e){let t=v.useContext(ta);return fe(t,ju(e)),t}function wx(e){let t=v.useContext(on);return fe(t,ju(e)),t}function Ru(e){let t=wx(e),n=t.matches[t.matches.length-1];return fe(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function bx(){return Ru("useRouteId")}function Sx(){var r;let e=v.useContext(Cu),t=vx("useRouteError"),n=Ru("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function kx(){let{router:e}=xx("useNavigate"),t=Ru("useNavigate"),n=v.useRef(!1);return nh(()=>{n.current=!0}),v.useCallback(async(i,a={})=>{Oe(n.current,th),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var cd={};function rh(e,t,n){!t&&!cd[e]&&(cd[e]=!0,Oe(!1,n))}var dd={};function fd(e,t){!e&&!dd[t]&&(dd[t]=!0,console.warn(t))}function Ex(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Oe(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:v.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Oe(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:v.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Oe(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:v.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var Cx=["HydrateFallback","hydrateFallbackElement"],jx=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",t(n))}})}};function Rx({router:e,flushSync:t,unstable_onError:n}){let[r,i]=v.useState(e.state),[a,o]=v.useState(),[s,u]=v.useState({isTransitioning:!1}),[c,d]=v.useState(),[f,p]=v.useState(),[m,x]=v.useState(),w=v.useRef(new Map),k=v.useCallback(I=>{i(b=>(I.errors&&n&&Object.entries(I.errors).forEach(([E,D])=>{var _;((_=b.errors)==null?void 0:_[E])!==D&&n(D)}),I))},[n]),g=v.useCallback((I,{deletedFetchers:b,flushSync:E,viewTransitionOpts:D})=>{I.fetchers.forEach((R,L)=>{R.data!==void 0&&w.current.set(L,R.data)}),b.forEach(R=>w.current.delete(R)),fd(E===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let _=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(fd(D==null||_,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!D||!_){t&&E?t(()=>k(I)):v.startTransition(()=>k(I));return}if(t&&E){t(()=>{f&&(c&&c.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:D.currentLocation,nextLocation:D.nextLocation})});let R=e.window.document.startViewTransition(()=>{t(()=>k(I))});R.finished.finally(()=>{t(()=>{d(void 0),p(void 0),o(void 0),u({isTransitioning:!1})})}),t(()=>p(R));return}f?(c&&c.resolve(),f.skipTransition(),x({state:I,currentLocation:D.currentLocation,nextLocation:D.nextLocation})):(o(I),u({isTransitioning:!0,flushSync:!1,currentLocation:D.currentLocation,nextLocation:D.nextLocation}))},[e.window,t,f,c,k]);v.useLayoutEffect(()=>e.subscribe(g),[e,g]),v.useEffect(()=>{s.isTransitioning&&!s.flushSync&&d(new jx)},[s]),v.useEffect(()=>{if(c&&a&&e.window){let I=a,b=c.promise,E=e.window.document.startViewTransition(async()=>{v.startTransition(()=>k(I)),await b});E.finished.finally(()=>{d(void 0),p(void 0),o(void 0),u({isTransitioning:!1})}),p(E)}},[a,c,e.window,k]),v.useEffect(()=>{c&&a&&r.location.key===a.location.key&&c.resolve()},[c,f,r.location,a]),v.useEffect(()=>{!s.isTransitioning&&m&&(o(m.state),u({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),x(void 0))},[s.isTransitioning,m]);let h=v.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:I=>e.navigate(I),push:(I,b,E)=>e.navigate(I,{state:b,preventScrollReset:E==null?void 0:E.preventScrollReset}),replace:(I,b,E)=>e.navigate(I,{replace:!0,state:b,preventScrollReset:E==null?void 0:E.preventScrollReset})}),[e]),y=e.basename||"/",C=v.useMemo(()=>({router:e,navigator:h,static:!1,basename:y,unstable_onError:n}),[e,h,y,n]);return v.createElement(v.Fragment,null,v.createElement(pr.Provider,{value:C},v.createElement(ta.Provider,{value:r},v.createElement(eh.Provider,{value:w.current},v.createElement(Eu.Provider,{value:s},v.createElement(_x,{basename:y,location:r.location,navigationType:r.historyAction,navigator:h},v.createElement(Px,{routes:e.routes,future:e.future,state:r,unstable_onError:n})))))),null)}var Px=v.memo(Ix);function Ix({routes:e,future:t,state:n,unstable_onError:r}){return fx(e,void 0,n,r,t)}function Dx(e){return dx(e.context)}function _x({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){fe(!na(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),s=v.useMemo(()=>({basename:o,navigator:i,static:a,future:{}}),[o,i,a]);typeof n=="string"&&(n=xn(n));let{pathname:u="/",search:c="",hash:d="",state:f=null,key:p="default"}=n,m=v.useMemo(()=>{let x=Ot(u,o);return x==null?null:{location:{pathname:x,search:c,hash:d,state:f,key:p},navigationType:r}},[o,u,c,d,f,p,r]);return Oe(m!=null,`<Router basename="${o}"> is not able to match the URL "${u}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:v.createElement(an.Provider,{value:s},v.createElement(Bo.Provider,{children:t,value:m}))}var qa="get",Qa="application/x-www-form-urlencoded";function Uo(e){return e!=null&&typeof e.tagName=="string"}function Nx(e){return Uo(e)&&e.tagName.toLowerCase()==="button"}function Tx(e){return Uo(e)&&e.tagName.toLowerCase()==="form"}function Lx(e){return Uo(e)&&e.tagName.toLowerCase()==="input"}function zx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Ax(e,t){return e.button===0&&(!t||t==="_self")&&!zx(e)}var _a=null;function Fx(){if(_a===null)try{new FormData(document.createElement("form"),0),_a=!1}catch{_a=!0}return _a}var Mx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function El(e){return e!=null&&!Mx.has(e)?(Oe(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qa}"`),null):e}function Ox(e,t){let n,r,i,a,o;if(Tx(e)){let s=e.getAttribute("action");r=s?Ot(s,t):null,n=e.getAttribute("method")||qa,i=El(e.getAttribute("enctype"))||Qa,a=new FormData(e)}else if(Nx(e)||Lx(e)&&(e.type==="submit"||e.type==="image")){let s=e.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||s.getAttribute("action");if(r=u?Ot(u,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||qa,i=El(e.getAttribute("formenctype"))||El(s.getAttribute("enctype"))||Qa,a=new FormData(s,e),!Fx()){let{name:c,type:d,value:f}=e;if(d==="image"){let p=c?`${c}.`:"";a.append(`${p}x`,"0"),a.append(`${p}y`,"0")}else c&&a.append(c,f)}}else{if(Uo(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=qa,r=null,i=Qa,o=e}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Pu(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $x(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Ot(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Bx(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ux(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Wx(e,t,n){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let o=await Bx(a,n);return o.links?o.links():[]}return[]}));return qx(r.flat(1).filter(Ux).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function pd(e,t,n,r,i,a){let o=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,s=(u,c)=>{var d;return n[c].pathname!==u.pathname||((d=n[c].route.path)==null?void 0:d.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return a==="assets"?t.filter((u,c)=>o(u,c)||s(u,c)):a==="data"?t.filter((u,c)=>{var f;let d=r.routes[u.route.id];if(!d||!d.hasLoader)return!1;if(o(u,c)||s(u,c))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function Vx(e,t,{includeHydrateFallback:n}={}){return Hx(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function Hx(e){return[...new Set(e)]}function Kx(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function qx(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let a=JSON.stringify(Kx(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function ih(){let e=v.useContext(pr);return Pu(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Qx(){let e=v.useContext(ta);return Pu(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Iu=v.createContext(void 0);Iu.displayName="FrameworkContext";function ah(){let e=v.useContext(Iu);return Pu(e,"You must render this element inside a <HydratedRouter> element"),e}function Gx(e,t){let n=v.useContext(Iu),[r,i]=v.useState(!1),[a,o]=v.useState(!1),{onFocus:s,onBlur:u,onMouseEnter:c,onMouseLeave:d,onTouchStart:f}=t,p=v.useRef(null);v.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let w=g=>{g.forEach(h=>{o(h.isIntersecting)})},k=new IntersectionObserver(w,{threshold:.5});return p.current&&k.observe(p.current),()=>{k.disconnect()}}},[e]),v.useEffect(()=>{if(r){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[r]);let m=()=>{i(!0)},x=()=>{i(!1),o(!1)};return n?e!=="intent"?[a,p,{}]:[a,p,{onFocus:fi(s,m),onBlur:fi(u,x),onMouseEnter:fi(c,m),onMouseLeave:fi(d,x),onTouchStart:fi(f,m)}]:[!1,p,{}]}function fi(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Yx({page:e,...t}){let{router:n}=ih(),r=v.useMemo(()=>Rn(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?v.createElement(Jx,{page:e,matches:r,...t}):null}function Xx(e){let{manifest:t,routeModules:n}=ah(),[r,i]=v.useState([]);return v.useEffect(()=>{let a=!1;return Wx(e,t,n).then(o=>{a||i(o)}),()=>{a=!0}},[e,t,n]),r}function Jx({page:e,matches:t,...n}){let r=Hn(),{manifest:i,routeModules:a}=ah(),{basename:o}=ih(),{loaderData:s,matches:u}=Qx(),c=v.useMemo(()=>pd(e,t,u,i,r,"data"),[e,t,u,i,r]),d=v.useMemo(()=>pd(e,t,u,i,r,"assets"),[e,t,u,i,r]),f=v.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let x=new Set,w=!1;if(t.forEach(g=>{var y;let h=i.routes[g.route.id];!h||!h.hasLoader||(!c.some(C=>C.route.id===g.route.id)&&g.route.id in s&&((y=a[g.route.id])!=null&&y.shouldRevalidate)||h.hasClientLoader?w=!0:x.add(g.route.id))}),x.size===0)return[];let k=$x(e,o,"data");return w&&x.size>0&&k.searchParams.set("_routes",t.filter(g=>x.has(g.route.id)).map(g=>g.route.id).join(",")),[k.pathname+k.search]},[o,s,r,i,c,t,e,a]),p=v.useMemo(()=>Vx(d,i),[d,i]),m=Xx(d);return v.createElement(v.Fragment,null,f.map(x=>v.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),p.map(x=>v.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),m.map(({key:x,link:w})=>v.createElement("link",{key:x,nonce:n.nonce,...w})))}function Zx(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var oh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oh&&(window.__reactRouterVersion="7.8.2")}catch{}function ev(e,t){return Fy({basename:t==null?void 0:t.basename,unstable_getContext:t==null?void 0:t.unstable_getContext,future:t==null?void 0:t.future,history:ny({window:t==null?void 0:t.window}),hydrationData:tv(),routes:e,mapRouteProperties:Ex,hydrationRouteProperties:Cx,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function tv(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:nv(e.errors)}),e}function nv(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new So(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let a=window[i.__subType];if(typeof a=="function")try{let o=new a(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let a=new Error(i.message);a.stack="",n[r]=a}}else n[r]=i;return n}var lh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sh=v.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,state:s,target:u,to:c,preventScrollReset:d,viewTransition:f,...p},m){let{basename:x}=v.useContext(an),w=typeof c=="string"&&lh.test(c),k,g=!1;if(typeof c=="string"&&w&&(k=c,oh))try{let _=new URL(window.location.href),R=c.startsWith("//")?new URL(_.protocol+c):new URL(c),L=Ot(R.pathname,x);R.origin===_.origin&&L!=null?c=L+R.search+R.hash:g=!0}catch{Oe(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let h=lx(c,{relative:i}),[y,C,I]=Gx(r,p),b=av(c,{replace:o,state:s,target:u,preventScrollReset:d,relative:i,viewTransition:f});function E(_){t&&t(_),_.defaultPrevented||b(_)}let D=v.createElement("a",{...p,...I,href:k||h,onClick:g||a?t:E,ref:Zx(m,C),target:u,"data-discover":!w&&n==="render"?"true":void 0});return y&&!w?v.createElement(v.Fragment,null,D,v.createElement(Yx,{page:h})):D});sh.displayName="Link";var uh=v.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:s,children:u,...c},d){let f=ra(o,{relative:c.relative}),p=Hn(),m=v.useContext(ta),{navigator:x,basename:w}=v.useContext(an),k=m!=null&&cv(f)&&s===!0,g=x.encodeLocation?x.encodeLocation(f).pathname:f.pathname,h=p.pathname,y=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(h=h.toLowerCase(),y=y?y.toLowerCase():null,g=g.toLowerCase()),y&&w&&(y=Ot(y,w)||y);const C=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let I=h===g||!i&&h.startsWith(g)&&h.charAt(C)==="/",b=y!=null&&(y===g||!i&&y.startsWith(g)&&y.charAt(g.length)==="/"),E={isActive:I,isPending:b,isTransitioning:k},D=I?t:void 0,_;typeof r=="function"?_=r(E):_=[r,I?"active":null,b?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let R=typeof a=="function"?a(E):a;return v.createElement(sh,{...c,"aria-current":D,className:_,ref:d,style:R,to:o,viewTransition:s},typeof u=="function"?u(E):u)});uh.displayName="NavLink";var rv=v.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:o=qa,action:s,onSubmit:u,relative:c,preventScrollReset:d,viewTransition:f,...p},m)=>{let x=sv(),w=uv(s,{relative:c}),k=o.toLowerCase()==="get"?"get":"post",g=typeof s=="string"&&lh.test(s),h=y=>{if(u&&u(y),y.defaultPrevented)return;y.preventDefault();let C=y.nativeEvent.submitter,I=(C==null?void 0:C.getAttribute("formmethod"))||o;x(C||y.currentTarget,{fetcherKey:t,method:I,navigate:n,replace:i,state:a,relative:c,preventScrollReset:d,viewTransition:f})};return v.createElement("form",{ref:m,method:k,action:w,onSubmit:r?u:h,...p,"data-discover":!g&&e==="render"?"true":void 0})});rv.displayName="Form";function iv(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ch(e){let t=v.useContext(pr);return fe(t,iv(e)),t}function av(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o}={}){let s=sx(),u=Hn(),c=ra(e,{relative:a});return v.useCallback(d=>{if(Ax(d,t)){d.preventDefault();let f=n!==void 0?n:Bn(u)===Bn(c);s(e,{replace:f,state:r,preventScrollReset:i,relative:a,viewTransition:o})}},[u,s,c,n,r,t,e,i,a,o])}var ov=0,lv=()=>`__${String(++ov)}__`;function sv(){let{router:e}=ch("useSubmit"),{basename:t}=v.useContext(an),n=bx();return v.useCallback(async(r,i={})=>{let{action:a,method:o,encType:s,formData:u,body:c}=Ox(r,t);if(i.navigate===!1){let d=i.fetcherKey||lv();await e.fetch(d,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||o,formEncType:i.encType||s,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||o,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function uv(e,{relative:t}={}){let{basename:n}=v.useContext(an),r=v.useContext(on);fe(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...ra(e||".",{relative:t})},o=Hn();if(e==null){a.search=o.search;let s=new URLSearchParams(a.search),u=s.getAll("index");if(u.some(d=>d==="")){s.delete("index"),u.filter(f=>f).forEach(f=>s.append("index",f));let d=s.toString();a.search=d?`?${d}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:rn([n,a.pathname])),Bn(a)}function cv(e,{relative:t}={}){let n=v.useContext(Eu);fe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ch("useViewTransitionState"),i=ra(e,{relative:t});if(!n.isTransitioning)return!1;let a=Ot(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ot(n.nextLocation.pathname,r)||n.nextLocation.pathname;return bo(i.pathname,o)!=null||bo(i.pathname,a)!=null}function dv(e){return v.createElement(Rx,{flushSync:Mp.flushSync,...e})}const fv="modulepreload",pv=function(e,t){return new URL(e,t).href},hd={},Or=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){const o=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),u=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=pv(c,r),c in hd)return;hd[c]=!0;const d=c.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(!!r)for(let x=o.length-1;x>=0;x--){const w=o[x];if(w.href===c&&(!d||w.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${f}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":fv,d||(m.as="script"),m.crossOrigin="",m.href=c,u&&m.setAttribute("nonce",u),document.head.appendChild(m),d)return new Promise((x,w)=>{m.addEventListener("load",x),m.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return t().catch(a)})};class Cl{static async log(t,n="info"){try{const i=`[${new Date().toISOString()}] ${n.toUpperCase()}: ${t}`;console.log(i)}catch(r){console.error("Logging failed:",r)}}static async logError(t,n){const r=t instanceof Error?t.message:t,i=n?`${n}: ${r}`:r;await this.log(i,"error")}}const bt=class bt{static toSQL(t){if(!t||typeof t!="object")return t;const n={};for(const[r,i]of Object.entries(t)){const a=bt.JS_TO_SQL_MAPPINGS[r]||r;n[a]=i}return n}static fromSQL(t){if(!t||typeof t!="object")return t;const n={};for(const[r,i]of Object.entries(t)){const a=bt.SQL_TO_JS_MAPPINGS[r]||r;n[a]=i}return n}static convertQuery(t){let n=t;for(const[r,i]of Object.entries(bt.JS_TO_SQL_MAPPINGS)){const a=new RegExp(`\\b${r}\\b`,"g");n=n.replace(a,i)}return n}static fromSQLArray(t){return Array.isArray(t)?t.map(n=>bt.fromSQL(n)):t}static getMappings(){return{jsToSql:{...bt.JS_TO_SQL_MAPPINGS},sqlToJs:{...bt.SQL_TO_JS_MAPPINGS}}}static hasMapping(t,n){return n==="js-to-sql"?t in bt.JS_TO_SQL_MAPPINGS:t in bt.SQL_TO_JS_MAPPINGS}};$t(bt,"JS_TO_SQL_MAPPINGS",{createdAt:"created_at",updatedAt:"updated_at",companyName:"company_name",contactPerson:"contact_person",addressStreet:"address_street",addressCity:"address_city",addressZip:"address_zip",addressCountry:"address_country",taxNumber:"tax_number",customerId:"customer_id",offerId:"offer_id",totalAmount:"total_amount",taxRate:"tax_rate",validUntil:"valid_until",dueDate:"due_date",paidAt:"paid_at",lastNumber:"last_number"}),$t(bt,"SQL_TO_JS_MAPPINGS",Object.fromEntries(Object.entries(bt.JS_TO_SQL_MAPPINGS).map(([t,n])=>[n,t])));let qr=bt;const Ke=qr.toSQL,Ut=qr.fromSQL,xi=qr.fromSQLArray,ft=qr.convertQuery,Jn=class Jn{constructor(){var t,n;if(!((n=(t=window.rawalite)==null?void 0:t.db)!=null&&n.query))throw new Error("Database API not available - check preload script")}static getInstance(){return Jn.instance||(Jn.instance=new Jn),Jn.instance}async query(t,n){try{const r=ft(t),i=n;console.log("DbClient.query",{originalSQL:t,mappedSQL:r,params:i});const a=await window.rawalite.db.query(r,i),o=xi(a);return console.log("DbClient.query result",{rawCount:a.length,mappedCount:o.length}),o}catch(r){throw await Cl.logError(r,"DbClient.query failed"),r}}async exec(t,n){try{const r=ft(t),i=n;console.log("DbClient.exec",{originalSQL:t,mappedSQL:r,params:i});const a=await window.rawalite.db.exec(r,i);return console.log("DbClient.exec result",a),a}catch(r){throw await Cl.logError(r,"DbClient.exec failed"),r}}async transaction(t){try{const n=t.map(i=>({sql:ft(i.sql),params:i.params}));console.log("DbClient.transaction",{originalQueryCount:t.length,mappedQueryCount:n.length});const r=await window.rawalite.db.transaction(n);return console.log("DbClient.transaction results",{resultCount:r.length}),r}catch(n){throw await Cl.logError(n,"DbClient.transaction failed"),n}}async insert(t,n){const r=Ke(n),i=Object.keys(r),a=Object.values(r),o=i.map(()=>"?").join(", "),s=`INSERT INTO ${t} (${i.join(", ")}) VALUES (${o})`;return(await this.exec(s,a)).lastInsertRowid}async updateById(t,n,r){const i=Ke(r),a=Object.keys(i),o=Object.values(i),s=a.map(d=>`${d} = ?`).join(", "),u=`UPDATE ${t} SET ${s} WHERE id = ?`;return(await this.exec(u,[...o,n])).changes}async deleteById(t,n){const r=`DELETE FROM ${t} WHERE id = ?`;return(await this.exec(r,[n])).changes}async getById(t,n){const r=await this.query(`SELECT * FROM ${t} WHERE id = ? LIMIT 1`,[n]);return r.length>0?r[0]:null}async getAll(t,n){const r=`SELECT * FROM ${t}${n?` ORDER BY ${n}`:""}`;return await this.query(r)}async count(t,n,r){var o;const i=`SELECT COUNT(*) as count FROM ${t}${n?` WHERE ${n}`:""}`;return((o=(await this.query(i,r))[0])==null?void 0:o.count)||0}async exists(t,n,r){return await this.count(t,n,r)>0}};$t(Jn,"instance",null);let Eo=Jn;const Ct={companyData:{name:"RawaLite",street:"",postalCode:"",city:"",phone:"",email:"",website:"",taxNumber:"",vatId:"",kleinunternehmer:!1,bankName:"",bankAccount:"",bankBic:"",logo:""},numberingCircles:[{id:"customers",name:"Kunden",prefix:"K-",digits:4,current:0,resetMode:"never"},{id:"offers",name:"Angebote",prefix:"AN-",digits:4,current:0,resetMode:"yearly"},{id:"invoices",name:"Rechnungen",prefix:"RE-",digits:4,current:0,resetMode:"yearly"},{id:"packages",name:"Pakete",prefix:"PAK-",digits:3,current:0,resetMode:"never"}]};class dh{constructor(){$t(this,"client");this.client=Eo.getInstance()}async getSettings(){const t=ft("SELECT * FROM settings WHERE id = 1"),r=(await this.client.query(t))[0];let i;if(r){const o=Ut(r);i={name:o.companyName||"",street:o.street||"",postalCode:o.zip||"",city:o.city||"",phone:o.phone||"",email:o.email||"",website:o.website||"",taxNumber:o.taxId||"",vatId:o.vatId||"",kleinunternehmer:!!o.kleinunternehmer,bankName:o.bankName||"",bankAccount:o.bankAccount||"",bankBic:o.bankBic||"",logo:o.logo||""}}else i=Ct.companyData;let a;try{const o=ft(`
        SELECT id, name, prefix, digits, current, resetMode, lastResetYear
        FROM numbering_circles
        ORDER BY name
      `),s=await this.client.query(o);s.length>0?a=s.map(u=>({id:u.id,name:u.name,prefix:u.prefix,digits:u.digits,current:u.current,resetMode:u.resetMode,lastResetYear:u.lastResetYear??void 0})):a=Ct.numberingCircles}catch(o){console.warn("Error loading numbering circles from SQLite, trying localStorage fallback:",o);try{const s=localStorage.getItem("rawalite-numbering");s?a=JSON.parse(s):a=Ct.numberingCircles}catch(s){console.warn("LocalStorage fallback failed:",s),a=Ct.numberingCircles}}return{companyData:i,numberingCircles:a}}async updateCompanyData(t){const n=Ke({companyName:t.name,street:t.street,zip:t.postalCode,city:t.city,phone:t.phone,email:t.email,website:t.website,taxId:t.taxNumber,vatId:t.vatId,kleinunternehmer:t.kleinunternehmer?1:0,bankName:t.bankName,bankAccount:t.bankAccount,bankBic:t.bankBic,logo:t.logo}),r=new Date().toISOString();await this.client.exec(`
      INSERT OR REPLACE INTO settings (
        id, company_name, street, zip, city, phone, email, website, 
        tax_id, vat_id, kleinunternehmer, bank_name, bank_account, bank_bic, 
        logo, updated_at
      ) VALUES (
        1, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?
      )
    `,[n.company_name,n.street,n.zip,n.city,n.phone,n.email,n.website,n.tax_id,n.vat_id,n.kleinunternehmer,n.bank_name,n.bank_account,n.bank_bic,n.logo,r])}async updateNumberingCircles(t){try{const n=[];for(const r of t)n.push({sql:`
            INSERT OR REPLACE INTO numbering_circles 
            (id, name, prefix, digits, current, resetMode, lastResetYear, createdAt, updatedAt)
            VALUES (?, ?, ?, ?, ?, ?, ?, 
              COALESCE((SELECT createdAt FROM numbering_circles WHERE id = ?), datetime('now')),
              datetime('now')
            )
          `,params:[r.id,r.name,r.prefix,r.digits,r.current,r.resetMode,r.lastResetYear??null,r.id]});await this.client.transaction(n),console.log("✅ Nummernkreise in SQLite gespeichert")}catch(n){console.error("Error saving numbering circles to SQLite:",n);try{localStorage.setItem("rawalite-numbering",JSON.stringify(t)),console.warn("⚠️ Fallback: Nummernkreise in localStorage gespeichert")}catch(r){throw console.error("LocalStorage fallback failed:",r),n}}}async getNextNumber(t){const{NummernkreisService:n}=await Or(async()=>{const{NummernkreisService:r}=await import("./NummernkreisService-GxTJ69c6.js");return{NummernkreisService:r}},[],import.meta.url);return await n.getNextNumber(t)}}const fh=v.createContext(null),Na=new dh;function hv({children:e}){const[t,n]=v.useState(Ct),[r,i]=v.useState(!0),[a,o]=v.useState(null),s=async()=>{try{i(!0);const p=await Na.getSettings();n(p),o(null)}catch(p){console.error("Error loading settings from SQLite:",p),o("Fehler beim Laden der Einstellungen")}finally{i(!1)}};v.useEffect(()=>{s()},[]);const f={settings:t,loading:r,error:a,updateCompanyData:async p=>{try{i(!0),await Na.updateCompanyData(p),await s()}catch(m){throw console.error("Error saving company data:",m),o("Fehler beim Speichern der Unternehmensdaten"),m}},updateNumberingCircles:async p=>{try{i(!0),await Na.updateNumberingCircles(p),await s(),o(null)}catch(m){throw console.error("Error saving numbering circles:",m),o("Fehler beim Speichern der Nummernkreise"),m}},getNextNumber:async p=>{try{const m=await Na.getNextNumber(p);return await s(),m}catch(m){throw console.error("Error getting next number:",m),m}},refreshSettings:s};return l.jsx(fh.Provider,{value:f,children:e})}function ph(){const e=v.useContext(fh);if(!e)throw new Error("useSettings must be used within a SettingsProvider");return e}const hh=v.createContext({adapter:null,ready:!1});function Kn(){const e=v.useContext(hh);if(!e)throw new Error("usePersistence must be used within PersistenceProvider");return e}const yr=new dh;function ia(){const[e,t]=v.useState(Ct),[n,r]=v.useState(!0),[i,a]=v.useState(null);return v.useEffect(()=>{async function c(){try{r(!0);const d=await yr.getSettings();t(d),a(null)}catch(d){console.error("Error loading settings from SQLite:",d),a("Fehler beim Laden der Einstellungen")}finally{r(!1)}}c()},[]),{settings:e,loading:n,error:i,updateCompanyData:async c=>{try{r(!0),await yr.updateCompanyData(c);const d=await yr.getSettings();t(d),a(null)}catch(d){throw console.error("Error saving company data:",d),a("Fehler beim Speichern der Unternehmensdaten"),d}finally{r(!1)}},updateNumberingCircles:async c=>{try{r(!0),await yr.updateNumberingCircles(c),t(d=>({...d,numberingCircles:c})),a(null)}catch(d){throw console.error("Error saving numbering circles:",d),a("Fehler beim Speichern der Nummernkreise"),d}finally{r(!1)}},getNextNumber:async c=>{try{const d=await yr.getNextNumber(c),f=await yr.getSettings();return t(f),d}catch(d){throw console.error("Error getting next number:",d),d}}}}class Pi extends Error{constructor(t,n,r){super(t),this.code=n,this.originalError=r,this.name="AppError"}}class At extends Pi{constructor(t,n){super(t,"DATABASE_ERROR",n),this.name="DatabaseError"}}class de extends Pi{constructor(t,n){super(t,"VALIDATION_ERROR"),this.field=n,this.name="ValidationError"}}function Fe(e){return e instanceof Pi?e:e instanceof Error?new Pi(e.message,"UNKNOWN_ERROR",e):new Pi(String(e),"UNKNOWN_ERROR",e)}function mv(e){switch(e.code){case"DATABASE_ERROR":return"Es gab ein Problem mit der Datenbank. Bitte versuchen Sie es erneut.";case"VALIDATION_ERROR":return e.message;case"SETTINGS_ERROR":return"Fehler beim Laden oder Speichern der Einstellungen.";default:return"Ein unerwarteter Fehler ist aufgetreten. Bitte versuchen Sie es erneut."}}function Wo(){const{adapter:e}=Kn(),{getNextNumber:t}=ia(),[n,r]=v.useState([]),[i,a]=v.useState(!0),[o,s]=v.useState(null);async function u(){if(e){a(!0),s(null);try{const p=await e.listOffers();r(p)}catch(p){const m=Fe(p);s(m.message),console.error("Error loading offers:",m)}finally{a(!1)}}}v.useEffect(()=>{u()},[e]);async function c(p){var k;if(!e)throw new At("Datenbank-Adapter nicht verfügbar");if(!((k=p.title)!=null&&k.trim()))throw new de("Angebots-Titel ist erforderlich","title");if(!p.customerId)throw new de("Kunde ist erforderlich","customerId");if(!p.lineItems||p.lineItems.length===0)throw new de("Mindestens eine Position ist erforderlich","lineItems");let m=0;p.lineItems.forEach((g,h)=>{var C;if(!((C=g.title)!=null&&C.trim()))throw new de(`Titel für Position ${h+1} ist erforderlich`,`lineItems.${h}.title`);if(g.quantity<=0)throw new de(`Menge für Position ${h+1} muss größer als 0 sein`,`lineItems.${h}.quantity`);if(g.unitPrice<0)throw new de(`Preis für Position ${h+1} darf nicht negativ sein`,`lineItems.${h}.unitPrice`);const y=g.quantity*g.unitPrice;m+=y,g.total=y});const x=m*(p.vatRate/100),w=m+x;s(null);try{let g;try{g=await t("offers")}catch(y){console.warn("Settings not available, using fallback numbering:",y);const C=new Date().getFullYear(),I=Date.now().toString().slice(-4);g=`AN-${C}-${I}`}const h=await e.createOffer({...p,offerNumber:g,subtotal:m,vatAmount:x,total:w});return await u(),h}catch(g){const h=Fe(g);throw s(h.message),console.error("Error creating offer:",h),h}}async function d(p,m){if(!e)throw new At("Datenbank-Adapter nicht verfügbar");if(m.title!==void 0&&!m.title.trim())throw new de("Angebots-Titel ist erforderlich","title");if(m.lineItems!==void 0){if(m.lineItems.length===0)throw new de("Mindestens eine Position ist erforderlich","lineItems");let x=0;m.lineItems.forEach((h,y)=>{var I;if(!((I=h.title)!=null&&I.trim()))throw new de(`Titel für Position ${y+1} ist erforderlich`,`lineItems.${y}.title`);if(h.quantity<=0)throw new de(`Menge für Position ${y+1} muss größer als 0 sein`,`lineItems.${y}.quantity`);if(h.unitPrice<0)throw new de(`Preis für Position ${y+1} darf nicht negativ sein`,`lineItems.${y}.unitPrice`);const C=h.quantity*h.unitPrice;x+=C,h.total=C});const w=m.vatRate??19,k=x*(w/100),g=x+k;m.subtotal=x,m.vatAmount=k,m.total=g}s(null);try{const x=await e.updateOffer(p,m);return await u(),x}catch(x){const w=Fe(x);throw s(w.message),console.error("Error updating offer:",w),w}}async function f(p){if(!e)throw new At("Datenbank-Adapter nicht verfügbar");s(null);try{return await e.deleteOffer(p),await u(),!0}catch(m){const x=Fe(m);throw s(x.message),console.error("Error deleting offer:",x),x}}return{offers:n,loading:i,error:o,createOffer:c,updateOffer:d,deleteOffer:f,refresh:u}}function Du(){const{adapter:e}=Kn(),{getNextNumber:t}=ia(),[n,r]=v.useState([]),[i,a]=v.useState(!0),[o,s]=v.useState(null);async function u(){if(e){a(!0),s(null);try{const p=await e.listInvoices();r(p)}catch(p){const m=Fe(p);s(m.message),console.error("Error loading invoices:",m)}finally{a(!1)}}}v.useEffect(()=>{u()},[e]);async function c(p){var k;if(!e)throw new At("Datenbank-Adapter nicht verfügbar");if(!((k=p.title)!=null&&k.trim()))throw new de("Rechnungs-Titel ist erforderlich","title");if(!p.customerId)throw new de("Kunde ist erforderlich","customerId");if(!p.lineItems||p.lineItems.length===0)throw new de("Mindestens eine Position ist erforderlich","lineItems");let m=0;p.lineItems.forEach((g,h)=>{var C;if(!((C=g.title)!=null&&C.trim()))throw new de(`Titel für Position ${h+1} ist erforderlich`,`lineItems.${h}.title`);if(g.quantity<=0)throw new de(`Menge für Position ${h+1} muss größer als 0 sein`,`lineItems.${h}.quantity`);if(g.unitPrice<0)throw new de(`Preis für Position ${h+1} darf nicht negativ sein`,`lineItems.${h}.unitPrice`);const y=g.quantity*g.unitPrice;m+=y,g.total=y});const x=m*(p.vatRate/100),w=m+x;s(null);try{let g;try{g=await t("invoices")}catch(y){console.warn("Settings not available, using fallback numbering:",y);const C=new Date().getFullYear(),I=Date.now().toString().slice(-4);g=`RE-${C}-${I}`}const h=await e.createInvoice({...p,invoiceNumber:g,subtotal:m,vatAmount:x,total:w});return await u(),h}catch(g){const h=Fe(g);throw s(h.message),console.error("Error creating invoice:",h),h}}async function d(p,m){if(!e)throw new At("Datenbank-Adapter nicht verfügbar");if(m.title!==void 0&&!m.title.trim())throw new de("Rechnungs-Titel ist erforderlich","title");if(m.lineItems!==void 0){if(m.lineItems.length===0)throw new de("Mindestens eine Position ist erforderlich","lineItems");let x=0;m.lineItems.forEach((h,y)=>{var I;if(!((I=h.title)!=null&&I.trim()))throw new de(`Titel für Position ${y+1} ist erforderlich`,`lineItems.${y}.title`);if(h.quantity<=0)throw new de(`Menge für Position ${y+1} muss größer als 0 sein`,`lineItems.${y}.quantity`);if(h.unitPrice<0)throw new de(`Preis für Position ${y+1} darf nicht negativ sein`,`lineItems.${y}.unitPrice`);const C=h.quantity*h.unitPrice;x+=C,h.total=C});const w=m.vatRate??19,k=x*(w/100),g=x+k;m.subtotal=x,m.vatAmount=k,m.total=g}s(null);try{const x=await e.updateInvoice(p,m);return await u(),x}catch(x){const w=Fe(x);throw s(w.message),console.error("Error updating invoice:",w),w}}async function f(p){if(!e)throw new At("Datenbank-Adapter nicht verfügbar");s(null);try{return await e.deleteInvoice(p),await u(),!0}catch(m){const x=Fe(m);throw s(x.message),console.error("Error deleting invoice:",x),x}}return{invoices:n,loading:i,error:o,createInvoice:c,updateInvoice:d,deleteInvoice:f,refresh:u}}const gv=""+new URL("rawalite-logo-D3IvfwpA.png",import.meta.url).href;function yv(){var s,u,c,d;const{settings:e,loading:t,error:n}=ph(),{offers:r}=Wo(),{invoices:i}=Du(),a={totalOffers:r.length,pendingOffers:r.filter(f=>f.status==="draft").length,acceptedOffers:r.filter(f=>f.status==="accepted").length,totalInvoices:i.length,paidInvoices:i.filter(f=>f.status==="paid").length,unpaidInvoices:i.filter(f=>f.status==="draft"||f.status==="sent"||f.status==="overdue").length,totalOfferValue:r.reduce((f,p)=>f+p.total,0),paidAmount:i.filter(f=>f.status==="paid").reduce((f,p)=>f+p.total,0),unpaidAmount:i.filter(f=>f.status!=="paid").reduce((f,p)=>f+p.total,0)},o=[{to:"/",label:"Dashboard"},{to:"/kunden",label:"Kunden"},{to:"/pakete",label:"Pakete"},{to:"/angebote",label:"Angebote"},{to:"/rechnungen",label:"Rechnungen"},{to:"/einstellungen",label:"Einstellungen"}];return l.jsxs("aside",{className:"sidebar",children:[l.jsx("div",{style:{marginBottom:"20px"},children:l.jsx("div",{style:{width:"100%",textAlign:"center",padding:"16px 8px",marginBottom:"16px"},children:l.jsx("img",{src:gv,alt:"RawaLite",style:{width:"100%",maxWidth:"180px",height:"auto",objectFit:"contain",filter:"drop-shadow(0 2px 8px rgba(0,0,0,0.3))"}})})}),l.jsx("ul",{className:"nav",children:o.map(f=>l.jsx("li",{children:l.jsx(uh,{to:f.to,end:f.to==="/",children:f.label})},f.to))}),l.jsxs("div",{style:{marginTop:"20px",padding:"16px 12px",backgroundColor:"rgba(255,255,255,0.04)",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.08)"},children:[!t&&((s=e.companyData)!=null&&s.logo)?l.jsx("div",{style:{width:"100%",textAlign:"center",marginBottom:"12px"},children:l.jsx("img",{src:e.companyData.logo,alt:"Firmenlogo",style:{maxWidth:"100%",maxHeight:"60px",objectFit:"contain",borderRadius:"6px",filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.2))"},onError:f=>{console.error("Firmenlogo konnte nicht geladen werden"),f.currentTarget.style.display="none"}})}):l.jsxs("div",{style:{width:"100%",textAlign:"center",marginBottom:"12px",padding:"16px 10px",backgroundColor:"rgba(255,255,255,0.02)",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)"},children:[l.jsx("div",{style:{fontSize:"20px",marginBottom:"4px",opacity:.4},children:"⚪"}),l.jsx("div",{style:{fontSize:"10px",color:"rgba(255,255,255,0.4)",fontWeight:"normal"},children:"Kein Logo"})]}),l.jsx("div",{style:{fontSize:"16px",color:!t&&((u=e.companyData)!=null&&u.name)?"rgba(255,255,255,0.95)":"rgba(255,255,255,0.6)",fontWeight:"600",textAlign:"center",marginBottom:"16px",fontStyle:!t&&((c=e.companyData)!=null&&c.name)?"normal":"italic"},children:!t&&((d=e.companyData)!=null&&d.name)?e.companyData.name:"[Ihr Firmenname]"}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginBottom:"12px"},children:[l.jsxs("div",{style:{padding:"8px 10px",backgroundColor:"rgba(255,255,255,0.03)",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.08)"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"3px"},children:[l.jsx("span",{style:{fontSize:"12px",color:"rgba(255,255,255,0.7)",fontWeight:"500"},children:"📋 Angebote"}),l.jsx("span",{style:{fontSize:"13px",color:"rgba(255,255,255,0.9)",fontWeight:"600"},children:a.totalOffers})]}),l.jsxs("div",{style:{fontSize:"10px",color:"rgba(255,255,255,0.5)",display:"flex",justifyContent:"space-between"},children:[l.jsxs("span",{children:[a.pendingOffers," Entwürfe"]}),l.jsxs("span",{children:[a.acceptedOffers," Angenommen"]})]})]}),l.jsxs("div",{style:{padding:"8px 10px",backgroundColor:"rgba(255,255,255,0.03)",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.08)"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"3px"},children:[l.jsx("span",{style:{fontSize:"12px",color:"rgba(255,255,255,0.7)",fontWeight:"500"},children:"🧾 Rechnungen"}),l.jsx("span",{style:{fontSize:"13px",color:"rgba(255,255,255,0.9)",fontWeight:"600"},children:a.totalInvoices})]}),l.jsxs("div",{style:{fontSize:"10px",color:"rgba(255,255,255,0.5)",display:"flex",justifyContent:"space-between"},children:[l.jsxs("span",{children:[a.paidInvoices," Bezahlt"]}),l.jsxs("span",{children:[a.unpaidInvoices," Offen"]})]})]})]}),l.jsxs("div",{style:{padding:"8px 10px",backgroundColor:"rgba(255,255,255,0.03)",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.08)"},children:[l.jsx("div",{style:{fontSize:"12px",color:"rgba(255,255,255,0.7)",fontWeight:"500",marginBottom:"6px",textAlign:"center"},children:"💰 Finanzen"}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"3px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"10px"},children:[l.jsx("span",{style:{color:"rgba(255,255,255,0.6)"},children:"Bezahlt:"}),l.jsxs("span",{style:{color:"rgba(255,255,255,0.8)",fontWeight:"600"},children:["€",a.paidAmount.toLocaleString("de-DE",{minimumFractionDigits:0,maximumFractionDigits:0})]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"10px"},children:[l.jsx("span",{style:{color:"rgba(255,255,255,0.6)"},children:"Offen:"}),l.jsxs("span",{style:{color:"rgba(255,255,255,0.8)",fontWeight:"600"},children:["€",a.unpaidAmount.toLocaleString("de-DE",{minimumFractionDigits:0,maximumFractionDigits:0})]})]})]})]})]})]})}const xv="rawalite",vv="1.0.0",wv={"better-sqlite3":"^8.7.0",react:"^18.3.1"},bv={electron:"22.3.27",vite:"^5.4.0"},xr={name:xv,version:vv,dependencies:wv,devDependencies:bv};var md={};class ks{static getAppVersion(){return{version:xr.version,name:xr.name,buildDate:new Date().toISOString(),buildEnvironment:"production",gitCommit:md.VITE_GIT_COMMIT||void 0,gitBranch:md.VITE_GIT_BRANCH||void 0}}static getSystemInfo(){var a;const t=navigator.userAgent,n=t.match(/Electron\/([^\s]+)/),r=t.match(/Chrome\/([^\s]+)/),i=(a=process.versions)==null?void 0:a.node;return{platform:navigator.platform,userAgent:t,electronVersion:n==null?void 0:n[1],chromeVersion:r==null?void 0:r[1],nodeVersion:i}}static getFullVersionInfo(){var t,n,r,i;return{app:this.getAppVersion(),system:this.getSystemInfo(),dependencies:{react:(t=xr.dependencies)==null?void 0:t.react,electron:(n=xr.devDependencies)==null?void 0:n.electron,"better-sqlite3":(r=xr.dependencies)==null?void 0:r["better-sqlite3"],vite:(i=xr.devDependencies)==null?void 0:i.vite}}}static getDisplayVersion(){const t=this.getAppVersion();return`${t.name} v${t.version}`}static getAboutVersionString(){const t=this.getAppVersion(),n=this.getSystemInfo();let r=`${t.name} v${t.version}`;if(t.buildEnvironment!=="production"&&(r+=` (${t.buildEnvironment})`),n.electronVersion&&(r+=`
Electron ${n.electronVersion}`),t.gitCommit){const i=t.gitCommit.substring(0,7);r+=`
Build ${i}`}return r}static getBackupVersionInfo(){const t=this.getAppVersion(),n=this.getSystemInfo();return{version:t.version,timestamp:new Date().toISOString(),buildInfo:`${t.name}@${t.version} (Electron ${n.electronVersion||"unknown"})`}}static isCompatibleVersion(t){const n=this.getAppVersion().version;try{const r=n.split(".").map(Number),i=t.split(".").map(Number);return!(r[0]!==i[0]||r[1]<i[1]||r[1]===i[1]&&r[2]<i[2])}catch(r){return console.warn("Version comparison failed:",r),!1}}static getDebugInfo(){var n;const t=this.getFullVersionInfo();return`
=== RawaLite Debug Information ===
App: ${t.app.name} v${t.app.version}
Build: ${t.app.buildEnvironment} (${t.app.buildDate})
Platform: ${t.system.platform}
Electron: ${t.system.electronVersion||"unknown"}
Chrome: ${t.system.chromeVersion||"unknown"}
Node: ${t.system.nodeVersion||"unknown"}

Dependencies:
${Object.entries(t.dependencies).map(([r,i])=>`- ${r}: ${i}`).join(`
`)}

System:
${t.system.userAgent}

Git: ${t.app.gitBranch||"unknown"}@${((n=t.app.gitCommit)==null?void 0:n.substring(0,7))||"unknown"}
    `.trim()}}const Sv=Object.freeze(Object.defineProperty({__proto__:null,VersionService:ks,default:ks},Symbol.toStringTag,{value:"Module"})),kv={"/":"Dashboard","/kunden":"Kunden","/pakete":"Pakete","/angebote":"Angebote","/rechnungen":"Rechnungen","/einstellungen":"Einstellungen"};function mh({title:e,right:t}={}){const{pathname:n}=Hn(),r=e??kv[n]??"RaWaLite",i=ks.getAppVersion();return l.jsxs("header",{className:"header",children:[l.jsx("div",{className:"title",children:r}),t&&l.jsx("div",{className:"header-right",children:t}),l.jsxs("div",{style:{opacity:.7},children:["v",i.version," ",i.buildEnvironment!=="production"?`(${i.buildEnvironment})`:""]})]})}function Ev(){return l.jsxs("div",{className:"app",children:[l.jsx(yv,{}),l.jsx(mh,{}),l.jsx("main",{className:"main",children:l.jsx(Dx,{})})]})}function ln(){return new Date().toISOString()}class gd{constructor(){$t(this,"client");this.client=Eo.getInstance()}async ready(){}async getSettings(){const t=ft("SELECT * FROM settings WHERE id = 1");return(await this.client.query(t))[0]}async updateSettings(t){const r={...await this.getSettings(),...t,updatedAt:ln()},i=Ke(r);return await this.client.transaction([{sql:`
          UPDATE settings SET
            company_name = ?, street = ?, zip = ?, city = ?, tax_id = ?,
            kleinunternehmer = ?, next_customer_number = ?, next_offer_number = ?, next_invoice_number = ?,
            updated_at = ?
          WHERE id = 1
        `,params:[i.company_name??null,i.street??null,i.zip??null,i.city??null,i.tax_id??null,i.kleinunternehmer?1:0,i.next_customer_number??1,i.next_offer_number??1,i.next_invoice_number??1,i.updated_at]}]),r}async listCustomers(){const t=ft("SELECT * FROM customers ORDER BY createdAt DESC"),n=await this.client.query(t);return xi(n)}async getCustomer(t){const n=ft("SELECT * FROM customers WHERE id = ?"),r=await this.client.query(n,[t]);return r.length===0?null:Ut(r[0])}async createCustomer(t){const n=ln(),r=Ke({...t,createdAt:n,updatedAt:n}),i=await this.client.exec(`
      INSERT INTO customers (number, name, email, phone, street, zip, city, notes, created_at, updated_at)
      VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
    `,[r.number,r.name,r.email??null,r.phone??null,r.street??null,r.zip??null,r.city??null,r.notes??null,r.created_at,r.updated_at]),a=await this.getCustomer(i.lastInsertRowid);if(!a)throw new Error("Customer creation failed");return a}async updateCustomer(t,n){const r=await this.getCustomer(t);if(!r)throw new Error("Customer not found");const i={...r,...n,updatedAt:ln()},a=Ke(i);await this.client.exec(`
      UPDATE customers SET
        number = ?, name = ?, email = ?, phone = ?, street = ?, zip = ?, city = ?, notes = ?, updated_at = ?
      WHERE id = ?
    `,[a.number,a.name,a.email??null,a.phone??null,a.street??null,a.zip??null,a.city??null,a.notes??null,a.updated_at,t]);const o=await this.getCustomer(t);if(!o)throw new Error("Customer update failed");return o}async deleteCustomer(t){await this.client.exec("DELETE FROM customers WHERE id = ?",[t])}async listPackages(){const t=ft("SELECT * FROM packages ORDER BY createdAt DESC"),n=await this.client.query(t),r=xi(n),i=[];for(const a of r){const o=await this.client.query("SELECT id, title, quantity, amount, parent_item_id, description FROM package_line_items WHERE package_id = ? ORDER BY id",[a.id]),s=xi(o).map(u=>({id:u.id,title:u.title,quantity:u.quantity,amount:u.amount,parentItemId:u.parentItemId||void 0,description:u.description||void 0}));i.push({...a,lineItems:s})}return i}async getPackage(t){const n=ft("SELECT * FROM packages WHERE id = ?"),r=await this.client.query(n,[t]);if(r.length===0)return null;const i=Ut(r[0]),a=await this.client.query("SELECT id, title, quantity, amount, parent_item_id, description FROM package_line_items WHERE package_id = ? ORDER BY id",[t]),o=xi(a).map(s=>({id:s.id,title:s.title,quantity:s.quantity,amount:s.amount,parentItemId:s.parentItemId||void 0,description:s.description||void 0}));return{...i,lineItems:o}}async createPackage(t){const n=ln(),r=Ke({...t,createdAt:n,updatedAt:n}),i=[{sql:`
          INSERT INTO packages (internal_title, parent_package_id, total, add_vat, created_at, updated_at)
          VALUES (?, ?, ?, ?, ?, ?)
        `,params:[r.internal_title,r.parent_package_id??null,r.total,r.add_vat?1:0,r.created_at,r.updated_at]}];await this.client.transaction(i);const o=(await this.client.query("SELECT id FROM packages WHERE internal_title = ? AND created_at = ? ORDER BY id DESC LIMIT 1",[r.internal_title,r.created_at]))[0].id;for(const u of t.lineItems){const c=Ke(u);await this.client.exec("INSERT INTO package_line_items (package_id, title, quantity, amount, parent_item_id, description) VALUES (?, ?, ?, ?, ?, ?)",[o,c.title,c.quantity,c.amount,c.parent_item_id||null,c.description||null])}const s=await this.getPackage(o);if(!s)throw new Error("Package creation failed");return s}async updatePackage(t,n){const r=await this.getPackage(t);if(!r)throw new Error("Package not found");const i={...r,...n,updatedAt:ln()},a=Ke(i);if(await this.client.exec(`
      UPDATE packages SET
        internal_title = ?, parent_package_id = ?, total = ?, add_vat = ?, updated_at = ?
      WHERE id = ?
    `,[a.internal_title,a.parent_package_id??null,a.total,a.add_vat?1:0,a.updated_at,t]),n.lineItems){await this.client.exec("DELETE FROM package_line_items WHERE package_id = ?",[t]);for(const s of n.lineItems){const u=Ke(s);await this.client.exec("INSERT INTO package_line_items (package_id, title, quantity, amount, parent_item_id, description) VALUES (?, ?, ?, ?, ?, ?)",[t,u.title,u.quantity,u.amount,u.parent_item_id||null,u.description||null])}}const o=await this.getPackage(t);if(!o)throw new Error("Package update failed");return o}async deletePackage(t){await this.client.transaction([{sql:"DELETE FROM package_line_items WHERE package_id = ?",params:[t]},{sql:"DELETE FROM packages WHERE id = ?",params:[t]}])}async listOffers(){const t=ft("SELECT * FROM offers ORDER BY createdAt DESC"),n=await this.client.query(t),r=[];for(const i of n){const a=Ut(i),s=await this.client.query("SELECT id, title, description, quantity, unit_price, total, parent_item_id FROM offer_line_items WHERE offer_id = ? ORDER BY id",[i.id]);r.push({...a,lineItems:s.map(u=>{const c=Ut(u);return{id:c.id,title:c.title,description:c.description||void 0,quantity:c.quantity,unitPrice:c.unitPrice,total:c.total,parentItemId:c.parentItemId||void 0}})})}return r}async getOffer(t){const n=ft("SELECT * FROM offers WHERE id = ?"),r=await this.client.query(n,[t]);if(!r[0])return null;const i=Ut(r[0]),o=await this.client.query("SELECT id, title, description, quantity, unit_price, total, parent_item_id FROM offer_line_items WHERE offer_id = ? ORDER BY id",[t]);return{...i,lineItems:o.map(s=>{const u=Ut(s);return{id:u.id,title:u.title,description:u.description||void 0,quantity:u.quantity,unitPrice:u.unitPrice,total:u.total,parentItemId:u.parentItemId||void 0}})}}async createOffer(t){const n=ln(),r=Ke({...t,createdAt:n,updatedAt:n}),a=(await this.client.exec(`
      INSERT INTO offers (offer_number, customer_id, title, status, valid_until, subtotal, vat_rate, vat_amount, total, notes, created_at, updated_at)
      VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
    `,[r.offer_number,r.customer_id,r.title,r.status,r.valid_until,r.subtotal,r.vat_rate,r.vat_amount,r.total,r.notes||null,r.created_at,r.updated_at])).lastInsertRowid;for(const s of t.lineItems){const u=Ke(s);await this.client.exec("INSERT INTO offer_line_items (offer_id, title, description, quantity, unit_price, total, parent_item_id) VALUES (?, ?, ?, ?, ?, ?, ?)",[a,u.title,u.description||null,u.quantity,u.unit_price,u.total,u.parent_item_id||null])}const o=await this.getOffer(a);if(!o)throw new Error("Offer creation failed");return o}async updateOffer(t,n){const r=await this.getOffer(t);if(!r)throw new Error("Offer not found");const i={...r,...n,updatedAt:ln()},a=Ke(i);if(await this.client.exec(`
      UPDATE offers SET
        offer_number = ?, customer_id = ?, title = ?, status = ?, valid_until = ?, 
        subtotal = ?, vat_rate = ?, vat_amount = ?, total = ?, notes = ?, updated_at = ?
      WHERE id = ?
    `,[a.offer_number,a.customer_id,a.title,a.status,a.valid_until,a.subtotal,a.vat_rate,a.vat_amount,a.total,a.notes||null,a.updated_at,t]),n.lineItems){await this.client.exec("DELETE FROM offer_line_items WHERE offer_id = ?",[t]);for(const s of n.lineItems){const u=Ke(s);await this.client.exec("INSERT INTO offer_line_items (offer_id, title, description, quantity, unit_price, total, parent_item_id) VALUES (?, ?, ?, ?, ?, ?, ?)",[t,u.title,u.description||null,u.quantity,u.unit_price,u.total,u.parent_item_id||null])}}const o=await this.getOffer(t);if(!o)throw new Error("Offer update failed");return o}async deleteOffer(t){await this.client.transaction([{sql:"DELETE FROM offer_line_items WHERE offer_id = ?",params:[t]},{sql:"DELETE FROM offers WHERE id = ?",params:[t]}])}async listInvoices(){const t=ft("SELECT * FROM invoices ORDER BY createdAt DESC"),n=await this.client.query(t),r=[];for(const i of n){const a=Ut(i),s=await this.client.query("SELECT id, title, description, quantity, unit_price, total, parent_item_id FROM invoice_line_items WHERE invoice_id = ? ORDER BY id",[i.id]);r.push({...a,lineItems:s.map(u=>{const c=Ut(u);return{id:c.id,title:c.title,description:c.description||void 0,quantity:c.quantity,unitPrice:c.unitPrice,total:c.total,parentItemId:c.parentItemId||void 0}})})}return r}async getInvoice(t){const n=ft("SELECT * FROM invoices WHERE id = ?"),r=await this.client.query(n,[t]);if(!r[0])return null;const i=Ut(r[0]),o=await this.client.query("SELECT id, title, description, quantity, unit_price, total, parent_item_id FROM invoice_line_items WHERE invoice_id = ? ORDER BY id",[t]);return{...i,lineItems:o.map(s=>{const u=Ut(s);return{id:u.id,title:u.title,description:u.description||void 0,quantity:u.quantity,unitPrice:u.unitPrice,total:u.total,parentItemId:u.parentItemId||void 0}})}}async createInvoice(t){const n=ln(),r=Ke({...t,createdAt:n,updatedAt:n}),a=(await this.client.exec(`
      INSERT INTO invoices (invoice_number, customer_id, offer_id, title, status, due_date, subtotal, vat_rate, vat_amount, total, notes, created_at, updated_at)
      VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
    `,[r.invoice_number,r.customer_id,r.offer_id||null,r.title,r.status,r.due_date,r.subtotal,r.vat_rate,r.vat_amount,r.total,r.notes||null,r.created_at,r.updated_at])).lastInsertRowid;for(const s of t.lineItems){const u=Ke(s);await this.client.exec("INSERT INTO invoice_line_items (invoice_id, title, description, quantity, unit_price, total, parent_item_id) VALUES (?, ?, ?, ?, ?, ?, ?)",[a,u.title,u.description||null,u.quantity,u.unit_price,u.total,u.parent_item_id||null])}const o=await this.getInvoice(a);if(!o)throw new Error("Invoice creation failed");return o}async updateInvoice(t,n){const r=await this.getInvoice(t);if(!r)throw new Error("Invoice not found");const i={...r,...n,updatedAt:ln()},a=Ke(i);if(await this.client.exec(`
      UPDATE invoices SET
        invoice_number = ?, customer_id = ?, offer_id = ?, title = ?, status = ?, due_date = ?, 
        subtotal = ?, vat_rate = ?, vat_amount = ?, total = ?, notes = ?, updated_at = ?
      WHERE id = ?
    `,[a.invoice_number,a.customer_id,a.offer_id||null,a.title,a.status,a.due_date,a.subtotal,a.vat_rate,a.vat_amount,a.total,a.notes||null,a.updated_at,t]),n.lineItems){await this.client.exec("DELETE FROM invoice_line_items WHERE invoice_id = ?",[t]);for(const s of n.lineItems){const u=Ke(s);await this.client.exec("INSERT INTO invoice_line_items (invoice_id, title, description, quantity, unit_price, total, parent_item_id) VALUES (?, ?, ?, ?, ?, ?, ?)",[t,u.title,u.description||null,u.quantity,u.unit_price,u.total,u.parent_item_id||null])}}const o=await this.getInvoice(t);if(!o)throw new Error("Invoice update failed");return o}async deleteInvoice(t){await this.client.transaction([{sql:"DELETE FROM invoice_line_items WHERE invoice_id = ?",params:[t]},{sql:"DELETE FROM invoices WHERE id = ?",params:[t]}])}}function Cv({children:e,mode:t="sqlite"}){const[n,r]=v.useState(null),[i,a]=v.useState(!1),[o,s]=v.useState(),u=v.useMemo(()=>t==="sqlite"?new gd:new gd,[t]);return v.useEffect(()=>{let c=!0;return(async()=>{try{if(await u.ready(),!c)return;r(u),a(!0)}catch(d){s(String((d==null?void 0:d.message)??d))}})(),()=>{c=!1}},[u]),l.jsx(hh.Provider,{value:{adapter:n,ready:i,error:o},children:e})}const gh=v.createContext(void 0);function jv({children:e}){const[t,n]=v.useState(!1),[r,i]=v.useState(),a=(s,u)=>{n(s),i(u)},o=async(s,u)=>{a(!0,u);try{return await s()}finally{a(!1)}};return l.jsx(gh.Provider,{value:{isLoading:t,loadingMessage:r,setLoading:a,withLoading:o},children:e})}function Xr(){const e=v.useContext(gh);if(e===void 0)throw new Error("useLoading must be used within a LoadingProvider");return e}function Rv({message:e}){return l.jsxs("div",{className:"loading-container",children:[l.jsx("div",{className:"loading-spinner"}),e&&l.jsx("p",{className:"loading-message",children:e})]})}function Pv(){const{isLoading:e,loadingMessage:t}=Xr();return e?l.jsx("div",{className:"loading-overlay",children:l.jsx(Rv,{message:t})}):null}const yh=v.createContext(void 0);function Iv({children:e}){const[t,n]=v.useState([]),r=v.useCallback(s=>{n(u=>u.filter(c=>c.id!==s))},[]),i=v.useCallback((s,u,c=5e3)=>{const d=Date.now().toString(),f={id:d,type:s,message:u,duration:c};n(p=>[...p,f]),c>0&&setTimeout(()=>r(d),c)},[r]),a=v.useCallback(s=>{const u=typeof s=="string"?s:mv(s);i("error",u)},[i]),o=v.useCallback(s=>{i("success",s)},[i]);return l.jsx(yh.Provider,{value:{notifications:t,showNotification:i,showError:a,showSuccess:o,removeNotification:r},children:e})}function vn(){const e=v.useContext(yh);if(e===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return e}function Dv({notification:e,onRemove:t}){return l.jsx("div",{className:`notification-toast notification-${e.type}`,children:l.jsxs("div",{className:"notification-content",children:[l.jsx("span",{className:"notification-message",children:e.message}),l.jsx("button",{className:"notification-close",onClick:()=>t(e.id),"aria-label":"Schließen",children:"×"})]})})}function _v(){const{notifications:e,removeNotification:t}=vn();return l.jsx("div",{className:"notification-container",children:e.map(n=>l.jsx(Dv,{notification:n,onRemove:t},n.id))})}function yd(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function Vo(){const{adapter:e,ready:t,error:n}=Kn(),{getNextNumber:r}=ia(),[i,a]=v.useState([]),[o,s]=v.useState(!1),[u,c]=v.useState(null),d=async()=>{if(e){s(!0),c(null);try{const x=await e.listCustomers();a(x)}catch(x){const w=Fe(x);c(w.message),console.error("Error loading customers:",w)}finally{s(!1)}}};return v.useEffect(()=>{!t||!e||d()},[t,e]),{customers:i,loading:o,error:n||u,createCustomer:async x=>{var w;if(!e)throw new At("Datenbank-Adapter nicht verfügbar");if(!((w=x.name)!=null&&w.trim()))throw new de("Kundenname ist erforderlich","name");if(x.email&&!yd(x.email))throw new de("Ungültige E-Mail-Adresse","email");c(null);try{console.log("Creating customer...");let k;try{console.log("Getting next customer number..."),k=await r("customers"),console.log("Got customer number:",k)}catch(g){console.warn("Settings not available, using fallback numbering:",g),k=`K-${Date.now()}`}return console.log("Creating customer with data:",{...x,number:k}),await e.createCustomer({...x,number:k}),console.log("Customer created successfully, refreshing data..."),await d(),console.log("Data refreshed"),!0}catch(k){const g=Fe(k);throw c(g.message),console.error("Error creating customer:",g),g}},updateCustomer:async(x,w)=>{if(console.log("useCustomers updateCustomer called with:",x,w),!e)throw new At("Datenbank-Adapter nicht verfügbar");if(w.name!==void 0&&!w.name.trim())throw new de("Kundenname ist erforderlich","name");if(w.email!==void 0&&w.email&&!yd(w.email))throw new de("Ungültige E-Mail-Adresse","email");c(null);try{return console.log("Updating customer with adapter..."),await e.updateCustomer(x,w),console.log("Customer updated successfully"),await d(),!0}catch(k){console.error("Error in updateCustomer:",k);const g=Fe(k);throw c(g.message),console.error("Error updating customer:",g),g}},deleteCustomer:async x=>{if(console.log("useCustomers deleteCustomer called with:",x),!e)throw new At("Datenbank-Adapter nicht verfügbar");c(null);try{return console.log("Deleting customer with adapter..."),await e.deleteCustomer(x),console.log("Customer deleted successfully"),await d(),!0}catch(w){console.error("Error in deleteCustomer:",w);const k=Fe(w);throw c(k.message),console.error("Error deleting customer:",k),k}},refresh:d}}function _u(){const{adapter:e}=Kn(),[t,n]=v.useState([]),[r,i]=v.useState(!0),[a,o]=v.useState(null);async function s(){if(e){i(!0),o(null);try{const f=await e.listPackages();n(f)}catch(f){const p=Fe(f);o(p.message),console.error("Error loading packages:",p)}finally{i(!1)}}}v.useEffect(()=>{s()},[e]);async function u(f){var m;if(!e)throw new At("Datenbank-Adapter nicht verfügbar");if(!((m=f.internalTitle)!=null&&m.trim()))throw new de("Paket-Titel ist erforderlich","internalTitle");if(!f.lineItems||f.lineItems.length===0)throw new de("Mindestens eine Position ist erforderlich","lineItems");f.lineItems.forEach((x,w)=>{var k;if(!((k=x.title)!=null&&k.trim()))throw new de(`Titel für Position ${w+1} ist erforderlich`,`lineItems.${w}.title`);if(x.quantity<=0)throw new de(`Menge für Position ${w+1} muss größer als 0 sein`,`lineItems.${w}.quantity`);if(x.amount<0)throw new de(`Preis für Position ${w+1} darf nicht negativ sein`,`lineItems.${w}.amount`)});const p=f.lineItems.reduce((x,w)=>w.parentItemId?x:x+w.quantity*w.amount,0);o(null);try{const x=await e.createPackage({...f,total:p});return await s(),x}catch(x){const w=Fe(x);throw o(w.message),console.error("Error creating package:",w),w}}async function c(f,p){if(!e)throw new At("Datenbank-Adapter nicht verfügbar");if(p.internalTitle!==void 0&&!p.internalTitle.trim())throw new de("Paket-Titel ist erforderlich","internalTitle");if(p.lineItems!==void 0){if(p.lineItems.length===0)throw new de("Mindestens eine Position ist erforderlich","lineItems");p.lineItems.forEach((x,w)=>{var k;if(!((k=x.title)!=null&&k.trim()))throw new de(`Titel für Position ${w+1} ist erforderlich`,`lineItems.${w}.title`);if(x.quantity<=0)throw new de(`Menge für Position ${w+1} muss größer als 0 sein`,`lineItems.${w}.quantity`);if(x.amount<0)throw new de(`Preis für Position ${w+1} darf nicht negativ sein`,`lineItems.${w}.amount`)});const m=p.lineItems.reduce((x,w)=>w.parentItemId?x:x+w.quantity*w.amount,0);p.total=m}o(null);try{const m=await e.updatePackage(f,p);return await s(),m}catch(m){const x=Fe(m);throw o(x.message),console.error("Error updating package:",x),x}}async function d(f){if(!e)throw new At("Datenbank-Adapter nicht verfügbar");o(null);try{return await e.deletePackage(f),await s(),!0}catch(p){const m=Fe(p);throw o(m.message),console.error("Error deleting package:",m),m}}return{packages:t,loading:r,error:a,createPackage:u,updatePackage:c,deletePackage:d,refresh:s}}function Nv({title:e="Dashboard"}){const{customers:t}=Vo(),{offers:n}=Wo(),{invoices:r}=Du(),{packages:i}=_u(),a={totalCustomers:t.length,totalOffers:n.length,totalInvoices:r.length,totalPackages:i.length,pendingOffers:n.filter(d=>d.status==="draft").length,acceptedOffers:n.filter(d=>d.status==="accepted").length,paidInvoices:r.filter(d=>d.status==="paid").length,unpaidInvoices:r.filter(d=>d.status==="draft"||d.status==="sent"||d.status==="overdue").length,totalOfferValue:n.reduce((d,f)=>d+f.total,0),totalInvoiceValue:r.reduce((d,f)=>d+f.total,0),paidAmount:r.filter(d=>d.status==="paid").reduce((d,f)=>d+f.total,0),unpaidAmount:r.filter(d=>d.status!=="paid").reduce((d,f)=>d+f.total,0)},o=n.sort((d,f)=>new Date(f.createdAt).getTime()-new Date(d.createdAt).getTime()).slice(0,5),s=r.sort((d,f)=>new Date(f.createdAt).getTime()-new Date(d.createdAt).getTime()).slice(0,5),u=d=>{switch(d){case"paid":return"#22c55e";case"accepted":return"#22c55e";case"sent":return"#f59e0b";case"draft":return"#6b7280";case"rejected":return"#ef4444";case"overdue":return"#ef4444";case"cancelled":return"#6b7280";default:return"#6b7280"}},c=d=>{switch(d){case"paid":return"Bezahlt";case"accepted":return"Angenommen";case"sent":return"Versendet";case"draft":return"Entwurf";case"rejected":return"Abgelehnt";case"overdue":return"Überfällig";case"cancelled":return"Storniert";default:return d}};return l.jsxs("div",{className:"card",children:[l.jsx("h2",{style:{marginTop:0},children:e}),l.jsx("p",{children:"Willkommen in RaWaLite. Hier ist deine Übersicht:"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(220px,1fr))",gap:16,marginBottom:24},children:[l.jsx("div",{className:"card",style:{background:"linear-gradient(135deg, #1e40af 0%, #3b82f6 100%)"},children:l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"24px",fontWeight:"600",color:"white"},children:a.totalCustomers}),l.jsx("div",{style:{opacity:.9,color:"white"},children:"Kunden"})]}),l.jsx("div",{style:{fontSize:"32px",opacity:.7},children:"👥"})]})}),l.jsxs("div",{className:"card",style:{background:"linear-gradient(135deg, #059669 0%, #10b981 100%)"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"24px",fontWeight:"600",color:"white"},children:a.totalOffers}),l.jsx("div",{style:{opacity:.9,color:"white"},children:"Angebote"})]}),l.jsx("div",{style:{fontSize:"32px",opacity:.7},children:"📋"})]}),l.jsxs("div",{style:{marginTop:8,fontSize:"12px",opacity:.8,color:"white"},children:[a.pendingOffers," Entwürfe, ",a.acceptedOffers," Angenommen"]})]}),l.jsxs("div",{className:"card",style:{background:"linear-gradient(135deg, #dc2626 0%, #ef4444 100%)"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"24px",fontWeight:"600",color:"white"},children:a.totalInvoices}),l.jsx("div",{style:{opacity:.9,color:"white"},children:"Rechnungen"})]}),l.jsx("div",{style:{fontSize:"32px",opacity:.7},children:"🧾"})]}),l.jsxs("div",{style:{marginTop:8,fontSize:"12px",opacity:.8,color:"white"},children:[a.paidInvoices," Bezahlt, ",a.unpaidInvoices," Offen"]})]}),l.jsx("div",{className:"card",style:{background:"linear-gradient(135deg, #7c3aed 0%, #8b5cf6 100%)"},children:l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"24px",fontWeight:"600",color:"white"},children:a.totalPackages}),l.jsx("div",{style:{opacity:.9,color:"white"},children:"Pakete"})]}),l.jsx("div",{style:{fontSize:"32px",opacity:.7},children:"📦"})]})})]}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(300px,1fr))",gap:16,marginBottom:24},children:l.jsxs("div",{className:"card",children:[l.jsx("h3",{style:{marginTop:0},children:"💰 Finanzübersicht"}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[l.jsx("span",{children:"Angebotswert gesamt:"}),l.jsxs("span",{style:{fontWeight:"600"},children:["€",a.totalOfferValue.toFixed(2)]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[l.jsx("span",{children:"Rechnungswert gesamt:"}),l.jsxs("span",{style:{fontWeight:"600"},children:["€",a.totalInvoiceValue.toFixed(2)]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",color:"#22c55e"},children:[l.jsx("span",{children:"Bezahlt:"}),l.jsxs("span",{style:{fontWeight:"600"},children:["€",a.paidAmount.toFixed(2)]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",color:"#f59e0b"},children:[l.jsx("span",{children:"Offen:"}),l.jsxs("span",{style:{fontWeight:"600"},children:["€",a.unpaidAmount.toFixed(2)]})]})]})]})}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(400px,1fr))",gap:16},children:[l.jsxs("div",{className:"card",children:[l.jsx("h3",{style:{marginTop:0},children:"📋 Letzte Angebote"}),o.length>0?l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:o.map(d=>l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 12px",background:"rgba(255,255,255,0.03)",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.1)"},children:[l.jsxs("div",{children:[l.jsxs("div",{style:{fontWeight:"500"},children:["#",d.offerNumber]}),l.jsx("div",{style:{fontSize:"12px",opacity:.7},children:new Date(d.createdAt).toLocaleDateString("de-DE")})]}),l.jsxs("div",{style:{textAlign:"right"},children:[l.jsxs("div",{style:{fontWeight:"600"},children:["€",d.total.toFixed(2)]}),l.jsx("div",{style:{fontSize:"12px",color:u(d.status),fontWeight:"500"},children:c(d.status)})]})]},d.id))}):l.jsx("p",{style:{opacity:.7,fontStyle:"italic"},children:"Noch keine Angebote vorhanden."})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{style:{marginTop:0},children:"🧾 Letzte Rechnungen"}),s.length>0?l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:s.map(d=>l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 12px",background:"rgba(255,255,255,0.03)",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.1)"},children:[l.jsxs("div",{children:[l.jsxs("div",{style:{fontWeight:"500"},children:["#",d.invoiceNumber]}),l.jsx("div",{style:{fontSize:"12px",opacity:.7},children:new Date(d.createdAt).toLocaleDateString("de-DE")})]}),l.jsxs("div",{style:{textAlign:"right"},children:[l.jsxs("div",{style:{fontWeight:"600"},children:["€",d.total.toFixed(2)]}),l.jsx("div",{style:{fontSize:"12px",color:u(d.status),fontWeight:"500"},children:c(d.status)})]})]},d.id))}):l.jsx("p",{style:{opacity:.7,fontStyle:"italic"},children:"Noch keine Rechnungen vorhanden."})]})]})]})}function Ho({columns:e,data:t,emptyMessage:n}){return l.jsx("div",{className:"card",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsx("tr",{children:e.map(r=>l.jsx("th",{style:{width:r.width},children:r.header},String(r.key)))})}),l.jsx("tbody",{children:t.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:e.length,style:{opacity:.8,padding:"16px 8px"},children:n??"Keine Einträge vorhanden."})}):t.map((r,i)=>l.jsx("tr",{children:e.map(a=>l.jsx("td",{children:a.render?a.render(r):String(r[a.key])},String(a.key)))},i))})]})})}function xd({initial:e,onSubmit:t,onCancel:n,submitLabel:r="Speichern"}){const[i,a]=v.useState(e??{name:""}),[o,s]=v.useState({}),[u,c]=v.useState(!1),{showError:d,showSuccess:f}=vn(),{withLoading:p}=Xr();v.useEffect(()=>{a(e??{name:""}),s({})},[e]);function m(k,g){a(h=>({...h,[k]:g})),o[k]&&s(h=>({...h,[k]:""}))}function x(){const k={};return(!i.name||i.name.trim().length<2)&&(k.name="Bitte einen gültigen Namen angeben (min. 2 Zeichen)."),i.email&&i.email.trim()&&!/\S+@\S+\.\S+/.test(i.email)&&(k.email="Bitte eine gültige E-Mail-Adresse eingeben."),s(k),Object.keys(k).length===0}async function w(k){var h,y,C,I,b,E;if(k.preventDefault(),console.log("CustomerForm handleSubmit called"),!x()){console.log("Form validation failed");return}if(u){console.log("Already submitting, preventing double submission");return}const g={name:i.name.trim(),email:((h=i.email)==null?void 0:h.trim())||void 0,phone:((y=i.phone)==null?void 0:y.trim())||void 0,street:((C=i.street)==null?void 0:C.trim())||void 0,zip:((I=i.zip)==null?void 0:I.trim())||void 0,city:((b=i.city)==null?void 0:b.trim())||void 0,notes:((E=i.notes)==null?void 0:E.trim())||void 0};console.log("CustomerForm submitting data:",g);try{c(!0),console.log("Calling onSubmit with withLoading wrapper"),await p(async()=>{console.log("Inside withLoading, calling onSubmit"),await t(g),console.log("onSubmit completed successfully")},`${r}...`),f(`Kunde wurde erfolgreich ${r==="Speichern"?"gespeichert":"aktualisiert"}.`)}catch(D){console.error("Error in handleSubmit:",D);const _=Fe(D);_ instanceof de&&_.field?s(R=>({...R,[_.field]:_.message})):d(_)}finally{c(!1)}}return l.jsxs("form",{onSubmit:w,className:"customer-form",style:{display:"grid",gap:12,maxWidth:680},children:[l.jsxs("div",{style:{display:"grid",gap:6},children:[l.jsx("label",{children:"Name*"}),l.jsx("input",{type:"text",value:i.name,onChange:k=>m("name",k.target.value),placeholder:"Max Mustermann",required:!0,disabled:u,className:o.name?"error":""}),o.name&&l.jsx("span",{className:"field-error",children:o.name})]}),l.jsxs("div",{style:{display:"grid",gap:6},children:[l.jsx("label",{children:"E-Mail"}),l.jsx("input",{type:"email",value:i.email??"",onChange:k=>m("email",k.target.value),placeholder:"max@example.com",disabled:u,className:o.email?"error":""}),o.email&&l.jsx("span",{className:"field-error",children:o.email})]}),l.jsxs("div",{style:{display:"grid",gap:6},children:[l.jsx("label",{children:"Telefon"}),l.jsx("input",{type:"tel",value:i.phone??"",onChange:k=>m("phone",k.target.value),placeholder:"+49 30 12345678",disabled:u})]}),l.jsxs("div",{style:{display:"grid",gap:6},children:[l.jsx("label",{children:"Straße"}),l.jsx("input",{type:"text",value:i.street??"",onChange:k=>m("street",k.target.value),placeholder:"Musterstraße 123",disabled:u})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 2fr",gap:8},children:[l.jsxs("div",{style:{display:"grid",gap:6},children:[l.jsx("label",{children:"PLZ"}),l.jsx("input",{type:"text",value:i.zip??"",onChange:k=>m("zip",k.target.value),placeholder:"12345",disabled:u})]}),l.jsxs("div",{style:{display:"grid",gap:6},children:[l.jsx("label",{children:"Ort"}),l.jsx("input",{type:"text",value:i.city??"",onChange:k=>m("city",k.target.value),placeholder:"Berlin",disabled:u})]})]}),l.jsxs("div",{style:{display:"grid",gap:6},children:[l.jsx("label",{children:"Notizen"}),l.jsx("textarea",{value:i.notes??"",onChange:k=>m("notes",k.target.value),placeholder:"Weitere Informationen zum Kunden...",disabled:u,rows:3})]}),l.jsxs("div",{style:{display:"flex",gap:8,marginTop:"16px"},children:[l.jsx("button",{type:"submit",disabled:u,className:"btn btn-primary",style:{padding:"12px 24px",fontSize:"14px",fontWeight:"500",minWidth:"120px"},children:u?"Wird gespeichert...":r}),n&&l.jsx("button",{type:"button",onClick:n,disabled:u,className:"btn btn-secondary",style:{padding:"12px 24px",fontSize:"14px",fontWeight:"500",minWidth:"120px"},children:"Abbrechen"})]}),l.jsx("style",{children:`
        .customer-form input, .customer-form textarea { 
          background: rgba(255,255,255,.06); 
          color: white; 
          border: 1px solid rgba(255,255,255,.15); 
          padding: 10px 12px; 
          border-radius: 8px; 
          font-size: 14px;
          width: 100%;
          box-sizing: border-box;
          font-family: inherit;
        }
        .customer-form input:focus, .customer-form textarea:focus { 
          outline: 2px solid rgba(96,165,250,.5);
          background: rgba(255,255,255,.08);
        }
        .customer-form input.error, .customer-form textarea.error {
          border-color: rgba(239, 68, 68, 0.5);
          background: rgba(239, 68, 68, 0.1);
        }
        .customer-form input:disabled, .customer-form textarea:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }
        .customer-form label {
          font-weight: 500;
          margin-bottom: 4px;
          color: rgba(255,255,255,.9);
        }
        .field-error {
          color: rgba(239, 68, 68, 0.9);
          font-size: 0.8rem;
          margin-top: 4px;
        }
        .customer-form textarea {
          resize: vertical;
          min-height: 60px;
        }
      `})]})}const Tv=typeof window<"u"&&window.electronAPI,Ne={join:(...e)=>e.filter(t=>t&&t.length>0).join("/").replace(/\/+/g,"/").replace(/\\/g,"/")},Zn=class Zn{constructor(){$t(this,"_appDataPath",null);$t(this,"_documentsPath",null);$t(this,"_downloadsPath",null)}static getInstance(){return Zn.instance||(Zn.instance=new Zn),Zn.instance}async getElectronPath(t){if(!Tv)throw new Error(`Electron API not available for path type: ${t}`);try{return await window.rawalite.paths.get(t)}catch(n){throw console.error(`Failed to get ${t} path via IPC:`,n),n}}async getAppDataPath(){return this._appDataPath?this._appDataPath:(this._appDataPath=await this.getElectronPath("userData"),this._appDataPath)}async getDocumentsPath(){return this._documentsPath?this._documentsPath:(this._documentsPath=await this.getElectronPath("documents"),this._documentsPath)}async getDownloadsPath(){return this._downloadsPath?this._downloadsPath:(this._downloadsPath=await this.getElectronPath("downloads"),this._downloadsPath)}resetCache(){this._appDataPath=null,this._documentsPath=null,this._downloadsPath=null}};$t(Zn,"instance");let Es=Zn;class Cs{static async DATABASE_DIR(){const t=await this.pathManager.getAppDataPath();return Ne.join(t,"database")}static async DATABASE_FILE(){const t=await this.DATABASE_DIR();return Ne.join(t,"rawalite.db")}static async DATABASE_BACKUP_FILE(){const t=await this.DATABASE_DIR(),n=new Date().toISOString().replace(/[:.]/g,"-");return Ne.join(t,"backups",`backup-${n}.db`)}static async LOGS_DIR(){const t=await this.pathManager.getAppDataPath();return Ne.join(t,"logs")}static async LOG_FILE(){const t=await this.LOGS_DIR(),n=new Date().toISOString().split("T")[0];return Ne.join(t,`rawalite-${n}.log`)}static async ERROR_LOG_FILE(){const t=await this.LOGS_DIR();return Ne.join(t,"errors.log")}static async SETTINGS_DIR(){const t=await this.pathManager.getAppDataPath();return Ne.join(t,"settings")}static async SETTINGS_FILE(){const t=await this.SETTINGS_DIR();return Ne.join(t,"app-settings.json")}static async USER_PREFERENCES_FILE(){const t=await this.SETTINGS_DIR();return Ne.join(t,"user-preferences.json")}static async TEMPLATES_DIR(){const t=await this.pathManager.getAppDataPath();return Ne.join(t,"templates")}static async INVOICE_TEMPLATE_FILE(){const t=await this.TEMPLATES_DIR();return Ne.join(t,"invoice-template.html")}static async OFFER_TEMPLATE_FILE(){const t=await this.TEMPLATES_DIR();return Ne.join(t,"offer-template.html")}static async BACKUPS_DIR(){const t=await this.pathManager.getDocumentsPath();return Ne.join(t,"RawaLite-Backups")}static async FULL_BACKUP_FILE(){const t=await this.BACKUPS_DIR(),n=new Date().toISOString().replace(/[:.]/g,"-");return Ne.join(t,`rawalite-full-backup-${n}.zip`)}static async DATA_EXPORT_FILE(t){const n=await this.BACKUPS_DIR(),r=new Date().toISOString().split("T")[0];return Ne.join(n,`${t}-export-${r}.csv`)}static async EXPORTS_DIR(){const t=await this.pathManager.getDownloadsPath();return Ne.join(t,"RawaLite-Exports")}static async PDF_EXPORT_FILE(t,n){const r=await this.EXPORTS_DIR(),i=new Date().toISOString().split("T")[0];return Ne.join(r,`${t}-${n}-${i}.pdf`)}static async CSV_EXPORT_FILE(t){const n=await this.EXPORTS_DIR(),r=new Date().toISOString().split("T")[0];return Ne.join(n,`${t}-${r}.csv`)}static async ASSETS_DIR(){const t=await this.pathManager.getAppDataPath();return Ne.join(t,"assets")}static async COMPANY_LOGO_FILE(){const t=await this.ASSETS_DIR();return Ne.join(t,"company-logo.png")}static async USER_UPLOADS_DIR(){const t=await this.ASSETS_DIR();return Ne.join(t,"uploads")}static async TEST_DATA_DIR(){throw new Error("TEST_DATA_DIR only available in test environment")}static async TEMP_DIR(){const t=await this.pathManager.getAppDataPath();return Ne.join(t,"temp")}static async ensureDir(t){try{await window.rawalite.fs.ensureDir(t)}catch(n){throw new Error(`Failed to create directory: ${t} - ${n}`)}}static async cleanTempDir(){try{const t=await this.TEMP_DIR();await this.ensureDir(t);const n=await window.rawalite.fs.readDir(t),r=Date.now()-24*60*60*1e3;for(const i of n){const a=Ne.join(t,i);(await window.rawalite.fs.stat(a)).mtime<r&&await window.rawalite.fs.unlink(a)}}catch(t){console.warn("Failed to clean temp directory:",t)}}static resetCache(){this.pathManager.resetCache()}static async getAllPaths(){return{appData:await this.pathManager.getAppDataPath(),documents:await this.pathManager.getDocumentsPath(),downloads:await this.pathManager.getDownloadsPath(),database:await this.DATABASE_FILE(),logs:await this.LOGS_DIR(),backups:await this.BACKUPS_DIR(),exports:await this.EXPORTS_DIR(),templates:await this.TEMPLATES_DIR(),settings:await this.SETTINGS_DIR(),assets:await this.ASSETS_DIR()}}}$t(Cs,"pathManager",Es.getInstance());class Gi{static exportCustomersToCSV(t){const r=[["ID","Nummer","Name","E-Mail","Telefon","Straße","PLZ","Ort","Notizen","Erstellt","Aktualisiert"].join(";"),...t.map(i=>[i.id,i.number,i.name,i.email||"",i.phone||"",i.street||"",i.zip||"",i.city||"",i.notes||"",i.createdAt,i.updatedAt].map(a=>`"${String(a).replace(/"/g,'""')}"`).join(";"))].join(`
`);this.downloadFile(r,`kunden_${new Date().toISOString().split("T")[0]}.csv`,"text/csv")}static async exportOfferToPDF(t,n,r,i=!1){const a=this.generateOfferHTML(t,n,r);await this.htmlToPDF(a,`angebot_${t.offerNumber}.pdf`,i)}static async exportInvoiceToPDF(t,n,r,i=!1){const a=this.generateInvoiceHTML(t,n,r);await this.htmlToPDF(a,`rechnung_${t.invoiceNumber}.pdf`,i)}static generateOfferHTML(t,n,r){var o,s,u,c,d,f,p,m;const i=new Date().toLocaleDateString("de-DE"),a=new Date(t.validUntil).toLocaleDateString("de-DE");return`
      <!DOCTYPE html>
      <html>
      <head>
        <meta charset="utf-8">
        <title>Angebot ${t.offerNumber}</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 40px; color: #333; }
          .header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 40px; }
          .company { font-weight: bold; }
          .logo { max-width: 200px; max-height: 80px; }
          .customer { margin-bottom: 30px; }
          .document-title { font-size: 24px; font-weight: bold; margin: 30px 0; }
          .meta-info { margin-bottom: 30px; }
          table { width: 100%; border-collapse: collapse; margin: 20px 0; }
          th, td { padding: 10px; text-align: left; border-bottom: 1px solid #ddd; }
          th { background-color: #f5f5f5; font-weight: bold; }
          .sub-item { padding-left: 20px; font-style: italic; color: #666; }
          .totals { margin-top: 30px; text-align: right; }
          .total-row { font-weight: bold; font-size: 18px; }
          .notes { margin-top: 40px; }
        </style>
      </head>
      <body>
        <div class="header">
          <div class="company">
            ${((o=r.companyData)==null?void 0:o.name)||"Ihr Unternehmen"}<br>
            ${((s=r.companyData)==null?void 0:s.street)||""}<br>
            ${((u=r.companyData)==null?void 0:u.postalCode)||""} ${((c=r.companyData)==null?void 0:c.city)||""}
          </div>
          ${(d=r.companyData)!=null&&d.logo?`<img src="${r.companyData.logo}" alt="Logo" class="logo">`:""}
        </div>

        <div class="customer">
          <strong>${n.name}</strong><br>
          ${n.street||""}<br>
          ${n.zip||""} ${n.city||""}<br>
        </div>

        <div class="document-title">Angebot ${t.offerNumber}</div>

        <div class="meta-info">
          <strong>Datum:</strong> ${i}<br>
          <strong>Gültig bis:</strong> ${a}<br>
          <strong>Betreff:</strong> ${t.title}
        </div>

        <table>
          <thead>
            <tr>
              <th>Position</th>
              <th>Menge</th>
              <th>Einzelpreis</th>
              <th>Gesamt</th>
            </tr>
          </thead>
          <tbody>
            ${t.lineItems.map(x=>`
              <tr class="${x.parentItemId?"sub-item":""}">
                <td>
                  ${x.parentItemId?"↳ ":""}${x.title}
                  ${x.description?`<br><small>${x.description}</small>`:""}
                </td>
                <td>${x.quantity}</td>
                <td>€${x.unitPrice.toFixed(2)}</td>
                <td>€${x.total.toFixed(2)}</td>
              </tr>
            `).join("")}
          </tbody>
        </table>

        <div class="totals">
          <div>Zwischensumme: €${((f=t.subtotal)==null?void 0:f.toFixed(2))||t.total.toFixed(2)}</div>
          ${!((p=r==null?void 0:r.companyData)!=null&&p.kleinunternehmer)&&t.vatAmount&&t.vatAmount>0?`<div>MwSt. (${t.vatRate||19}%): €${t.vatAmount.toFixed(2)}</div>`:""}
          ${(m=r==null?void 0:r.companyData)!=null&&m.kleinunternehmer?'<div style="font-size: 12px; color: #666;">Umsatzsteuerbefreit nach §19 UStG</div>':""}
          <div class="total-row">Gesamtbetrag: €${t.total.toFixed(2)}</div>
        </div>

        ${t.notes?`<div class="notes"><strong>Anmerkungen:</strong><br>${t.notes}</div>`:""}
      </body>
      </html>
    `}static generateInvoiceHTML(t,n,r){var o,s,u,c,d,f,p,m;const i=new Date().toLocaleDateString("de-DE"),a=new Date(t.dueDate).toLocaleDateString("de-DE");return`
      <!DOCTYPE html>
      <html>
      <head>
        <meta charset="utf-8">
        <title>Rechnung ${t.invoiceNumber}</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 40px; color: #333; }
          .header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 40px; }
          .company { font-weight: bold; }
          .logo { max-width: 200px; max-height: 80px; }
          .customer { margin-bottom: 30px; }
          .document-title { font-size: 24px; font-weight: bold; margin: 30px 0; }
          .meta-info { margin-bottom: 30px; }
          table { width: 100%; border-collapse: collapse; margin: 20px 0; }
          th, td { padding: 10px; text-align: left; border-bottom: 1px solid #ddd; }
          th { background-color: #f5f5f5; font-weight: bold; }
          .sub-item { padding-left: 20px; font-style: italic; color: #666; }
          .totals { margin-top: 30px; text-align: right; }
          .total-row { font-weight: bold; font-size: 18px; }
          .notes { margin-top: 40px; }
        </style>
      </head>
      <body>
        <div class="header">
          <div class="company">
            ${((o=r.companyData)==null?void 0:o.name)||"Ihr Unternehmen"}<br>
            ${((s=r.companyData)==null?void 0:s.street)||""}<br>
            ${((u=r.companyData)==null?void 0:u.postalCode)||""} ${((c=r.companyData)==null?void 0:c.city)||""}
          </div>
          ${(d=r.companyData)!=null&&d.logo?`<img src="${r.companyData.logo}" alt="Logo" class="logo">`:""}
        </div>

        <div class="customer">
          <strong>${n.name}</strong><br>
          ${n.street||""}<br>
          ${n.zip||""} ${n.city||""}<br>
        </div>

        <div class="document-title">Rechnung ${t.invoiceNumber}</div>

        <div class="meta-info">
          <strong>Rechnungsdatum:</strong> ${i}<br>
          <strong>Fällig am:</strong> ${a}<br>
          <strong>Betreff:</strong> ${t.title}
        </div>

        <table>
          <thead>
            <tr>
              <th>Position</th>
              <th>Menge</th>
              <th>Einzelpreis</th>
              <th>Gesamt</th>
            </tr>
          </thead>
          <tbody>
            ${t.lineItems.map(x=>`
              <tr class="${x.parentItemId?"sub-item":""}">
                <td>
                  ${x.parentItemId?"↳ ":""}${x.title}
                  ${x.description?`<br><small>${x.description}</small>`:""}
                </td>
                <td>${x.quantity}</td>
                <td>€${x.unitPrice.toFixed(2)}</td>
                <td>€${x.total.toFixed(2)}</td>
              </tr>
            `).join("")}
          </tbody>
        </table>

        <div class="totals">
          <div>Zwischensumme: €${((f=t.subtotal)==null?void 0:f.toFixed(2))||t.total.toFixed(2)}</div>
          ${!((p=r==null?void 0:r.companyData)!=null&&p.kleinunternehmer)&&t.vatAmount&&t.vatAmount>0?`<div>MwSt. (${t.vatRate||19}%): €${t.vatAmount.toFixed(2)}</div>`:""}
          ${(m=r==null?void 0:r.companyData)!=null&&m.kleinunternehmer?'<div style="font-size: 12px; color: #666;">Umsatzsteuerbefreit nach §19 UStG</div>':""}
          <div class="total-row">Gesamtbetrag: €${t.total.toFixed(2)}</div>
        </div>

        ${t.notes?`<div class="notes"><strong>Anmerkungen:</strong><br>${t.notes}</div>`:""}
      </body>
      </html>
    `}static async htmlToPDF(t,n,r=!1){try{const{jsPDF:i}=await Or(async()=>{const{jsPDF:s}=await import("./jspdf.es.min-Tj56KNuF.js").then(u=>u.j);return{jsPDF:s}},[],import.meta.url),a=(await Or(async()=>{const{default:s}=await import("./html2canvas.esm-CBrSDip1.js");return{default:s}},[],import.meta.url)).default,o=document.createElement("div");o.innerHTML=t,o.style.position="absolute",o.style.left="-9999px",o.style.top="-9999px",o.style.width="210mm",o.style.background="white",o.style.padding="20px",document.body.appendChild(o);try{const s=await a(o,{scale:2,useCORS:!0,backgroundColor:"#ffffff",width:794,height:1123}),u=new i("p","mm","a4"),c=210,d=s.height*c/s.width,f=s.toDataURL("image/png");if(u.addImage(f,"PNG",0,0,c,d),r){const p=u.output("blob"),m=URL.createObjectURL(p),x=window.open(m,"_blank","width=800,height=600,scrollbars=yes,resizable=yes");x?(console.log(`✅ PDF preview "${n}" opened in new tab`),x.addEventListener("beforeunload",()=>{URL.revokeObjectURL(m)})):confirm(`🔍 PDF-Vorschau benötigt ein Popup!

Möchten Sie:
- "OK" → Popup erlauben und Vorschau öffnen
- "Abbrechen" → PDF direkt herunterladen`)?this.showInlinePDFPreview(p,n):u.save(n)}else u.save(n),console.log(`✅ PDF "${n}" downloaded successfully`)}finally{document.body.removeChild(o)}}catch(i){console.warn("Modern PDF generation failed, falling back to print dialog:",i);const a=window.open("","_blank","width=800,height=600");if(!a){const o=document.createElement("div");o.innerHTML=t,o.style.position="fixed",o.style.top="-1000px",o.style.left="-1000px",o.style.width="210mm",o.style.height="297mm",document.body.appendChild(o),window.focus(),window.print(),setTimeout(()=>{document.body.removeChild(o)},1e3);return}a.document.write(t),a.document.close(),a.onload=()=>{a.focus(),setTimeout(()=>{a.print()},1e3)}}}static showInlinePDFPreview(t,n){const r=document.createElement("div");r.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      z-index: 10000;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
      box-sizing: border-box;
    `;const i=document.createElement("div");i.style.cssText=`
      background: white;
      border-radius: 12px;
      box-shadow: 0 25px 50px rgba(0,0,0,0.25);
      display: flex;
      flex-direction: column;
      width: 80vw;
      height: 80vh;
      min-width: 600px;
      min-height: 400px;
      max-width: 95vw;
      max-height: 95vh;
      resize: both;
      overflow: hidden;
      border: 1px solid #e2e8f0;
    `;const a=document.createElement("div");a.style.cssText=`
      background: linear-gradient(160deg, #1e3a2e 0%, #0f2419 40%, #0a1b0f 100%);
      color: white;
      padding: 16px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-radius: 12px 12px 0 0;
      cursor: move;
      user-select: none;
      border-bottom: 1px solid #e2e8f0;
    `;const o=document.createElement("div");o.style.cssText="display: flex; align-items: center; gap: 12px;";const s=document.createElement("span");s.textContent="📄",s.style.fontSize="20px";const u=document.createElement("h3");u.textContent=`PDF Vorschau: ${n}`,u.style.cssText="margin: 0; font-size: 16px; font-weight: 600;",o.appendChild(s),o.appendChild(u);const c=document.createElement("div");c.style.cssText="display: flex; gap: 8px; align-items: center;";const d=document.createElement("button");d.textContent="⬜",d.title="Maximieren",d.style.cssText=`
      background: rgba(255,255,255,0.2);
      color: white;
      border: none;
      border-radius: 6px;
      width: 32px;
      height: 32px;
      cursor: pointer;
      font-size: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background-color 0.2s;
    `;const f=document.createElement("button");f.textContent="✕",f.title="Schließen",f.style.cssText=`
      background: rgba(239,68,68,0.2);
      color: white;
      border: none;
      border-radius: 6px;
      width: 32px;
      height: 32px;
      cursor: pointer;
      font-size: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background-color 0.2s;
    `;const p=document.createElement("div");p.style.cssText=`
      flex: 1;
      display: flex;
      flex-direction: column;
      overflow: hidden;
      background: #f8fafc;
    `;const m=document.createElement("div");m.style.cssText=`
      padding: 12px 20px;
      background: white;
      border-bottom: 1px solid #e2e8f0;
      display: flex;
      gap: 12px;
      align-items: center;
      flex-wrap: wrap;
    `;const x=document.createElement("button");x.innerHTML="💾 Herunterladen",x.style.cssText=`
      background: #1e3a2e;
      color: white;
      border: none;
      border-radius: 8px;
      padding: 10px 16px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 6px;
      transition: all 0.2s;
      box-shadow: 0 2px 4px rgba(30,58,46,0.3);
    `;const w=document.createElement("div");w.style.cssText=`
      flex: 1;
      padding: 20px;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      overflow: auto;
    `;const k=document.createElement("iframe"),g=URL.createObjectURL(t);k.src=g,k.style.cssText=`
      width: 100%;
      height: 100%;
      border: 1px solid #d1d5db;
      border-radius: 8px;
      background: white;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    `;const h=document.createElement("div");h.style.cssText=`
      padding: 8px 20px;
      background: #f1f5f9;
      border-top: 1px solid #e2e8f0;
      font-size: 12px;
      color: #64748b;
      border-radius: 0 0 12px 12px;
    `,h.textContent=`Dateigröße: ${(t.size/1024).toFixed(1)} KB`;let y=!1,C="";d.onclick=()=>{y?(i.style.cssText=C,d.textContent="⬜",d.title="Maximieren",y=!1):(C=i.style.cssText,i.style.cssText=`
          position: fixed;
          top: 20px;
          left: 20px;
          right: 20px;
          bottom: 20px;
          width: auto;
          height: auto;
          background: white;
          border-radius: 12px;
          box-shadow: 0 25px 50px rgba(0,0,0,0.25);
          display: flex;
          flex-direction: column;
          border: 1px solid #e2e8f0;
          resize: none;
        `,d.textContent="🗗",d.title="Wiederherstellen",y=!0)},f.onclick=()=>{document.body.removeChild(r),URL.revokeObjectURL(g)},x.onclick=()=>{const _=document.createElement("a");_.href=g,_.download=n,_.click()};let I=!1,b={x:0,y:0},E={x:0,y:0};a.onmousedown=_=>{if(y)return;I=!0,b={x:_.clientX,y:_.clientY};const R=i.getBoundingClientRect();E={x:R.left,y:R.top},a.style.cursor="grabbing"},document.onmousemove=_=>{if(!I||y)return;const R=_.clientX-b.x,L=_.clientY-b.y;i.style.left=E.x+R+"px",i.style.top=E.y+L+"px",i.style.position="absolute"},document.onmouseup=()=>{I=!1,a.style.cursor="move"};const D=_=>{_.key==="Escape"&&(document.body.removeChild(r),URL.revokeObjectURL(g),document.removeEventListener("keydown",D))};document.addEventListener("keydown",D),d.onmouseenter=()=>d.style.background="rgba(255,255,255,0.3)",d.onmouseleave=()=>d.style.background="rgba(255,255,255,0.2)",f.onmouseenter=()=>f.style.background="rgba(239,68,68,0.4)",f.onmouseleave=()=>f.style.background="rgba(239,68,68,0.2)",x.onmouseenter=()=>{x.style.background="#0f2419",x.style.transform="translateY(-1px)"},x.onmouseleave=()=>{x.style.background="#1e3a2e",x.style.transform="translateY(0)"},c.appendChild(d),c.appendChild(f),a.appendChild(o),a.appendChild(c),m.appendChild(x),w.appendChild(k),p.appendChild(m),p.appendChild(w),i.appendChild(a),i.appendChild(p),i.appendChild(h),r.appendChild(i),document.body.appendChild(r)}static async downloadFile(t,n,r){try{const i=await Cs.EXPORTS_DIR();await Cs.ensureDir(i);const a=new Blob([t],{type:r}),o=URL.createObjectURL(a),s=document.createElement("a");s.href=o,s.download=n,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(o),console.log(`✅ File exported: ${n} (fallback browser download)`)}catch(i){throw console.error("Failed to export file:",i),i}}}function Lv({title:e="Kunden"}){const{customers:t,loading:n,error:r,createCustomer:i,updateCustomer:a,deleteCustomer:o}=Vo(),[s,u]=v.useState("list"),[c,d]=v.useState(null),{showError:f,showSuccess:p}=vn(),{withLoading:m}=Xr(),x=v.useMemo(()=>[{key:"number",header:"Nummer"},{key:"name",header:"Name"},{key:"email",header:"E-Mail",render:y=>y.email||l.jsx("em",{style:{opacity:.6},children:"kein Eintrag"})},{key:"city",header:"Ort",render:y=>y.city||l.jsx("em",{style:{opacity:.6},children:"kein Eintrag"})},{key:"phone",header:"Telefon",render:y=>y.phone||l.jsx("em",{style:{opacity:.6},children:"kein Eintrag"})},{key:"id",header:"Aktionen",render:y=>l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{className:"btn btn-secondary",style:{padding:"4px 8px",fontSize:"12px"},onClick:()=>{d(y),u("edit")},disabled:n,children:"Bearbeiten"}),l.jsx("button",{className:"btn btn-danger",style:{padding:"4px 8px",fontSize:"12px"},onClick:()=>{confirm("Diesen Kunden wirklich löschen?")&&g(y.id)},disabled:n,children:"Löschen"})]})}],[n]);async function w(y){try{await i({name:y.name,email:y.email,phone:y.phone,street:y.street,zip:y.zip,city:y.city,notes:y.notes}),u("list")}catch(C){console.error("Error creating customer:",C)}}async function k(y){if(c)try{await a(c.id,{name:y.name,email:y.email,phone:y.phone,street:y.street,zip:y.zip,city:y.city,notes:y.notes}),u("list"),d(null)}catch(C){console.error("Error updating customer:",C)}}async function g(y){try{await m(()=>o(y),"Kunde wird gelöscht..."),p("Kunde wurde erfolgreich gelöscht.")}catch(C){const I=Fe(C);f(I)}}async function h(){try{await m(()=>Promise.resolve(Gi.exportCustomersToCSV(t)),"CSV wird erstellt..."),p("CSV-Export wurde erfolgreich erstellt.")}catch(y){const C=Fe(y);f("Fehler beim CSV-Export: "+C.message)}}return n&&t.length===0?l.jsx("div",{className:"card",children:l.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[l.jsx("div",{className:"loading-spinner",style:{margin:"0 auto 1rem"}}),l.jsx("p",{children:"Kundendaten werden geladen..."})]})}):r&&t.length===0?l.jsx("div",{className:"card",children:l.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[l.jsxs("p",{style:{color:"rgba(239, 68, 68, 0.9)",marginBottom:"1rem"},children:["Fehler beim Laden der Kundendaten: ",r]}),l.jsx("button",{className:"btn btn-primary",onClick:()=>window.location.reload(),children:"Seite neu laden"})]})}):l.jsxs("div",{className:"card",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[l.jsxs("div",{children:[l.jsx("h2",{style:{margin:"0 0 4px 0"},children:e}),l.jsx("div",{style:{opacity:.7},children:"Verwalte deine Kunden. Daten werden lokal gespeichert."})]}),l.jsxs("div",{style:{display:"flex",gap:"8px"},children:[l.jsx("button",{className:"btn btn-success",onClick:h,disabled:n||t.length===0,children:"CSV Export"}),l.jsx("button",{className:`btn ${s==="create"?"btn-secondary":"btn-primary"}`,onClick:()=>u(s==="create"?"list":"create"),disabled:n,children:s==="create"?"Abbrechen":"Neuer Kunde"})]})]}),l.jsx(Ho,{columns:x,data:t,emptyMessage:"Noch keine Kunden angelegt."}),s==="create"&&l.jsxs("div",{style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid rgba(0,0,0,.1)"},children:[l.jsxs("div",{style:{marginBottom:"16px"},children:[l.jsx("h3",{style:{margin:"0 0 4px 0"},children:"Neuer Kunde"}),l.jsx("div",{style:{opacity:.7},children:"Erstelle einen neuen Kunden."})]}),l.jsx(xd,{onSubmit:w,onCancel:()=>u("list"),submitLabel:"Erstellen"})]}),s==="edit"&&c&&l.jsxs("div",{style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid rgba(0,0,0,.1)"},children:[l.jsxs("div",{style:{marginBottom:"16px"},children:[l.jsx("h3",{style:{margin:"0 0 4px 0"},children:"Kunde bearbeiten"}),l.jsxs("div",{style:{opacity:.7},children:["Bearbeite die Kundendaten von ",c.name,"."]})]}),l.jsx(xd,{initial:{name:c.name,email:c.email||"",phone:c.phone||"",street:c.street||"",zip:c.zip||"",city:c.city||"",notes:c.notes||""},onSubmit:k,onCancel:()=>{u("list"),d(null)},submitLabel:"Aktualisieren"})]})]})}const vd=({offer:e,customers:t,packages:n,onSave:r,onCancel:i,submitLabel:a="Erstellen"})=>{var B,U;const{adapter:o}=Kn(),{settings:s}=ia(),{showError:u,showSuccess:c}=vn(),{withLoading:d}=Xr(),[f,p]=v.useState(((B=e==null?void 0:e.customerId)==null?void 0:B.toString())||""),[m,x]=v.useState((e==null?void 0:e.title)||""),[w,k]=v.useState((e==null?void 0:e.notes)||""),[g,h]=v.useState(e!=null&&e.validUntil?new Date(e.validUntil).toISOString().split("T")[0]:""),[y,C]=v.useState((e==null?void 0:e.lineItems)||[]),[I,b]=v.useState((e==null?void 0:e.vatRate)||19),[E,D]=v.useState({}),[_,R]=v.useState(!1),L=((U=s==null?void 0:s.companyData)==null?void 0:U.kleinunternehmer)||!1,te=y.reduce((O,V)=>O+V.total,0),q=L?0:te*I/100,le=te+q,ge=()=>{const O={id:Date.now(),title:"",description:"",quantity:1,unitPrice:0,total:0,parentItemId:void 0};C([...y,O])},ue=O=>{const V={id:Date.now(),title:"",description:"",quantity:1,unitPrice:0,total:0,parentItemId:O};C([...y,V])},he=(O,V,P)=>{C(A=>A.map(ee=>{if(ee.id===O){const ae={...ee,[V]:P};return(V==="quantity"||V==="unitPrice")&&(ae.total=ae.quantity*ae.unitPrice),ae}return ee}))},$=O=>{C(V=>V.filter(P=>P.id!==O&&P.parentItemId!==O))},T=async O=>{if(o)try{const V=await o.getPackage(O);if(!V)return;const P=V.lineItems.map(A=>({id:Date.now()+Math.random(),title:A.title,description:A.description,quantity:A.quantity,unitPrice:A.amount,total:A.quantity*A.amount,parentItemId:A.parentItemId}));C([...y,...P])}catch(V){console.error("Error adding package:",V)}};function z(){const O={};return f||(O.customerId="Kunde ist erforderlich"),m!=null&&m.trim()||(O.title="Angebots-Titel ist erforderlich"),y.length===0&&(O.lineItems="Mindestens eine Position ist erforderlich"),y.forEach((V,P)=>{var A;(A=V.title)!=null&&A.trim()||(O[`lineItem_${P}_title`]=`Titel für Position ${P+1} ist erforderlich`),V.quantity<=0&&(O[`lineItem_${P}_quantity`]=`Menge für Position ${P+1} muss größer als 0 sein`),V.unitPrice<0&&(O[`lineItem_${P}_unitPrice`]=`Preis für Position ${P+1} darf nicht negativ sein`)}),D(O),Object.keys(O).length===0}const G=async O=>{if(O.preventDefault(),_)return;if(!f||!m.trim()){alert("❌ Pflichtfelder fehlen:\\n\\n"+(f?"":"• Bitte wählen Sie einen Kunden aus\\n")+(m.trim()?"":"• Bitte geben Sie einen Titel ein\\n"));return}if(!z())return;const V={offerNumber:(e==null?void 0:e.offerNumber)||`AN-${Date.now()}`,customerId:parseInt(f),title:m.trim(),notes:w.trim(),validUntil:g,lineItems:y,subtotal:te,vatRate:I,vatAmount:q,total:le,status:(e==null?void 0:e.status)||"draft"};try{R(!0),await d(()=>r(V),`${a}...`),c(`Angebot wurde erfolgreich ${a==="Erstellen"?"erstellt":"aktualisiert"}.`)}catch(P){const A=Fe(P);A instanceof de&&A.field?D(ee=>({...ee,[A.field]:A.message})):u(A)}finally{R(!1)}},oe=y.filter(O=>!O.parentItemId);return l.jsxs("div",{className:"card",style:{maxWidth:"800px",margin:"0 auto"},children:[l.jsx("h2",{style:{margin:"0 0 16px 0"},children:e?"Angebot bearbeiten":"Neues Angebot"}),l.jsxs("form",{onSubmit:G,style:{display:"flex",flexDirection:"column",gap:"16px"},children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"Kunde *"}),l.jsxs("select",{value:f,onChange:O=>{p(O.target.value),E.customerId&&D(V=>({...V,customerId:""}))},style:{width:"100%",padding:"8px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"6px",background:"rgba(17,24,39,.8)",color:"var(--muted)"},required:!0,disabled:_,className:E.customerId?"error":"",children:[l.jsx("option",{value:"",children:"Kunde auswählen"}),t.map(O=>l.jsx("option",{value:O.id,children:O.name},O.id))]}),E.customerId&&l.jsx("div",{className:"field-error",children:E.customerId})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"Gültig bis"}),l.jsx("input",{type:"date",value:g,onChange:O=>h(O.target.value),style:{width:"100%",padding:"8px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"6px",background:"rgba(17,24,39,.8)",color:"var(--muted)"}})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"Titel *"}),l.jsx("input",{type:"text",value:m,onChange:O=>{x(O.target.value),E.title&&D(V=>({...V,title:""}))},style:{width:"100%",padding:"8px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"6px",background:"rgba(17,24,39,.8)",color:"var(--muted)"},required:!0,disabled:_,className:E.title?"error":""}),E.title&&l.jsx("div",{className:"field-error",children:E.title})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"Anmerkungen"}),l.jsx("textarea",{value:w,onChange:O=>k(O.target.value),rows:3,style:{width:"100%",padding:"8px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"6px",background:"rgba(17,24,39,.8)",color:"var(--muted)",resize:"vertical"}})]}),l.jsxs("div",{style:{borderTop:"1px solid rgba(255,255,255,.1)",paddingTop:"16px"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[l.jsx("h3",{style:{margin:"0",fontSize:"16px",fontWeight:"600"},children:"Positionen"}),l.jsxs("select",{onChange:O=>{O.target.value&&(T(parseInt(O.target.value)),O.target.value="")},style:{padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},disabled:_,children:[l.jsx("option",{value:"",children:"Paket hinzufügen"}),n.map(O=>l.jsx("option",{value:O.id,children:O.internalTitle},O.id))]}),l.jsx("button",{type:"button",onClick:ge,disabled:_,className:"btn btn-success",style:{fontSize:"14px",padding:"6px 12px"},children:"Position hinzufügen"})]}),E.lineItems&&l.jsx("div",{className:"field-error",style:{marginBottom:"12px"},children:E.lineItems}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:oe.map(O=>l.jsxs("div",{children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr 1fr auto",gap:"8px",alignItems:"start",padding:"12px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"6px",background:"rgba(17,24,39,.4)"},children:[l.jsxs("div",{children:[l.jsx("input",{type:"text",placeholder:"Titel",value:O.title,onChange:V=>he(O.id,"title",V.target.value),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px",marginBottom:"4px"}}),l.jsx("input",{type:"text",placeholder:"Beschreibung",value:O.description||"",onChange:V=>he(O.id,"description",V.target.value),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"}})]}),l.jsx("div",{children:l.jsx("input",{type:"number",placeholder:"Menge",value:O.quantity,onChange:V=>he(O.id,"quantity",parseFloat(V.target.value)||0),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},min:"0",step:"0.01"})}),l.jsx("div",{children:l.jsx("input",{type:"number",placeholder:"Einzelpreis",value:O.unitPrice,onChange:V=>he(O.id,"unitPrice",parseFloat(V.target.value)||0),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},min:"0",step:"0.01"})}),l.jsxs("div",{style:{padding:"6px",fontSize:"14px",fontWeight:"500"},children:["€",O.total.toFixed(2)]}),l.jsxs("div",{style:{display:"flex",gap:"4px"},children:[l.jsx("button",{type:"button",onClick:()=>ue(O.id),style:{backgroundColor:"var(--ok)",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Sub"}),l.jsx("button",{type:"button",onClick:()=>$(O.id),style:{backgroundColor:"var(--danger)",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"✕"})]})]}),y.filter(V=>V.parentItemId===O.id).map(V=>l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr 1fr auto",gap:"8px",alignItems:"start",padding:"12px",marginLeft:"24px",border:"1px solid rgba(96,165,250,.3)",borderLeft:"4px solid var(--accent)",borderRadius:"6px",background:"rgba(96,165,250,.1)",marginTop:"4px"},children:[l.jsxs("div",{children:[l.jsx("input",{type:"text",placeholder:"Sub-Titel",value:V.title,onChange:P=>he(V.id,"title",P.target.value),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px",marginBottom:"4px"}}),l.jsx("input",{type:"text",placeholder:"Sub-Beschreibung",value:V.description||"",onChange:P=>he(V.id,"description",P.target.value),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"}})]}),l.jsx("div",{children:l.jsx("input",{type:"number",placeholder:"Menge",value:V.quantity,onChange:P=>he(V.id,"quantity",parseFloat(P.target.value)||0),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},min:"0",step:"0.01"})}),l.jsx("div",{children:l.jsx("input",{type:"number",placeholder:"Einzelpreis",value:V.unitPrice,onChange:P=>he(V.id,"unitPrice",parseFloat(P.target.value)||0),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},min:"0",step:"0.01"})}),l.jsxs("div",{style:{padding:"6px",fontSize:"14px",fontWeight:"500"},children:["€",V.total.toFixed(2)]}),l.jsx("div",{children:l.jsx("button",{type:"button",onClick:()=>$(V.id),style:{backgroundColor:"var(--danger)",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"✕"})})]},V.id))]},O.id))})]}),l.jsx("div",{style:{borderTop:"1px solid rgba(255,255,255,.1)",paddingTop:"16px"},children:l.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:l.jsxs("div",{style:{width:"300px",display:"flex",flexDirection:"column",gap:"8px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[l.jsx("span",{children:"Zwischensumme:"}),l.jsxs("span",{children:["€",te.toFixed(2)]})]}),!L&&l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx("span",{children:"MwSt.:"}),l.jsx("input",{type:"number",value:I,onChange:O=>b(parseFloat(O.target.value)||0),style:{width:"60px",padding:"4px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},min:"0",max:"100",step:"0.1"}),l.jsx("span",{children:"%"})]}),l.jsxs("span",{children:["€",q.toFixed(2)]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"600",fontSize:"16px",borderTop:"1px solid rgba(255,255,255,.1)",paddingTop:"8px"},children:[l.jsx("span",{children:"Gesamtbetrag:"}),l.jsxs("span",{children:["€",le.toFixed(2)]})]})]})})}),l.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",marginTop:"16px"},children:[l.jsx("button",{type:"button",onClick:i,disabled:_,className:"btn btn-secondary",style:{padding:"12px 24px",fontSize:"14px",fontWeight:"500",minWidth:"120px"},children:"Abbrechen"}),l.jsx("button",{type:"submit",disabled:_,className:"btn btn-primary",style:{padding:"12px 24px",fontSize:"14px",fontWeight:"500",minWidth:"120px"},children:_?"Wird gespeichert...":a})]}),l.jsx("style",{children:`
          .field-error {
            color: rgba(239, 68, 68, 0.9);
            font-size: 0.8rem;
            margin-top: 4px;
          }
          .error {
            border-color: rgba(239, 68, 68, 0.5) !important;
            background: rgba(239, 68, 68, 0.1) !important;
          }
        `})]})]})},wd="rawalite-settings";function xh(){const[e,t]=v.useState(Ct),[n,r]=v.useState(!0),[i,a]=v.useState(null);v.useEffect(()=>{try{const d=localStorage.getItem(wd);if(d){const f=JSON.parse(d);t({...Ct,...f,companyData:{...Ct.companyData,...f.companyData},numberingCircles:f.numberingCircles||Ct.numberingCircles})}}catch(d){console.error("Error loading settings:",d),a("Fehler beim Laden der Einstellungen")}finally{r(!1)}},[]);const o=async d=>{try{r(!0),localStorage.setItem(wd,JSON.stringify(d)),t(d),a(null)}catch(f){throw console.error("Error saving settings:",f),a("Fehler beim Speichern der Einstellungen"),f}finally{r(!1)}};return{settings:e,loading:n,error:i,updateCompanyData:async d=>{const f={...e,companyData:d};await o(f)},updateNumberingCircles:async d=>{const f={...e,numberingCircles:d};await o(f)},getNextNumber:d=>{const f=e.numberingCircles.find(w=>w.id===d);if(!f)throw new Error(`Nummernkreis '${d}' nicht gefunden`);const p=new Date().getFullYear();let m=f.current+1;f.resetMode==="yearly"&&f.lastResetYear!==p&&(m=1);const x=e.numberingCircles.map(w=>w.id===d?{...w,current:m,lastResetYear:p}:w);return o({...e,numberingCircles:x}),`${f.prefix}${m.toString().padStart(f.digits,"0")}`},saveSettings:o}}function zv({title:e="Angebote"}){const{offers:t,loading:n,error:r,createOffer:i,updateOffer:a,deleteOffer:o}=Wo(),{customers:s}=Vo(),{packages:u}=_u(),{settings:c}=xh(),{showSuccess:d,showError:f}=vn(),[p,m]=v.useState("list"),[x,w]=v.useState(null),k=v.useMemo(()=>[{key:"offerNumber",header:"Nummer"},{key:"customerId",header:"Kunde",render:E=>{const D=s.find(_=>_.id===E.customerId);return(D==null?void 0:D.name)||`Kunde #${E.customerId}`}},{key:"title",header:"Titel"},{key:"status",header:"Status",render:E=>{const D={draft:"#6b7280",sent:"#3b82f6",accepted:"#10b981",rejected:"#ef4444"},_={draft:"Entwurf",sent:"Versendet",accepted:"Angenommen",rejected:"Abgelehnt"},R=D[E.status]||"#6b7280",L=_[E.status]||E.status;return l.jsx("span",{style:{padding:"4px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"500",backgroundColor:R+"20",color:R},children:L})}},{key:"total",header:"Gesamtbetrag",render:E=>`€${E.total.toFixed(2)}`},{key:"validUntil",header:"Gültig bis",render:E=>E.validUntil?new Date(E.validUntil).toLocaleDateString("de-DE"):"-"},{key:"id",header:"Aktionen",render:E=>l.jsxs("div",{style:{display:"flex",gap:"4px"},children:[l.jsx("button",{className:"btn btn-info",onClick:()=>b(E),style:{padding:"4px 8px",fontSize:"12px"},title:"PDF Vorschau anzeigen",children:"👁️ Vorschau"}),l.jsx("button",{className:"btn btn-warning",onClick:()=>I(E),style:{padding:"4px 8px",fontSize:"12px"},title:"PDF herunterladen",children:"💾 PDF"}),l.jsx("button",{className:"btn btn-secondary",style:{padding:"4px 8px",fontSize:"12px"},onClick:()=>{w(E),m("edit")},children:"Bearbeiten"}),l.jsxs("select",{value:E.status,onChange:D=>y(E.id,D.target.value),style:{padding:"4px 8px",fontSize:"12px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",cursor:"pointer"},children:[l.jsx("option",{value:"draft",children:"Entwurf"}),l.jsx("option",{value:"sent",children:"Gesendet"}),l.jsx("option",{value:"accepted",children:"Angenommen"}),l.jsx("option",{value:"rejected",children:"Abgelehnt"})]}),l.jsx("button",{className:"btn btn-danger",style:{padding:"4px 8px",fontSize:"12px"},onClick:()=>{confirm("Dieses Angebot wirklich löschen?")&&C(E.id)},children:"Löschen"})]})}],[s]);async function g(E){await i(E),m("list")}async function h(E){x&&(await a(x.id,E),m("list"),w(null))}async function y(E,D){try{const _=t.find(q=>q.id===E);if(!_)return;const R=new Date().toISOString(),L={};switch(D){case"sent":L.sentAt=R;break;case"accepted":L.acceptedAt=R;break;case"rejected":L.rejectedAt=R;break}await a(E,{..._,status:D,...L}),d(`Angebot-Status auf "${{draft:"Entwurf",sent:"Gesendet",accepted:"Angenommen",rejected:"Abgelehnt"}[D]}" geändert`)}catch{f("Fehler beim Ändern des Status")}}async function C(E){await o(E)}const I=async E=>{const D=s.find(_=>_.id===E.customerId);if(!D){alert("Kunde nicht gefunden");return}try{await Gi.exportOfferToPDF(E,D,c,!1)}catch(_){console.error("PDF Export failed:",_),alert("PDF Export fehlgeschlagen: "+(_ instanceof Error?_.message:"Unbekannter Fehler"))}},b=async E=>{const D=s.find(_=>_.id===E.customerId);if(!D){alert("Kunde nicht gefunden");return}try{await Gi.exportOfferToPDF(E,D,c,!0)}catch(_){console.error("PDF Preview failed:",_),alert("PDF Vorschau fehlgeschlagen: "+(_ instanceof Error?_.message:"Unbekannter Fehler"))}};return n?l.jsx("div",{className:"card",children:"Lade Angebote..."}):r?l.jsxs("div",{className:"card",children:["Fehler: ",r]}):l.jsxs("div",{className:"card",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[l.jsxs("div",{children:[l.jsx("h2",{style:{margin:"0 0 4px 0"},children:e}),l.jsx("div",{style:{opacity:.7},children:"Verwalte deine Angebote und exportiere sie als PDF."})]}),l.jsx("button",{className:`btn ${p==="create"?"btn-secondary":"btn-primary"}`,onClick:()=>m(p==="create"?"list":"create"),children:p==="create"?"Abbrechen":"Neues Angebot"})]}),l.jsx(Ho,{columns:k,data:t,emptyMessage:"Noch keine Angebote erstellt."}),p==="create"&&l.jsxs("div",{style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid rgba(255,255,255,.1)"},children:[l.jsxs("div",{style:{marginBottom:"16px"},children:[l.jsx("h3",{style:{margin:"0 0 4px 0"},children:"Neues Angebot"}),l.jsx("div",{style:{opacity:.7},children:"Erstelle ein neues Angebot."})]}),l.jsx(vd,{customers:s,packages:u,onSave:g,onCancel:()=>m("list"),submitLabel:"Erstellen"})]}),p==="edit"&&x&&l.jsxs("div",{style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid rgba(255,255,255,.1)"},children:[l.jsxs("div",{style:{marginBottom:"16px"},children:[l.jsx("h3",{style:{margin:"0 0 4px 0"},children:"Angebot bearbeiten"}),l.jsxs("div",{style:{opacity:.7},children:['Bearbeite das Angebot "',x.title,'".']})]}),l.jsx(vd,{offer:x,customers:s,packages:u,onSave:h,onCancel:()=>{m("list"),w(null)},submitLabel:"Aktualisieren"})]})]})}function Av({}){const{adapter:e,ready:t,error:n}=Kn(),[r,i]=v.useState([]),[a,o]=v.useState(!1),[s,u]=v.useState("");v.useEffect(()=>{if(!t||!e)return;let d=!0;return(async()=>{o(!0);try{const f=await e.listCustomers();d&&i(f)}finally{d&&o(!1)}})(),()=>{d=!1}},[t,e]);async function c(){if(!e)return;const d=s.trim();if(!d)return;const f=`K-${String(Date.now()).slice(-6)}`;await e.createCustomer({number:f,name:d});const p=await e.listCustomers();i(p),u("")}return l.jsxs("div",{className:"p-4 space-y-6",children:[l.jsx("header",{className:"flex items-center justify-between",children:l.jsx("h1",{className:"text-2xl font-semibold",children:"Angebot – Details"})}),!t&&l.jsx("div",{className:"text-sm text-gray-500",children:"Initialisiere Persistenz…"}),n&&l.jsxs("div",{className:"text-sm text-red-600",children:["Persistenzfehler: ",String(n)]}),l.jsxs("section",{className:"space-y-3",children:[l.jsx("h2",{className:"text-lg font-medium",children:"Schnell-Kunde anlegen"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{value:s,onChange:d=>u(d.target.value),placeholder:"Kundenname",className:"flex-1 px-3 py-2 border rounded"}),l.jsx("button",{onClick:c,disabled:!s.trim()||!e,className:"px-4 py-2 bg-blue-600 text-white rounded disabled:bg-gray-400",children:"Hinzufügen"})]})]}),l.jsxs("section",{className:"space-y-3",children:[l.jsxs("h2",{className:"text-lg font-medium",children:["Kunden (",r.length,")"]}),a?l.jsx("div",{className:"text-sm text-gray-500",children:"Lade Kunden…"}):l.jsx("div",{className:"grid gap-2",children:r.map(d=>l.jsxs("div",{className:"p-3 border rounded",children:[l.jsx("div",{className:"font-medium",children:d.name}),l.jsx("div",{className:"text-sm text-gray-600",children:d.number})]},d.id))})]})]})}function bd({initial:e,onSubmit:t,onCancel:n,submitLabel:r="Speichern",packages:i=[]}){const[a,o]=v.useState(e??{internalTitle:"",lineItems:[],addVat:!1}),[s,u]=v.useState({title:"",quantity:1,amount:0,parentItemId:void 0,description:""}),[c,d]=v.useState(""),[f,p]=v.useState({}),[m,x]=v.useState(!1),{showError:w,showSuccess:k}=vn(),{withLoading:g}=Xr();function h(){var te;if(!s.title.trim()){d("Bitte einen Titel für die Position eingeben"),setTimeout(()=>{const q=document.querySelector('input[placeholder*="Position"]');q==null||q.focus()},100);return}d("");const R={title:s.title.trim(),quantity:s.quantity,amount:s.amount,parentItemId:s.parentItemId,description:((te=s.description)==null?void 0:te.trim())||void 0};o(q=>({...q,lineItems:[...q.lineItems,R]}));const L=s.parentItemId;u({title:"",quantity:1,amount:0,parentItemId:L,description:""}),setTimeout(()=>{const q=document.querySelector('input[placeholder*="Position"]');q==null||q.focus()},100)}function y(R){o(L=>({...L,lineItems:L.lineItems.filter((te,q)=>q!==R)}))}function C(R,L,te){o(q=>({...q,lineItems:q.lineItems.map((le,ge)=>ge===R?{...le,[L]:te}:le)}))}function I(){const R={};return a.internalTitle.trim()||(R.internalTitle="Bitte einen internen Titel eingeben"),a.lineItems.length===0&&(R.lineItems="Bitte mindestens eine Position hinzufügen"),a.lineItems.forEach((L,te)=>{L.title.trim()||(R[`item_${te}_title`]="Titel ist erforderlich"),L.quantity<=0&&(R[`item_${te}_quantity`]="Menge muss größer als 0 sein"),L.amount<0&&(R[`item_${te}_amount`]="Betrag darf nicht negativ sein")}),p(R),Object.keys(R).length===0}const b=a.lineItems.reduce((R,L)=>L.parentItemId?R:R+L.quantity*L.amount,0);async function E(R){if(R.preventDefault(),!I()||m)return;const L={...a,internalTitle:a.internalTitle.trim()};try{x(!0),await g(()=>t(L),`${r}...`),k(`Paket wurde erfolgreich ${r==="Speichern"?"gespeichert":"aktualisiert"}.`)}catch(te){const q=Fe(te);q instanceof de&&q.field?p(le=>({...le,[q.field]:q.message})):w(q)}finally{x(!1)}}const D=i.filter(R=>!R.parentPackageId),_=a.lineItems.length>0||D.length>0;return l.jsxs("form",{onSubmit:E,className:"package-form",style:{display:"grid",gap:16},children:[l.jsxs("div",{style:{display:"grid",gap:6},children:[l.jsx("label",{children:"Paket-Name*"}),l.jsx("input",{value:a.internalTitle,onChange:R=>{o(L=>({...L,internalTitle:R.target.value})),f.internalTitle&&p(L=>({...L,internalTitle:""}))},placeholder:"Webdesign-Paket",disabled:m,className:f.internalTitle?"error":""}),f.internalTitle&&l.jsx("span",{className:"field-error",children:f.internalTitle})]}),_&&l.jsxs("div",{style:{display:"grid",gap:6},children:[l.jsx("label",{children:"Als Subpaket zu (optional)"}),l.jsxs("select",{value:a.parentPackageId||"",onChange:R=>o(L=>({...L,parentPackageId:R.target.value?Number(R.target.value):void 0})),disabled:m,children:[l.jsx("option",{value:"",children:"-- Hauptpaket --"}),D.length>0?D.map(R=>l.jsx("option",{value:R.id,children:R.internalTitle},R.id)):l.jsx("option",{disabled:!0,style:{fontStyle:"italic",opacity:.7},children:"Speichere zuerst ein Hauptpaket, um Subpakete erstellen zu können"})]})]}),l.jsxs("div",{children:[l.jsx("h3",{style:{margin:"0 0 12px 0"},children:"Leistungspositionen"}),f.lineItems&&l.jsx("div",{className:"field-error",style:{marginBottom:"12px"},children:f.lineItems}),a.lineItems.map((R,L)=>{const te=!!R.parentItemId;return l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto 120px auto",gap:8,alignItems:"center",padding:"8px 0",paddingLeft:te?"20px":"0",borderBottom:"1px solid rgba(255,255,255,.1)",borderLeft:te?"2px solid rgba(96,165,250,.5)":"none"},children:[l.jsxs("div",{children:[te&&l.jsx("span",{style:{opacity:.7,fontSize:"12px"},children:"↳ "}),l.jsx("input",{value:R.title,onChange:q=>C(L,"title",q.target.value),placeholder:te?"Sub-Position":"Hauptposition",disabled:m,className:f[`item_${L}_title`]?"error":""}),f[`item_${L}_title`]&&l.jsx("div",{className:"field-error",style:{fontSize:"10px"},children:f[`item_${L}_title`]}),te&&l.jsx("input",{value:R.description||"",onChange:q=>C(L,"description",q.target.value),placeholder:"Beschreibung (optional)",style:{marginTop:"4px",fontSize:"12px",opacity:.8},disabled:m})]}),l.jsx("input",{type:"number",value:R.quantity,onChange:q=>C(L,"quantity",Number(q.target.value)),style:{width:"60px"},min:"1",disabled:m,className:f[`item_${L}_quantity`]?"error":""}),l.jsx("input",{type:"number",value:R.amount,onChange:q=>C(L,"amount",Number(q.target.value)),placeholder:te?"0":"1000",step:"0.01",disabled:m,className:f[`item_${L}_amount`]?"error":""}),l.jsxs("div",{style:{display:"flex",gap:"4px"},children:[!te&&l.jsx("button",{type:"button",onClick:()=>{u(q=>({...q,parentItemId:L,title:"",description:""})),setTimeout(()=>{const q=document.querySelector('input[placeholder*="Position"]');q==null||q.focus()},100)},disabled:m,style:{backgroundColor:"rgba(96,165,250,.8)",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},title:"Sub-Item zu dieser Position hinzufügen",children:"+ Sub"}),l.jsx("button",{type:"button",onClick:()=>y(L),disabled:m,style:{backgroundColor:"rgba(239,68,68,.8)",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"🗑️"})]})]},L)}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto 120px auto auto",gap:8,alignItems:"center",padding:"12px 0",borderTop:"2px solid rgba(96,165,250,.3)",marginTop:"8px"},children:[l.jsxs("div",{children:[a.lineItems.filter(R=>!R.parentItemId).length>0&&l.jsxs("select",{value:s.parentItemId||"",onChange:R=>u(L=>({...L,parentItemId:R.target.value?Number(R.target.value):void 0})),style:{marginBottom:"4px",width:"100%"},disabled:m,children:[l.jsx("option",{value:"",children:"-- Hauptposition --"}),a.lineItems.filter(R=>!R.parentItemId).map((R,L)=>l.jsxs("option",{value:L,children:["↳ Sub-Item zu: ",R.title]},L))]}),l.jsx("input",{value:s.title,onChange:R=>{u(L=>({...L,title:R.target.value})),c&&d("")},placeholder:s.parentItemId!==void 0?"Sub-Position...":"Neue Position...",style:{width:"100%",border:c?"1px solid #ff6b6b":"1px solid rgba(255,255,255,.15)"},disabled:m}),s.parentItemId!==void 0&&l.jsx("input",{value:s.description,onChange:R=>u(L=>({...L,description:R.target.value})),placeholder:"Beschreibung (optional)",style:{marginTop:"4px",fontSize:"12px",opacity:.8,width:"100%"},disabled:m}),c&&l.jsx("div",{className:"field-error",children:c})]}),l.jsx("input",{type:"number",value:s.quantity,onChange:R=>u(L=>({...L,quantity:Number(R.target.value)})),style:{width:"60px"},min:"1",disabled:m}),l.jsx("input",{type:"number",value:s.amount,onChange:R=>u(L=>({...L,amount:Number(R.target.value)})),placeholder:"0",step:"0.01",disabled:m}),s.parentItemId!==void 0&&l.jsx("button",{type:"button",onClick:()=>u(R=>({...R,parentItemId:void 0})),disabled:m,style:{backgroundColor:"rgba(156,163,175,.8)",color:"white",border:"none",padding:"8px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},title:"Zu Hauptposition wechseln",children:"Haupt"}),l.jsx("button",{type:"button",onClick:h,disabled:m,style:{backgroundColor:"rgba(34,197,94,.8)",color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"+ Position hinzufügen"})]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",borderTop:"1px solid rgba(255,255,255,.2)",paddingTop:"12px"},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[l.jsx("input",{type:"checkbox",checked:a.addVat,onChange:R=>o(L=>({...L,addVat:R.target.checked})),disabled:m}),"MwSt. hinzufügen"]}),l.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold"},children:["Total: €",b.toFixed(2),a.addVat&&l.jsx("span",{style:{fontSize:"12px",opacity:.8,display:"block"},children:"zzgl. MwSt."})]})]}),l.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[l.jsx("button",{type:"submit",disabled:m,className:"btn btn-primary",style:{padding:"12px 24px",fontSize:"14px",fontWeight:"500",minWidth:"120px"},children:m?"Wird gespeichert...":r}),n&&l.jsx("button",{type:"button",onClick:n,disabled:m,className:"btn btn-secondary",style:{padding:"12px 24px",fontSize:"14px",fontWeight:"500",minWidth:"120px"},children:"Abbrechen"})]}),l.jsx("style",{children:`
        .package-form input, 
        .package-form select { 
          background: rgba(255,255,255,.06); 
          color: white; 
          border: 1px solid rgba(255,255,255,.15); 
          padding: 10px 12px; 
          border-radius: 10px; 
          font-family: inherit;
        }
        
        .package-form select option {
          background: #1a1a1a;
          color: white;
          padding: 8px;
        }
        
        .package-form input:focus, 
        .package-form select:focus { 
          outline: 2px solid rgba(96,165,250,.5);
          background: rgba(255,255,255,.08);
        }
        
        .package-form input.error {
          border-color: rgba(239, 68, 68, 0.5);
          background: rgba(239, 68, 68, 0.1);
        }
        
        .package-form input:disabled, 
        .package-form select:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }
        
        .package-form label {
          font-weight: 500;
          color: rgba(255,255,255,.9);
        }
        
        .field-error {
          color: rgba(239, 68, 68, 0.9);
          font-size: 0.8rem;
          margin-top: 4px;
        }
        
        .package-form input[type="checkbox"] {
          width: auto;
          margin: 0;
        }
      `})]})}function Fv({title:e="Pakete"}){const{packages:t,loading:n,error:r,createPackage:i,updatePackage:a,deletePackage:o}=_u(),[s,u]=v.useState("list"),[c,d]=v.useState(null),{showError:f,showSuccess:p}=vn(),{withLoading:m}=Xr();t.filter(h=>!h.parentPackageId),t.filter(h=>h.parentPackageId);const x=v.useMemo(()=>[{key:"internalTitle",header:"Bezeichnung"},{key:"total",header:"Preis",render:h=>`€${h.total.toFixed(2)}`},{key:"lineItems",header:"Positionen",render:h=>`${h.lineItems.length} Position(en)`},{key:"parentPackageId",header:"Typ",render:h=>h.parentPackageId?l.jsx("em",{style:{opacity:.7},children:"Subpaket"}):l.jsx("strong",{children:"Hauptpaket"})},{key:"id",header:"Aktionen",render:h=>l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{className:"btn btn-secondary",style:{padding:"4px 8px",fontSize:"12px"},onClick:()=>{d(h),u("edit")},disabled:n,children:"Bearbeiten"}),l.jsx("button",{className:"btn btn-danger",style:{padding:"4px 8px",fontSize:"12px"},onClick:()=>{confirm("Dieses Paket wirklich löschen?")&&g(h.id)},disabled:n,children:"Löschen"})]})}],[n]);async function w(h){try{await i({internalTitle:h.internalTitle,lineItems:h.lineItems.map((y,C)=>({...y,id:C+1})),parentPackageId:h.parentPackageId,addVat:h.addVat}),u("list")}catch(y){console.error("Error creating package:",y)}}async function k(h){if(c)try{await a(c.id,{internalTitle:h.internalTitle,lineItems:h.lineItems.map((y,C)=>({...y,id:C+1})),parentPackageId:h.parentPackageId,addVat:h.addVat}),u("list"),d(null)}catch(y){console.error("Error updating package:",y)}}async function g(h){try{await m(()=>o(h),"Paket wird gelöscht..."),p("Paket wurde erfolgreich gelöscht.")}catch(y){const C=Fe(y);f(C)}}return n&&t.length===0?l.jsx("div",{className:"card",children:l.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[l.jsx("div",{className:"loading-spinner",style:{margin:"0 auto 1rem"}}),l.jsx("p",{children:"Pakete werden geladen..."})]})}):r&&t.length===0?l.jsx("div",{className:"card",children:l.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[l.jsxs("p",{style:{color:"rgba(239, 68, 68, 0.9)",marginBottom:"1rem"},children:["Fehler beim Laden der Pakete: ",r]}),l.jsx("button",{className:"btn btn-primary",onClick:()=>window.location.reload(),children:"Seite neu laden"})]})}):l.jsxs("div",{className:"card",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[l.jsxs("div",{children:[l.jsx("h2",{style:{margin:"0 0 4px 0"},children:e}),l.jsx("div",{style:{opacity:.7},children:"Definiere Leistungspakete, die du in Angeboten/Rechnungen verwenden kannst."})]}),l.jsx("button",{className:`btn ${s==="create"?"btn-secondary":"btn-primary"}`,onClick:()=>u(s==="create"?"list":"create"),disabled:n,children:s==="create"?"Abbrechen":"Neues Paket"})]}),l.jsx(Ho,{columns:x,data:t,emptyMessage:"Noch keine Pakete definiert."}),s==="create"&&l.jsxs("div",{style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid rgba(255,255,255,.1)"},children:[l.jsxs("div",{style:{marginBottom:"16px"},children:[l.jsx("h3",{style:{margin:"0 0 4px 0"},children:"Neues Paket"}),l.jsx("div",{style:{opacity:.7},children:"Erstelle ein neues Leistungspaket."})]}),l.jsx(bd,{onSubmit:w,onCancel:()=>u("list"),submitLabel:"Paket erstellen",packages:t})]}),s==="edit"&&c&&l.jsxs("div",{style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid rgba(255,255,255,.1)"},children:[l.jsxs("div",{style:{marginBottom:"16px"},children:[l.jsx("h3",{style:{margin:"0 0 4px 0"},children:"Paket bearbeiten"}),l.jsxs("div",{style:{opacity:.7},children:['Bearbeite das Paket "',c.internalTitle,'".']})]}),l.jsx(bd,{initial:{internalTitle:c.internalTitle,lineItems:c.lineItems.map(h=>({title:h.title,quantity:h.quantity,amount:h.amount,parentItemId:h.parentItemId,description:h.description})),addVat:c.addVat,parentPackageId:c.parentPackageId},onSubmit:k,onCancel:()=>{u("list"),d(null)},submitLabel:"Paket aktualisieren",packages:t})]})]})}const Sd=({invoice:e,customers:t,offers:n,onSave:r,onCancel:i})=>{var ue,he,$;const{adapter:a}=Kn(),{settings:o}=ia(),[s,u]=v.useState(((ue=e==null?void 0:e.customerId)==null?void 0:ue.toString())||""),[c,d]=v.useState(((he=e==null?void 0:e.offerId)==null?void 0:he.toString())||""),[f,p]=v.useState((e==null?void 0:e.title)||""),[m,x]=v.useState((e==null?void 0:e.notes)||""),[w,k]=v.useState(e!=null&&e.dueDate?new Date(e.dueDate).toISOString().split("T")[0]:""),[g,h]=v.useState((e==null?void 0:e.lineItems)||[]),[y,C]=v.useState((e==null?void 0:e.vatRate)||19),I=(($=o==null?void 0:o.companyData)==null?void 0:$.kleinunternehmer)||!1,b=g.reduce((T,z)=>T+z.total,0),E=I?0:b*(y/100),D=b+E,_=()=>{const T={id:Date.now(),title:"",description:"",quantity:1,unitPrice:0,total:0,parentItemId:void 0};h([...g,T])},R=T=>{const z={id:Date.now(),title:"",description:"",quantity:1,unitPrice:0,total:0,parentItemId:T};h([...g,z])},L=(T,z,G)=>{h(oe=>oe.map(B=>{if(B.id===T){const U={...B,[z]:G};return(z==="quantity"||z==="unitPrice")&&(U.total=U.quantity*U.unitPrice),U}return B}))},te=T=>{h(z=>z.filter(G=>G.id!==T&&G.parentItemId!==T))},q=async T=>{if(a)try{const z=await a.getOffer(T);if(!z)return;const G=z.lineItems.map(oe=>({id:Date.now()+Math.random(),title:oe.title,description:oe.description,quantity:oe.quantity,unitPrice:oe.unitPrice,total:oe.total,parentItemId:oe.parentItemId}));h(G),u(z.customerId.toString()),p(z.title),C(z.vatRate)}catch(z){console.error("Error adding offer:",z)}},le=T=>{if(T.preventDefault(),!s||!f.trim()){alert("❌ Pflichtfelder fehlen:\\n\\n"+(s?"":"• Bitte wählen Sie einen Kunden aus\\n")+(f.trim()?"":"• Bitte geben Sie einen Titel ein\\n"));return}const z={invoiceNumber:(e==null?void 0:e.invoiceNumber)||`RE-${Date.now()}`,customerId:parseInt(s),offerId:c?parseInt(c):void 0,title:f,notes:m,dueDate:w,lineItems:g,subtotal:b,vatRate:y,vatAmount:E,total:D,status:(e==null?void 0:e.status)||"draft"};r(z)},ge=g.filter(T=>!T.parentItemId);return l.jsxs("div",{className:"card",style:{maxWidth:"800px",margin:"0 auto"},children:[l.jsx("h2",{style:{margin:"0 0 16px 0"},children:e?"Rechnung bearbeiten":"Neue Rechnung"}),l.jsxs("form",{onSubmit:le,style:{display:"flex",flexDirection:"column",gap:"16px"},children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"Kunde *"}),l.jsxs("select",{value:s,onChange:T=>u(T.target.value),style:{width:"100%",padding:"8px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"6px",background:"rgba(17,24,39,.8)",color:"var(--muted)"},required:!0,children:[l.jsx("option",{value:"",children:"Kunde auswählen"}),t.map(T=>l.jsx("option",{value:T.id,children:T.name},T.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"Fällig am"}),l.jsx("input",{type:"date",value:w,onChange:T=>k(T.target.value),style:{width:"100%",padding:"8px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"6px",background:"rgba(17,24,39,.8)",color:"var(--muted)"}})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"Titel *"}),l.jsx("input",{type:"text",value:f,onChange:T=>p(T.target.value),style:{width:"100%",padding:"8px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"6px",background:"rgba(17,24,39,.8)",color:"var(--muted)"},required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"Anmerkungen"}),l.jsx("textarea",{value:m,onChange:T=>x(T.target.value),rows:3,style:{width:"100%",padding:"8px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"6px",background:"rgba(17,24,39,.8)",color:"var(--muted)",resize:"vertical"}})]}),l.jsxs("div",{style:{borderTop:"1px solid rgba(255,255,255,.1)",paddingTop:"16px"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[l.jsx("h3",{style:{margin:"0",fontSize:"16px",fontWeight:"600"},children:"Positionen"}),l.jsxs("select",{value:c,onChange:T=>{d(T.target.value),T.target.value&&q(parseInt(T.target.value))},style:{padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},children:[l.jsx("option",{value:"",children:"Aus Angebot übernehmen"}),n.filter(T=>!s||T.customerId===parseInt(s)).map(T=>l.jsxs("option",{value:T.id,children:[T.offerNumber," - ",T.title]},T.id))]}),l.jsx("button",{type:"button",onClick:_,style:{backgroundColor:"var(--accent)",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"Position hinzufügen"})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:ge.map(T=>l.jsxs("div",{children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr 1fr auto",gap:"8px",alignItems:"start",padding:"12px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"6px",background:"rgba(17,24,39,.4)"},children:[l.jsxs("div",{children:[l.jsx("input",{type:"text",placeholder:"Titel",value:T.title,onChange:z=>L(T.id,"title",z.target.value),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px",marginBottom:"4px"}}),l.jsx("input",{type:"text",placeholder:"Beschreibung",value:T.description||"",onChange:z=>L(T.id,"description",z.target.value),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"}})]}),l.jsx("div",{children:l.jsx("input",{type:"number",placeholder:"Menge",value:T.quantity,onChange:z=>L(T.id,"quantity",parseFloat(z.target.value)||0),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},min:"0",step:"0.01"})}),l.jsx("div",{children:l.jsx("input",{type:"number",placeholder:"Einzelpreis",value:T.unitPrice,onChange:z=>L(T.id,"unitPrice",parseFloat(z.target.value)||0),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},min:"0",step:"0.01"})}),l.jsxs("div",{style:{padding:"6px",fontSize:"14px",fontWeight:"500"},children:["€",T.total.toFixed(2)]}),l.jsxs("div",{style:{display:"flex",gap:"4px"},children:[l.jsx("button",{type:"button",onClick:()=>R(T.id),style:{backgroundColor:"var(--ok)",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Sub"}),l.jsx("button",{type:"button",onClick:()=>te(T.id),style:{backgroundColor:"var(--danger)",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"✕"})]})]}),g.filter(z=>z.parentItemId===T.id).map(z=>l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr 1fr auto",gap:"8px",alignItems:"start",padding:"12px",marginLeft:"24px",border:"1px solid rgba(96,165,250,.3)",borderLeft:"4px solid var(--accent)",borderRadius:"6px",background:"rgba(96,165,250,.1)",marginTop:"4px"},children:[l.jsxs("div",{children:[l.jsx("input",{type:"text",placeholder:"Sub-Titel",value:z.title,onChange:G=>L(z.id,"title",G.target.value),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px",marginBottom:"4px"}}),l.jsx("input",{type:"text",placeholder:"Sub-Beschreibung",value:z.description||"",onChange:G=>L(z.id,"description",G.target.value),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"}})]}),l.jsx("div",{children:l.jsx("input",{type:"number",placeholder:"Menge",value:z.quantity,onChange:G=>L(z.id,"quantity",parseFloat(G.target.value)||0),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},min:"0",step:"0.01"})}),l.jsx("div",{children:l.jsx("input",{type:"number",placeholder:"Einzelpreis",value:z.unitPrice,onChange:G=>L(z.id,"unitPrice",parseFloat(G.target.value)||0),style:{width:"100%",padding:"6px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},min:"0",step:"0.01"})}),l.jsxs("div",{style:{padding:"6px",fontSize:"14px",fontWeight:"500"},children:["€",z.total.toFixed(2)]}),l.jsx("div",{children:l.jsx("button",{type:"button",onClick:()=>te(z.id),style:{backgroundColor:"var(--danger)",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"✕"})})]},z.id))]},T.id))})]}),l.jsx("div",{style:{borderTop:"1px solid rgba(255,255,255,.1)",paddingTop:"16px"},children:l.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:l.jsxs("div",{style:{width:"300px",display:"flex",flexDirection:"column",gap:"8px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[l.jsx("span",{children:"Zwischensumme:"}),l.jsxs("span",{children:["€",b.toFixed(2)]})]}),!I&&l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx("span",{children:"MwSt.:"}),l.jsx("input",{type:"number",value:y,onChange:T=>C(parseFloat(T.target.value)||0),style:{width:"60px",padding:"4px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",fontSize:"14px"},min:"0",max:"100",step:"0.1"}),l.jsx("span",{children:"%"})]}),l.jsxs("span",{children:["€",E.toFixed(2)]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"600",fontSize:"16px",borderTop:"1px solid rgba(255,255,255,.1)",paddingTop:"8px"},children:[l.jsx("span",{children:"Gesamtbetrag:"}),l.jsxs("span",{children:["€",D.toFixed(2)]})]})]})})}),l.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",marginTop:"16px"},children:[l.jsx("button",{type:"button",onClick:i,style:{padding:"8px 16px",border:"1px solid rgba(255,255,255,.2)",background:"transparent",color:"var(--muted)",borderRadius:"6px",cursor:"pointer"},children:"Abbrechen"}),l.jsx("button",{type:"submit",style:{backgroundColor:"var(--accent)",color:"white",border:"none",padding:"8px 16px",borderRadius:"6px",cursor:"pointer",fontWeight:"500"},children:e?"Aktualisieren":"Erstellen"})]})]})]})};function Mv({title:e="Rechnungen"}){const{invoices:t,loading:n,error:r,createInvoice:i,updateInvoice:a,deleteInvoice:o}=Du(),{customers:s}=Vo(),{offers:u}=Wo(),{settings:c}=xh(),{showSuccess:d,showError:f}=vn(),[p,m]=v.useState("list"),[x,w]=v.useState(null),k=v.useMemo(()=>[{key:"invoiceNumber",header:"Nummer"},{key:"customerId",header:"Kunde",render:E=>{const D=s.find(_=>_.id===E.customerId);return(D==null?void 0:D.name)||`Kunde #${E.customerId}`}},{key:"title",header:"Titel"},{key:"status",header:"Status",render:E=>{const D={draft:"#6b7280",sent:"#3b82f6",paid:"#10b981",overdue:"#ef4444",cancelled:"#ef4444"},_={draft:"Entwurf",sent:"Versendet",paid:"Bezahlt",overdue:"Überfällig",cancelled:"Storniert"},R=D[E.status]||"#6b7280",L=_[E.status]||E.status;return l.jsx("span",{style:{padding:"4px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"500",backgroundColor:R+"20",color:R},children:L})}},{key:"total",header:"Gesamtbetrag",render:E=>`€${E.total.toFixed(2)}`},{key:"dueDate",header:"Fällig am",render:E=>E.dueDate?new Date(E.dueDate).toLocaleDateString("de-DE"):"-"},{key:"id",header:"Aktionen",render:E=>l.jsxs("div",{style:{display:"flex",gap:"4px"},children:[l.jsx("button",{className:"btn btn-info",onClick:()=>b(E),style:{padding:"4px 8px",fontSize:"12px"},title:"PDF Vorschau anzeigen",children:"👁️ Vorschau"}),l.jsx("button",{className:"btn btn-warning",onClick:()=>I(E),style:{padding:"4px 8px",fontSize:"12px"},title:"PDF herunterladen",children:"💾 PDF"}),l.jsx("button",{className:"btn btn-secondary",style:{padding:"4px 8px",fontSize:"12px"},onClick:()=>{w(E),m("edit")},children:"Bearbeiten"}),l.jsxs("select",{value:E.status,onChange:D=>y(E.id,D.target.value),style:{padding:"4px 8px",fontSize:"12px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"4px",background:"rgba(17,24,39,.8)",color:"var(--muted)",cursor:"pointer"},children:[l.jsx("option",{value:"draft",children:"Entwurf"}),l.jsx("option",{value:"sent",children:"Gesendet"}),l.jsx("option",{value:"paid",children:"Bezahlt"}),l.jsx("option",{value:"overdue",children:"Überfällig"}),l.jsx("option",{value:"cancelled",children:"Storniert"})]}),l.jsx("button",{className:"btn btn-danger",style:{padding:"4px 8px",fontSize:"12px"},onClick:()=>{confirm("Diese Rechnung wirklich löschen?")&&C(E.id)},children:"Löschen"})]})}],[s]);async function g(E){await i(E),m("list")}async function h(E){x&&(await a(x.id,E),m("list"),w(null))}async function y(E,D){try{const _=t.find(q=>q.id===E);if(!_)return;const R=new Date().toISOString(),L={};switch(D){case"sent":L.sentAt=R;break;case"paid":L.paidAt=R;break;case"overdue":L.overdueAt=R;break;case"cancelled":L.cancelledAt=R;break}await a(E,{..._,status:D,...L}),d(`Rechnungs-Status auf "${{draft:"Entwurf",sent:"Gesendet",paid:"Bezahlt",overdue:"Überfällig",cancelled:"Storniert"}[D]}" geändert`)}catch{f("Fehler beim Ändern des Status")}}async function C(E){await o(E)}const I=async E=>{const D=s.find(_=>_.id===E.customerId);if(!D){alert("Kunde nicht gefunden");return}try{await Gi.exportInvoiceToPDF(E,D,c,!1)}catch(_){console.error("PDF Export failed:",_),alert("PDF Export fehlgeschlagen: "+(_ instanceof Error?_.message:"Unbekannter Fehler"))}},b=async E=>{const D=s.find(_=>_.id===E.customerId);if(!D){alert("Kunde nicht gefunden");return}try{await Gi.exportInvoiceToPDF(E,D,c,!0)}catch(_){console.error("PDF Preview failed:",_),alert("PDF Vorschau fehlgeschlagen: "+(_ instanceof Error?_.message:"Unbekannter Fehler"))}};return n?l.jsx("div",{className:"card",children:"Lade Rechnungen..."}):r?l.jsxs("div",{className:"card",children:["Fehler: ",r]}):l.jsxs("div",{className:"card",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[l.jsxs("div",{children:[l.jsx("h2",{style:{margin:"0 0 4px 0"},children:e}),l.jsx("div",{style:{opacity:.7},children:"Verwalte deine Rechnungen und exportiere sie als PDF."})]}),l.jsx("button",{className:"btn",onClick:()=>m(p==="create"?"list":"create"),children:p==="create"?"Abbrechen":"Neue Rechnung"})]}),l.jsx(Ho,{columns:k,data:t,emptyMessage:"Noch keine Rechnungen erstellt."}),p==="create"&&l.jsxs("div",{style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid rgba(255,255,255,.1)"},children:[l.jsxs("div",{style:{marginBottom:"16px"},children:[l.jsx("h3",{style:{margin:"0 0 4px 0"},children:"Neue Rechnung"}),l.jsx("div",{style:{opacity:.7},children:"Erstelle eine neue Rechnung."})]}),l.jsx(Sd,{customers:s,offers:u,onSave:g,onCancel:()=>m("list")})]}),p==="edit"&&x&&l.jsxs("div",{style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid rgba(255,255,255,.1)"},children:[l.jsxs("div",{style:{marginBottom:"16px"},children:[l.jsx("h3",{style:{margin:"0 0 4px 0"},children:"Rechnung bearbeiten"}),l.jsxs("div",{style:{opacity:.7},children:['Bearbeite die Rechnung "',x.title,'".']})]}),l.jsx(Sd,{invoice:x,customers:s,offers:u,onSave:h,onCancel:()=>{m("list"),w(null)}})]})]})}function vh(e={}){var z,G,oe;const{autoCheckOnMount:t=!0,checkIntervalMinutes:n=60,onUpdateAvailable:r,onUpdateComplete:i,onError:a}=e,[o,s]=v.useState({currentPhase:"idle",checking:!1,downloading:!1,installing:!1,userConsentRequired:!1,userConsentGiven:!1,retryCount:0,maxRetries:3}),[u,c]=v.useState("0.0.0"),[d,f]=v.useState(),[p,m]=v.useState(),[x,w]=v.useState({autoCheckOnStartup:!0,checkIntervalHours:24,autoDownload:!1,silentInstall:!0,autoRestart:!1,maxRetries:3,retryDelayMs:5e3,includePreReleases:!1,skipVersions:[]}),[k,g]=v.useState(),h=v.useRef(!0);v.useEffect(()=>()=>{h.current=!1},[]);const y=v.useRef(null),C=v.useRef(null),I=o.checking,b=o.downloading,E=o.installing,D=!!((z=o.checkResult)!=null&&z.hasUpdate),_=(G=o.checkResult)==null?void 0:G.latestVersion,R=v.useCallback(B=>{if(h.current)switch(console.log("Update event:",B),B.type){case"check-started":s(U=>({...U,checking:!0,currentPhase:"checking"})),g(void 0);break;case"check-completed":s(U=>({...U,checking:!1,checkResult:B.result,currentPhase:B.result.hasUpdate?"update-available":"completed"}));break;case"check-failed":s(U=>({...U,checking:!1,currentPhase:"error"})),g(B.error),a==null||a(B.error);break;case"update-available":f(B.updateInfo),s(U=>({...U,currentPhase:x.autoDownload?"downloading":"user-consent"})),r==null||r(B.updateInfo);break;case"user-consent-required":s(U=>({...U,userConsentRequired:!0,currentPhase:"user-consent"}));break;case"download-started":s(U=>({...U,downloading:!0,currentPhase:"downloading",userConsentGiven:!0,userConsentRequired:!1})),g(void 0);break;case"download-progress":m(B.progress);break;case"download-completed":s(U=>({...U,downloading:!1,currentPhase:"completed",downloadStatus:{status:"completed",filePath:B.filePath}})),m(void 0);break;case"download-failed":s(U=>({...U,downloading:!1,currentPhase:"error"})),g(B.error),m(void 0),a==null||a(B.error);break;case"installation-started":s(U=>({...U,installing:!0,currentPhase:"installing"}));break;case"installation-completed":s(U=>({...U,installing:!1,currentPhase:x.autoRestart?"restart-required":"completed"})),i==null||i();break;case"installation-failed":s(U=>({...U,installing:!1,currentPhase:"error"})),g(B.error),a==null||a(B.error);break;case"restart-required":s(U=>({...U,currentPhase:"restart-required"}));break;case"user-consent-given":s(U=>({...U,userConsentGiven:!0,userConsentRequired:!1,currentPhase:"idle"}));break;case"user-consent-denied":s(U=>({...U,userConsentGiven:!1,userConsentRequired:!1,currentPhase:"idle"}));break;case"cancelled":s(U=>({...U,downloading:!1,currentPhase:"idle"})),m(void 0);break;case"error":s(U=>({...U,currentPhase:"error"})),g(B.error),a==null||a(B.error);break}},[]);v.useEffect(()=>{var B;if((B=window.rawalite)!=null&&B.updates){const U=window.rawalite.updates.onUpdateEvent(R);return y.current=U,(async()=>{try{const[V,P]=await Promise.all([window.rawalite.updates.getUpdateConfig(),window.rawalite.updates.getCurrentVersion()]);w(V),c(P)}catch(V){console.error("Failed to initialize update state:",V)}})(),()=>{y.current&&y.current()}}},[R]),v.useEffect(()=>{var B;if(t&&((B=window.rawalite)!=null&&B.updates)){const U=setTimeout(()=>{L().catch(O=>{console.error("Auto-check failed:",O)})},1e3);return()=>clearTimeout(U)}},[t]),v.useEffect(()=>{if(n>0){const B=setInterval(()=>{!I&&!b&&!E&&L().catch(U=>{console.error("Periodic check failed:",U)})},n*60*1e3);return C.current=B,()=>{C.current&&clearInterval(C.current)}}},[n,I,b,E]);const L=v.useCallback(async()=>{var B;if(!((B=window.rawalite)!=null&&B.updates))throw new Error("Update API not available");try{await window.rawalite.updates.checkForUpdates()}catch(U){const O=U instanceof Error?U.message:"Update check failed";throw g(O),new Error(O)}},[]),te=v.useCallback(async()=>{var B;if(!((B=window.rawalite)!=null&&B.updates)||!d)throw new Error("Update API or update info not available");try{await window.rawalite.updates.startDownload(d)}catch(U){const O=U instanceof Error?U.message:"Download failed";throw g(O),new Error(O)}},[d]),q=v.useCallback(async()=>{var B;if(!((B=window.rawalite)!=null&&B.updates))throw new Error("Update API not available");try{await window.rawalite.updates.cancelDownload()}catch(U){console.error("Cancel download failed:",U)}},[]),le=v.useCallback(async()=>{var B,U;if(!((B=window.rawalite)!=null&&B.updates)||!((U=o.downloadStatus)!=null&&U.filePath))throw new Error("Update API not available or no downloaded file");try{await window.rawalite.updates.installUpdate(o.downloadStatus.filePath)}catch(O){const V=O instanceof Error?O.message:"Installation failed";throw g(V),new Error(V)}},[(oe=o.downloadStatus)==null?void 0:oe.filePath]),ge=v.useCallback(async()=>{var B;if(!((B=window.rawalite)!=null&&B.updates))throw new Error("Update API not available");try{await window.rawalite.updates.restartApp()}catch(U){console.error("Restart failed:",U)}},[]),ue=v.useCallback(()=>{s(B=>({...B,userConsentGiven:!0,userConsentRequired:!1})),d&&te().catch(B=>{console.error("Auto-start download failed:",B)})},[d,te]),he=v.useCallback(()=>{s(B=>({...B,userConsentGiven:!1,userConsentRequired:!1,currentPhase:"idle"}))},[]),$=v.useCallback(()=>{g(void 0),s(B=>({...B,currentPhase:"idle"}))},[]),T=v.useCallback(async B=>{var U;if(!((U=window.rawalite)!=null&&U.updates))throw new Error("Update API not available");try{await window.rawalite.updates.setUpdateConfig(B),w(O=>({...O,...B}))}catch(O){throw console.error("Update config failed:",O),O}},[]);return{state:o,isChecking:I,isDownloading:b,isInstalling:E,hasUpdate:D,currentVersion:u,latestVersion:_,updateInfo:d,downloadProgress:p,error:k,checkForUpdates:L,startDownload:te,cancelDownload:q,installUpdate:le,restartApp:ge,grantConsent:ue,denyConsent:he,clearError:$,config:x,updateConfig:T}}function Ga(e){if(e===0)return"0 Bytes";const t=1024,n=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,r)).toFixed(2))+" "+n[r]}function Ov(e){if(e<60)return`${Math.round(e)}s`;const t=Math.floor(e/60),n=Math.round(e%60);return`${t}m ${n}s`}function $v({progress:e,color:t="#3b82f6",height:n=8}){return l.jsx("div",{className:"bg-gray-200 rounded-full overflow-hidden",style:{height:n},children:l.jsx("div",{className:"transition-all duration-300 ease-out rounded-full h-full",style:{width:`${Math.min(100,Math.max(0,e))}%`,backgroundColor:t}})})}function Bv({progress:e,onCancel:t}){const{downloaded:n,total:r,percentage:i,speed:a,eta:o}=e;return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Update wird heruntergeladen..."}),l.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 px-2 py-1 text-sm",children:"Abbrechen"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx($v,{progress:i}),l.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[l.jsxs("span",{children:[Ga(n)," / ",Ga(r)]}),l.jsxs("span",{children:[i.toFixed(1),"%"]})]}),l.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[l.jsxs("span",{children:["Geschwindigkeit: ",Ga(a),"/s"]}),l.jsxs("span",{children:["Verbleibend: ",Ov(o)]})]})]})]})}function Uv({updateInfo:e,onDownload:t,onSkip:n,isDownloading:r}){const[i,a]=v.useState(!1);return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-semibold text-green-600",children:["Update verfügbar: Version ",e.version]}),l.jsxs("p",{className:"text-sm text-gray-600",children:["Veröffentlicht am ",new Date(e.publishedAt).toLocaleDateString("de-DE")]})]}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-blue-900",children:e.name}),l.jsxs("p",{className:"text-sm text-blue-700",children:["Größe: ",Ga(e.fileSize)]})]}),e.isPrerelease&&l.jsx("span",{className:"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded",children:"Pre-Release"})]})}),e.releaseNotes&&l.jsxs("div",{children:[l.jsx("button",{onClick:()=>a(!i),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:i?"Release Notes ausblenden":"Release Notes anzeigen"}),i&&l.jsx("div",{className:"mt-2 p-3 bg-gray-50 border rounded text-sm whitespace-pre-wrap max-h-40 overflow-y-auto",children:e.releaseNotes})]}),l.jsxs("div",{className:"flex space-x-3 pt-4",children:[l.jsx("button",{onClick:t,disabled:r,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Wird heruntergeladen...":"Update herunterladen"}),l.jsx("button",{onClick:n,className:"px-4 py-2 text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg",children:"Überspringen"})]})]})}function kd({onInstall:e,onRestart:t,isInstalling:n,needsRestart:r}){return r?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-green-500 text-4xl mb-2",children:"✓"}),l.jsx("h3",{className:"text-lg font-semibold text-green-600",children:"Update erfolgreich installiert!"}),l.jsx("p",{className:"text-gray-600",children:"Die Anwendung muss neu gestartet werden, um das Update zu verwenden."})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("button",{onClick:t,className:"flex-1 bg-green-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-green-700",children:"Jetzt neu starten"}),l.jsx("button",{className:"px-4 py-2 text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg",children:"Später neu starten"})]})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Download abgeschlossen"}),l.jsx("p",{className:"text-gray-600",children:"Das Update kann jetzt installiert werden."})]}),l.jsx("button",{onClick:e,disabled:n,className:"w-full bg-green-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-green-700 disabled:opacity-50",children:n?"Wird installiert...":"Update installieren"})]})}function Wv({error:e,onRetry:t,onClose:n,canRetry:r}){return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-red-500 text-4xl mb-2",children:"⚠"}),l.jsx("h3",{className:"text-lg font-semibold text-red-600",children:"Update-Fehler"}),l.jsx("p",{className:"text-gray-600 text-sm",children:e})]}),l.jsxs("div",{className:"flex space-x-3",children:[r&&l.jsx("button",{onClick:t,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-700",children:"Erneut versuchen"}),l.jsx("button",{onClick:n,className:"flex-1 px-4 py-2 text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg",children:"Schließen"})]})]})}function Vv({isOpen:e,onClose:t,autoCheckOnOpen:n=!1}){var _;const{state:r,isChecking:i,isDownloading:a,isInstalling:o,hasUpdate:s,currentVersion:u,updateInfo:c,downloadProgress:d,error:f,checkForUpdates:p,cancelDownload:m,installUpdate:x,restartApp:w,grantConsent:k,denyConsent:g,clearError:h}=vh({autoCheckOnMount:!1,onError:R=>console.error("Update error:",R)}),y=v.useRef(!1);if(v.useEffect(()=>{e||(y.current=!1)},[e]),v.useEffect(()=>{if(e&&n&&!y.current&&!i){console.log("🚀 Starting auto-check for updates..."),y.current=!0;const R=setTimeout(()=>{p()},500);return()=>clearTimeout(R)}},[e,n,i]),!e)return null;console.log("🔍 UpdateDialog Render State:",{isOpen:e,isChecking:i,hasUpdate:s,error:!!f,currentPhase:r.currentPhase,autoCheckOnOpen:n});const C=()=>{h(),p()},I=()=>{h(),t()},b=!!f&&!i&&!a&&!o,E=r.currentPhase==="restart-required",D=((_=r.downloadStatus)==null?void 0:_.status)==="completed";return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999},children:l.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto",style:{position:"relative",zIndex:1e4},children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-xl font-bold",children:"RawaLite Update"}),l.jsx("button",{onClick:I,className:"text-gray-400 hover:text-gray-600 text-xl",children:"×"})]}),l.jsx("div",{className:"space-y-4",children:f?l.jsx(Wv,{error:f,onRetry:C,onClose:I,canRetry:b}):i?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin text-blue-500 text-2xl mb-4",children:"⟳"}),l.jsx("p",{children:"Suche nach Updates..."})]}):o?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin text-green-500 text-2xl mb-4",children:"⟳"}),l.jsx("p",{children:"Update wird installiert..."})]}):a&&d?l.jsx(Bv,{progress:d,onCancel:m}):E?l.jsx(kd,{onInstall:x,onRestart:w,isInstalling:o,needsRestart:E}):D?l.jsx(kd,{onInstall:x,onRestart:w,isInstalling:o,needsRestart:E}):s&&c&&r.currentPhase==="user-consent"?l.jsx(Uv,{updateInfo:c,onDownload:k,onSkip:g,isDownloading:a}):r.currentPhase==="idle"&&!n&&!y.current?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Update-Prüfung"}),l.jsxs("p",{className:"text-gray-600 mb-4",children:["Aktuelle Version: ",u]}),l.jsx("button",{onClick:p,className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-blue-700",children:"🔄 Nach Updates suchen"})]}):l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-gray-500",children:"Laden..."})})})]})})}function Hv({onUpdateAvailable:e}){const[t,n]=v.useState(!1),{state:r,isChecking:i,hasUpdate:a,currentVersion:o,updateInfo:s,error:u,checkForUpdates:c,clearError:d}=vh({autoCheckOnMount:!1,onError:x=>console.error("Update status error:",x)}),f=async()=>{n(!0),d();try{await c(),a&&e&&e()}catch(x){console.error("Update check failed:",x)}},p=()=>{d(),f()},m=()=>!t&&!u?null:u?l.jsxs("div",{style:{marginTop:"16px",padding:"12px",backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"8px",color:"#dc2626"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"8px"},children:[l.jsx("span",{style:{marginRight:"8px",fontSize:"16px"},children:"⚠"}),l.jsx("strong",{children:"Update-Fehler"})]}),l.jsx("p",{style:{margin:"0 0 8px 0",fontSize:"14px"},children:u}),l.jsx("button",{onClick:p,style:{backgroundColor:"#dc2626",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",fontSize:"12px",cursor:"pointer"},children:"Erneut versuchen"})]}):i?l.jsx("div",{style:{marginTop:"16px",padding:"12px",backgroundColor:"#eff6ff",border:"1px solid #bfdbfe",borderRadius:"8px",color:"#1e40af"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[l.jsx("div",{style:{marginRight:"8px",animation:"spin 1s linear infinite",fontSize:"16px"},children:"⟳"}),l.jsx("span",{children:"Suche nach Updates..."})]})}):a&&s?l.jsxs("div",{style:{marginTop:"16px",padding:"12px",backgroundColor:"#f0fdf4",border:"1px solid #bbf7d0",borderRadius:"8px",color:"#166534"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"8px"},children:[l.jsx("span",{style:{marginRight:"8px",fontSize:"16px"},children:"🎉"}),l.jsx("strong",{children:"Update verfügbar!"})]}),l.jsxs("p",{style:{margin:"0 0 8px 0",fontSize:"14px"},children:["Version ",s.version," ist verfügbar."]}),l.jsx("p",{style:{margin:"0",fontSize:"12px",opacity:.8},children:"Das Update-Fenster öffnet sich automatisch für weitere Details."})]}):!a&&r.currentPhase==="completed"?l.jsxs("div",{style:{marginTop:"16px",padding:"12px",backgroundColor:"#f0fdf4",border:"1px solid #bbf7d0",borderRadius:"8px",color:"#166534"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"8px"},children:[l.jsx("span",{style:{marginRight:"8px",fontSize:"16px"},children:"✓"}),l.jsx("strong",{children:"Version ist aktuell"})]}),l.jsxs("p",{style:{margin:"0",fontSize:"14px"},children:["Sie verwenden bereits die neueste Version (",o,")."]}),l.jsxs("p",{style:{margin:"8px 0 0 0",fontSize:"12px",opacity:.8},children:["Letzte Überprüfung: ",new Date().toLocaleString("de-DE")]})]}):null;return l.jsxs("div",{children:[l.jsx("button",{type:"button",onClick:f,disabled:i,className:"btn",style:{backgroundColor:i?"#9ca3af":"#3b82f6",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",cursor:i?"not-allowed":"pointer",fontWeight:"500"},children:i?"🔄 Prüfe...":"🔄 Nach Updates suchen"}),m(),l.jsx("style",{children:`
          @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
          }
        `})]})}function Kv({title:e="Einstellungen"}){const{settings:t,loading:n,error:r,updateCompanyData:i,updateNumberingCircles:a,getNextNumber:o}=ph(),{adapter:s}=Kn(),{showError:u,showSuccess:c}=vn(),[d,f]=v.useState("company"),[p,m]=v.useState(t.companyData),[x,w]=v.useState(t.numberingCircles),[k,g]=v.useState(!1),[h,y]=v.useState(!1),[C,I]=v.useState("customers"),[b,E]=v.useState(null),[D,_]=v.useState(!1),R=v.useCallback(()=>_(!1),[]);Ld.useEffect(()=>{var P;console.log("🔍 Settings loaded - Logo length:",((P=t.companyData.logo)==null?void 0:P.length)||0),m(t.companyData),w(t.numberingCircles)},[t]);const L=async P=>{var De;const A=(De=P.target.files)==null?void 0:De[0];if(!A)return;if(!A.type.startsWith("image/")){alert("❌ Fehler: Bitte wählen Sie eine Bilddatei aus (PNG, JPG, GIF, etc.)"),P.target.value="";return}const ee=2,ae=A.size/(1024*1024);if(A.size>ee*1024*1024){alert(`❌ Datei zu groß: ${ae.toFixed(2)} MB

Maximum erlaubt: ${ee} MB
Bitte verkleinern Sie das Bild oder wählen Sie eine andere Datei.`),P.target.value="";return}try{y(!0),c(`✅ Logo wird hochgeladen... (${ae.toFixed(2)} MB)`);const ye=new FileReader;ye.onload=()=>{const Se=ye.result;m(H=>({...H,logo:Se})),c("Logo erfolgreich geladen! Vergessen Sie nicht zu speichern.")},ye.onerror=()=>{u("Fehler beim Lesen der Datei"),P.target.value=""},ye.readAsDataURL(A)}catch{u("Fehler beim Verarbeiten des Logos"),P.target.value=""}finally{y(!1)}},te=()=>{m(P=>({...P,logo:""}))},q=async P=>{P.preventDefault(),console.log("🏢 Company form submitted with data:",p);try{g(!0),await i(p),c("Unternehmensdaten gespeichert!")}catch(A){console.error("Company save error:",A),u("Fehler beim Speichern der Unternehmensdaten")}finally{g(!1)}},le=async P=>{P.preventDefault(),console.log("Tax form submitted, NOT calling clear data");try{g(!0),await i(p),c("Steuerliche Einstellungen gespeichert!")}catch(A){console.error("Tax settings save error:",A),u("Fehler beim Speichern der steuerlichen Einstellungen")}finally{g(!1)}},ge=async P=>{P.preventDefault(),console.log("🖼️ Logo form submitted, saving logo only");try{g(!0),await i(p),c("Logo erfolgreich gespeichert!")}catch(A){console.error("Logo save error:",A),u("Fehler beim Speichern des Logos")}finally{g(!1)}},ue=async P=>{P.preventDefault(),console.log("🏦 Bank form submitted, saving bank data only");try{g(!0),await i(p),c("Bankverbindung erfolgreich gespeichert!")}catch(A){console.error("Bank save error:",A),u("Fehler beim Speichern der Bankverbindung")}finally{g(!1)}},he=P=>{console.log("🔧 Kleinunternehmer checkbox changed to:",P.target.checked,"NOT deleting any data"),P.stopPropagation(),m({...p,kleinunternehmer:P.target.checked})},$=async P=>{P.preventDefault();try{g(!0),await a(x),c("Nummernkreise gespeichert!")}catch{u("Fehler beim Speichern der Nummernkreise")}finally{g(!1)}},T=(P,A,ee)=>{const ae=[...x];ae[P]={...ae[P],[A]:ee},w(ae)},z=async()=>{try{if(g(!0),!s){alert("Fehler: Datenbankadapter nicht verfügbar");return}const[P,A,ee,ae]=await Promise.all([s.listCustomers(),s.listInvoices(),s.listOffers(),s.listPackages()]),{VersionService:De}=await Or(async()=>{const{VersionService:ve}=await Promise.resolve().then(()=>Sv);return{VersionService:ve}},void 0,import.meta.url),ye=De.getBackupVersionInfo(),Se={companyData:t.companyData,numberingCircles:t.numberingCircles,customers:P,invoices:A,offers:ee,packages:ae,exportDate:ye.timestamp,version:ye.version,buildInfo:ye.buildInfo},H=(await Or(async()=>{const{default:ve}=await import("./jszip.min-0icUJXVE.js").then(be=>be.j);return{default:ve}},[],import.meta.url)).default,ne=new H;ne.file("backup.json",JSON.stringify(Se,null,2)),ne.file("README.txt",`RawaLite Backup
Erstellt am: ${new Date().toLocaleDateString("de-DE")}
Version: ${Se.version}
Build: ${Se.buildInfo}

Diese Datei enthält alle Ihre RawaLite-Daten und kann über die Datensicherungs-Funktion importiert werden.

Enthaltene Daten:
- Kunden: ${P.length}
- Rechnungen: ${A.length}
- Angebote: ${ee.length}
- Pakete: ${ae.length}
- Unternehmenseinstellungen
- Nummernkreise`);const Ge=await ne.generateAsync({type:"blob"}),Ze=window.URL.createObjectURL(Ge),ce=document.createElement("a");ce.href=Ze;const dt=new Date,et=dt.toISOString().split("T")[0]+"_"+dt.toTimeString().split(" ")[0].replace(/:/g,"-");ce.download=`rawalite-backup-${et}.zip`,document.body.appendChild(ce),ce.click(),document.body.removeChild(ce),window.URL.revokeObjectURL(Ze),alert(`Backup erfolgreich erstellt!
      
Enthalten:
- ${P.length} Kunden
- ${A.length} Rechnungen  
- ${ee.length} Angebote
- ${ae.length} Pakete`)}catch(P){console.error("Backup error:",P),alert("Fehler beim Erstellen des Backups: "+P)}finally{g(!1)}},G=async P=>{try{if(g(!0),!s){alert("Fehler: Datenbankadapter nicht verfügbar");return}let A=[],ee="",ae=[];switch(P){case"customers":A=await s.listCustomers(),ee="kunden",ae=["ID","Nummer","Name","E-Mail","Telefon","Straße","PLZ","Ort","Notizen","Erstellt"];break;case"invoices":A=await s.listInvoices(),ee="rechnungen",ae=["ID","Nummer","Kunde ID","Titel","Status","Fällig am","Zwischensumme","MwSt-Satz","MwSt-Betrag","Gesamt","Notizen","Erstellt"];break;case"offers":A=await s.listOffers(),ee="angebote",ae=["ID","Nummer","Kunde ID","Titel","Status","Gültig bis","Zwischensumme","MwSt-Satz","MwSt-Betrag","Gesamt","Notizen","Erstellt"];break;case"packages":A=await s.listPackages(),ee="pakete",ae=["ID","Name","Beschreibung","Preis","Erstellt"];break}if(A.length===0){alert(`Keine ${ee} zum Exportieren gefunden.`);return}const De=[ae.join(";"),...A.map(Ze=>ae.map(ce=>{const dt=oe(Ze,ce);return`"${String(dt).replace(/"/g,'""')}"`}).join(";"))].join(`
`),ye=new Blob(["\uFEFF"+De],{type:"text/csv;charset=utf-8;"}),Se=window.URL.createObjectURL(ye),H=document.createElement("a");H.href=Se;const ne=new Date,Ge=ne.toISOString().split("T")[0]+"_"+ne.toTimeString().split(" ")[0].replace(/:/g,"-");H.download=`${ee}-${Ge}.csv`,document.body.appendChild(H),H.click(),document.body.removeChild(H),window.URL.revokeObjectURL(Se),alert(`${A.length} ${ee} erfolgreich als CSV exportiert!`)}catch(A){console.error("CSV Export error:",A),alert("Fehler beim CSV-Export: "+A)}finally{g(!1)}},oe=(P,A)=>{switch(A){case"ID":return P.id||"";case"Nummer":return P.number||P.invoiceNumber||P.offerNumber||"";case"Name":return P.name||"";case"E-Mail":return P.email||"";case"Telefon":return P.phone||"";case"Straße":return P.street||"";case"PLZ":return P.zip||"";case"Ort":return P.city||"";case"Notizen":return P.notes||"";case"Kunde ID":return P.customerId||"";case"Titel":return P.title||"";case"Status":return P.status||"";case"Fällig am":return P.dueDate||"";case"Gültig bis":return P.validUntil||"";case"Zwischensumme":return P.subtotal||"";case"MwSt-Satz":return P.vatRate||"";case"MwSt-Betrag":return P.vatAmount||"";case"Gesamt":return P.total||"";case"Beschreibung":return P.description||"";case"Preis":return P.price||"";case"Erstellt":return P.createdAt||"";default:return""}},B=async P=>{var ee,ae,De,ye,Se;const A=(ee=P.target.files)==null?void 0:ee[0];if(A){if(!A.name.endsWith(".zip")){alert("Bitte wählen Sie eine ZIP-Datei aus.");return}if(!s){alert("Fehler: Datenbankadapter nicht verfügbar");return}try{g(!0);const H=(await Or(async()=>{const{default:ve}=await import("./jszip.min-0icUJXVE.js").then(be=>be.j);return{default:ve}},[],import.meta.url)).default,Ze=(await new H().loadAsync(A)).file("backup.json");if(!Ze){alert("Ungültige Backup-Datei: backup.json nicht gefunden.");return}const ce=JSON.parse(await Ze.async("text")),dt=`⚠️ ACHTUNG: DATEN WERDEN ÜBERSCHRIEBEN ⚠️

Das Backup enthält:
- ${((ae=ce.customers)==null?void 0:ae.length)||0} Kunden
- ${((De=ce.invoices)==null?void 0:De.length)||0} Rechnungen
- ${((ye=ce.offers)==null?void 0:ye.length)||0} Angebote
- ${((Se=ce.packages)==null?void 0:Se.length)||0} Pakete

WARNUNG: Der Import wird ALLE aktuellen Daten löschen und durch die Backup-Daten ersetzen!

Möchten Sie wirklich fortfahren?`;if(!confirm(dt)||!confirm("LETZTE WARNUNG: Alle aktuellen Daten werden unwiderruflich gelöscht! Fortfahren?"))return;try{const[ve,be,vt,Gt]=await Promise.all([s.listCustomers(),s.listInvoices(),s.listOffers(),s.listPackages()]);await Promise.all([...ve.map(Pe=>s.deleteCustomer(Pe.id)),...be.map(Pe=>s.deleteInvoice(Pe.id)),...vt.map(Pe=>s.deleteOffer(Pe.id)),...Gt.map(Pe=>s.deletePackage(Pe.id))])}catch(ve){console.warn("Fehler beim Löschen existierender Daten:",ve)}let et={customers:0,invoices:0,offers:0,packages:0};if(ce.customers&&Array.isArray(ce.customers))for(const ve of ce.customers)try{const{id:be,createdAt:vt,updatedAt:Gt,...Pe}=ve;await s.createCustomer(Pe),et.customers++}catch(be){console.warn("Fehler beim Importieren von Kunde:",ve,be)}if(ce.offers&&Array.isArray(ce.offers))for(const ve of ce.offers)try{const{id:be,createdAt:vt,updatedAt:Gt,...Pe}=ve;await s.createOffer(Pe),et.offers++}catch(be){console.warn("Fehler beim Importieren von Angebot:",ve,be)}if(ce.invoices&&Array.isArray(ce.invoices))for(const ve of ce.invoices)try{const{id:be,createdAt:vt,updatedAt:Gt,...Pe}=ve;await s.createInvoice(Pe),et.invoices++}catch(be){console.warn("Fehler beim Importieren von Rechnung:",ve,be)}if(ce.packages&&Array.isArray(ce.packages))for(const ve of ce.packages)try{const{id:be,createdAt:vt,updatedAt:Gt,...Pe}=ve;await s.createPackage(Pe),et.packages++}catch(be){console.warn("Fehler beim Importieren von Paket:",ve,be)}if(ce.companyData)try{console.log("🏢 Importing company data..."),await i(ce.companyData),console.log("✅ Company data imported successfully")}catch(ve){console.warn("Error importing company data:",ve)}if(ce.numberingCircles)try{console.log("🔢 Analyzing imported data for intelligent numbering...");const[ve,be,vt,Gt]=await Promise.all([s.listCustomers(),s.listInvoices(),s.listOffers(),s.listPackages()]),Pe=($e,wt)=>{const hr=new Set;$e.forEach(Dt=>{if(Dt.number&&Dt.number.startsWith(wt)){const aa=Dt.number.replace(wt,""),Zr=parseInt(aa,10);isNaN(Zr)||hr.add(Zr)}});let Jr=1;for(;hr.has(Jr);)Jr++;return Math.max(0,Jr-1)},Yt=ce.numberingCircles.map($e=>{let wt=0;switch($e.id){case"customers":wt=Pe(ve,$e.prefix);break;case"invoices":wt=Pe(be,$e.prefix);break;case"offers":wt=Pe(vt,$e.prefix);break;case"packages":wt=Pe(Gt,$e.prefix);break}return console.log(`📊 ${$e.id}: Next free number will be ${$e.prefix}${(wt+1).toString().padStart(3,"0")}, setting current to ${wt}`),{...$e,current:wt}});console.log("🔢 Importing intelligent numbering circles..."),await a(Yt),console.log("✅ Intelligent numbering circles imported successfully")}catch(ve){console.warn("Error importing intelligent numbering circles:",ve),await a(ce.numberingCircles)}c(`✅ Backup erfolgreich importiert!

Importierte Daten:
- ${et.customers} Kunden
- ${et.invoices} Rechnungen
- ${et.offers} Angebote
- ${et.packages} Pakete
- Unternehmenseinstellungen
- Intelligente Nummernkreise (angepasst an vorhandene Daten)

🔄 Die Anwendung wurde aktualisiert. Sie können jetzt mit den importierten Daten arbeiten.`),console.log("✅ Backup import completed successfully")}catch(H){console.error("Import error:",H),alert("Fehler beim Importieren des Backups: "+H)}finally{g(!1),P.target.value="",E(null)}}},U=P=>{var ee;const A=(ee=P.target.files)==null?void 0:ee[0];if(!A){E(null);return}if(!A.name.endsWith(".csv")){u("Bitte wählen Sie eine CSV-Datei aus."),E(null);return}E(A)},O=async()=>{if(!b){u("Bitte wählen Sie zuerst eine CSV-Datei aus.");return}if(!s){u("Fehler: Datenbankadapter nicht verfügbar");return}try{g(!0);const A=(await b.text()).split(`
`).filter(Se=>Se.trim());if(A.length<2){u("CSV-Datei ist leer oder hat keine Daten.");return}const ee=A[0].split(";").map(Se=>Se.trim().replace(/^"|"$/g,"")),ae=A.slice(1);console.log("CSV Headers:",ee),console.log("CSV Data lines:",ae.length);let De=0,ye=0;if(C==="customers"){for(const Se of ae)try{const H=Se.split(";").map(Ge=>Ge.trim().replace(/^"|"$/g,"")),ne={};if(H[0]&&(ne.name=H[0]),H[1]&&(ne.email=H[1]),H[2]&&(ne.phone=H[2]),H[3]&&(ne.street=H[3]),H[4]&&(ne.zip=H[4]),H[5]&&(ne.city=H[5]),H[6]&&(ne.notes=H[6]),!ne.name){console.warn("Überspringe Zeile ohne Namen:",H),ye++;continue}try{ne.number=await o("customers")}catch{ne.number=`K-${Date.now()}-${Math.floor(Math.random()*1e3)}`}await s.createCustomer(ne),De++}catch(H){console.warn("Fehler beim Importieren einer CSV-Zeile:",Se,H),ye++}c(`✅ CSV-Import abgeschlossen!
        
Erfolgreich importiert: ${De} Kunden
${ye>0?`Fehler: ${ye}`:""}

CSV-Format: Name;Email;Telefon;Straße;PLZ;Ort;Notizen`)}else if(C==="offers"){for(const Se of ae)try{const H=Se.split(";").map(ce=>ce.trim().replace(/^"|"$/g,"")),ne={};if(H[0]&&(ne.title=H[0]),H[1]&&(ne.customerName=H[1]),H[2]&&(ne.total=parseFloat(H[2])||0),H[3]&&(ne.validUntil=H[3]),H[4]&&(ne.notes=H[4]),!ne.title){console.warn("Überspringe Zeile ohne Titel:",H),ye++;continue}let Ge=null;if(ne.customerName){const dt=(await s.listCustomers()).find(et=>et.name.toLowerCase()===ne.customerName.toLowerCase());dt&&(Ge=dt.id)}if(!Ge){console.warn("Kunde nicht gefunden für Angebot:",ne.customerName),ye++;continue}try{ne.offerNumber=await o("offers")}catch{ne.offerNumber=`A-${Date.now()}-${Math.floor(Math.random()*1e3)}`}const Ze={...ne,customerId:Ge,lineItems:[],subtotal:ne.total,vatAmount:0,vatRate:19,status:"draft"};delete Ze.customerName,await s.createOffer(Ze),De++}catch(H){console.warn("Fehler beim Importieren einer CSV-Zeile:",Se,H),ye++}c(`✅ CSV-Import abgeschlossen!
        
Erfolgreich importiert: ${De} Angebote
${ye>0?`Fehler: ${ye}`:""}

CSV-Format: Titel;Kundenname;Gesamtbetrag;Gültig bis (YYYY-MM-DD);Notizen`)}else if(C==="invoices"){for(const Se of ae)try{const H=Se.split(";").map(ce=>ce.trim().replace(/^"|"$/g,"")),ne={};if(H[0]&&(ne.title=H[0]),H[1]&&(ne.customerName=H[1]),H[2]&&(ne.total=parseFloat(H[2])||0),H[3]&&(ne.dueDate=H[3]),H[4]&&(ne.notes=H[4]),!ne.title){console.warn("Überspringe Zeile ohne Titel:",H),ye++;continue}let Ge=null;if(ne.customerName){const dt=(await s.listCustomers()).find(et=>et.name.toLowerCase()===ne.customerName.toLowerCase());dt&&(Ge=dt.id)}if(!Ge){console.warn("Kunde nicht gefunden für Rechnung:",ne.customerName),ye++;continue}try{ne.invoiceNumber=await o("invoices")}catch{ne.invoiceNumber=`R-${Date.now()}-${Math.floor(Math.random()*1e3)}`}const Ze={...ne,customerId:Ge,lineItems:[],subtotal:ne.total,vatAmount:0,vatRate:19,status:"draft"};delete Ze.customerName,await s.createInvoice(Ze),De++}catch(H){console.warn("Fehler beim Importieren einer CSV-Zeile:",Se,H),ye++}c(`✅ CSV-Import abgeschlossen!
        
Erfolgreich importiert: ${De} Rechnungen
${ye>0?`Fehler: ${ye}`:""}

CSV-Format: Titel;Kundenname;Gesamtbetrag;Fällig am (YYYY-MM-DD);Notizen`)}else u(`CSV-Import für "${C}" ist noch nicht implementiert.`)}catch(P){console.error("CSV Import error:",P),u("Fehler beim CSV-Import: "+P)}finally{g(!1),E(null)}},V=async()=>{if(console.log("🚨 CRITICAL: handleClearAllData was called! This should only happen from the Clear All Data button!"),console.trace("Call stack:"),!!confirm("WARNUNG: Alle Daten werden unwiderruflich gelöscht! Sind Sie sicher?")&&confirm("Letzte Warnung: Haben Sie ein Backup erstellt? Alle Daten gehen verloren!")){if(!s){alert("Fehler: Datenbankadapter nicht verfügbar");return}try{g(!0);let P=0;try{const A=await s.listCustomers();for(const ee of A)await s.deleteCustomer(ee.id),P++}catch(A){console.warn("Error deleting customers:",A)}try{const A=await s.listInvoices();for(const ee of A)await s.deleteInvoice(ee.id),P++}catch(A){console.warn("Error deleting invoices:",A)}try{const A=await s.listOffers();for(const ee of A)await s.deleteOffer(ee.id),P++}catch(A){console.warn("Error deleting offers:",A)}try{const A=await s.listPackages();for(const ee of A)await s.deletePackage(ee.id),P++}catch(A){console.warn("Error deleting packages:",A)}try{console.log("🔄 Resetting numbering circles to default values"),localStorage.removeItem("rawalite-numbering"),console.log("🗑️ Cleared localStorage numbering data");const A=Ct.numberingCircles.map(ee=>({...ee,current:0,lastResetYear:void 0}));console.log("📝 Setting numbering circles to:",A),await a(A),console.log("✅ Numbering circles reset successfully")}catch(A){console.warn("Error resetting numbering circles:",A),localStorage.removeItem("rawalite-numbering"),localStorage.setItem("rawalite-numbering",JSON.stringify(Ct.numberingCircles))}try{console.log("🔄 Resetting company data to defaults"),await i(Ct.companyData),console.log("✅ Company data reset successfully")}catch(A){console.warn("Error resetting company data:",A)}c(`${P} Datensätze wurden gelöscht und alle Nummernkreise zurückgesetzt. Die Anwendung wird neu geladen...`),setTimeout(()=>{window.location.reload()},2e3)}catch(P){console.error("Clear data error:",P),alert("Fehler beim Löschen der Daten: "+P)}finally{g(!1)}}};return n?l.jsx("div",{className:"card",children:"Lade Einstellungen..."}):r?l.jsxs("div",{className:"card",children:["Fehler beim Laden der Einstellungen: ",r]}):l.jsxs("div",{className:"card",children:[l.jsxs("div",{style:{marginBottom:"24px"},children:[l.jsx("h2",{style:{margin:"0 0 4px 0"},children:e}),l.jsx("div",{style:{opacity:.7},children:"Konfiguriere deine Unternehmensdaten und Nummernkreise."})]}),l.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"24px",borderBottom:"1px solid rgba(0,0,0,.15)",flexWrap:"wrap"},children:[l.jsx("button",{onClick:()=>f("company"),style:{backgroundColor:d==="company"?"#1e3a2e":"rgba(255,255,255,0.8)",color:d==="company"?"white":"#374151",border:d==="company"?"1px solid #1e3a2e":"1px solid rgba(0,0,0,.2)",padding:"8px 16px",borderRadius:"8px 8px 0 0",cursor:"pointer",borderBottom:d==="company"?"2px solid #1e3a2e":"2px solid transparent",transition:"all 0.2s ease",fontWeight:d==="company"?"600":"500"},children:"Stammdaten"}),l.jsx("button",{onClick:()=>f("logo"),style:{backgroundColor:d==="logo"?"#1e3a2e":"rgba(255,255,255,0.8)",color:d==="logo"?"white":"#374151",border:d==="logo"?"1px solid #1e3a2e":"1px solid rgba(0,0,0,.2)",padding:"8px 16px",borderRadius:"8px 8px 0 0",cursor:"pointer",borderBottom:d==="logo"?"2px solid #1e3a2e":"2px solid transparent",transition:"all 0.2s ease",fontWeight:d==="logo"?"600":"500"},children:"Logo & Design"}),l.jsx("button",{onClick:()=>f("tax"),style:{backgroundColor:d==="tax"?"#1e3a2e":"rgba(255,255,255,0.8)",color:d==="tax"?"white":"#374151",border:d==="tax"?"1px solid #1e3a2e":"1px solid rgba(0,0,0,.2)",padding:"8px 16px",borderRadius:"8px 8px 0 0",cursor:"pointer",borderBottom:d==="tax"?"2px solid #1e3a2e":"2px solid transparent",transition:"all 0.2s ease",fontWeight:d==="tax"?"600":"500"},children:"Steuerliche Angaben"}),l.jsx("button",{onClick:()=>f("bank"),style:{backgroundColor:d==="bank"?"#1e3a2e":"rgba(255,255,255,0.8)",color:d==="bank"?"white":"#374151",border:d==="bank"?"1px solid #1e3a2e":"1px solid rgba(0,0,0,.2)",padding:"8px 16px",borderRadius:"8px 8px 0 0",cursor:"pointer",borderBottom:d==="bank"?"2px solid #1e3a2e":"2px solid transparent",transition:"all 0.2s ease",fontWeight:d==="bank"?"600":"500"},children:"Bankverbindung"}),l.jsx("button",{onClick:()=>f("numbering"),style:{backgroundColor:d==="numbering"?"#1e3a2e":"rgba(255,255,255,0.8)",color:d==="numbering"?"white":"#374151",border:d==="numbering"?"1px solid #1e3a2e":"1px solid rgba(0,0,0,.2)",padding:"8px 16px",borderRadius:"8px 8px 0 0",cursor:"pointer",borderBottom:d==="numbering"?"2px solid #1e3a2e":"2px solid transparent",transition:"all 0.2s ease",fontWeight:d==="numbering"?"600":"500"},children:"Nummernkreise"}),l.jsx("button",{onClick:()=>f("updates"),style:{backgroundColor:d==="updates"?"#1e3a2e":"rgba(255,255,255,0.8)",color:d==="updates"?"white":"#374151",border:d==="updates"?"1px solid #1e3a2e":"1px solid rgba(0,0,0,.2)",padding:"8px 16px",borderRadius:"8px 8px 0 0",cursor:"pointer",borderBottom:d==="updates"?"2px solid #1e3a2e":"2px solid transparent",transition:"all 0.2s ease",fontWeight:d==="updates"?"600":"500"},children:"Updates"}),l.jsx("button",{onClick:()=>f("maintenance"),style:{backgroundColor:d==="maintenance"?"#1e3a2e":"rgba(255,255,255,0.8)",color:d==="maintenance"?"white":"#374151",border:d==="maintenance"?"1px solid #1e3a2e":"1px solid rgba(0,0,0,.2)",padding:"8px 16px",borderRadius:"8px 8px 0 0",cursor:"pointer",borderBottom:d==="maintenance"?"2px solid #1e3a2e":"2px solid transparent",transition:"all 0.2s ease",fontWeight:d==="maintenance"?"600":"500"},children:"Datensicherung"})]}),d==="company"&&l.jsx("form",{onSubmit:q,children:l.jsxs("div",{style:{display:"grid",gap:"16px",gridTemplateColumns:"1fr 1fr"},children:[l.jsx("div",{style:{gridColumn:"1 / -1"},children:l.jsx("h3",{style:{margin:"0 0 16px 0",color:"var(--accent)"},children:"Stammdaten"})}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Firmenname *"}),l.jsx("input",{type:"text",value:p.name,onChange:P=>m({...p,name:P.target.value}),required:!0,style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"E-Mail"}),l.jsx("input",{type:"email",value:p.email,onChange:P=>m({...p,email:P.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Straße"}),l.jsx("input",{type:"text",value:p.street,onChange:P=>m({...p,street:P.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Telefon"}),l.jsx("input",{type:"tel",value:p.phone,onChange:P=>m({...p,phone:P.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"PLZ"}),l.jsx("input",{type:"text",value:p.postalCode,onChange:P=>m({...p,postalCode:P.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Ort"}),l.jsx("input",{type:"text",value:p.city,onChange:P=>m({...p,city:P.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Website"}),l.jsx("input",{type:"url",value:p.website,onChange:P=>m({...p,website:P.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),l.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"24px"},children:l.jsx("button",{type:"submit",disabled:k,style:{backgroundColor:"var(--accent)",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",cursor:"pointer",fontWeight:"500"},children:k?"Speichere...":"Stammdaten speichern"})})]})}),d==="logo"&&l.jsx("form",{onSubmit:ge,children:l.jsxs("div",{style:{display:"grid",gap:"16px",maxWidth:"600px"},children:[l.jsx("div",{children:l.jsx("h3",{style:{margin:"0 0 16px 0",color:"var(--accent)"},children:"Logo & Design"})}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Firmenlogo"}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[p.logo&&l.jsxs("div",{style:{position:"relative",display:"inline-block",maxWidth:"300px",padding:"16px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"8px",backgroundColor:"rgba(255,255,255,.05)"},children:[l.jsx("img",{src:p.logo,alt:"Firmenlogo",style:{maxWidth:"100%",maxHeight:"120px",objectFit:"contain",display:"block"}}),l.jsx("button",{type:"button",onClick:te,style:{position:"absolute",top:"-8px",right:"-8px",background:"#ef4444",color:"white",border:"none",borderRadius:"50%",width:"24px",height:"24px",fontSize:"14px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"Logo entfernen",children:"×"})]}),l.jsx("input",{type:"file",accept:"image/*",onChange:L,disabled:h,style:{padding:"12px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)",cursor:"pointer"}}),l.jsxs("div",{style:{fontSize:"14px",opacity:.7,lineHeight:"1.4"},children:[l.jsx("strong",{children:"Empfehlungen:"}),l.jsx("br",{}),"• Dateiformate: PNG, JPG, GIF",l.jsx("br",{}),"• Maximale Dateigröße: 2MB",l.jsx("br",{}),"• Empfohlene Größe: 200x80px",l.jsx("br",{}),"• Transparenter Hintergrund für beste Ergebnisse"]})]})]}),l.jsx("div",{style:{marginTop:"24px"},children:l.jsx("button",{type:"submit",disabled:k||h,style:{backgroundColor:"var(--accent)",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",cursor:"pointer",fontWeight:"500"},children:k?"Speichere...":"Logo speichern"})})]})}),d==="tax"&&l.jsx("form",{onSubmit:le,children:l.jsxs("div",{style:{display:"grid",gap:"16px",gridTemplateColumns:"1fr 1fr"},children:[l.jsx("div",{style:{gridColumn:"1 / -1"},children:l.jsx("h3",{style:{margin:"0 0 16px 0",color:"var(--accent)"},children:"Steuerliche Angaben"})}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Steuernummer"}),l.jsx("input",{type:"text",value:p.taxNumber,onChange:P=>m({...p,taxNumber:P.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Umsatzsteuer-ID"}),l.jsx("input",{type:"text",value:p.vatId,onChange:P=>m({...p,vatId:P.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:p.kleinunternehmer,onChange:he,style:{cursor:"pointer"}}),l.jsx("span",{style:{fontWeight:"500"},children:"Kleinunternehmer (§19 UStG)"})]}),l.jsx("div",{style:{fontSize:"12px",opacity:.7,marginTop:"4px",marginLeft:"28px"},children:"Als Kleinunternehmer weisen Sie keine Umsatzsteuer aus und sind nicht zum Vorsteuerabzug berechtigt."})]}),l.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"24px"},children:l.jsx("button",{type:"submit",disabled:k,style:{backgroundColor:"var(--accent)",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",cursor:"pointer",fontWeight:"500"},children:k?"Speichere...":"Steuerliche Angaben speichern"})})]})}),d==="bank"&&l.jsx("form",{onSubmit:ue,children:l.jsxs("div",{style:{display:"grid",gap:"16px",gridTemplateColumns:"1fr 1fr"},children:[l.jsx("div",{style:{gridColumn:"1 / -1"},children:l.jsx("h3",{style:{margin:"0 0 16px 0",color:"var(--accent)"},children:"Bankverbindung"})}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Bank"}),l.jsx("input",{type:"text",value:p.bankName,onChange:P=>m({...p,bankName:P.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"BIC"}),l.jsx("input",{type:"text",value:p.bankBic,onChange:P=>m({...p,bankBic:P.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"IBAN"}),l.jsx("input",{type:"text",value:p.bankAccount,onChange:P=>m({...p,bankAccount:P.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),l.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"24px"},children:l.jsx("button",{type:"submit",disabled:k,style:{backgroundColor:"var(--accent)",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",cursor:"pointer",fontWeight:"500"},children:k?"Speichere...":"Bankverbindung speichern"})})]})}),d==="numbering"&&l.jsxs("form",{onSubmit:$,children:[l.jsxs("div",{children:[l.jsx("h3",{style:{margin:"0 0 16px 0",color:"var(--accent)"},children:"Nummernkreise"}),l.jsx("p",{style:{opacity:.7,marginBottom:"24px"},children:"Verwalte die automatische Nummerierung für verschiedene Dokumenttypen."}),x.map((P,A)=>l.jsxs("div",{style:{marginBottom:"24px",padding:"16px",border:"1px solid rgba(255,255,255,.1)",borderRadius:"8px",backgroundColor:"rgba(255,255,255,.02)"},children:[l.jsx("h4",{style:{margin:"0 0 16px 0",color:"var(--accent)"},children:P.name}),l.jsxs("div",{style:{display:"grid",gap:"16px",gridTemplateColumns:"1fr 1fr 1fr 1fr"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Präfix"}),l.jsx("input",{type:"text",value:P.prefix,onChange:ee=>T(A,"prefix",ee.target.value),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Stellen"}),l.jsx("input",{type:"number",min:"1",max:"10",value:P.digits,onChange:ee=>T(A,"digits",parseInt(ee.target.value)||1),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Aktuell"}),l.jsx("input",{type:"number",min:"0",value:P.current,onChange:ee=>T(A,"current",parseInt(ee.target.value)||0),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500"},children:"Reset"}),l.jsxs("select",{value:P.resetMode,onChange:ee=>T(A,"resetMode",ee.target.value),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,.2)",backgroundColor:"rgba(255,255,255,.05)",color:"var(--foreground)"},children:[l.jsx("option",{value:"never",children:"Nie"}),l.jsx("option",{value:"yearly",children:"Jährlich"})]})]})]}),l.jsxs("div",{style:{marginTop:"12px",fontSize:"14px",opacity:.7},children:[l.jsx("strong",{children:"Vorschau nächste Nummer:"})," ",P.prefix,(P.current+1).toString().padStart(P.digits,"0")]})]},P.id))]}),l.jsx("div",{style:{marginTop:"24px"},children:l.jsx("button",{type:"submit",disabled:k,style:{backgroundColor:"var(--accent)",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",cursor:k?"not-allowed":"pointer",fontWeight:"500",opacity:k?.6:1},children:k?"Speichere...":"Nummernkreise speichern"})})]}),d==="updates"&&l.jsxs("div",{children:[l.jsx("h3",{style:{margin:"0 0 16px 0",color:"var(--accent)"},children:"Software Updates"}),l.jsx("p",{style:{opacity:.7,marginBottom:"24px"},children:"Halten Sie RawaLite auf dem neuesten Stand und profitieren Sie von neuen Features, Bugfixes und Sicherheitsupdates."}),l.jsxs("div",{style:{marginBottom:"32px"},children:[l.jsx("h4",{style:{margin:"0 0 12px 0",color:"#374151"},children:"Update-Prüfung"}),l.jsx("p",{style:{margin:"0 0 16px 0",color:"#6b7280",fontSize:"14px"},children:"Suchen Sie nach verfügbaren Updates für RawaLite und installieren Sie diese direkt aus der Anwendung."}),l.jsx(Hv,{onUpdateAvailable:()=>_(!0)})]}),l.jsxs("div",{style:{marginBottom:"32px"},children:[l.jsx("h4",{style:{margin:"0 0 12px 0",color:"#374151"},children:"Aktuelle Version"}),l.jsxs("div",{style:{padding:"16px",backgroundColor:"rgba(255,255,255,0.05)",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)"},children:[l.jsx("p",{style:{margin:"0 0 8px 0",fontWeight:"500"},children:"RawaLite Version 1.0.0"}),l.jsx("p",{style:{margin:"0",fontSize:"14px",opacity:.7},children:"Letzte Überprüfung: Beim nächsten Update-Check"})]})]}),l.jsxs("div",{style:{marginBottom:"32px"},children:[l.jsx("h4",{style:{margin:"0 0 12px 0",color:"#374151"},children:"Update-Einstellungen"}),l.jsx("p",{style:{margin:"0 0 16px 0",color:"#6b7280",fontSize:"14px"},children:"Konfigurieren Sie, wie RawaLite mit Updates umgehen soll."}),l.jsxs("div",{style:{padding:"16px",backgroundColor:"rgba(255,255,255,0.05)",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)"},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",marginBottom:"12px"},children:[l.jsx("input",{type:"checkbox",disabled:!0,style:{marginRight:"8px"}}),l.jsx("span",{style:{fontSize:"14px"},children:"Automatisch nach Updates suchen (Coming Soon)"})]}),l.jsxs("label",{style:{display:"flex",alignItems:"center"},children:[l.jsx("input",{type:"checkbox",disabled:!0,style:{marginRight:"8px"}}),l.jsx("span",{style:{fontSize:"14px"},children:"Beta-Versionen einbeziehen (Coming Soon)"})]})]})]})]}),d==="maintenance"&&l.jsxs("div",{children:[l.jsx("h3",{style:{margin:"0 0 16px 0",color:"var(--accent)"},children:"Datensicherung & Datenmanagement"}),l.jsxs("div",{style:{marginBottom:"32px"},children:[l.jsx("h4",{style:{margin:"0 0 12px 0",color:"#374151"},children:"Backup erstellen"}),l.jsx("p",{style:{margin:"0 0 16px 0",color:"#6b7280",fontSize:"14px"},children:"Erstellen Sie ein vollständiges Backup aller Ihrer Daten als ZIP-Datei."}),l.jsx("button",{type:"button",onClick:z,disabled:k,className:"btn",style:{backgroundColor:"var(--accent)",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",cursor:k?"not-allowed":"pointer",fontWeight:"500",opacity:k?.6:1},children:k?"Erstelle Backup...":"📦 Backup erstellen (ZIP)"})]}),l.jsxs("div",{style:{marginBottom:"32px"},children:[l.jsx("h4",{style:{margin:"0 0 12px 0",color:"#374151"},children:"Daten exportieren"}),l.jsx("p",{style:{margin:"0 0 16px 0",color:"#6b7280",fontSize:"14px"},children:"Exportieren Sie Ihre Daten als CSV-Dateien für die Verwendung in anderen Programmen."}),l.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[l.jsx("button",{type:"button",onClick:()=>G("customers"),disabled:k,className:"btn btn-secondary",style:{backgroundColor:"#6b7280",color:"white",border:"none",padding:"10px 20px",borderRadius:"6px",cursor:k?"not-allowed":"pointer",fontWeight:"500",opacity:k?.6:1},children:"📄 Kunden exportieren (CSV)"}),l.jsx("button",{type:"button",onClick:()=>G("invoices"),disabled:k,className:"btn btn-secondary",style:{backgroundColor:"#6b7280",color:"white",border:"none",padding:"10px 20px",borderRadius:"6px",cursor:k?"not-allowed":"pointer",fontWeight:"500",opacity:k?.6:1},children:"🧾 Rechnungen exportieren (CSV)"}),l.jsx("button",{type:"button",onClick:()=>G("offers"),disabled:k,className:"btn btn-secondary",style:{backgroundColor:"#6b7280",color:"white",border:"none",padding:"10px 20px",borderRadius:"6px",cursor:k?"not-allowed":"pointer",fontWeight:"500",opacity:k?.6:1},children:"📋 Angebote exportieren (CSV)"}),l.jsx("button",{type:"button",onClick:()=>G("packages"),disabled:k,className:"btn btn-secondary",style:{backgroundColor:"#6b7280",color:"white",border:"none",padding:"10px 20px",borderRadius:"6px",cursor:k?"not-allowed":"pointer",fontWeight:"500",opacity:k?.6:1},children:"📦 Pakete exportieren (CSV)"})]})]}),l.jsxs("div",{style:{marginBottom:"32px"},children:[l.jsx("h4",{style:{margin:"0 0 12px 0",color:"#374151"},children:"Daten importieren"}),l.jsx("p",{style:{margin:"0 0 16px 0",color:"#6b7280",fontSize:"14px"},children:"Importieren Sie Backup-Dateien oder CSV-Daten zurück in die Anwendung."}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#374151"},children:"Backup importieren (ZIP)"}),l.jsx("input",{type:"file",accept:".zip",onChange:B,style:{padding:"8px",border:"1px solid rgba(0,0,0,.2)",borderRadius:"6px",backgroundColor:"rgba(255,255,255,0.9)",width:"100%",maxWidth:"400px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#374151"},children:"CSV importieren"}),l.jsxs("div",{style:{display:"grid",gap:"12px",gridTemplateColumns:"auto 1fr auto",alignItems:"end"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"12px",color:"#6b7280"},children:"Datentyp"}),l.jsxs("select",{value:C,onChange:P=>I(P.target.value),style:{padding:"8px",border:"1px solid rgba(0,0,0,.2)",borderRadius:"6px",backgroundColor:"rgba(255,255,255,0.9)",minWidth:"120px"},children:[l.jsx("option",{value:"customers",children:"Kunden"}),l.jsx("option",{value:"invoices",children:"Rechnungen"}),l.jsx("option",{value:"offers",children:"Angebote"})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"12px",color:"#6b7280"},children:"CSV-Datei auswählen"}),l.jsx("input",{type:"file",accept:".csv",onChange:U,style:{padding:"8px",border:"1px solid rgba(0,0,0,.2)",borderRadius:"6px",backgroundColor:"rgba(255,255,255,0.9)",width:"100%"}})]}),l.jsx("div",{children:l.jsx("button",{type:"button",onClick:O,disabled:!b||k,className:"btn btn-secondary",style:{backgroundColor:b?"#059669":"#6b7280",color:"white",border:"none",padding:"10px 20px",borderRadius:"6px",cursor:b&&!k?"pointer":"not-allowed",fontWeight:"500",opacity:b&&!k?1:.6,whiteSpace:"nowrap"},children:k?"Importiere...":"Import starten"})})]}),b&&l.jsxs("div",{style:{marginTop:"8px",fontSize:"14px",color:"#059669"},children:["📄 Ausgewählte Datei: ",b.name," (",Math.round(b.size/1024),"KB)"]})]})]}),l.jsxs("div",{style:{marginTop:"40px",padding:"20px",border:"2px solid #ef4444",borderRadius:"8px",backgroundColor:"rgba(239, 68, 68, 0.05)"},children:[l.jsx("h4",{style:{margin:"0 0 12px 0",color:"#ef4444"},children:"⚠️ Gefahrenbereich"}),l.jsx("p",{style:{margin:"0 0 16px 0",color:"#6b7280",fontSize:"14px"},children:"Diese Aktionen können nicht rückgängig gemacht werden. Erstellen Sie vorher ein Backup!"}),l.jsx("button",{type:"button",onClick:V,className:"btn btn-danger",style:{backgroundColor:"#ef4444",color:"white",border:"none",padding:"10px 20px",borderRadius:"6px",cursor:"pointer",fontWeight:"500"},children:"🗑️ Alle Daten löschen"})]})]}),l.jsx(Vv,{isOpen:D,onClose:R,autoCheckOnOpen:!0})]})}const qv=()=>l.jsxs("div",{children:[l.jsx(mh,{title:"Seite nicht gefunden"}),l.jsx("div",{className:"card",children:l.jsx("p",{children:"Der angeforderte Pfad existiert nicht."})})]}),Qv=[{path:"/",element:l.jsx(Ev,{}),children:[{index:!0,element:l.jsx(Nv,{})},{path:"kunden",element:l.jsx(Lv,{})},{path:"angebote",element:l.jsx(zv,{})},{path:"angebote/:id",element:l.jsx(Av,{})},{path:"pakete",element:l.jsx(Fv,{})},{path:"rechnungen",element:l.jsx(Mv,{})},{path:"einstellungen",element:l.jsx(Kv,{})},{path:"*",element:l.jsx(qv,{})}]}],Gv=ev(Qv);jl.createRoot(document.getElementById("root")).render(l.jsx(Ld.StrictMode,{children:l.jsx(jv,{children:l.jsx(Iv,{children:l.jsx(Cv,{mode:"sqlite",children:l.jsxs(hv,{children:[l.jsx(dv,{router:Gv}),l.jsx(Pv,{}),l.jsx(_v,{})]})})})})}));export{Eo as D,Or as _,ft as a,Xv as c,Ph as g,xi as m};
